(function(f){var b=/^\s*|\s*$/g,c,e="B".replace(/A(.)|B/,"$1")==="$1";var d={majorVersion:"@@tinymce_major_version@@",minorVersion:"@@tinymce_minor_version@@",releaseDate:"@@tinymce_release_date@@",_init:function(){var z=this,s=document,r=navigator,j=r.userAgent,q,g,o,m,l,u;z.isOpera=f.opera&&opera.buildNumber;z.isWebKit=/WebKit/.test(j);z.isIE=!z.isWebKit&&!z.isOpera&&(/MSIE/gi).test(j)&&(/Explorer/gi).test(r.appName);z.isIE6=z.isIE&&/MSIE [56]/.test(j);z.isIE7=z.isIE&&/MSIE [7]/.test(j);z.isIE8=z.isIE&&/MSIE [8]/.test(j);z.isIE9=z.isIE&&/MSIE [9]/.test(j);z.isGecko=!z.isWebKit&&/Gecko/.test(j);z.isMac=j.indexOf("Mac")!=-1;z.isAir=/adobeair/i.test(j);z.isIDevice=/(iPad|iPhone)/.test(j);z.isIOS5=z.isIDevice&&j.match(/AppleWebKit\/(\d*)/)[1]>=534;if(f.tinyMCEPreInit){z.suffix=tinyMCEPreInit.suffix;z.baseURL=tinyMCEPreInit.base;z.query=tinyMCEPreInit.query;return}z.suffix="";g=s.getElementsByTagName("base");for(q=0;q<g.length;q++){u=g[q].href;if(u){if(/^https?:\/\/[^\/]+$/.test(u)){u+="/"}m=u?u.match(/.*\//)[0]:""}}function k(t){if(t.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(t.src)){if(/_(src|dev)\.js/g.test(t.src)){z.suffix="_src"}if((l=t.src.indexOf("?"))!=-1){z.query=t.src.substring(l+1)}z.baseURL=t.src.substring(0,t.src.lastIndexOf("/"));if(m&&z.baseURL.indexOf("://")==-1&&z.baseURL.indexOf("/")!==0){z.baseURL=m+z.baseURL}return z.baseURL}return null}g=s.getElementsByTagName("script");for(q=0;q<g.length;q++){if(k(g[q])){return}}o=s.getElementsByTagName("head")[0];if(o){g=o.getElementsByTagName("script");for(q=0;q<g.length;q++){if(k(g[q])){return}}}return},is:function(j,g){if(!g){return j!==c}if(g=="array"&&(j.hasOwnProperty&&j instanceof Array)){return true}return typeof(j)==g},makeMap:function(g,l,k){var j;g=g||[];l=l||",";if(typeof(g)=="string"){g=g.split(l)}k=k||{};j=g.length;while(j--){k[g[j]]={}}return k},each:function(m,g,k){var q,j;if(!m){return 0}k=k||m;if(m.length!==c){for(q=0,j=m.length;q<j;q++){if(g.call(k,m[q],q,m)===false){return 0}}}else{for(q in m){if(m.hasOwnProperty(q)){if(g.call(k,m[q],q,m)===false){return 0}}}}return 1},map:function(g,j){var k=[];d.each(g,function(l){k.push(j(l))});return k},grep:function(g,j){var k=[];d.each(g,function(l){if(!j||j(l)){k.push(l)}});return k},inArray:function(j,k){var m,g;if(j){for(m=0,g=j.length;m<g;m++){if(j[m]===k){return m}}}return -1},extend:function(q,n){var m,g,k,j=arguments,o;for(m=1,g=j.length;m<g;m++){n=j[m];for(k in n){if(n.hasOwnProperty(k)){o=n[k];if(o!==c){q[k]=o}}}}return q},trim:function(g){return(g?""+g:"").replace(b,"")},create:function(u,g,m){var r=this,j,l,n,o,k,q=0;u=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(u);n=u[3].match(/(^|\.)(\w+)$/i)[2];l=r.createNS(u[3].replace(/\.\w+$/,""),m);if(l[n]){return}if(u[2]=="static"){l[n]=g;if(this.onCreate){this.onCreate(u[2],u[3],l[n])}return}if(!g[n]){g[n]=function(){};q=1}l[n]=g[n];r.extend(l[n].prototype,g);if(u[5]){j=r.resolve(u[5]).prototype;o=u[5].match(/\.(\w+)$/i)[1];k=l[n];if(q){l[n]=function(){return j[o].apply(this,arguments)}}else{l[n]=function(){this.parent=j[o];return k.apply(this,arguments)}}l[n].prototype[n]=l[n];r.each(j,function(s,t){l[n].prototype[t]=j[t]});r.each(g,function(s,t){if(j[t]){l[n].prototype[t]=function(){this.parent=j[t];return s.apply(this,arguments)}}else{if(t!=n){l[n].prototype[t]=s}}})}r.each(g["static"],function(s,t){l[n][t]=s});if(this.onCreate){this.onCreate(u[2],u[3],l[n].prototype)}},walk:function(k,j,l,g){g=g||this;if(k){if(l){k=k[l]}d.each(k,function(n,m){if(j.call(g,n,m,l)===false){return false}d.walk(n,j,l,g)})}},createNS:function(l,k){var j,g;k=k||f;l=l.split(".");for(j=0;j<l.length;j++){g=l[j];if(!k[g]){k[g]={}}k=k[g]}return k},resolve:function(m,k){var j,g;k=k||f;m=m.split(".");for(j=0,g=m.length;j<g;j++){k=k[m[j]];if(!k){break}}return k},addUnload:function(l,k){var j=this,g;g=function(){var q=j.unloads,r,s;if(q){for(s in q){r=q[s];if(r&&r.func){r.func.call(r.scope,1)}}if(f.detachEvent){f.detachEvent("onbeforeunload",m);f.detachEvent("onunload",g)}else{if(f.removeEventListener){f.removeEventListener("unload",g,false)}}j.unloads=r=q=w=g=0;if(f.CollectGarbage){CollectGarbage()}}};function m(){var o=document;function n(){o.detachEvent("onstop",n);if(g){g()}o=0}if(o.readyState=="interactive"){if(o){o.attachEvent("onstop",n)}f.setTimeout(function(){if(o){o.detachEvent("onstop",n)}},0)}}l={func:l,scope:k||this};if(!j.unloads){if(f.attachEvent){f.attachEvent("onunload",g);f.attachEvent("onbeforeunload",m)}else{if(f.addEventListener){f.addEventListener("unload",g,false)}}j.unloads=[l]}else{j.unloads.push(l)}return l},removeUnload:function(k){var g=this.unloads,j=null;d.each(g,function(m,l){if(m&&m.func==k){g.splice(l,1);j=k;return false}});return j},explode:function(g,j){if(!g||d.is(g,"array")){return g}return d.map(g.split(j||","),d.trim)},_addVer:function(j){var g;if(!this.query){return j}g=(j.indexOf("?")==-1?"?":"&")+this.query;if(j.indexOf("#")==-1){return j+g}return j.replace("#",g+"#")},_replace:function(k,g,j){if(e){return j.replace(k,function(){var n=g,l=arguments,m;for(m=0;m<l.length-2;m++){if(l[m]===c){n=n.replace(new RegExp("\\$"+m,"g"),"")}else{n=n.replace(new RegExp("\\$"+m,"g"),l[m])}}return n})}return j.replace(k,g)}};d._init();f.tinymce=f.tinyMCE=d})(window);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:false,Dispatcher:function(b){this.scope=b||this;this.listeners=[]},add:function(c,b){this.listeners.push({cb:c,scope:b||this.scope});return c},addToTop:function(e,c){var b=this,d={cb:e,scope:c||b.scope};if(b.inDispatch){b.listeners=[d].concat(b.listeners)}else{b.listeners.unshift(d)}return e},remove:function(d){var c=this.listeners,b=null;tinymce.each(c,function(f,e){if(d==f.cb){b=f;c.splice(e,1);return false}});return b},dispatch:function(){var b=this,f,c=arguments,d,e=b.listeners,g;b.inDispatch=true;for(d=0;d<e.length;d++){g=e[d];f=g.cb.apply(g.scope,c.length>0?c:[g.scope]);if(f===false){break}}b.inDispatch=false;return f}});(function(){var b=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,k,d,c,j;e=tinymce.trim(e);g=f.settings=g||{};if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){j=g.base_uri?g.base_uri.path:new tinymce.util.URI(location.href).directory;e=((g.base_uri&&g.base_uri.protocol)||"http")+"://mce_host"+f.toAbsPath(j,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);b(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(l,m){var n=e[m];if(n){n=n.replace(/\(mce_at\)/g,"@@")}f[l]=n});c=g.base_uri;if(c){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host==="mce_host"){f.port=c.port}if(!f.host||f.host==="mce_host"){f.host=c.host}f.source=""}},setPath:function(d){var c=this;d=/^(.*?)\/?(\w+)?$/.exec(d);c.path=d[0];c.directory=d[1];c.file=d[2];c.source="";c.getURI()},toRelative:function(c){var e=this,g;if(c==="./"){return c}c=new tinymce.util.URI(c,{base_uri:e});if((c.host!="mce_host"&&e.host!=c.host&&c.host)||e.port!=c.port||e.protocol!=c.protocol){return c.getURI()}var d=e.getURI(),f=c.getURI();if(d==f||(d.charAt(d.length-1)=="/"&&d.substr(0,d.length-1)==f)){return d}g=e.toRelPath(e.path,c.path);if(c.query){g+="?"+c.query}if(c.anchor){g+="#"+c.anchor}return g},toAbsolute:function(c,d){c=new tinymce.util.URI(c,{base_uri:this});return c.getURI(this.host==c.host&&this.protocol==c.protocol?d:0)},toRelPath:function(j,k){var d,g=0,e="",f,c;j=j.substring(0,j.lastIndexOf("/"));j=j.split("/");d=k.split("/");if(j.length>=d.length){for(f=0,c=j.length;f<c;f++){if(f>=d.length||j[f]!=d[f]){g=f+1;break}}}if(j.length<d.length){for(f=0,c=d.length;f<c;f++){if(f>=j.length||j[f]!=d[f]){g=f+1;break}}}if(g===1){return k}for(f=0,c=j.length-(g-1);f<c;f++){e+="../"}for(f=g-1,c=d.length;f<c;f++){if(f!=g-1){e+="/"+d[f]}else{e+=d[f]}}return e},toAbsPath:function(f,g){var d,c=0,k=[],e,j;e=/\/$/.test(g)?"/":"";f=f.split("/");g=g.split("/");b(f,function(l){if(l){k.push(l)}});f=k;for(d=g.length-1,k=[];d>=0;d--){if(g[d].length===0||g[d]==="."){continue}if(g[d]===".."){c++;continue}if(c>0){c--;continue}k.push(g[d])}d=f.length-c;if(d<=0){j=k.reverse().join("/")}else{j=f.slice(0,d).join("/")+"/"+k.reverse().join("/")}if(j.indexOf("/")!==0){j="/"+j}if(e&&j.lastIndexOf("/")!==j.length-1){j+=e}return j},getURI:function(e){var d,c=this;if(!c.source||e){d="";if(!e){if(c.protocol){d+=c.protocol+"://"}if(c.userInfo){d+=c.userInfo+"@"}if(c.host){d+=c.host}if(c.port){d+=":"+c.port}}if(c.path){d+=c.path}if(c.query){d+="?"+c.query}if(c.anchor){d+="#"+c.anchor}c.source=d}return c.source}})})();(function(){var b=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(e){var c=this.get(e),d;if(c){b(c.split("&"),function(f){f=f.split("=");d=d||{};d[unescape(f[0])]=unescape(f[1])})}return d},setHash:function(m,c,j,g,l,f){var k="";b(c,function(e,d){k+=(!k?"":"&")+escape(d)+"="+escape(e)});this.set(m,k,j,g,l,f)},get:function(k){var j=document.cookie,g,f=k+"=",d;if(!j){return}d=j.indexOf("; "+f);if(d==-1){d=j.indexOf(f);if(d!==0){return null}}else{d+=2}g=j.indexOf(";",d);if(g==-1){g=j.length}return unescape(j.substring(d+f.length,g))},set:function(l,c,j,g,k,f){document.cookie=l+"="+escape(c)+((j)?"; expires="+j.toGMTString():"")+((g)?"; path="+escape(g):"")+((k)?"; domain="+k:"")+((f)?"; secure":"")},remove:function(d,f,e){var c=new Date();c.setTime(c.getTime()-1000);this.set(d,"",c,f,e)}})})();(function(){function serialize(o,quote){var i,v,t,name;quote=quote||'"';if(o==null){return"null"}t=typeof o;if(t=="string"){v="\bb\tt\nn\ff\rr\"\"''\\\\";return quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){if(quote==='"'&&a==="'"){return a}i=v.indexOf(b);if(i+1){return"\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+quote}if(t=="object"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v="[";i<o.length;i++){v+=(i>0?",":"")+serialize(o[i],quote)}return v+"]"}v="{";for(name in o){if(o.hasOwnProperty(name)){v+=typeof o[name]!="function"?(v.length>1?","+quote:quote)+name+quote+":"+serialize(o[name],quote):""}}return v+"}"}return""+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}})();tinymce.create("static tinymce.util.XHR",{send:function(j){var b,f,d=window,k=0;function g(){if(!j.async||b.readyState==4||k++>10000){if(j.success&&k<10000&&b.status==200){j.success.call(j.success_scope,""+b.responseText,b,j)}else{if(j.error){j.error.call(j.error_scope,k>10000?"TIMED_OUT":"GENERAL",b,j)}}b=null}else{d.setTimeout(g,10)}}j.scope=j.scope||this;j.success_scope=j.success_scope||j.scope;j.error_scope=j.error_scope||j.scope;j.async=j.async===false?false:true;j.data=j.data||"";function e(l){b=0;try{b=new ActiveXObject(l)}catch(c){}return b}b=d.XMLHttpRequest?new XMLHttpRequest():e("Microsoft.XMLHTTP")||e("Msxml2.XMLHTTP");if(b){if(b.overrideMimeType){b.overrideMimeType(j.content_type)}b.open(j.type||(j.data?"POST":"GET"),j.url,j.async);if(j.content_type){b.setRequestHeader("Content-Type",j.content_type)}b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(j.data);if(!j.async){return g()}f=d.setTimeout(g,10)}}});(function(){var d=tinymce.extend,c=tinymce.util.JSON,b=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(e){this.settings=d({},e);this.count=0},send:function(g){var f=g.error,e=g.success;g=d(this.settings,g);g.success=function(k,j){k=c.parse(k);if(typeof(k)=="undefined"){k={error:"JSON Parse error."}}if(k.error){f.call(g.error_scope||g.scope,k.error,j)}else{e.call(g.success_scope||g.scope,k.result)}};g.error=function(k,j){if(f){f.call(g.error_scope||g.scope,k,j)}};g.data=c.serialize({id:g.id||"c"+(this.count++),method:g.method,params:g.params});g.content_type="application/json";b.send(g)},"static":{sendRPC:function(e){return new tinymce.util.JSONRequest().send(e)}}})}());(function(b){b.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(c){return c.shiftKey||c.ctrlKey||c.altKey}}})(tinymce);tinymce.util.Quirks=function(e){var o=tinymce.VK,v=o.BACKSPACE,z=o.DELETE,s=e.dom,G=e.selection,u=e.settings;function d(K,J){try{e.getDoc().execCommand(K,false,J)}catch(I){}}function k(){function I(L){var J,N,K,M;J=G.getRng();N=s.getParent(J.startContainer,s.isBlock);if(L){N=s.getNext(N,s.isBlock)}if(N){K=N.firstChild;while(K&&K.nodeType==3&&K.nodeValue.length===0){K=K.nextSibling}if(K&&K.nodeName==="SPAN"){M=K.cloneNode(false)}}e.getDoc().execCommand(L?"ForwardDelete":"Delete",false,null);N=s.getParent(J.startContainer,s.isBlock);tinymce.each(s.select("span.Apple-style-span,font.Apple-style-span",N),function(O){var P=G.getBookmark();if(M){s.replace(M.cloneNode(false),O,true)}else{s.remove(O,true)}G.moveToBookmark(P)})}e.onKeyDown.add(function(J,L){var K;K=L.keyCode==z;if(!L.isDefaultPrevented()&&(K||L.keyCode==v)&&!o.modifierPressed(L)){L.preventDefault();I(K)}});e.addCommand("Delete",function(){I()})}function H(){function J(L,O){var K,N,M=O?"start":"end";K=L[M+"Container"];N=L[M+"Offset"];if(K.nodeType==1&&K.hasChildNodes()){K=K.childNodes[Math.min(O?N:(N>0?N-1:0),K.childNodes.length-1)]}return K}function I(N,R){var M,Q,L,O,P=R?"start":"end",K;M=N[P+"Container"];Q=N[P+"Offset"];L=s.getRoot();if(M.nodeType==1){K=Q>=M.childNodes.length;M=J(N,R);if(M.nodeType==3){Q=R&&!K?0:M.nodeValue.length}}if(M.nodeType==3&&((R&&Q>0)||(!R&&Q<M.nodeValue.length))){return false}while(M!==L){O=M.parentNode[R?"firstChild":"lastChild"];if(O.nodeName=="BR"){O=O[R?"nextSibling":"previousSibling"]||O}if(O!==M){return false}M=M.parentNode}return true}e.onKeyDown.addToTop(function(L,N){var K,M=N.keyCode;if(!N.isDefaultPrevented()&&(M==z||M==v)){K=G.getRng(true);if(I(K,true)&&I(K,false)&&(K.collapsed||s.findCommonAncestor(J(K,true),J(K))===s.getRoot())){L.setContent("");L.nodeChanged();N.preventDefault()}}})}function B(){if(!e.settings.content_editable){s.bind(e.getDoc(),"focusin",function(I){G.setRng(G.getRng())});s.bind(e.getDoc(),"mousedown",function(I){if(I.target==e.getDoc().documentElement){e.getWin().focus();G.setRng(G.getRng())}})}}function q(){e.onKeyDown.add(function(I,L){if(!L.isDefaultPrevented()&&L.keyCode===v){if(G.isCollapsed()&&G.getRng(true).startOffset===0){var K=G.getNode();var J=K.previousSibling;if(J&&J.nodeName&&J.nodeName.toLowerCase()==="hr"){s.remove(J);tinymce.dom.Event.cancel(L)}}}})}function c(){if(!Range.prototype.getClientRects){e.onMouseDown.add(function(J,K){if(K.target.nodeName==="HTML"){var I=J.getBody();I.blur();setTimeout(function(){I.focus()},0)}})}}function D(){e.onClick.add(function(I,J){J=J.target;if(/^(IMG|HR)$/.test(J.nodeName)){G.getSel().setBaseAndExtent(J,0,J,1)}if(J.nodeName=="A"&&s.hasClass(J,"mceItemAnchor")){G.select(J)}I.nodeChanged()})}function E(){function J(){var L=s.getAttribs(G.getStart().cloneNode(false));return function(){var M=G.getStart();if(M!==e.getBody()){s.setAttrib(M,"style",null);tinymce.each(L,function(N){M.setAttributeNode(N.cloneNode(true))})}}}function I(){return !G.isCollapsed()&&G.getStart()!=G.getEnd()}function K(L,M){M.preventDefault();return false}e.onKeyPress.add(function(L,N){var M;if((N.keyCode==8||N.keyCode==46)&&I()){M=J();L.getDoc().execCommand("delete",false,null);M();N.preventDefault();return false}});s.bind(e.getDoc(),"cut",function(M){var L;if(I()){L=J();e.onKeyUp.addToTop(K);setTimeout(function(){L();e.onKeyUp.remove(K)},0)}})}function l(){var J,I;s.bind(e.getDoc(),"selectionchange",function(){if(I){clearTimeout(I);I=0}I=window.setTimeout(function(){var K=G.getRng();if(!J||!tinymce.dom.RangeUtils.compareRanges(K,J)){e.nodeChanged();J=K}},50)})}function F(){document.body.setAttribute("role","application")}function C(){e.onKeyDown.add(function(I,K){if(!K.isDefaultPrevented()&&K.keyCode===v){if(G.isCollapsed()&&G.getRng(true).startOffset===0){var J=G.getNode().previousSibling;if(J&&J.nodeName&&J.nodeName.toLowerCase()==="table"){return tinymce.dom.Event.cancel(K)}}}})}function j(){var I=e.getDoc().documentMode;if(I&&I>7){return}d("RespectVisibilityInDesign",true);s.addClass(e.getBody(),"mceHideBrInPre");e.parser.addNodeFilter("pre",function(J,L){var M=J.length,O,K,P,N;while(M--){O=J[M].getAll("br");K=O.length;while(K--){P=O[K];N=P.prev;if(N&&N.type===3&&N.value.charAt(N.value-1)!="\n"){N.value+="\n"}else{P.parent.insert(new tinymce.html.Node("#text",3),P,true).value="\n"}}}});e.serializer.addNodeFilter("pre",function(J,L){var M=J.length,O,K,P,N;while(M--){O=J[M].getAll("br");K=O.length;while(K--){P=O[K];N=P.prev;if(N&&N.type==3){N.value=N.value.replace(/\r?\n$/,"")}}}})}function g(){s.bind(e.getBody(),"mouseup",function(K){var J,I=G.getNode();if(I.nodeName=="IMG"){if(J=s.getStyle(I,"width")){s.setAttrib(I,"width",J.replace(/[^0-9%]+/g,""));s.setStyle(I,"width","")}if(J=s.getStyle(I,"height")){s.setAttrib(I,"height",J.replace(/[^0-9%]+/g,""));s.setStyle(I,"height","")}}})}function t(){e.onKeyDown.add(function(O,P){var N,I,J,L,M,Q,K;N=P.keyCode==z;if(!P.isDefaultPrevented()&&(N||P.keyCode==v)&&!o.modifierPressed(P)){I=G.getRng();J=I.startContainer;L=I.startOffset;K=I.collapsed;if(J.nodeType==3&&J.nodeValue.length>0&&((L===0&&!K)||(K&&L===(N?0:1)))){nonEmptyElements=O.schema.getNonEmptyElements();P.preventDefault();M=s.create("br",{id:"__tmp"});J.parentNode.insertBefore(M,J);O.getDoc().execCommand(N?"ForwardDelete":"Delete",false,null);J=G.getRng().startContainer;Q=J.previousSibling;if(Q&&Q.nodeType==1&&!s.isBlock(Q)&&s.isEmpty(Q)&&!nonEmptyElements[Q.nodeName.toLowerCase()]){s.remove(Q)}s.remove("__tmp")}}})}function f(){e.onKeyDown.add(function(M,N){var K,J,O,I,L;if(N.isDefaultPrevented()||N.keyCode!=o.BACKSPACE){return}K=G.getRng();J=K.startContainer;O=K.startOffset;I=s.getRoot();L=J;if(!K.collapsed||O!==0){return}while(L&&L.parentNode&&L.parentNode.firstChild==L&&L.parentNode!=I){L=L.parentNode}if(L.tagName==="BLOCKQUOTE"){M.formatter.toggle("blockquote",null,L);K.setStart(J,0);K.setEnd(J,0);G.setRng(K);G.collapse(false)}})}function n(){function I(){e._refreshContentEditable();d("StyleWithCSS",false);d("enableInlineTableEditing",false);if(!u.object_resizing){d("enableObjectResizing",false)}}if(!u.readonly){e.onBeforeExecCommand.add(I);e.onMouseDown.add(I)}}function r(){function I(J,K){tinymce.each(s.select("a"),function(N){var L=N.parentNode,M=s.getRoot();if(L.lastChild===N){while(L&&!s.isBlock(L)){if(L.parentNode.lastChild!==L||L===M){return}L=L.parentNode}s.add(L,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(J,K){if(K==="CreateLink"){I(J)}});e.onSetContent.add(G.onSetContent.add(I))}function A(){if(u.forced_root_block){e.onInit.add(function(){d("DefaultParagraphSeparator",u.forced_root_block)})}}function b(){function I(K,J){if(!K||!J.initial){e.execCommand("mceRepaint")}}e.onUndo.add(I);e.onRedo.add(I);e.onSetContent.add(I)}function m(){e.onKeyDown.add(function(I,J){if(!J.isDefaultPrevented()&&J.keyCode==8&&G.getNode().nodeName=="IMG"){J.preventDefault();I.undoManager.beforeChange();s.remove(G.getNode());I.undoManager.add()}})}C();f();H();if(tinymce.isWebKit){t();k();B();D();A();if(tinymce.isIDevice){l()}}if(tinymce.isIE){q();F();j();g();m()}if(tinymce.isGecko){q();c();E();n();r();b()}};(function(m){var b,j,e,n=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/[<>&\"\']/g,d=/&(#x|#)?([\w]+);/g,l={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};j={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};e={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function k(o){var q;q=document.createElement("div");q.innerHTML=o;return q.textContent||q.innerText||o}function f(q,t){var r,s,o,u={};if(q){q=q.split(",");t=t||10;for(r=0;r<q.length;r+=2){s=String.fromCharCode(parseInt(q[r],t));if(!j[s]){o="&"+q[r+1]+";";u[s]=o;u[o]=s}}return u}}b=f("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);m.html=m.html||{};m.html.Entities={encodeRaw:function(q,o){return q.replace(o?n:c,function(r){return j[r]||r})},encodeAllRaw:function(o){return(""+o).replace(g,function(q){return j[q]||q})},encodeNumeric:function(q,o){return q.replace(o?n:c,function(r){if(r.length>1){return"&#"+(((r.charCodeAt(0)-55296)*1024)+(r.charCodeAt(1)-56320)+65536)+";"}return j[r]||"&#"+r.charCodeAt(0)+";"})},encodeNamed:function(r,o,q){q=q||b;return r.replace(o?n:c,function(s){return j[s]||q[s]||s})},getEncodeFunc:function(o,s){var t=m.html.Entities;s=f(s)||b;function q(v,u){return v.replace(u?n:c,function(z){return j[z]||s[z]||"&#"+z.charCodeAt(0)+";"||z})}function r(v,u){return t.encodeNamed(v,u,s)}o=m.makeMap(o.replace(/\+/g,","));if(o.named&&o.numeric){return q}if(o.named){if(s){return r}return t.encodeNamed}if(o.numeric){return t.encodeNumeric}return t.encodeRaw},decode:function(o){return o.replace(d,function(r,q,s){if(q){s=parseInt(s,q.length===2?16:10);if(s>65535){s-=65536;return String.fromCharCode(55296+(s>>10),56320+(s&1023))}else{return l[s]||String.fromCharCode(s)}}return e[r]||b[r]||k(r)})}}})(tinymce);tinymce.html.Styles=function(e,g){var m=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,k=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,n=/\s+$/,o=/rgb/,f,j,b={},l;e=e||{};l="\\\" \\' \\; \\: ; : \uFEFF".split(" ");for(j=0;j<l.length;j++){b[l[j]]="\uFEFF"+j;b["\uFEFF"+j]=l[j]}function d(s,v,u,q){function t(r){r=parseInt(r).toString(16);return r.length>1?r:"0"+r}return"#"+t(v)+t(u)+t(q)}return{toHex:function(q){return q.replace(m,d)},parse:function(z){var F={},u,r,D,v,C=e.url_converter,E=e.url_converter_scope||this;function t(J,M){var L,I,H,K;L=F[J+"-top"+M];if(!L){return}I=F[J+"-right"+M];if(L!=I){return}H=F[J+"-bottom"+M];if(I!=H){return}K=F[J+"-left"+M];if(H!=K){return}F[J+M]=K;delete F[J+"-top"+M];delete F[J+"-right"+M];delete F[J+"-bottom"+M];delete F[J+"-left"+M]}function B(I){var J=F[I],H;if(!J||J.indexOf(" ")<0){return}J=J.split(" ");H=J.length;while(H--){if(J[H]!==J[0]){return false}}F[I]=J[0];return true}function G(J,I,H,K){if(!B(I)){return}if(!B(H)){return}if(!B(K)){return}F[J]=F[I]+" "+F[H]+" "+F[K];delete F[I];delete F[H];delete F[K]}function A(H){v=true;return b[H]}function q(I,H){if(v){I=I.replace(/\uFEFF[0-9]/g,function(J){return b[J]})}if(!H){I=I.replace(/\\([\'\";:])/g,"$1")}return I}function s(I,H,L,K,M,J){M=M||J;if(M){M=q(M);return"'"+M.replace(/\'/g,"\\'")+"'"}H=q(H||L||K);if(C){H=C.call(E,H,"style")}return"url('"+H.replace(/\'/g,"\\'")+"')"}if(z){z=z.replace(/\\[\"\';:\uFEFF]/g,A).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(H){return H.replace(/[;:]/g,A)});while(u=c.exec(z)){r=u[1].replace(n,"").toLowerCase();D=u[2].replace(n,"");if(r&&D.length>0){if(r==="font-weight"&&D==="700"){D="bold"}else{if(r==="color"||r==="background-color"){D=D.toLowerCase()}}D=D.replace(m,d);D=D.replace(k,s);F[r]=v?q(D,true):D}c.lastIndex=u.index+u[0].length}t("border","");t("border","-width");t("border","-color");t("border","-style");t("padding","");t("margin","");G("border","border-width","border-style","border-color");if(F.border==="medium none"){delete F.border}}return F},serialize:function(t,v){var s="",r,u;function q(A){var D,B,z,C;D=g.styles[A];if(D){for(B=0,z=D.length;B<z;B++){A=D[B];C=t[A];if(C!==f&&C.length>0){s+=(s.length>0?" ":"")+A+": "+C+";"}}}}if(v&&g&&g.styles){q("*");q(v)}else{for(r in t){u=t[r];if(u!==f&&u.length>0){s+=(s.length>0?" ":"")+r+": "+u+";"}}}return s}}};(function(g){var b={},f=g.makeMap,j=g.each;function e(m,l){return m.split(l||",")}function k(q,o){var m,n={};function l(r){return r.replace(/[A-Z]+/g,function(s){return l(q[s])})}for(m in q){if(q.hasOwnProperty(m)){q[m]=l(q[m])}}l(o).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(u,s,r,t){r=e(r,"|");n[s]={attributes:f(r),attributesOrder:r,children:f(t,"|",{"#comment":{}})}});return n}function c(){var l=b.html5;if(!l){l=b.html5=k({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]")}return l}function d(){var l=b.html4;if(!l){l=b.html4=k({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")}return l}g.html.Schema=function(G){var B=this,z={},n={},m=[],J,E;var s,u,F,v,C,r,t={};function q(L,K,N){var M=G[L];if(!M){M=b[L];if(!M){M=f(K," ",f(K.toUpperCase()," "));M=g.extend(M,N);b[L]=M}}else{M=f(M,",",f(M.toUpperCase()," "))}return M}G=G||{};E=G.schema=="html5"?c():d();if(G.verify_html===false){G.valid_elements="*[*]"}if(G.valid_styles){J={};j(G.valid_styles,function(L,K){J[K]=g.explode(L)})}s=q("whitespace_elements","pre script style textarea");u=q("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");F=q("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source");v=q("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");r=q("non_empty_elements","td th iframe video audio object",F);C=q("block_elements","h1 h2 h3 h4 h5 h6 hr p div address pre form table tbody thead tfoot th tr td li ol ul caption blockquote center dl dt dd dir fieldset noscript menu isindex samp header footer article section hgroup aside nav figure option datalist select optgroup");function l(K){return new RegExp("^"+K.replace(/([?+*])/g,".$1")+"$")}function I(R){var Q,M,af,ab,ag,L,O,aa,ad,W,ae,aj,U,P,ac,K,Y,N,ah,ak,V,Z,T=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,X=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(R){R=e(R);if(z["@"]){Y=z["@"].attributes;N=z["@"].attributesOrder}for(Q=0,M=R.length;Q<M;Q++){L=T.exec(R[Q]);if(L){ac=L[1];W=L[2];K=L[3];ad=L[4];U={};P=[];O={attributes:U,attributesOrder:P};if(ac==="#"){O.paddEmpty=true}if(ac==="-"){O.removeEmpty=true}if(Y){for(ak in Y){U[ak]=Y[ak]}P.push.apply(P,N)}if(ad){ad=e(ad,"|");for(af=0,ab=ad.length;af<ab;af++){L=X.exec(ad[af]);if(L){aa={};aj=L[1];ae=L[2].replace(/::/g,":");ac=L[3];Z=L[4];if(aj==="!"){O.attributesRequired=O.attributesRequired||[];O.attributesRequired.push(ae);aa.required=true}if(aj==="-"){delete U[ae];P.splice(g.inArray(P,ae),1);continue}if(ac){if(ac==="="){O.attributesDefault=O.attributesDefault||[];O.attributesDefault.push({name:ae,value:Z});aa.defaultValue=Z}if(ac===":"){O.attributesForced=O.attributesForced||[];O.attributesForced.push({name:ae,value:Z});aa.forcedValue=Z}if(ac==="<"){aa.validValues=f(Z,"?")}}if(S.test(ae)){O.attributePatterns=O.attributePatterns||[];aa.pattern=l(ae);O.attributePatterns.push(aa)}else{if(!U[ae]){P.push(ae)}U[ae]=aa}}}}if(!Y&&W=="@"){Y=U;N=P}if(K){O.outputName=W;z[K]=O}if(S.test(W)){O.pattern=l(W);m.push(O)}else{z[W]=O}}}}}function A(K){z={};m=[];I(K);j(E,function(M,L){n[L]=M.children})}function o(L){var K=/^(~)?(.+)$/;if(L){j(e(L),function(P){var N=K.exec(P),O=N[1]==="~",Q=O?"span":"div",M=N[2];n[M]=n[Q];t[M]=Q;if(!O){C[M]={}}j(n,function(R,S){if(R[Q]){R[M]=R[Q]}})})}}function D(L){var K=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(L){j(e(L),function(P){var O=K.exec(P),M,N;if(O){N=O[1];if(N){M=n[O[2]]}else{M=n[O[2]]={"#comment":{}}}M=n[O[2]];j(e(O[3],"|"),function(Q){if(N==="-"){delete M[Q]}else{M[Q]={}}})}})}}function H(K){var M=z[K],L;if(M){return M}L=m.length;while(L--){M=m[L];if(M.pattern.test(K)){return M}}}if(!G.valid_elements){j(E,function(L,K){z[K]={attributes:L.attributes,attributesOrder:L.attributesOrder};n[K]=L.children});if(G.schema!="html5"){j(e("strong/b,em/i"),function(K){K=e(K,"/");z[K[1]].outputName=K[0]})}z.img.attributesDefault=[{name:"alt",value:""}];j(e("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(K){if(z[K]){z[K].removeEmpty=true}});j(e("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(K){z[K].paddEmpty=true})}else{A(G.valid_elements)}o(G.custom_elements);D(G.valid_children);I(G.extended_valid_elements);D("+ol[ul|ol],+ul[ul|ol]");if(G.invalid_elements){g.each(g.explode(G.invalid_elements),function(K){if(z[K]){delete z[K]}})}if(!H("span")){I("span[!data-mce-type|*]")}B.children=n;B.styles=J;B.getBoolAttrs=function(){return v};B.getBlockElements=function(){return C};B.getShortEndedElements=function(){return F};B.getSelfClosingElements=function(){return u};B.getNonEmptyElements=function(){return r};B.getWhiteSpaceElements=function(){return s};B.isValidChild=function(K,M){var L=n[K];return !!(L&&L[M])};B.isValid=function(L,K){var N,M,O=H(L);if(O){if(K){if(O.attributes[K]){return true}N=O.attributePatterns;if(N){M=N.length;while(M--){if(N[M].pattern.test(L)){return true}}}}else{return true}}return false};B.getElementRule=H;B.getCustomElements=function(){return t};B.addValidElements=I;B.setValidElements=A;B.addCustomElements=o;B.addValidChildren=D}})(tinymce);(function(b){b.html.SaxParser=function(d,f){var c=this,e=function(){};d=d||{};c.schema=f=f||new b.html.Schema();if(d.fix_self_closing!==false){d.fix_self_closing=true}b.each("comment cdata text start end pi doctype".split(" "),function(g){if(g){c[g]=d[g]||e}});c.parse=function(J){var q=this,j,L=0,N,G,F=[],S,V,H,u,E,v,R,M,T,B,o,m,z,W,r,U,K,X,Q,g,O,n,I,P,k,C=0,l=b.html.Entities.decode,D,t;function A(Y){var aa,Z;aa=F.length;while(aa--){if(F[aa].name===Y){break}}if(aa>=0){for(Z=F.length-1;Z>=aa;Z--){Y=F[Z];if(Y.valid){q.end(Y.name)}}F.length=aa}}function s(Z,Y,ad,ac,ab){var ae,aa;Y=Y.toLowerCase();ad=Y in M?Y:l(ad||ac||ab||"");if(B&&!E&&Y.indexOf("data-")!==0){ae=U[Y];if(!ae&&K){aa=K.length;while(aa--){ae=K[aa];if(ae.pattern.test(Y)){break}}if(aa===-1){ae=null}}if(!ae){return}if(ae.validValues&&!(ad in ae.validValues)){return}}S.map[Y]=ad;S.push({name:Y,value:ad})}n=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;P={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};R=f.getShortEndedElements();O=d.self_closing_elements||f.getSelfClosingElements();M=f.getBoolAttrs();B=d.validate;v=d.remove_internals;D=d.fix_self_closing;t=b.isIE;r=/^:/;while(j=n.exec(J)){if(L<j.index){q.text(l(J.substr(L,j.index-L)))}if(N=j[6]){N=N.toLowerCase();if(t&&r.test(N)){N=N.substr(1)}A(N)}else{if(N=j[7]){N=N.toLowerCase();if(t&&r.test(N)){N=N.substr(1)}T=N in R;if(D&&O[N]&&F.length>0&&F[F.length-1].name===N){A(N)}if(!B||(o=f.getElementRule(N))){m=true;if(B){U=o.attributes;K=o.attributePatterns}if(W=j[8]){E=W.indexOf("data-mce-type")!==-1;if(E&&v){m=false}S=[];S.map={};W.replace(I,s)}else{S=[];S.map={}}if(B&&!E){X=o.attributesRequired;Q=o.attributesDefault;g=o.attributesForced;if(g){V=g.length;while(V--){z=g[V];u=z.name;k=z.value;if(k==="{$uid}"){k="mce_"+C++}S.map[u]=k;S.push({name:u,value:k})}}if(Q){V=Q.length;while(V--){z=Q[V];u=z.name;if(!(u in S.map)){k=z.value;if(k==="{$uid}"){k="mce_"+C++}S.map[u]=k;S.push({name:u,value:k})}}}if(X){V=X.length;while(V--){if(X[V] in S.map){break}}if(V===-1){m=false}}if(S.map["data-mce-bogus"]){m=false}}if(m){q.start(N,S,T)}}else{m=false}if(G=P[N]){G.lastIndex=L=j.index+j[0].length;if(j=G.exec(J)){if(m){H=J.substr(L,j.index-L)}L=j.index+j[0].length}else{H=J.substr(L);L=J.length}if(m&&H.length>0){q.text(H,true)}if(m){q.end(N)}n.lastIndex=L;continue}if(!T){if(!W||W.indexOf("/")!=W.length-1){F.push({name:N,valid:m})}else{if(m){q.end(N)}}}}else{if(N=j[1]){q.comment(N)}else{if(N=j[2]){q.cdata(N)}else{if(N=j[3]){q.doctype(N)}else{if(N=j[4]){q.pi(N,j[5])}}}}}}L=j.index+j[0].length}if(L<J.length){q.text(l(J.substr(L)))}for(V=F.length-1;V>=0;V--){N=F[V];if(N.valid){q.end(N.name)}}}}})(tinymce);(function(e){var d=/^[ \t\r\n]*$/,f={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function b(n,o,m){var l,k,g=m?"lastChild":"firstChild",j=m?"prev":"next";if(n[g]){return n[g]}if(n!==o){l=n[j];if(l){return l}for(k=n.parent;k&&k!==o;k=k.parent){l=k[j];if(l){return l}}}}function c(g,j){this.name=g;this.type=j;if(j===1){this.attributes=[];this.attributes.map={}}}e.extend(c.prototype,{replace:function(j){var g=this;if(j.parent){j.remove()}g.insert(j,g);g.remove();return g},attr:function(k,n){var g=this,j,l,m;if(typeof k!=="string"){for(l in k){g.attr(l,k[l])}return g}if(j=g.attributes){if(n!==m){if(n===null){if(k in j.map){delete j.map[k];l=j.length;while(l--){if(j[l].name===k){j=j.splice(l,1);return g}}}return g}if(k in j.map){l=j.length;while(l--){if(j[l].name===k){j[l].value=n;break}}}else{j.push({name:k,value:n})}j.map[k]=n;return g}else{return j.map[k]}}},clone:function(){var j=this,q=new c(j.name,j.type),k,g,o,m,n;if(o=j.attributes){n=[];n.map={};for(k=0,g=o.length;k<g;k++){m=o[k];if(m.name!=="id"){n[n.length]={name:m.name,value:m.value};n.map[m.name]=m.value}}q.attributes=n}q.value=j.value;q.shortEnded=j.shortEnded;return q},wrap:function(j){var g=this;g.parent.insert(j,g);j.append(g);return g},unwrap:function(){var g=this,k,j;for(k=g.firstChild;k;){j=k.next;g.insert(k,g,true);k=j}g.remove()},remove:function(){var g=this,k=g.parent,j=g.next,l=g.prev;if(k){if(k.firstChild===g){k.firstChild=j;if(j){j.prev=null}}else{l.next=j}if(k.lastChild===g){k.lastChild=l;if(l){l.next=null}}else{j.prev=l}g.parent=g.next=g.prev=null}return g},append:function(k){var g=this,j;if(k.parent){k.remove()}j=g.lastChild;if(j){j.next=k;k.prev=j;g.lastChild=k}else{g.lastChild=g.firstChild=k}k.parent=g;return k},insert:function(k,g,l){var j;if(k.parent){k.remove()}j=g.parent||this;if(l){if(g===j.firstChild){j.firstChild=k}else{g.prev.next=k}k.prev=g.prev;k.next=g;g.prev=k}else{if(g===j.lastChild){j.lastChild=k}else{g.next.prev=k}k.next=g.next;k.prev=g;g.next=k}k.parent=j;return k},getAll:function(j){var g=this,k,l=[];for(k=g.firstChild;k;k=b(k,g)){if(k.name===j){l.push(k)}}return l},empty:function(){var j=this,g,k,l;if(j.firstChild){g=[];for(l=j.firstChild;l;l=b(l,j)){g.push(l)}k=g.length;while(k--){l=g[k];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}j.firstChild=j.lastChild=null;return j},isEmpty:function(m){var g=this,l=g.firstChild,k,j;if(l){do{if(l.type===1){if(l.attributes.map["data-mce-bogus"]){continue}if(m[l.name]){return false}k=l.attributes.length;while(k--){j=l.attributes[k].name;if(j==="name"||j.indexOf("data-")===0){return false}}}if(l.type===8){return false}if((l.type===3&&!d.test(l.value))){return false}}while(l=b(l,g))}return true},walk:function(g){return b(this,null,g)}});e.extend(c,{create:function(j,g){var l,k;l=new c(j,f[j]||1);if(g){for(k in g){l.attr(k,g[k])}}return l}});e.html.Node=c})(tinymce);(function(c){var b=c.html.Node;c.html.DomParser=function(j,k){var g=this,f={},e=[],l={},d={};j=j||{};j.validate="validate" in j?j.validate:true;j.root_name=j.root_name||"body";g.schema=k=k||new c.html.Schema();function m(q){var s,t,D,C,F,r,u,o,A,B,n,z,E,v;z=c.makeMap("tr,td,th,tbody,thead,tfoot,table");n=k.getNonEmptyElements();for(s=0;s<q.length;s++){t=q[s];if(!t.parent){continue}C=[t];for(D=t.parent;D&&!k.isValidChild(D.name,t.name)&&!z[D.name];D=D.parent){C.push(D)}if(D&&C.length>1){C.reverse();F=r=g.filterNode(C[0].clone());for(A=0;A<C.length-1;A++){if(k.isValidChild(r.name,C[A].name)){u=g.filterNode(C[A].clone());r.append(u)}else{u=r}for(o=C[A].firstChild;o&&o!=C[A+1];){v=o.next;u.append(o);o=v}r=u}if(!F.isEmpty(n)){D.insert(F,C[0],true);D.insert(t,F)}else{D.insert(t,C[0],true)}D=C[0];if(D.isEmpty(n)||D.firstChild===D.lastChild&&D.firstChild.name==="br"){D.empty().remove()}}else{if(t.parent){if(t.name==="li"){E=t.prev;if(E&&(E.name==="ul"||E.name==="ul")){E.append(t);continue}E=t.next;if(E&&(E.name==="ul"||E.name==="ul")){E.insert(t,E.firstChild,true);continue}t.wrap(g.filterNode(new b("ul",1)));continue}if(k.isValidChild(t.parent.name,"div")&&k.isValidChild("div",t.name)){t.wrap(g.filterNode(new b("div",1)))}else{if(t.name==="style"||t.name==="script"){t.empty().remove()}else{t.unwrap()}}}}}}g.filterNode=function(q){var o,n,r;if(n in f){r=l[n];if(r){r.push(q)}else{l[n]=[q]}}o=e.length;while(o--){n=e[o].name;if(n in q.attributes.map){r=d[n];if(r){r.push(q)}else{d[n]=[q]}}}return q};g.addNodeFilter=function(n,o){c.each(c.explode(n),function(q){var r=f[q];if(!r){f[q]=r=[]}r.push(o)})};g.addAttributeFilter=function(n,o){c.each(c.explode(n),function(q){var r;for(r=0;r<e.length;r++){if(e[r].name===q){e[r].callbacks.push(o);return}}e.push({name:q,callbacks:[o]})})};g.parse=function(B,o){var q,O,G,F,I,H,C,u,K,S,E,r,J,R=[],Q,z,n,D,v,s,A,t;o=o||{};l={};d={};r=c.extend(c.makeMap("script,style,head,html,body,title,meta,param"),k.getBlockElements());A=k.getNonEmptyElements();s=k.children;E=j.validate;t="forced_root_block" in o?o.forced_root_block:j.forced_root_block;v=k.getWhiteSpaceElements();J=/^[ \t\r\n]+/;z=/[ \t\r\n]+$/;n=/[ \t\r\n]+/g;D=/^[ \t\r\n]+$/;function L(){var U=O.firstChild,T,V;while(U){T=U.next;if(U.type==3||(U.type==1&&U.name!=="p"&&!r[U.name]&&!U.attr("data-mce-type"))){if(!V){V=P(t,1);O.insert(V,U);V.append(U)}else{V.append(U)}}else{V=null}U=T}}function P(T,U){var V=new b(T,U),W;if(T in f){W=l[T];if(W){W.push(V)}else{l[T]=[V]}}return V}function N(V){var W,T,U;for(W=V.prev;W&&W.type===3;){T=W.value.replace(z,"");if(T.length>0){W.value=T;W=W.prev}else{U=W.prev;W.remove();W=U}}}function M(U){var V,T={};for(V in U){if(V!=="li"&&V!="p"){T[V]=U[V]}}return T}q=new c.html.SaxParser({validate:E,self_closing_elements:M(k.getSelfClosingElements()),cdata:function(T){G.append(P("#cdata",4)).value=T},text:function(V,T){var U;if(!Q){V=V.replace(n," ");if(G.lastChild&&r[G.lastChild.name]){V=V.replace(J,"")}}if(V.length!==0){U=P("#text",3);U.raw=!!T;G.append(U).value=V}},comment:function(T){G.append(P("#comment",8)).value=T},pi:function(T,U){G.append(P(T,7)).value=U;N(G)},doctype:function(U){var T;T=G.append(P("#doctype",10));T.value=U;N(G)},start:function(T,ac,V){var aa,X,W,U,Y,ad,ab,Z;W=E?k.getElementRule(T):{};if(W){aa=P(W.outputName||T,1);aa.attributes=ac;aa.shortEnded=V;G.append(aa);Z=s[G.name];if(Z&&s[aa.name]&&!Z[aa.name]){R.push(aa)}X=e.length;while(X--){Y=e[X].name;if(Y in ac.map){K=d[Y];if(K){K.push(aa)}else{d[Y]=[aa]}}}if(r[T]){N(aa)}if(!V){G=aa}if(!Q&&v[T]){Q=true}}},end:function(T){var Y,V,X,U,W;V=E?k.getElementRule(T):{};if(V){if(r[T]){if(!Q){Y=G.firstChild;if(Y&&Y.type===3){X=Y.value.replace(J,"");if(X.length>0){Y.value=X;Y=Y.next}else{U=Y.next;Y.remove();Y=U}while(Y&&Y.type===3){X=Y.value;U=Y.next;if(X.length===0||D.test(X)){Y.remove();Y=U}Y=U}}Y=G.lastChild;if(Y&&Y.type===3){X=Y.value.replace(z,"");if(X.length>0){Y.value=X;Y=Y.prev}else{U=Y.prev;Y.remove();Y=U}while(Y&&Y.type===3){X=Y.value;U=Y.prev;if(X.length===0||D.test(X)){Y.remove();Y=U}Y=U}}}Y=G.prev;if(Y&&Y.type===3){X=Y.value.replace(J,"");if(X.length>0){Y.value=X}else{Y.remove()}}}if(Q&&v[T]){Q=false}if(V.removeEmpty||V.paddEmpty){if(G.isEmpty(A)){if(V.paddEmpty){G.empty().append(new b("#text","3")).value="\u00a0"}else{if(!G.attributes.map.name&&!G.attributes.map.id){W=G.parent;G.empty().remove();G=W;return}}}}G=G.parent}}},k);O=G=new b(o.context||j.root_name,11);q.parse(B);if(E&&R.length){if(!o.context){m(R)}else{o.invalid=true}}if(t&&O.name=="body"){L()}if(!o.invalid){for(S in l){K=f[S];F=l[S];C=F.length;while(C--){if(!F[C].parent){F.splice(C,1)}}for(I=0,H=K.length;I<H;I++){K[I](F,S,o)}}for(I=0,H=e.length;I<H;I++){K=e[I];if(K.name in d){F=d[K.name];C=F.length;while(C--){if(!F[C].parent){F.splice(C,1)}}for(C=0,u=K.callbacks.length;C<u;C++){K.callbacks[C](F,K.name,o)}}}}return O};if(j.remove_trailing_brs){g.addNodeFilter("br",function(q,o){var u,t=q.length,r,B=c.extend({},k.getBlockElements()),n=k.getNonEmptyElements(),z,v,s,A;B.body=1;for(u=0;u<t;u++){r=q[u];z=r.parent;if(B[r.parent.name]&&r===z.lastChild){s=r.prev;while(s){A=s.name;if(A!=="span"||s.attr("data-mce-type")!=="bookmark"){if(A!=="br"){break}if(A==="br"){r=null;break}}s=s.prev}if(r){r.remove();if(z.isEmpty(n)){elementRule=k.getElementRule(z.name);if(elementRule){if(elementRule.removeEmpty){z.remove()}else{if(elementRule.paddEmpty){z.empty().append(new c.html.Node("#text",3)).value="\u00a0"}}}}}}else{v=r;while(z.firstChild===v&&z.lastChild===v){v=z;if(B[z.name]){break}z=z.parent}if(v===z){textNode=new c.html.Node("#text",3);textNode.value="\u00a0";r.replace(textNode)}}}})}if(!j.allow_html_in_named_anchor){g.addAttributeFilter("id,name",function(n,o){var r=n.length,t,q,s,u;while(r--){u=n[r];if(u.name==="a"&&u.firstChild&&!u.attr("href")){s=u.parent;t=u.lastChild;do{q=t.prev;s.insert(t,u);t=q}while(t)}}})}}})(tinymce);tinymce.html.Writer=function(f){var d=[],b,c,e,g,j;f=f||{};b=f.indent;c=tinymce.makeMap(f.indent_before||"");e=tinymce.makeMap(f.indent_after||"");g=tinymce.html.Entities.getEncodeFunc(f.entity_encoding||"raw",f.entities);j=f.element_format=="html";return{start:function(o,n,s){var q,m,k,r;if(b&&c[o]&&d.length>0){r=d[d.length-1];if(r.length>0&&r!=="\n"){d.push("\n")}}d.push("<",o);if(n){for(q=0,m=n.length;q<m;q++){k=n[q];d.push(" ",k.name,'="',g(k.value,true),'"')}}if(!s||j){d[d.length]=">"}else{d[d.length]=" />"}if(s&&b&&e[o]&&d.length>0){r=d[d.length-1];if(r.length>0&&r!=="\n"){d.push("\n")}}},end:function(k){var l;d.push("</",k,">");if(b&&e[k]&&d.length>0){l=d[d.length-1];if(l.length>0&&l!=="\n"){d.push("\n")}}},text:function(l,k){if(l.length>0){d[d.length]=k?l:g(l)}},cdata:function(k){d.push("<![CDATA[",k,"]]>")},comment:function(k){d.push("<!--",k,"-->")},pi:function(k,l){if(l){d.push("<?",k," ",l,"?>")}else{d.push("<?",k,"?>")}if(b){d.push("\n")}},doctype:function(k){d.push("<!DOCTYPE",k,">",b?"\n":"")},reset:function(){d.length=0},getContent:function(){return d.join("").replace(/\n$/,"")}}};(function(b){b.html.Serializer=function(d,e){var c=this,f=new b.html.Writer(d);d=d||{};d.validate="validate" in d?d.validate:true;c.schema=e=e||new b.html.Schema();c.writer=f;c.serialize=function(k){var j,l;l=d.validate;j={3:function(n,m){f.text(n.value,n.raw)},8:function(m){f.comment(m.value)},7:function(m){f.pi(m.name,m.value)},10:function(m){f.doctype(m.value)},4:function(m){f.cdata(m.value)},11:function(m){if((m=m.firstChild)){do{g(m)}while(m=m.next)}}};f.reset();function g(n){var z=j[n.type],m,r,v,u,s,A,q,o,t;if(!z){m=n.name;r=n.shortEnded;v=n.attributes;if(l&&v&&v.length>1){A=[];A.map={};t=e.getElementRule(n.name);for(q=0,o=t.attributesOrder.length;q<o;q++){u=t.attributesOrder[q];if(u in v.map){s=v.map[u];A.map[u]=s;A.push({name:u,value:s})}}for(q=0,o=v.length;q<o;q++){u=v[q].name;if(!(u in A.map)){s=v.map[u];A.map[u]=s;A.push({name:u,value:s})}}v=A}f.start(n.name,v,r);if(!r){if((n=n.firstChild)){do{g(n)}while(n=n.next)}f.end(m)}}else{z(n)}}if(k.type==1&&!d.inner){g(k)}else{j[11](k)}return f.getContent()}}})(tinymce);tinymce.dom={};(function(c,k){var j=!!document.addEventListener;function d(n,m,o,l){if(n.addEventListener){n.addEventListener(m,o,l||false)}else{if(n.attachEvent){n.attachEvent("on"+m,o)}}}function f(n,m,o,l){if(n.removeEventListener){n.removeEventListener(m,o,l||false)}else{if(n.detachEvent){n.detachEvent("on"+m,o)}}}function b(r,o){var l,n=o||{};function m(){return false}function q(){return true}for(l in r){if(l!=="layerX"&&l!=="layerY"){n[l]=r[l]}}if(!n.target){n.target=n.srcElement||document}n.preventDefault=function(){n.isDefaultPrevented=q;if(r){if(r.preventDefault){r.preventDefault()}else{r.returnValue=false}}};n.stopPropagation=function(){n.isPropagationStopped=q;if(r){if(r.stopPropagation){r.stopPropagation()}else{r.cancelBubble=true}}};n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=q;n.stopPropagation()};if(!n.isDefaultPrevented){n.isDefaultPrevented=m;n.isPropagationStopped=m;n.isImmediatePropagationStopped=m}return n}function e(q,r,o){var n=q.document,m={type:"ready"};function l(){if(!o.domLoaded){o.domLoaded=true;r(m)}}if(j){d(q,"DOMContentLoaded",l)}else{d(n,"readystatechange",function(){if(n.readyState==="complete"){f(n,"readystatechange",arguments.callee);l()}});if(n.documentElement.doScroll&&q===q.top){(function(){try{n.documentElement.doScroll("left")}catch(s){setTimeout(arguments.callee,0);return}l()})()}}d(q,"load",l)}function g(n){var u=this,t={},l,s,r,q,o;q="onmouseenter" in document.documentElement;r="onfocusin" in document.documentElement;o={mouseenter:"mouseover",mouseleave:"mouseout"};l=1;u.domLoaded=false;u.events=t;function m(A,D){var z,B,v,C;z=t[D][A.type];if(z){for(B=0,v=z.length;B<v;B++){C=z[B];if(C&&C.func.call(C.scope,A)===false){A.preventDefault()}if(A.isImmediatePropagationStopped()){return}}}}u.bind=function(D,G,J,K){var z,A,B,v,H,F,I,C=window;function E(L){m(b(L||C.event),z)}if(!D||D.nodeType===3||D.nodeType===8){return}if(!D[k]){z=l++;D[k]=z;t[z]={}}else{z=D[k];if(!t[z]){t[z]={}}}K=K||D;G=G.split(" ");B=G.length;while(B--){v=G[B];F=E;H=I=false;if(v==="DOMContentLoaded"){v="ready"}if((u.domLoaded||D.readyState=="complete")&&v==="ready"){u.domLoaded=true;J.call(K,b({type:v}));continue}if(!q){H=o[v];if(H){F=function(L){var N,M;N=L.currentTarget;M=L.relatedTarget;if(M&&N.contains){M=N.contains(M)}else{while(M&&M!==N){M=M.parentNode}}if(!M){L=b(L||C.event);L.type=L.type==="mouseout"?"mouseleave":"mouseenter";L.target=N;m(L,z)}}}}if(!r&&(v==="focusin"||v==="focusout")){I=true;H=v==="focusin"?"focus":"blur";F=function(L){L=b(L||C.event);L.type=L.type==="focus"?"focusin":"focusout";m(L,z)}}A=t[z][v];if(!A){t[z][v]=A=[{func:J,scope:K}];A.fakeName=H;A.capture=I;A.nativeHandler=F;if(!j){A.proxyHandler=n(z)}if(v==="ready"){e(D,F,u)}else{d(D,H||v,j?F:A.proxyHandler,I)}}else{A.push({func:J,scope:K})}}D=A=0;return J};u.unbind=function(D,F,G){var z,B,C,H,v,A;if(!D||D.nodeType===3||D.nodeType===8){return u}z=D[k];if(z){A=t[z];if(F){F=F.split(" ");C=F.length;while(C--){v=F[C];B=A[v];if(B){if(G){H=B.length;while(H--){if(B[H].func===G){B.splice(H,1)}}}if(!G||B.length===0){delete A[v];f(D,B.fakeName||v,j?B.nativeHandler:B.proxyHandler,B.capture)}}}}else{for(v in A){B=A[v];f(D,B.fakeName||v,j?B.nativeHandler:B.proxyHandler,B.capture)}A={}}for(v in A){return u}delete t[z];try{delete D[k]}catch(E){D[k]=null}}return u};u.fire=function(B,z,v){var C,A;if(!B||B.nodeType===3||B.nodeType===8){return u}A=b(null,v);A.type=z;do{C=B[k];if(C){m(A,C)}B=B.parentNode||B.ownerDocument||B.defaultView||B.parentWindow}while(B&&!A.isPropagationStopped());return u};u.clean=function(B){var z,v,A=u.unbind;if(!B||B.nodeType===3||B.nodeType===8){return u}if(B[k]){A(B)}if(!B.getElementsByTagName){B=B.document}if(B&&B.getElementsByTagName){A(B);v=B.getElementsByTagName("*");z=v.length;while(z--){B=v[z];if(B[k]){A(B)}}}return u};u.callNativeHandler=function(z,v){if(t){t[z][v.type].nativeHandler(v)}};u.destory=function(){t={}};u.add=function(C,z,B,A){if(typeof(C)==="string"){C=document.getElementById(C)}if(C&&C instanceof Array){var v=C;while(v--){u.add(C[v],z,B,A)}return}if(z==="init"){z="ready"}return u.bind(C,z instanceof Array?z.join(" "):z,B,A)};u.remove=function(C,z,B,A){if(!C){return u}if(typeof(C)==="string"){C=document.getElementById(C)}if(C instanceof Array){var v=C.length;while(v--){u.remove(C[v],z,B,A)}return u}return u.unbind(C,z instanceof Array?z.join(" "):z,B)};u.clear=function(v){if(typeof(v)==="string"){v=document.getElementById(v)}return u.clean(v)};u.cancel=function(v){if(v){u.prevent(v);u.stop(v)}return false};u.prevent=function(v){if(!v.preventDefault){v=b(v)}v.preventDefault();return false};u.stop=function(v){if(!v.stopPropagation){v=b(v)}v.stopPropagation();return false}}c.EventUtils=g;c.Event=new g(function(l){return function(m){tinymce.dom.Event.callNativeHandler(l,m)}});c.Event.bind(window,"ready",function(){});c=0})(tinymce.dom,"data-mce-expando");tinymce.dom.TreeWalker=function(b,d){var c=b;function e(l,g,f,m){var k,j;if(l){if(!m&&l[g]){return l[g]}if(l!=d){k=l[f];if(k){return k}for(j=l.parentNode;j&&j!=d;j=j.parentNode){k=j[f];if(k){return k}}}}}this.current=function(){return c};this.next=function(f){return(c=e(c,"firstChild","nextSibling",f))};this.prev=function(f){return(c=e(c,"lastChild","previousSibling",f))}};(function(f){var j=f.each,e=f.is,g=f.isWebKit,c=f.isIE,k=f.html.Entities,d=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/;f.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(u,o){var n=this,l,m,r;n.doc=u;n.win=window;n.files={};n.cssFlicker=false;n.counter=0;n.stdMode=!f.isIE||u.documentMode>=8;n.boxModel=!f.isIE||u.compatMode=="CSS1Compat"||n.stdMode;n.hasOuterHTML="outerHTML" in u.createElement("a");n.settings=o=f.extend({keep_values:false,hex_colors:1},o);n.schema=o.schema;n.styles=new f.html.Styles({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema);if(f.isIE6){try{u.execCommand("BackgroundImageCache",false,true)}catch(q){n.cssFlicker=true}}n.fixDoc(u);n.events=o.ownEvents?new f.dom.EventUtils(o.proxy):f.dom.Event;f.addUnload(n.destroy,n);r=o.schema?o.schema.getBlockElements():{};n.isBlock=function(t){var s=t.nodeType;if(s){return !!(s===1&&r[t.nodeName])}return !!r[t]}},fixDoc:function(n){var m=this.settings,l;if(c&&m.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(o){n.createElement(o)});for(l in m.schema.getCustomElements()){n.createElement(l)}}},clone:function(n,l){var m=this,q,o;if(!c||n.nodeType!==1||l){return n.cloneNode(l)}o=m.doc;if(!l){q=o.createElement(n.nodeName);j(m.getAttribs(n),function(r){m.setAttrib(q,r.nodeName,m.getAttrib(n,r.nodeName))});return q}return q.firstChild},getRoot:function(){var l=this,m=l.settings;return(m&&l.get(m.root_element))||l.doc.body},getViewPort:function(m){var n,l;m=!m?this.win:m;n=m.document;l=this.boxModel?n.documentElement:n.body;return{x:m.pageXOffset||l.scrollLeft,y:m.pageYOffset||l.scrollTop,w:m.innerWidth||l.clientWidth,h:m.innerHeight||l.clientHeight}},getRect:function(o){var n,l=this,m;o=l.get(o);n=l.getPos(o);m=l.getSize(o);return{x:n.x,y:n.y,w:m.w,h:m.h}},getSize:function(o){var m=this,l,n;o=m.get(o);l=m.getStyle(o,"width");n=m.getStyle(o,"height");if(l.indexOf("px")===-1){l=0}if(n.indexOf("px")===-1){n=0}return{w:parseInt(l,10)||o.offsetWidth||o.clientWidth,h:parseInt(n,10)||o.offsetHeight||o.clientHeight}},getParent:function(o,m,l){return this.getParents(o,m,l,false)},getParents:function(A,u,q,z){var m=this,l,s=m.settings,v=[];A=m.get(A);z=z===undefined;if(s.strict_root){q=q||m.getRoot()}if(e(u,"string")){l=u;if(u==="*"){u=function(o){return o.nodeType==1}}else{u=function(o){return m.is(o,l)}}}while(A){if(A==q||!A.nodeType||A.nodeType===9){break}if(!u||u(A)){if(z){v.push(A)}else{return A}}A=A.parentNode}return z?v:null},get:function(l){var m;if(l&&this.doc&&typeof(l)=="string"){m=l;l=this.doc.getElementById(l);if(l&&l.id!==m){return this.doc.getElementsByName(m)[1]}}return l},getNext:function(m,l){return this._findSib(m,l,"nextSibling")},getPrev:function(m,l){return this._findSib(m,l,"previousSibling")},select:function(n,m){var l=this;return f.dom.Sizzle(n,l.get(m)||l.get(l.settings.root_element)||l.doc,[])},is:function(o,l){var m;if(o.length===undefined){if(l==="*"){return o.nodeType==1}if(d.test(l)){l=l.toLowerCase().split(/,/);o=o.nodeName.toLowerCase();for(m=l.length-1;m>=0;m--){if(l[m]==o){return true}}return false}}return f.dom.Sizzle.matches(l,o.nodeType?[o]:o).length>0},add:function(q,s,l,o,r){var m=this;return this.run(q,function(u){var t,n;t=e(s,"string")?m.doc.createElement(s):s;m.setAttribs(t,l);if(o){if(o.nodeType){t.appendChild(o)}else{m.setHTML(t,o)}}return !r?u.appendChild(t):t})},create:function(o,l,m){return this.add(this.doc.createElement(o),o,l,m,1)},createHTML:function(u,l,r){var s="",q=this,m;s+="<"+u;for(m in l){if(l.hasOwnProperty(m)){s+=" "+m+'="'+q.encode(l[m])+'"'}}if(typeof(r)!="undefined"){return s+">"+r+"</"+u+">"}return s+" />"},remove:function(l,m){return this.run(l,function(o){var q,n=o.parentNode;if(!n){return null}if(m){while(q=o.firstChild){if(!f.isIE||q.nodeType!==3||q.nodeValue){n.insertBefore(q,o)}else{o.removeChild(q)}}}return n.removeChild(o)})},setStyle:function(q,l,m){var o=this;return o.run(q,function(t){var r,n;r=t.style;l=l.replace(/-(\D)/g,function(u,s){return s.toUpperCase()});if(o.pixelStyles.test(l)&&(f.is(m,"number")||/^[\-0-9\.]+$/.test(m))){m+="px"}switch(l){case"opacity":if(c){r.filter=m===""?"":"alpha(opacity="+(m*100)+")";if(!q.currentStyle||!q.currentStyle.hasLayout){r.display="inline-block"}}r[l]=r["-moz-opacity"]=r["-khtml-opacity"]=m||"";break;case"float":c?r.styleFloat=m:r.cssFloat=m;break;default:r[l]=m||""}if(o.settings.update_styles){o.setAttrib(t,"data-mce-style")}})},getStyle:function(q,l,o){q=this.get(q);if(!q){return}if(this.doc.defaultView&&o){l=l.replace(/[A-Z]/g,function(n){return"-"+n});try{return this.doc.defaultView.getComputedStyle(q,null).getPropertyValue(l)}catch(m){return null}}l=l.replace(/-(\D)/g,function(r,n){return n.toUpperCase()});if(l=="float"){l=c?"styleFloat":"cssFloat"}if(q.currentStyle&&o){return q.currentStyle[l]}return q.style?q.style[l]:undefined},setStyles:function(q,r){var m=this,n=m.settings,l;l=n.update_styles;n.update_styles=0;j(r,function(o,s){m.setStyle(q,s,o)});n.update_styles=l;if(n.update_styles){m.setAttrib(q,n.cssText)}},removeAllAttribs:function(l){return this.run(l,function(o){var n,m=o.attributes;for(n=m.length-1;n>=0;n--){o.removeAttributeNode(m.item(n))}})},setAttrib:function(o,q,l){var m=this;if(!o||!q){return}if(m.settings.strict){q=q.toLowerCase()}return this.run(o,function(u){var t=m.settings;var n=u.getAttribute(q);if(l!==null){switch(q){case"style":if(!e(l,"string")){j(l,function(s,z){m.setStyle(u,z,s)});return}if(t.keep_values){if(l&&!m._isRes(l)){u.setAttribute("data-mce-style",l,2)}else{u.removeAttribute("data-mce-style",2)}}u.style.cssText=l;break;case"class":u.className=l||"";break;case"src":case"href":if(t.keep_values){if(t.url_converter){l=t.url_converter.call(t.url_converter_scope||m,l,q,u)}m.setAttrib(u,"data-mce-"+q,l,2)}break;case"shape":u.setAttribute("data-mce-style",l);break}}if(e(l)&&l!==null&&l.length!==0){u.setAttribute(q,""+l,2)}else{u.removeAttribute(q,2)}if(tinyMCE.activeEditor&&n!=l){var r=tinyMCE.activeEditor;r.onSetAttrib.dispatch(r,u,q,l)}})},setAttribs:function(m,n){var l=this;return this.run(m,function(o){j(n,function(q,r){l.setAttrib(o,r,q)})})},getAttrib:function(r,s,o){var l,m=this,q;r=m.get(r);if(!r||r.nodeType!==1){return o===q?false:o}if(!e(o)){o=""}if(/^(src|href|style|coords|shape)$/.test(s)){l=r.getAttribute("data-mce-"+s);if(l){return l}}if(c&&m.props[s]){l=r[m.props[s]];l=l&&l.nodeValue?l.nodeValue:l}if(!l){l=r.getAttribute(s,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(s)){if(r[m.props[s]]===true&&l===""){return s}return l?s:""}if(r.nodeName==="FORM"&&r.getAttributeNode(s)){return r.getAttributeNode(s).nodeValue}if(s==="style"){l=l||r.style.cssText;if(l){l=m.serializeStyle(m.parseStyle(l),r.nodeName);if(m.settings.keep_values&&!m._isRes(l)){r.setAttribute("data-mce-style",l)}}}if(g&&s==="class"&&l){l=l.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(c){switch(s){case"rowspan":case"colspan":if(l===1){l=""}break;case"size":if(l==="+0"||l===20||l===0){l=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(l===0){l=""}break;case"hspace":if(l===-1){l=""}break;case"maxlength":case"tabindex":if(l===32768||l===2147483647||l==="32768"){l=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(l===65535){return s}return o;case"shape":l=l.toLowerCase();break;default:if(s.indexOf("on")===0&&l){l=f._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+l)}}}return(l!==q&&l!==null&&l!=="")?""+l:o},getPos:function(z,q){var m=this,l=0,v=0,s,u=m.doc,o;z=m.get(z);q=q||u.body;if(z){if(z.getBoundingClientRect){z=z.getBoundingClientRect();s=m.boxModel?u.documentElement:u.body;l=z.left+(u.documentElement.scrollLeft||u.body.scrollLeft)-s.clientTop;v=z.top+(u.documentElement.scrollTop||u.body.scrollTop)-s.clientLeft;return{x:l,y:v}}o=z;while(o&&o!=q&&o.nodeType){l+=o.offsetLeft||0;v+=o.offsetTop||0;o=o.offsetParent}o=z.parentNode;while(o&&o!=q&&o.nodeType){l-=o.scrollLeft||0;v-=o.scrollTop||0;o=o.parentNode}}return{x:l,y:v}},parseStyle:function(l){return this.styles.parse(l)},serializeStyle:function(m,l){return this.styles.serialize(m,l)},loadCSS:function(l){var n=this,o=n.doc,m;if(!l){l=""}m=o.getElementsByTagName("head")[0];j(l.split(","),function(q){var r;if(n.files[q]){return}n.files[q]=true;r=n.create("link",{rel:"stylesheet",href:f._addVer(q)});if(c&&o.documentMode&&o.recalc){r.onload=function(){if(o.recalc){o.recalc()}r.onload=null}}m.appendChild(r)})},addClass:function(l,m){return this.run(l,function(n){var q;if(!m){return 0}if(this.hasClass(n,m)){return n.className}q=this.removeClass(n,m);return n.className=(q!=""?(q+" "):"")+m})},removeClass:function(n,o){var l=this,m;return l.run(n,function(r){var q;if(l.hasClass(r,o)){if(!m){m=new RegExp("(^|\\s+)"+o+"(\\s+|$)","g")}q=r.className.replace(m," ");q=f.trim(q!=" "?q:"");r.className=q;if(!q){r.removeAttribute("class");r.removeAttribute("className")}return q}return r.className})},hasClass:function(m,l){m=this.get(m);if(!m||!l){return false}return(" "+m.className+" ").indexOf(" "+l+" ")!==-1},show:function(l){return this.setStyle(l,"display","block")},hide:function(l){return this.setStyle(l,"display","none")},isHidden:function(l){l=this.get(l);return !l||l.style.display=="none"||this.getStyle(l,"display")=="none"},uniqueId:function(l){return(!l?"mce_":l)+(this.counter++)},setHTML:function(n,m){var l=this;return l.run(n,function(q){if(c){while(q.firstChild){q.removeChild(q.firstChild)}try{q.innerHTML="<br />"+m;q.removeChild(q.firstChild)}catch(o){q=l.create("div");q.innerHTML="<br />"+m;j(q.childNodes,function(s,r){if(r){q.appendChild(s)}})}}else{q.innerHTML=m}return m})},getOuterHTML:function(n){var m,l=this;n=l.get(n);if(!n){return null}if(n.nodeType===1&&l.hasOuterHTML){return n.outerHTML}m=(n.ownerDocument||l.doc).createElement("body");m.appendChild(n.cloneNode(true));return m.innerHTML},setOuterHTML:function(o,m,q){var l=this;function n(s,r,u){var v,t;t=u.createElement("body");t.innerHTML=r;v=t.lastChild;while(v){l.insertAfter(v.cloneNode(true),s);v=v.previousSibling}l.remove(s)}return this.run(o,function(s){s=l.get(s);if(s.nodeType==1){q=q||s.ownerDocument||l.doc;if(c){try{if(c&&s.nodeType==1){s.outerHTML=m}else{n(s,m,q)}}catch(r){n(s,m,q)}}else{n(s,m,q)}}})},decode:k.decode,encode:k.encodeAllRaw,insertAfter:function(l,m){m=this.get(m);return this.run(l,function(o){var n,q;n=m.parentNode;q=m.nextSibling;if(q){n.insertBefore(o,q)}else{n.appendChild(o)}return o})},replace:function(r,q,l){var m=this;if(e(q,"array")){r=r.cloneNode(true)}return m.run(q,function(n){if(l){j(f.grep(n.childNodes),function(o){r.appendChild(o)})}return n.parentNode.replaceChild(r,n)})},rename:function(o,l){var n=this,m;if(o.nodeName!=l.toUpperCase()){m=n.create(l);j(n.getAttribs(o),function(q){n.setAttrib(m,q.nodeName,n.getAttrib(o,q.nodeName))});n.replace(m,o,1)}return m||o},findCommonAncestor:function(n,l){var o=n,m;while(o){m=l;while(m&&o!=m){m=m.parentNode}if(o==m){break}o=o.parentNode}if(!o&&n.ownerDocument){return n.ownerDocument.documentElement}return o},toHex:function(l){var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(l);function m(o){o=parseInt(o,10).toString(16);return o.length>1?o:"0"+o}if(n){l="#"+m(n[1])+m(n[2])+m(n[3]);return l}return l},getClasses:function(){var q=this,l=[],o,r={},s=q.settings.class_filter,n;if(q.classes){return q.classes}function u(t){j(t.imports,function(v){u(v)});j(t.cssRules||t.rules,function(v){switch(v.type||1){case 1:if(v.selectorText){j(v.selectorText.split(","),function(z){z=z.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(z)||!/\.[\w\-]+$/.test(z)){return}n=z;z=f._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",z);if(s&&!(z=s(z,n))){return}if(!r[z]){l.push({"class":z});r[z]=1}})}break;case 3:u(v.styleSheet);break}})}try{j(q.doc.styleSheets,u)}catch(m){}if(l.length>0){q.classes=l}return l},run:function(q,n,m){var l=this,r;if(l.doc&&typeof(q)==="string"){q=l.get(q)}if(!q){return false}m=m||this;if(!q.nodeType&&(q.length||q.length===0)){r=[];j(q,function(s,o){if(s){if(typeof(s)=="string"){s=l.doc.getElementById(s)}r.push(n.call(m,s,o))}});return r}return n.call(m,q)},getAttribs:function(m){var l;m=this.get(m);if(!m){return[]}if(c){l=[];if(m.nodeName=="OBJECT"){return m.attributes}if(m.nodeName==="OPTION"&&this.getAttrib(m,"selected")){l.push({specified:1,nodeName:"selected"})}m.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(n){l.push({specified:1,nodeName:n})});return l}return m.attributes},isEmpty:function(o,m){var u=this,r,q,t,l,n,s=0;o=o.firstChild;if(o){l=new f.dom.TreeWalker(o,o.parentNode);m=m||u.schema?u.schema.getNonEmptyElements():null;do{t=o.nodeType;if(t===1){if(o.getAttribute("data-mce-bogus")){continue}n=o.nodeName.toLowerCase();if(m&&m[n]){if(n==="br"){s++;continue}return false}q=u.getAttribs(o);r=o.attributes.length;while(r--){n=o.attributes[r].nodeName;if(n==="name"||n==="data-mce-bookmark"){return false}}}if(t==8){return false}if((t===3&&!b.test(o.nodeValue))){return false}}while(o=l.next())}return s<=1},destroy:function(m){var l=this;l.win=l.doc=l.root=l.events=l.frag=null;if(!m){f.removeUnload(l.destroy)}},createRng:function(){var l=this.doc;return l.createRange?l.createRange():new f.dom.Range(this)},nodeIndex:function(q,r){var l=0,n,o,m;if(q){for(n=q.nodeType,q=q.previousSibling,o=q;q;q=q.previousSibling){m=q.nodeType;if(r&&m==3){if(m==n||!q.nodeValue.length){continue}}l++;n=m}}return l},split:function(q,o,v){var z=this,l=z.createRng(),s,n,u;function m(C){var A,t=C.childNodes,B=C.nodeType;function D(G){var F=G.previousSibling&&G.previousSibling.nodeName=="SPAN";var E=G.nextSibling&&G.nextSibling.nodeName=="SPAN";return F&&E}if(B==1&&C.getAttribute("data-mce-type")=="bookmark"){return}for(A=t.length-1;A>=0;A--){m(t[A])}if(B!=9){if(B==3&&C.nodeValue.length>0){var r=f.trim(C.nodeValue).length;if(!z.isBlock(C.parentNode)||r>0||r===0&&D(C)){return}}else{if(B==1){t=C.childNodes;if(t.length==1&&t[0]&&t[0].nodeType==1&&t[0].getAttribute("data-mce-type")=="bookmark"){C.parentNode.insertBefore(t[0],C)}if(t.length||/^(br|hr|input|img)$/i.test(C.nodeName)){return}}}z.remove(C)}return C}if(q&&o){l.setStart(q.parentNode,z.nodeIndex(q));l.setEnd(o.parentNode,z.nodeIndex(o));s=l.extractContents();l=z.createRng();l.setStart(o.parentNode,z.nodeIndex(o)+1);l.setEnd(q.parentNode,z.nodeIndex(q)+1);n=l.extractContents();u=q.parentNode;u.insertBefore(m(s),q);if(v){u.replaceChild(v,o)}else{u.insertBefore(o,q)}u.insertBefore(m(n),q);z.remove(q);return v||o}},bind:function(o,l,n,m){return this.events.add(o,l,n,m||this)},unbind:function(n,l,m){return this.events.remove(n,l,m)},fire:function(n,m,l){return this.events.fire(n,m,l)},getContentEditable:function(m){var l;if(m.nodeType!=1){return null}l=m.getAttribute("data-mce-contenteditable");if(l&&l!=="inherit"){return l}return m.contentEditable!=="inherit"?m.contentEditable:null},_findSib:function(o,l,m){var n=this,q=l;if(o){if(e(q,"string")){q=function(r){return n.is(r,l)}}for(o=o[m];o;o=o[m]){if(q(o)){return o}}}return null},_isRes:function(l){return/^(top|left|bottom|right|width|height)/i.test(l)||/;\s*(top|left|bottom|right|width|height)/i.test(l)}});f.DOM=new f.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(b){function c(d){var U=this,f=d.doc,aa=0,L=1,m=2,K=true,Y=false,ac="startOffset",k="startContainer",W="endContainer",G="endOffset",n=tinymce.extend,r=d.nodeIndex;n(U,{startContainer:f,startOffset:0,endContainer:f,endOffset:0,collapsed:K,commonAncestorContainer:f,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:v,setEnd:A,setStartBefore:j,setStartAfter:P,setEndBefore:Q,setEndAfter:B,collapse:H,selectNode:E,selectNodeContents:M,compareBoundaryPoints:C,deleteContents:u,extractContents:O,cloneContents:e,insertNode:J,surroundContents:T,cloneRange:R,toStringIE:Z});function D(){return f.createDocumentFragment()}function v(ad,t){I(K,ad,t)}function A(ad,t){I(Y,ad,t)}function j(t){v(t.parentNode,r(t))}function P(t){v(t.parentNode,r(t)+1)}function Q(t){A(t.parentNode,r(t))}function B(t){A(t.parentNode,r(t)+1)}function H(t){if(t){U[W]=U[k];U[G]=U[ac]}else{U[k]=U[W];U[ac]=U[G]}U.collapsed=K}function E(t){j(t);B(t)}function M(t){v(t,0);A(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function C(ag,t){var aj=U[k],ae=U[ac],ai=U[W],ad=U[G],ah=t.startContainer,al=t.startOffset,af=t.endContainer,ak=t.endOffset;if(ag===0){return N(aj,ae,ah,al)}if(ag===1){return N(ai,ad,ah,al)}if(ag===2){return N(ai,ad,af,ak)}if(ag===3){return N(aj,ae,af,ak)}}function u(){o(m)}function O(){return o(aa)}function e(){return o(L)}function J(ag){var ad=this[k],t=this[ac],af,ae;if((ad.nodeType===3||ad.nodeType===4)&&ad.nodeValue){if(!t){ad.parentNode.insertBefore(ag,ad)}else{if(t>=ad.nodeValue.length){d.insertAfter(ag,ad)}else{af=ad.splitText(t);ad.parentNode.insertBefore(ag,af)}}}else{if(ad.childNodes.length>0){ae=ad.childNodes[t]}if(ae){ad.insertBefore(ag,ae)}else{ad.appendChild(ag)}}}function T(ad){var t=U.extractContents();U.insertNode(ad);ad.appendChild(t);U.selectNode(ad)}function R(){return n(new c(d),{startContainer:U[k],startOffset:U[ac],endContainer:U[W],endOffset:U[G],collapsed:U.collapsed,commonAncestorContainer:U.commonAncestorContainer})}function V(t,ad){var ae;if(t.nodeType==3){return t}if(ad<0){return t}ae=t.firstChild;while(ae&&ad>0){--ad;ae=ae.nextSibling}if(ae){return ae}return t}function q(){return(U[k]==U[W]&&U[ac]==U[G])}function N(af,ah,ad,ag){var ai,ae,t,aj,al,ak;if(af==ad){if(ah==ag){return 0}if(ah<ag){return -1}return 1}ai=ad;while(ai&&ai.parentNode!=af){ai=ai.parentNode}if(ai){ae=0;t=af.firstChild;while(t!=ai&&ae<ah){ae++;t=t.nextSibling}if(ah<=ae){return -1}return 1}ai=af;while(ai&&ai.parentNode!=ad){ai=ai.parentNode}if(ai){ae=0;t=ad.firstChild;while(t!=ai&&ae<ag){ae++;t=t.nextSibling}if(ae<ag){return -1}return 1}aj=d.findCommonAncestor(af,ad);al=af;while(al&&al.parentNode!=aj){al=al.parentNode}if(!al){al=aj}ak=ad;while(ak&&ak.parentNode!=aj){ak=ak.parentNode}if(!ak){ak=aj}if(al==ak){return 0}t=aj.firstChild;while(t){if(t==al){return -1}if(t==ak){return 1}t=t.nextSibling}}function I(ad,ag,af){var t,ae;if(ad){U[k]=ag;U[ac]=af}else{U[W]=ag;U[G]=af}t=U[W];while(t.parentNode){t=t.parentNode}ae=U[k];while(ae.parentNode){ae=ae.parentNode}if(ae==t){if(N(U[k],U[ac],U[W],U[G])>0){U.collapse(ad)}}else{U.collapse(ad)}U.collapsed=q();U.commonAncestorContainer=d.findCommonAncestor(U[k],U[W])}function o(aj){var ai,af=0,al=0,ad,ah,ae,ag,t,ak;if(U[k]==U[W]){return g(aj)}for(ai=U[W],ad=ai.parentNode;ad;ai=ad,ad=ad.parentNode){if(ad==U[k]){return z(ai,aj)}++af}for(ai=U[k],ad=ai.parentNode;ad;ai=ad,ad=ad.parentNode){if(ad==U[W]){return ab(ai,aj)}++al}ah=al-af;ae=U[k];while(ah>0){ae=ae.parentNode;ah--}ag=U[W];while(ah<0){ag=ag.parentNode;ah++}for(t=ae.parentNode,ak=ag.parentNode;t!=ak;t=t.parentNode,ak=ak.parentNode){ae=t;ag=ak}return s(ae,ag,aj)}function g(ai){var ak,al,t,ae,af,aj,ag,ad,ah;if(ai!=m){ak=D()}if(U[ac]==U[G]){return ak}if(U[k].nodeType==3){al=U[k].nodeValue;t=al.substring(U[ac],U[G]);if(ai!=L){ae=U[k];ad=U[ac];ah=U[G]-U[ac];if(ad===0&&ah>=ae.nodeValue.length-1){ae.parentNode.removeChild(ae)}else{ae.deleteData(ad,ah)}U.collapse(K)}if(ai==m){return}if(t.length>0){ak.appendChild(f.createTextNode(t))}return ak}ae=V(U[k],U[ac]);af=U[G]-U[ac];while(ae&&af>0){aj=ae.nextSibling;ag=F(ae,ai);if(ak){ak.appendChild(ag)}--af;ae=aj}if(ai!=L){U.collapse(K)}return ak}function z(aj,ag){var ai,ah,ad,t,af,ae;if(ag!=m){ai=D()}ah=l(aj,ag);if(ai){ai.appendChild(ah)}ad=r(aj);t=ad-U[ac];if(t<=0){if(ag!=L){U.setEndBefore(aj);U.collapse(Y)}return ai}ah=aj.previousSibling;while(t>0){af=ah.previousSibling;ae=F(ah,ag);if(ai){ai.insertBefore(ae,ai.firstChild)}--t;ah=af}if(ag!=L){U.setEndBefore(aj);U.collapse(Y)}return ai}function ab(ah,ag){var aj,ad,ai,t,af,ae;if(ag!=m){aj=D()}ai=X(ah,ag);if(aj){aj.appendChild(ai)}ad=r(ah);++ad;t=U[G]-ad;ai=ah.nextSibling;while(ai&&t>0){af=ai.nextSibling;ae=F(ai,ag);if(aj){aj.appendChild(ae)}--t;ai=af}if(ag!=L){U.setStartAfter(ah);U.collapse(K)}return aj}function s(ah,t,ak){var ae,am,ag,ai,aj,ad,al,af;if(ak!=m){am=D()}ae=X(ah,ak);if(am){am.appendChild(ae)}ag=ah.parentNode;ai=r(ah);aj=r(t);++ai;ad=aj-ai;al=ah.nextSibling;while(ad>0){af=al.nextSibling;ae=F(al,ak);if(am){am.appendChild(ae)}al=af;--ad}ae=l(t,ak);if(am){am.appendChild(ae)}if(ak!=L){U.setStartAfter(ah);U.collapse(K)}return am}function l(ai,aj){var ae=V(U[W],U[G]-1),ak,ah,ag,t,ad,af=ae!=U[W];if(ae==ai){return S(ae,af,Y,aj)}ak=ae.parentNode;ah=S(ak,Y,Y,aj);while(ak){while(ae){ag=ae.previousSibling;t=S(ae,af,Y,aj);if(aj!=m){ah.insertBefore(t,ah.firstChild)}af=K;ae=ag}if(ak==ai){return ah}ae=ak.previousSibling;ak=ak.parentNode;ad=S(ak,Y,Y,aj);if(aj!=m){ad.appendChild(ah)}ah=ad}}function X(ai,aj){var af=V(U[k],U[ac]),ag=af!=U[k],ak,ah,ae,t,ad;if(af==ai){return S(af,ag,K,aj)}ak=af.parentNode;ah=S(ak,Y,K,aj);while(ak){while(af){ae=af.nextSibling;t=S(af,ag,K,aj);if(aj!=m){ah.appendChild(t)}ag=K;af=ae}if(ak==ai){return ah}af=ak.nextSibling;ak=ak.parentNode;ad=S(ak,Y,K,aj);if(aj!=m){ad.appendChild(ah)}ah=ad}}function S(t,ag,aj,ak){var af,ae,ah,ad,ai;if(ag){return F(t,ak)}if(t.nodeType==3){af=t.nodeValue;if(aj){ad=U[ac];ae=af.substring(ad);ah=af.substring(0,ad)}else{ad=U[G];ae=af.substring(0,ad);ah=af.substring(ad)}if(ak!=L){t.nodeValue=ah}if(ak==m){return}ai=d.clone(t,Y);ai.nodeValue=ae;return ai}if(ak==m){return}return d.clone(t,Y)}function F(ad,t){if(t!=m){return t==L?d.clone(ad,K):ad}ad.parentNode.removeChild(ad)}function Z(){return d.create("body",null,e()).outerText}return U}b.Range=c;c.prototype.toString=function(){return this.toStringIE()}})(tinymce.dom);(function(){function b(e){var c=this,k=e.dom,d=true,g=false;function f(l,m){var n,A=0,u,r,q,o,s,v,t=-1,z;n=l.duplicate();n.collapse(m);z=n.parentElement();if(z.ownerDocument!==e.dom.doc){return}while(z.contentEditable==="false"){z=z.parentNode}if(!z.hasChildNodes()){return{node:z,inside:1}}q=z.children;u=q.length-1;while(A<=u){v=Math.floor((A+u)/2);o=q[v];n.moveToElementText(o);t=n.compareEndPoints(m?"StartToStart":"EndToEnd",l);if(t>0){u=v-1}else{if(t<0){A=v+1}else{return{node:o}}}}if(t<0){if(!o){n.moveToElementText(z);n.collapse(true);o=z;r=true}else{n.collapse(false)}s=0;while(n.compareEndPoints(m?"StartToStart":"StartToEnd",l)!==0){if(n.move("character",1)===0||z!=n.parentElement()){break}s++}}else{n.collapse(true);s=0;while(n.compareEndPoints(m?"StartToStart":"StartToEnd",l)!==0){if(n.move("character",-1)===0||z!=n.parentElement()){break}s++}}return{node:o,position:t,offset:s,inside:r}}function j(){var l=e.getRng(),v=k.createRng(),o,n,t,u,q,m;o=l.item?l.item(0):l.parentElement();if(o.ownerDocument!=k.doc){return v}n=e.isCollapsed();if(l.item){v.setStart(o.parentNode,k.nodeIndex(o));v.setEnd(v.startContainer,v.startOffset+1);return v}function s(G){var B=f(l,G),z,E,F=0,D,C,A;z=B.node;E=B.offset;if(B.inside&&!z.hasChildNodes()){v[G?"setStart":"setEnd"](z,0);return}if(E===C){v[G?"setStartBefore":"setEndAfter"](z);return}if(B.position<0){D=B.inside?z.firstChild:z.nextSibling;if(!D){v[G?"setStartAfter":"setEndAfter"](z);return}if(!E){if(D.nodeType==3){v[G?"setStart":"setEnd"](D,0)}else{v[G?"setStartBefore":"setEndBefore"](D)}return}while(D){A=D.nodeValue;F+=A.length;if(F>=E){z=D;F-=E;F=A.length-F;break}D=D.nextSibling}}else{D=z.previousSibling;if(!D){return v[G?"setStartBefore":"setEndBefore"](z)}if(!E){if(z.nodeType==3){v[G?"setStart":"setEnd"](D,z.nodeValue.length)}else{v[G?"setStartAfter":"setEndAfter"](D)}return}while(D){F+=D.nodeValue.length;if(F>=E){z=D;F-=E;break}D=D.previousSibling}}v[G?"setStart":"setEnd"](z,F)}try{s(true);if(!n){s()}}catch(r){if(r.number==-2147024809){q=c.getBookmark(2);t=l.duplicate();t.collapse(true);o=t.parentElement();if(!n){t=l.duplicate();t.collapse(false);u=t.parentElement();u.innerHTML=u.innerHTML}o.innerHTML=o.innerHTML;c.moveToBookmark(q);l=e.getRng();s(true);if(!n){s()}}else{throw r}}return v}this.getBookmark=function(q){var m=e.getRng(),s,l,o={};function r(B){var A,t,z,v,u=[];A=B.parentNode;t=k.getRoot().parentNode;while(A!=t&&A.nodeType!==9){z=A.children;v=z.length;while(v--){if(B===z[v]){u.push(v);break}}B=A;A=A.parentNode}return u}function n(u){var t;t=f(m,u);if(t){return{position:t.position,offset:t.offset,indexes:r(t.node),inside:t.inside}}}if(q===2){if(!m.item){o.start=n(true);if(!e.isCollapsed()){o.end=n()}}else{o.start={ctrl:true,indexes:r(m.item(0))}}}return o};this.moveToBookmark=function(n){var m,l=k.doc.body;function q(s){var v,u,r,t;v=k.getRoot();for(u=s.length-1;u>=0;u--){t=v.children;r=s[u];if(r<=t.length-1){v=t[r]}}return v}function o(v){var r=n[v?"start":"end"],u,t,s;if(r){u=r.position>0;t=l.createTextRange();t.moveToElementText(q(r.indexes));offset=r.offset;if(offset!==s){t.collapse(r.inside||u);t.moveStart("character",u?-offset:offset)}else{t.collapse(v)}m.setEndPoint(v?"StartToStart":"EndToStart",t);if(v){m.collapse(true)}}}if(n.start){if(n.start.ctrl){m=l.createControlRange();m.addElement(q(n.start.indexes));m.select()}else{m=l.createTextRange();o(true);o();m.select()}}};this.addRange=function(l){var r,o,n,t,A,u,z,v=e.dom.doc,q=v.body;function m(G){var C,F,B,E,D;B=k.create("a");C=G?n:A;F=G?t:u;E=r.duplicate();if(C==v||C==v.documentElement){C=q;F=0}if(C.nodeType==3){C.parentNode.insertBefore(B,C);E.moveToElementText(B);E.moveStart("character",F);k.remove(B);r.setEndPoint(G?"StartToStart":"EndToEnd",E)}else{D=C.childNodes;if(D.length){if(F>=D.length){k.insertAfter(B,D[D.length-1])}else{C.insertBefore(B,D[F])}E.moveToElementText(B)}else{if(C.canHaveHTML){C.innerHTML="<span>\uFEFF</span>";B=C.firstChild;E.moveToElementText(B);E.collapse(g)}}r.setEndPoint(G?"StartToStart":"EndToEnd",E);k.remove(B)}}n=l.startContainer;t=l.startOffset;A=l.endContainer;u=l.endOffset;r=q.createTextRange();if(n==A&&n.nodeType==1){if(t==u&&!n.hasChildNodes()){if(n.canHaveHTML){z=n.previousSibling;if(z&&!z.hasChildNodes()&&k.isBlock(z)){z.innerHTML="\uFEFF"}else{z=null}n.innerHTML="<span>\uFEFF</span><span>\uFEFF</span>";r.moveToElementText(n.lastChild);r.select();k.doc.selection.clear();n.innerHTML="";if(z){z.innerHTML=""}return}else{t=k.nodeIndex(n);n=n.parentNode}}if(t==u-1){try{o=q.createControlRange();o.addElement(n.childNodes[t]);o.select();return}catch(s){}}}m(true);m();r.select()};this.getRangeAt=j}tinymce.dom.TridentSelection=b})();(function(){var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,l="sizcache",s=0,v=Object.prototype.toString,k=false,j=true,u=/\\/g,B=/\r\n/g,D=/\W/;[0,0].sort(function(){j=false;return 0});var f=function(I,e,L,M){L=L||[];e=e||document;var O=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!I||typeof I!=="string"){return L}var F,Q,T,E,P,S,R,K,H=true,G=f.isXML(e),J=[],N=I;do{r.exec("");F=r.exec(N);if(F){N=F[3];J.push(F[1]);if(F[2]){E=F[3];break}}}while(F);if(J.length>1&&m.exec(I)){if(J.length===2&&n.relative[J[0]]){Q=z(J[0]+J[1],e,M)}else{Q=n.relative[J[0]]?[e]:f(J.shift(),e);while(J.length){I=J.shift();if(n.relative[I]){I+=J.shift()}Q=z(I,Q,M)}}}else{if(!M&&J.length>1&&e.nodeType===9&&!G&&n.match.ID.test(J[0])&&!n.match.ID.test(J[J.length-1])){P=f.find(J.shift(),e,G);e=P.expr?f.filter(P.expr,P.set)[0]:P.set[0]}if(e){P=M?{expr:J.pop(),set:o(M)}:f.find(J.pop(),J.length===1&&(J[0]==="~"||J[0]==="+")&&e.parentNode?e.parentNode:e,G);Q=P.expr?f.filter(P.expr,P.set):P.set;if(J.length>0){T=o(Q)}else{H=false}while(J.length){S=J.pop();R=S;if(!n.relative[S]){S=""}else{R=J.pop()}if(R==null){R=e}n.relative[S](T,R,G)}}else{T=J=[]}}if(!T){T=Q}if(!T){f.error(S||I)}if(v.call(T)==="[object Array]"){if(!H){L.push.apply(L,T)}else{if(e&&e.nodeType===1){for(K=0;T[K]!=null;K++){if(T[K]&&(T[K]===true||T[K].nodeType===1&&f.contains(e,T[K]))){L.push(Q[K])}}}else{for(K=0;T[K]!=null;K++){if(T[K]&&T[K].nodeType===1){L.push(Q[K])}}}}}else{o(T,L)}if(E){f(E,O,L,M);f.uniqueSort(L)}return L};f.uniqueSort=function(E){if(t){k=j;E.sort(t);if(k){for(var e=1;e<E.length;e++){if(E[e]===E[e-1]){E.splice(e--,1)}}}}return E};f.matches=function(e,E){return f(e,null,null,E)};f.matchesSelector=function(e,E){return f(E,null,null,[e]).length>0};f.find=function(K,e,L){var J,F,H,G,I,E;if(!K){return[]}for(F=0,H=n.order.length;F<H;F++){I=n.order[F];if((G=n.leftMatch[I].exec(K))){E=G[1];G.splice(1,1);if(E.substr(E.length-1)!=="\\"){G[1]=(G[1]||"").replace(u,"");J=n.find[I](G,e,L);if(J!=null){K=K.replace(n.match[I],"");break}}}}if(!J){J=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:J,expr:K}};f.filter=function(O,N,R,H){var J,e,M,T,Q,E,G,I,P,F=O,S=[],L=N,K=N&&N[0]&&f.isXML(N[0]);while(O&&N.length){for(M in n.filter){if((J=n.leftMatch[M].exec(O))!=null&&J[2]){E=n.filter[M];G=J[1];e=false;J.splice(1,1);if(G.substr(G.length-1)==="\\"){continue}if(L===S){S=[]}if(n.preFilter[M]){J=n.preFilter[M](J,L,R,S,H,K);if(!J){e=T=true}else{if(J===true){continue}}}if(J){for(I=0;(Q=L[I])!=null;I++){if(Q){T=E(Q,J,I,L);P=H^T;if(R&&T!=null){if(P){e=true}else{L[I]=false}}else{if(P){S.push(Q);e=true}}}}}if(T!==undefined){if(!R){L=S}O=O.replace(n.match[M],"");if(!e){return[]}break}}}if(O===F){if(e==null){f.error(O)}else{break}}F=O}return L};f.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var c=f.getText=function(H){var F,G,e=H.nodeType,E="";if(e){if(e===1||e===9||e===11){if(typeof H.textContent==="string"){return H.textContent}else{if(typeof H.innerText==="string"){return H.innerText.replace(B,"")}else{for(H=H.firstChild;H;H=H.nextSibling){E+=c(H)}}}}else{if(e===3||e===4){return H.nodeValue}}}else{for(F=0;(G=H[F]);F++){if(G.nodeType!==8){E+=c(G)}}}return E};var n=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(J,E){var G=typeof E==="string",I=G&&!D.test(E),K=G&&!I;if(I){E=E.toLowerCase()}for(var F=0,e=J.length,H;F<e;F++){if((H=J[F])){while((H=H.previousSibling)&&H.nodeType!==1){}J[F]=K||H&&H.nodeName.toLowerCase()===E?H||false:H===E}}if(K){f.filter(E,J,true)}},">":function(J,E){var I,H=typeof E==="string",F=0,e=J.length;if(H&&!D.test(E)){E=E.toLowerCase();for(;F<e;F++){I=J[F];if(I){var G=I.parentNode;J[F]=G.nodeName.toLowerCase()===E?G:false}}}else{for(;F<e;F++){I=J[F];if(I){J[F]=H?I.parentNode:I.parentNode===E}}if(H){f.filter(E,J,true)}}},"":function(G,E,I){var H,F=s++,e=A;if(typeof E==="string"&&!D.test(E)){E=E.toLowerCase();H=E;e=b}e("parentNode",E,F,G,H,I)},"~":function(G,E,I){var H,F=s++,e=A;if(typeof E==="string"&&!D.test(E)){E=E.toLowerCase();H=E;e=b}e("previousSibling",E,F,G,H,I)}},find:{ID:function(E,F,G){if(typeof F.getElementById!=="undefined"&&!G){var e=F.getElementById(E[1]);return e&&e.parentNode?[e]:[]}},NAME:function(F,I){if(typeof I.getElementsByName!=="undefined"){var E=[],H=I.getElementsByName(F[1]);for(var G=0,e=H.length;G<e;G++){if(H[G].getAttribute("name")===F[1]){E.push(H[G])}}return E.length===0?null:E}},TAG:function(e,E){if(typeof E.getElementsByTagName!=="undefined"){return E.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(G,E,F,e,J,K){G=" "+G[1].replace(u,"")+" ";if(K){return G}for(var H=0,I;(I=E[H])!=null;H++){if(I){if(J^(I.className&&(" "+I.className+" ").replace(/[\t\n\r]/g," ").indexOf(G)>=0)){if(!F){e.push(I)}}else{if(F){E[H]=false}}}}return false},ID:function(e){return e[1].replace(u,"")},TAG:function(E,e){return E[1].replace(u,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){f.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var E=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(E[1]+(E[2]||1))-0;e[3]=E[3]-0}else{if(e[2]){f.error(e[0])}}e[0]=s++;return e},ATTR:function(H,E,F,e,I,J){var G=H[1]=H[1].replace(u,"");if(!J&&n.attrMap[G]){H[1]=n.attrMap[G]}H[4]=(H[4]||H[5]||"").replace(u,"");if(H[2]==="~="){H[4]=" "+H[4]+" "}return H},PSEUDO:function(H,E,F,e,I){if(H[1]==="not"){if((r.exec(H[3])||"").length>1||/^\w/.test(H[3])){H[3]=f(H[3],null,null,E)}else{var G=f.filter(H[3],E,F,true^I);if(!F){e.push.apply(e,G)}return false}}else{if(n.match.POS.test(H[0])||n.match.CHILD.test(H[0])){return true}}return H},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(F,E,e){return !!f(e[3],F).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(F){var e=F.getAttribute("type"),E=F.type;return F.nodeName.toLowerCase()==="input"&&"text"===E&&(e===E||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(E){var e=E.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===E.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(E){var e=E.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===E.type},button:function(E){var e=E.nodeName.toLowerCase();return e==="input"&&"button"===E.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(E,e){return e===0},last:function(F,E,e,G){return E===G.length-1},even:function(E,e){return e%2===0},odd:function(E,e){return e%2===1},lt:function(F,E,e){return E<e[3]-0},gt:function(F,E,e){return E>e[3]-0},nth:function(F,E,e){return e[3]-0===E},eq:function(F,E,e){return e[3]-0===E}},filter:{PSEUDO:function(F,K,J,L){var e=K[1],E=n.filters[e];if(E){return E(F,J,K,L)}else{if(e==="contains"){return(F.textContent||F.innerText||c([F])||"").indexOf(K[3])>=0}else{if(e==="not"){var G=K[3];for(var I=0,H=G.length;I<H;I++){if(G[I]===F){return false}}return true}else{f.error(e)}}}},CHILD:function(F,H){var G,N,J,M,e,I,L,K=H[1],E=F;switch(K){case"only":case"first":while((E=E.previousSibling)){if(E.nodeType===1){return false}}if(K==="first"){return true}E=F;case"last":while((E=E.nextSibling)){if(E.nodeType===1){return false}}return true;case"nth":G=H[2];N=H[3];if(G===1&&N===0){return true}J=H[0];M=F.parentNode;if(M&&(M[l]!==J||!F.nodeIndex)){I=0;for(E=M.firstChild;E;E=E.nextSibling){if(E.nodeType===1){E.nodeIndex=++I}}M[l]=J}L=F.nodeIndex-N;if(G===0){return L===0}else{return(L%G===0&&L/G>=0)}}},ID:function(E,e){return E.nodeType===1&&E.getAttribute("id")===e},TAG:function(E,e){return(e==="*"&&E.nodeType===1)||!!E.nodeName&&E.nodeName.toLowerCase()===e},CLASS:function(E,e){return(" "+(E.className||E.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(I,G){var F=G[1],e=f.attr?f.attr(I,F):n.attrHandle[F]?n.attrHandle[F](I):I[F]!=null?I[F]:I.getAttribute(F),J=e+"",H=G[2],E=G[4];return e==null?H==="!=":!H&&f.attr?e!=null:H==="="?J===E:H==="*="?J.indexOf(E)>=0:H==="~="?(" "+J+" ").indexOf(E)>=0:!E?J&&e!==false:H==="!="?J!==E:H==="^="?J.indexOf(E)===0:H==="$="?J.substr(J.length-E.length)===E:H==="|="?J===E||J.substr(0,E.length+1)===E+"-":false},POS:function(H,E,F,I){var e=E[2],G=n.setFilters[e];if(G){return G(H,F,E,I)}}}};var m=n.match.POS,d=function(E,e){return"\\"+(e-0+1)};for(var g in n.match){n.match[g]=new RegExp(n.match[g].source+(/(?![^\[]*\])(?![^\(]*\))/.source));n.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[g].source.replace(/\\(\d+)/g,d))}n.match.globalPOS=m;var o=function(E,e){E=Array.prototype.slice.call(E,0);if(e){e.push.apply(e,E);return e}return E};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(C){o=function(H,G){var F=0,E=G||[];if(v.call(H)==="[object Array]"){Array.prototype.push.apply(E,H)}else{if(typeof H.length==="number"){for(var e=H.length;F<e;F++){E.push(H[F])}}else{for(;H[F];F++){E.push(H[F])}}}return E}}var t,q;if(document.documentElement.compareDocumentPosition){t=function(E,e){if(E===e){k=true;return 0}if(!E.compareDocumentPosition||!e.compareDocumentPosition){return E.compareDocumentPosition?-1:1}return E.compareDocumentPosition(e)&4?-1:1}}else{t=function(L,K){if(L===K){k=true;return 0}else{if(L.sourceIndex&&K.sourceIndex){return L.sourceIndex-K.sourceIndex}}var I,E,F=[],e=[],H=L.parentNode,J=K.parentNode,M=H;if(H===J){return q(L,K)}else{if(!H){return -1}else{if(!J){return 1}}}while(M){F.unshift(M);M=M.parentNode}M=J;while(M){e.unshift(M);M=M.parentNode}I=F.length;E=e.length;for(var G=0;G<I&&G<E;G++){if(F[G]!==e[G]){return q(F[G],e[G])}}return G===I?q(L,e[G],-1):q(F[G],K,1)};q=function(E,e,F){if(E===e){return F}var G=E.nextSibling;while(G){if(G===e){return -1}G=G.nextSibling}return 1}}(function(){var E=document.createElement("div"),F="script"+(new Date()).getTime(),e=document.documentElement;E.innerHTML="<a name='"+F+"'/>";e.insertBefore(E,e.firstChild);if(document.getElementById(F)){n.find.ID=function(H,I,J){if(typeof I.getElementById!=="undefined"&&!J){var G=I.getElementById(H[1]);return G?G.id===H[1]||typeof G.getAttributeNode!=="undefined"&&G.getAttributeNode("id").nodeValue===H[1]?[G]:undefined:[]}};n.filter.ID=function(I,G){var H=typeof I.getAttributeNode!=="undefined"&&I.getAttributeNode("id");return I.nodeType===1&&H&&H.nodeValue===G}}e.removeChild(E);e=E=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){n.find.TAG=function(E,I){var H=I.getElementsByTagName(E[1]);if(E[1]==="*"){var G=[];for(var F=0;H[F];F++){if(H[F].nodeType===1){G.push(H[F])}}H=G}return H}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){n.attrHandle.href=function(E){return E.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=f,G=document.createElement("div"),F="__sizzle__";G.innerHTML="<p class='TEST'></p>";if(G.querySelectorAll&&G.querySelectorAll(".TEST").length===0){return}f=function(R,I,M,Q){I=I||document;if(!Q&&!f.isXML(I)){var P=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(R);if(P&&(I.nodeType===1||I.nodeType===9)){if(P[1]){return o(I.getElementsByTagName(R),M)}else{if(P[2]&&n.find.CLASS&&I.getElementsByClassName){return o(I.getElementsByClassName(P[2]),M)}}}if(I.nodeType===9){if(R==="body"&&I.body){return o([I.body],M)}else{if(P&&P[3]){var L=I.getElementById(P[3]);if(L&&L.parentNode){if(L.id===P[3]){return o([L],M)}}else{return o([],M)}}}try{return o(I.querySelectorAll(R),M)}catch(N){}}else{if(I.nodeType===1&&I.nodeName.toLowerCase()!=="object"){var J=I,K=I.getAttribute("id"),H=K||F,T=I.parentNode,S=/^\s*[+~]/.test(R);if(!K){I.setAttribute("id",H)}else{H=H.replace(/'/g,"\\$&")}if(S&&T){I=I.parentNode}try{if(!S||T){return o(I.querySelectorAll("[id='"+H+"'] "+R),M)}}catch(O){}finally{if(!K){J.removeAttribute("id")}}}}}return e(R,I,M,Q)};for(var E in e){f[E]=e[E]}G=null})()}(function(){var e=document.documentElement,F=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(F){var H=!F.call(document.createElement("div"),"div"),E=false;try{F.call(document.documentElement,"[test!='']:sizzle")}catch(G){E=true}f.matchesSelector=function(J,L){L=L.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!f.isXML(J)){try{if(E||!n.match.PSEUDO.test(L)&&!/!=/.test(L)){var I=F.call(J,L);if(I||!H||J.document&&J.document.nodeType!==11){return I}}}catch(K){}}return f(L,null,null,[J]).length>0}}})();(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}n.order.splice(1,0,"CLASS");n.find.CLASS=function(E,F,G){if(typeof F.getElementsByClassName!=="undefined"&&!G){return F.getElementsByClassName(E[1])}};e=null})();function b(E,J,I,M,K,L){for(var G=0,F=M.length;G<F;G++){var e=M[G];if(e){var H=false;e=e[E];while(e){if(e[l]===I){H=M[e.sizset];break}if(e.nodeType===1&&!L){e[l]=I;e.sizset=G}if(e.nodeName.toLowerCase()===J){H=e;break}e=e[E]}M[G]=H}}}function A(E,J,I,M,K,L){for(var G=0,F=M.length;G<F;G++){var e=M[G];if(e){var H=false;e=e[E];while(e){if(e[l]===I){H=M[e.sizset];break}if(e.nodeType===1){if(!L){e[l]=I;e.sizset=G}if(typeof J!=="string"){if(e===J){H=true;break}}else{if(f.filter(J,[e]).length>0){H=e;break}}}e=e[E]}M[G]=H}}}if(document.documentElement.contains){f.contains=function(E,e){return E!==e&&(E.contains?E.contains(e):true)}}else{if(document.documentElement.compareDocumentPosition){f.contains=function(E,e){return !!(E.compareDocumentPosition(e)&16)}}else{f.contains=function(){return false}}}f.isXML=function(e){var E=(e?e.ownerDocument||e:0).documentElement;return E?E.nodeName!=="HTML":false};var z=function(F,e,J){var I,K=[],H="",L=e.nodeType?[e]:e;while((I=n.match.PSEUDO.exec(F))){H+=I[0];F=F.replace(n.match.PSEUDO,"")}F=n.relative[F]?F+"*":F;for(var G=0,E=L.length;G<E;G++){f(F,L[G],K,J)}return f.filter(H,K)};window.tinymce.dom.Sizzle=f})();(function(b){b.dom.Element=function(g,e){var c=this,f,d;c.settings=e=e||{};c.id=g;c.dom=f=e.dom||b.DOM;if(!b.isIE){d=f.get(c.id)}b.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(j){c[j]=function(){var k=[g],l;for(l=0;l<arguments.length;l++){k.push(arguments[l])}k=f[j].apply(f,k);c.update(j);return k}});b.extend(c,{on:function(l,k,j){return b.dom.Event.add(c.id,l,k,j)},getXY:function(){return{x:parseInt(c.getStyle("left")),y:parseInt(c.getStyle("top"))}},getSize:function(){var j=f.get(c.id);return{w:parseInt(c.getStyle("width")||j.clientWidth),h:parseInt(c.getStyle("height")||j.clientHeight)}},moveTo:function(j,k){c.setStyles({left:j,top:k})},moveBy:function(j,l){var k=c.getXY();c.moveTo(k.x+j,k.y+l)},resizeTo:function(j,k){c.setStyles({width:j,height:k})},resizeBy:function(j,l){var k=c.getSize();c.resizeTo(k.w+j,k.h+l)},update:function(l){var j;if(b.isIE6&&e.blocker){l=l||"";if(l.indexOf("get")===0||l.indexOf("has")===0||l.indexOf("is")===0){return}if(l=="remove"){f.remove(c.blocker);return}if(!c.blocker){c.blocker=f.uniqueId();j=f.add(e.container||f.getRoot(),"iframe",{id:c.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});f.setStyle(j,"opacity",0)}else{j=f.get(c.blocker)}f.setStyles(j,{left:c.getStyle("left",1),top:c.getStyle("top",1),width:c.getStyle("width",1),height:c.getStyle("height",1),display:c.getStyle("display",1),zIndex:parseInt(c.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(e){function g(j){return j.replace(/[\n\r]+/g,"")}var d=e.is,c=e.isIE,f=e.each,b=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(n,m,l,k){var j=this;j.dom=n;j.win=m;j.serializer=l;j.editor=k;f(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(o){j[o]=new e.util.Dispatcher(j)});if(!j.win.getSelection){j.tridentSel=new e.dom.TridentSelection(j)}if(e.isIE&&n.boxModel){this._fixIESelection()}e.addUnload(j.destroy,j)},setCursorLocation:function(l,m){var j=this;var k=j.dom.createRng();k.setStart(l,m);k.setEnd(l,m);j.setRng(k);j.collapse(false)},getContent:function(k){var j=this,l=j.getRng(),u=j.dom.create("body"),o=j.getSel(),m,q,v;k=k||{};m=q="";k.get=true;k.format=k.format||"html";k.forced_root_block="";j.onBeforeGetContent.dispatch(j,k);if(k.format=="text"){return j.isCollapsed()?"":(l.text||(o.toString?o.toString():""))}if(l.cloneContents){v=l.cloneContents();if(v){u.appendChild(v)}}else{if(d(l.item)||d(l.htmlText)){u.innerHTML="<br>"+(l.item?l.item(0).outerHTML:l.htmlText);u.removeChild(u.firstChild)}else{u.innerHTML=l.toString()}}if(/^\s/.test(u.innerHTML)){m=" "}if(/\s+$/.test(u.innerHTML)){q=" "}k.getInner=true;k.content=j.isCollapsed()?"":m+j.serializer.serialize(u,k)+q;j.onGetContent.dispatch(j,k);return k.content},setContent:function(k,m){var s=this,j=s.getRng(),n,o=s.win.document,r,q;m=m||{format:"html"};m.set=true;k=m.content=k;if(!m.no_events){s.onBeforeSetContent.dispatch(s,m)}k=m.content;if(j.insertNode){k+='<span id="__caret">_</span>';if(j.startContainer==o&&j.endContainer==o){o.body.innerHTML=k}else{j.deleteContents();if(o.body.childNodes.length===0){o.body.innerHTML=k}else{if(j.createContextualFragment){j.insertNode(j.createContextualFragment(k))}else{r=o.createDocumentFragment();q=o.createElement("div");r.appendChild(q);q.outerHTML=k;j.insertNode(r)}}}n=s.dom.get("__caret");j=o.createRange();j.setStartBefore(n);j.setEndBefore(n);s.setRng(j);s.dom.remove("__caret");try{s.setRng(j)}catch(l){}}else{if(j.item){o.execCommand("Delete",false,null);j=s.getRng()}if(/^\s+/.test(k)){j.pasteHTML('<span id="__mce_tmp">_</span>'+k);s.dom.remove("__mce_tmp")}else{j.pasteHTML(k)}}if(!m.no_events){s.onSetContent.dispatch(s,m)}},getStart:function(){var k=this.getRng(),l,j,n,m;if(k.duplicate||k.item){if(k.item){return k.item(0)}n=k.duplicate();n.collapse(1);l=n.parentElement();j=m=k.parentElement();while(m=m.parentNode){if(m==l){l=j;break}}return l}else{l=k.startContainer;if(l.nodeType==1&&l.hasChildNodes()){l=l.childNodes[Math.min(l.childNodes.length-1,k.startOffset)]}if(l&&l.nodeType==3){return l.parentNode}return l}},getEnd:function(){var k=this,l=k.getRng(),m,j;if(l.duplicate||l.item){if(l.item){return l.item(0)}l=l.duplicate();l.collapse(0);m=l.parentElement();if(m&&m.nodeName=="BODY"){return m.lastChild||m}return m}else{m=l.endContainer;j=l.endOffset;if(m.nodeType==1&&m.hasChildNodes()){m=m.childNodes[j>0?j-1:j]}if(m&&m.nodeType==3){return m.parentNode}return m}},getBookmark:function(A,C){var E=this,r=E.dom,k,n,m,s,l,u,v,q="\uFEFF",D;function j(F,G){var t=0;f(r.select(F),function(I,H){if(I==G){t=H}});return t}function B(t){function F(K){var G,J,I,H=K?"start":"end";G=t[H+"Container"];J=t[H+"Offset"];if(G.nodeType==1&&G.nodeName=="TR"){I=G.childNodes;G=I[Math.min(K?J:J-1,I.length-1)];if(G){J=K?0:G.childNodes.length;t["set"+(K?"Start":"End")](G,J)}}}F(true);F();return t}function o(){var F=E.getRng(true),t=r.getRoot(),G={};function H(K,P){var J=K[P?"startContainer":"endContainer"],O=K[P?"startOffset":"endOffset"],I=[],L,N,M=0;if(J.nodeType==3){if(C){for(L=J.previousSibling;L&&L.nodeType==3;L=L.previousSibling){O+=L.nodeValue.length}}I.push(O)}else{N=J.childNodes;if(O>=N.length&&N.length){M=1;O=Math.max(0,N.length-1)}I.push(E.dom.nodeIndex(N[O],C)+M)}for(;J&&J!=t;J=J.parentNode){I.push(E.dom.nodeIndex(J,C))}return I}G.start=H(F,true);if(!E.isCollapsed()){G.end=H(F)}return G}if(A==2){if(E.tridentSel){return E.tridentSel.getBookmark(A)}return o()}if(A){return{rng:E.getRng()}}k=E.getRng();m=r.uniqueId();s=tinyMCE.activeEditor.selection.isCollapsed();D="overflow:hidden;line-height:0px";if(k.duplicate||k.item){if(!k.item){n=k.duplicate();try{k.collapse();k.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_start" style="'+D+'">'+q+"</span>");if(!s){n.collapse(false);k.moveToElementText(n.parentElement());if(k.compareEndPoints("StartToEnd",n)===0){n.move("character",-1)}n.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_end" style="'+D+'">'+q+"</span>")}}catch(z){return null}}else{u=k.item(0);l=u.nodeName;return{name:l,index:j(l,u)}}}else{u=E.getNode();l=u.nodeName;if(l=="IMG"){return{name:l,index:j(l,u)}}n=B(k.cloneRange());if(!s){n.collapse(false);n.insertNode(r.create("span",{"data-mce-type":"bookmark",id:m+"_end",style:D},q))}k=B(k);k.collapse(true);k.insertNode(r.create("span",{"data-mce-type":"bookmark",id:m+"_start",style:D},q))}E.moveToBookmark({id:m,keep:1});return{id:m}},moveToBookmark:function(s){var A=this,q=A.dom,m,l,j,z,n,B,u,v;function k(G){var t=s[G?"start":"end"],D,E,F,C;if(t){F=t[0];for(E=z,D=t.length-1;D>=1;D--){C=E.childNodes;if(t[D]>C.length-1){return}E=C[t[D]]}if(E.nodeType===3){F=Math.min(t[0],E.nodeValue.length)}if(E.nodeType===1){F=Math.min(t[0],E.childNodes.length)}if(G){j.setStart(E,F)}else{j.setEnd(E,F)}}return true}function o(H){var C=q.get(s.id+"_"+H),G,t,E,F,D=s.keep;if(C){G=C.parentNode;if(H=="start"){if(!D){t=q.nodeIndex(C)}else{G=C.firstChild;t=1}n=B=G;u=v=t}else{if(!D){t=q.nodeIndex(C)}else{G=C.firstChild;t=1}B=G;v=t}if(!D){F=C.previousSibling;E=C.nextSibling;f(e.grep(C.childNodes),function(I){if(I.nodeType==3){I.nodeValue=I.nodeValue.replace(/\uFEFF/g,"")}});while(C=q.get(s.id+"_"+H)){q.remove(C,1)}if(F&&E&&F.nodeType==E.nodeType&&F.nodeType==3&&!e.isOpera){t=F.nodeValue.length;F.appendData(E.nodeValue);q.remove(E);if(H=="start"){n=B=F;u=v=t}else{B=F;v=t}}}}}function r(t){if(q.isBlock(t)&&!t.innerHTML&&!c){t.innerHTML='<br data-mce-bogus="1" />'}return t}if(s){if(s.start){j=q.createRng();z=q.getRoot();if(A.tridentSel){return A.tridentSel.moveToBookmark(s)}if(k(true)&&k()){A.setRng(j)}}else{if(s.id){o("start");o("end");if(n){j=q.createRng();j.setStart(r(n),u);j.setEnd(r(B),v);A.setRng(j)}}else{if(s.name){A.select(q.select(s.name)[s.index])}else{if(s.rng){A.setRng(s.rng)}}}}}},select:function(o,n){var m=this,q=m.dom,k=q.createRng(),j;function l(r,t){var s=new b(r,r);do{if(r.nodeType==3&&e.trim(r.nodeValue).length!==0){if(t){k.setStart(r,0)}else{k.setEnd(r,r.nodeValue.length)}return}if(r.nodeName=="BR"){if(t){k.setStartBefore(r)}else{k.setEndBefore(r)}return}}while(r=(t?s.next():s.prev()))}if(o){j=q.nodeIndex(o);k.setStart(o.parentNode,j);k.setEnd(o.parentNode,j+1);if(n){l(o,1);l(o)}m.setRng(k)}return o},isCollapsed:function(){var j=this,l=j.getRng(),k=j.getSel();if(!l||l.item){return false}if(l.compareEndPoints){return l.compareEndPoints("StartToEnd",l)===0}return !k||l.collapsed},collapse:function(j){var l=this,k=l.getRng(),m;if(k.item){m=k.item(0);k=l.win.document.body.createTextRange();k.moveToElementText(m)}k.collapse(!!j);l.setRng(k)},getSel:function(){var k=this,j=this.win;return j.getSelection?j.getSelection():j.document.selection},getRng:function(q){var k=this,m,j,o,n=k.win.document;if(q&&k.tridentSel){return k.tridentSel.getRangeAt(0)}try{if(m=k.getSel()){j=m.rangeCount>0?m.getRangeAt(0):(m.createRange?m.createRange():n.createRange())}}catch(l){}if(e.isIE&&j&&j.setStart&&n.selection.createRange().item){o=n.selection.createRange().item(0);j=n.createRange();j.setStartBefore(o);j.setEndAfter(o)}if(!j){j=n.createRange?n.createRange():n.body.createTextRange()}if(j.setStart&&j.startContainer.nodeType===9&&j.collapsed){o=k.dom.getRoot();j.setStart(o,0);j.setEnd(o,0)}if(k.selectedRange&&k.explicitRange){if(j.compareBoundaryPoints(j.START_TO_START,k.selectedRange)===0&&j.compareBoundaryPoints(j.END_TO_END,k.selectedRange)===0){j=k.explicitRange}else{k.selectedRange=null;k.explicitRange=null}}return j},setRng:function(n,j){var m,l=this;if(!l.tridentSel){m=l.getSel();if(m){l.explicitRange=n;try{m.removeAllRanges()}catch(k){}m.addRange(n);if(j===false&&m.extend){m.collapse(n.endContainer,n.endOffset);m.extend(n.startContainer,n.startOffset)}l.selectedRange=m.rangeCount>0?m.getRangeAt(0):null}}else{if(n.cloneRange){try{l.tridentSel.addRange(n);return}catch(k){}}try{n.select()}catch(k){}}},setNode:function(k){var j=this;j.setContent(j.dom.getOuterHTML(k));return k},getNode:function(){var l=this,k=l.getRng(),m=l.getSel(),q,o=k.startContainer,j=k.endContainer;function n(t,r){var s=t;while(t&&t.nodeType===3&&t.length===0){t=r?t.nextSibling:t.previousSibling}return t||s}if(!k){return l.dom.getRoot()}if(k.setStart){q=k.commonAncestorContainer;if(!k.collapsed){if(k.startContainer==k.endContainer){if(k.endOffset-k.startOffset<2){if(k.startContainer.hasChildNodes()){q=k.startContainer.childNodes[k.startOffset]}}}if(o.nodeType===3&&j.nodeType===3){if(o.length===k.startOffset){o=n(o.nextSibling,true)}else{o=o.parentNode}if(k.endOffset===0){j=n(j.previousSibling,false)}else{j=j.parentNode}if(o&&o===j){return o}}}if(q&&q.nodeType==3){return q.parentNode}return q}return k.item?k.item(0):k.parentElement()},getSelectedBlocks:function(u,k){var s=this,o=s.dom,r,q,l,m=[];r=o.getParent(u||s.getStart(),o.isBlock);q=o.getParent(k||s.getEnd(),o.isBlock);if(r){m.push(r)}if(r&&q&&r!=q){l=r;var j=new b(r,o.getRoot());while((l=j.next())&&l!=q){if(o.isBlock(l)){m.push(l)}}}if(q&&r!=q){m.push(q)}return m},isForward:function(){var l=this.dom,j=this.getSel(),m,k;if(!j||j.anchorNode==null||j.focusNode==null){return true}m=l.createRng();m.setStart(j.anchorNode,j.anchorOffset);m.collapse(true);k=l.createRng();k.setStart(j.focusNode,j.focusOffset);k.collapse(true);return m.compareBoundaryPoints(m.START_TO_START,k)<=0},normalize:function(){var k=this,j,q,o,m,l;function n(t){var s,v,r,z=k.dom,B=z.getRoot(),u,A,C;function E(F,G){var H=new b(F,z.getParent(F.parentNode,z.isBlock)||B);while(F=H[G?"prev":"next"]()){if(F.nodeName==="BR"){return true}}}function D(H,F){var I,G;F=F||s;I=new b(F,z.getParent(F.parentNode,z.isBlock)||B);while(u=I[H?"prev":"next"]()){if(u.nodeType===3&&u.nodeValue.length>0){s=u;v=H?u.nodeValue.length:0;q=true;return}if(z.isBlock(u)||A[u.nodeName.toLowerCase()]){return}G=u}if(o&&G){s=G;q=true;v=0}}s=j[(t?"start":"end")+"Container"];v=j[(t?"start":"end")+"Offset"];A=z.schema.getNonEmptyElements();if(s.nodeType===9){s=z.getRoot();v=0}if(s===B){if(t){u=s.childNodes[v>0?v-1:0];if(u){C=u.nodeName.toLowerCase();if(A[u.nodeName]||u.nodeName=="TABLE"){return}}}if(s.hasChildNodes()){s=s.childNodes[Math.min(!t&&v>0?v-1:v,s.childNodes.length-1)];v=0;if(s.hasChildNodes()&&!/TABLE/.test(s.nodeName)){u=s;r=new b(s,B);do{if(u.nodeType===3&&u.nodeValue.length>0){v=t?0:u.nodeValue.length;s=u;q=true;break}if(A[u.nodeName.toLowerCase()]){v=z.nodeIndex(u);s=u.parentNode;if(u.nodeName=="IMG"&&!t){v++}q=true;break}}while(u=(t?r.next():r.prev()))}}}if(o){if(s.nodeType===3&&v===0){D(true)}if(s.nodeType===1){u=s.childNodes[v];if(u&&u.nodeName==="BR"&&!E(u)&&!E(u,true)){D(true,s.childNodes[v])}}}if(t&&!o&&s.nodeType===3&&v===s.nodeValue.length){D(false)}if(q){j["set"+(t?"Start":"End")](s,v)}}if(e.isIE){return}j=k.getRng();o=j.collapsed;n(true);if(!o){n()}if(q){if(o){j.collapse(true)}k.setRng(j,k.isForward())}},selectorChanged:function(j,m){var k=this,l;if(!k.selectorChangedData){k.selectorChangedData={};l={};k.editor.onNodeChange.addToTop(function(o,n,s){var t=k.dom,q=t.getParents(s,null,t.getRoot()),r={};f(k.selectorChangedData,function(v,u){f(q,function(z){if(t.is(z,u)){if(!l[u]){f(v,function(A){A(true,{node:z,selector:u,parents:q})});l[u]=v}r[u]=v;return false}})});f(l,function(v,u){if(!r[u]){delete l[u];f(v,function(z){z(false,{node:s,selector:u,parents:q})})}})})}if(!k.selectorChangedData[j]){k.selectorChangedData[j]=[]}k.selectorChangedData[j].push(m);return k},destroy:function(k){var j=this;j.win=null;if(!k){e.removeUnload(j.destroy)}},_fixIESelection:function(){var k=this.dom,r=k.doc,l=r.body,n,s,j;function m(t,z){var u=l.createTextRange();try{u.moveToPoint(t,z)}catch(v){u=null}return u}function q(u){var t;if(u.button){t=m(u.x,u.y);if(t){if(t.compareEndPoints("StartToStart",s)>0){t.setEndPoint("StartToStart",s)}else{t.setEndPoint("EndToEnd",s)}t.select()}}else{o()}}function o(){var t=r.selection.createRange();if(s&&!t.item&&t.compareEndPoints("StartToEnd",t)===0){s.select()}k.unbind(r,"mouseup",o);k.unbind(r,"mousemove",q);s=n=0}r.documentElement.unselectable=true;k.bind(r,["mousedown","contextmenu"],function(t){if(t.target.nodeName==="HTML"){if(n){o()}j=r.documentElement;if(j.scrollHeight>j.clientHeight){return}n=1;s=m(t.x,t.y);if(s){k.bind(r,"mouseup",o);k.bind(r,"mousemove",q);k.win.focus();s.select()}}})}})})(tinymce);(function(b){b.dom.Serializer=function(f,l,g){var k,c,e=b.isIE,j=b.each,d;if(!f.apply_source_formatting){f.indent=false}l=l||b.DOM;g=g||new b.html.Schema(f);f.entity_encoding=f.entity_encoding||"named";f.remove_trailing_brs="remove_trailing_brs" in f?f.remove_trailing_brs:true;k=new b.util.Dispatcher(self);c=new b.util.Dispatcher(self);d=new b.html.DomParser(f,g);d.addAttributeFilter("src,href,style",function(n,m){var s=n.length,o,u,r="data-mce-"+m,t=f.url_converter,v=f.url_converter_scope,q;while(s--){o=n[s];u=o.attributes.map[r];if(u!==q){o.attr(m,u.length>0?u:null);o.attr(r,null)}else{u=o.attributes.map[m];if(m==="style"){u=l.serializeStyle(l.parseStyle(u),o.name)}else{if(t){u=t.call(v,u,m,o.name)}}o.attr(m,u.length>0?u:null)}}});d.addAttributeFilter("class",function(m,n){var o=m.length,q,r;while(o--){q=m[o];r=q.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,"");q.attr("class",r.length>0?r:null)}});d.addAttributeFilter("data-mce-type",function(m,o,n){var q=m.length,r;while(q--){r=m[q];if(r.attributes.map["data-mce-type"]==="bookmark"&&!n.cleanup){r.remove()}}});d.addAttributeFilter("data-mce-expando",function(m,o,n){var q=m.length;while(q--){m[q].attr(o,null)}});d.addNodeFilter("script,style",function(n,o){var q=n.length,r,s;function m(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(q--){r=n[q];s=r.firstChild?r.firstChild.value:"";if(o==="script"){r.attr("type",(r.attr("type")||"text/javascript").replace(/^mce\-/,""));if(s.length>0){r.firstChild.value="// <![CDATA[\n"+m(s)+"\n// ]]>"}}else{if(s.length>0){r.firstChild.value="<!--\n"+m(s)+"\n-->"}}}});d.addNodeFilter("#comment",function(m,n){var o=m.length,q;while(o--){q=m[o];if(q.value.indexOf("[CDATA[")===0){q.name="#cdata";q.type=4;q.value=q.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(q.value.indexOf("mce:protected ")===0){q.name="#text";q.type=3;q.raw=true;q.value=unescape(q.value).substr(14)}}}});d.addNodeFilter("xml:namespace,input",function(m,n){var o=m.length,q;while(o--){q=m[o];if(q.type===7){q.remove()}else{if(q.type===1){if(n==="input"&&!("type" in q.attributes.map)){q.attr("type","text")}}}}});if(f.fix_list_elements){d.addNodeFilter("ul,ol",function(n,o){var q=n.length,r,m;while(q--){r=n[q];m=r.parent;if(m.name==="ul"||m.name==="ol"){if(r.prev&&r.prev.name==="li"){r.prev.append(r)}}}})}d.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(m,n){var o=m.length;while(o--){m[o].attr(n,null)}});return{schema:g,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,onPreProcess:k,onPostProcess:c,serialize:function(s,q){var o,t,n,m,r;if(e&&l.select("script,style,select,map").length>0){r=s.innerHTML;s=s.cloneNode(false);l.setHTML(s,r)}else{s=s.cloneNode(true)}o=s.ownerDocument.implementation;if(o.createHTMLDocument){t=o.createHTMLDocument("");j(s.nodeName=="BODY"?s.childNodes:[s],function(u){t.body.appendChild(t.importNode(u,true))});if(s.nodeName!="BODY"){s=t.body.firstChild}else{s=t.body}n=l.doc;l.doc=t}q=q||{};q.format=q.format||"html";if(!q.no_events){q.node=s;k.dispatch(self,q)}m=new b.html.Serializer(f,g);q.content=m.serialize(d.parse(b.trim(q.getInner?s.innerHTML:l.getOuterHTML(s)),q));if(!q.cleanup){q.content=q.content.replace(/\uFEFF|\u200B/g,"")}if(!q.no_events){c.dispatch(self,q)}if(n){l.doc=n}q.node=null;return q.content},addRules:function(m){g.addValidElements(m)},setRules:function(m){g.setValidElements(m)}}}})(tinymce);(function(b){b.dom.ScriptLoader=function(k){var d=0,n=1,l=2,o={},m=[],f={},e=[],j=0,g;function c(q,C){var D=this,v=b.DOM,A,s,z,r;function u(){v.remove(r);if(A){A.onreadystatechange=A.onload=A=null}C()}function B(){if(typeof(console)!=="undefined"&&console.log){console.log("Failed to load: "+q)}}r=v.uniqueId();if(b.isIE6){s=new b.util.URI(q);z=location;if(s.host==z.hostname&&s.port==z.port&&(s.protocol+":")==z.protocol&&s.protocol.toLowerCase()!="file"){b.util.XHR.send({url:b._addVer(s.getURI()),success:function(E){var t=v.create("script",{type:"text/javascript"});t.text=E;document.getElementsByTagName("head")[0].appendChild(t);v.remove(t);u()},error:B});return}}A=document.createElement("script");A.id=r;A.type="text/javascript";A.src=b._addVer(q);if(!b.isIE){A.onload=u}A.onerror=B;if(!b.isOpera){A.onreadystatechange=function(){var t=A.readyState;if(t=="complete"||t=="loaded"){u()}}}(document.getElementsByTagName("head")[0]||document.body).appendChild(A)}this.isDone=function(q){return o[q]==l};this.markDone=function(q){o[q]=l};this.add=this.load=function(q,u,r){var s,t=o[q];if(t==g){m.push(q);o[q]=d}if(u){if(!f[q]){f[q]=[]}f[q].push({func:u,scope:r||this})}};this.loadQueue=function(r,q){this.loadScripts(m,r,q)};this.loadScripts=function(q,u,t){var s;function r(v){b.each(f[v],function(z){z.func.call(z.scope)});f[v]=g}e.push({func:u,scope:t||this});s=function(){var v=b.grep(q);q.length=0;b.each(v,function(z){if(o[z]==l){r(z);return}if(o[z]!=n){o[z]=n;j++;c(z,function(){o[z]=l;j--;r(z);s()})}});if(!j){b.each(e,function(z){z.func.call(z.scope)});e.length=0}};s()}};b.ScriptLoader=new b.dom.ScriptLoader()})(tinymce);(function(b){b.dom.RangeUtils=function(d){var c="\uFEFF";this.walk=function(e,z){var l=e.startContainer,o=e.startOffset,A=e.endContainer,q=e.endOffset,m,j,s,k,v,u,f;f=d.select("td.mceSelected,th.mceSelected");if(f.length>0){b.each(f,function(B){z([B])});return}function g(B){var C;C=B[0];if(C.nodeType===3&&C===l&&o>=C.nodeValue.length){B.splice(0,1)}C=B[B.length-1];if(q===0&&B.length>0&&C===A&&C.nodeType===3){B.splice(B.length-1,1)}return B}function t(D,C,B){var E=[];for(;D&&D!=B;D=D[C]){E.push(D)}return E}function r(C,B){do{if(C.parentNode==B){return C}C=C.parentNode}while(C)}function n(D,C,E){var B=E?"nextSibling":"previousSibling";for(k=D,v=k.parentNode;k&&k!=C;k=v){v=k.parentNode;u=t(k==D?k:k[B],B);if(u.length){if(!E){u.reverse()}z(g(u))}}}if(l.nodeType==1&&l.hasChildNodes()){l=l.childNodes[o]}if(A.nodeType==1&&A.hasChildNodes()){A=A.childNodes[Math.min(q-1,A.childNodes.length-1)]}if(l==A){return z(g([l]))}m=d.findCommonAncestor(l,A);for(k=l;k;k=k.parentNode){if(k===A){return n(l,m,true)}if(k===m){break}}for(k=A;k;k=k.parentNode){if(k===l){return n(A,m)}if(k===m){break}}j=r(l,m)||l;s=r(A,m)||A;n(l,j,true);u=t(j==l?j:j.nextSibling,"nextSibling",s==A?s.nextSibling:s);if(u.length){z(g(u))}n(A,s)};this.split=function(f){var k=f.startContainer,e=f.startOffset,l=f.endContainer,j=f.endOffset;function g(m,n){return m.splitText(n)}if(k==l&&k.nodeType==3){if(e>0&&e<k.nodeValue.length){l=g(k,e);k=l.previousSibling;if(j>e){j=j-e;k=l=g(l,j).previousSibling;j=l.nodeValue.length;e=0}else{j=0}}}else{if(k.nodeType==3&&e>0&&e<k.nodeValue.length){k=g(k,e);e=0}if(l.nodeType==3&&j>0&&j<l.nodeValue.length){l=g(l,j).previousSibling;j=l.nodeValue.length}}return{startContainer:k,startOffset:e,endContainer:l,endOffset:j}}};b.dom.RangeUtils.compareRanges=function(d,c){if(d&&c){if(d.item||d.duplicate){if(d.item&&c.item&&d.item(0)===c.item(0)){return true}if(d.isEqual&&c.isEqual&&c.isEqual(d)){return true}}else{return d.startContainer==c.startContainer&&d.startOffset==c.startOffset}}return false}})(tinymce);(function(c){var b=c.dom.Event,d=c.each;c.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(f,g){var v=this,r=f.root,q=f.items,s=f.enableUpDown,l=f.enableLeftRight||!f.enableUpDown,o=f.excludeFromTabOrder,n,k,u,e,j;g=g||c.DOM;n=function(t){j=t.target.id};k=function(t){g.setAttrib(t.target.id,"tabindex","-1")};e=function(t){var z=g.get(j);g.setAttrib(z,"tabindex","0");z.focus()};v.focus=function(){g.get(j).focus()};v.destroy=function(){d(q,function(z){var A=g.get(z.id);g.unbind(A,"focus",n);g.unbind(A,"blur",k)});var t=g.get(r);g.unbind(t,"focus",e);g.unbind(t,"keydown",u);q=g=r=v.focus=n=k=u=e=null;v.destroy=function(){}};v.moveFocus=function(C,z){var t=-1,B=v.controls,A;if(!j){return}d(q,function(E,D){if(E.id===j){t=D;return false}});t+=C;if(t<0){t=q.length-1}else{if(t>=q.length){t=0}}A=q[t];g.setAttrib(j,"tabindex","-1");g.setAttrib(A.id,"tabindex","0");g.get(A.id).focus();if(f.actOnFocus){f.onAction(A.id)}if(z){b.cancel(z)}};u=function(F){var C=37,B=39,E=38,G=40,t=27,A=14,z=13,D=32;switch(F.keyCode){case C:if(l){v.moveFocus(-1)}break;case B:if(l){v.moveFocus(1)}break;case E:if(s){v.moveFocus(-1)}break;case G:if(s){v.moveFocus(1)}break;case t:if(f.onCancel){f.onCancel();b.cancel(F)}break;case A:case z:case D:if(f.onAction){f.onAction(j);b.cancel(F)}break}};d(q,function(A,t){var z,B;if(!A.id){A.id=g.uniqueId("_mce_item_")}B=g.get(A.id);if(o){g.bind(B,"blur",k);z="-1"}else{z=(t===0?"0":"-1")}B.setAttribute("tabindex",z);g.bind(B,"focus",n)});if(q[0]){j=q[0].id}g.setAttrib(r,"tabindex","-1");var m=g.get(r);g.bind(m,"focus",e);g.bind(m,"keydown",u)}})})(tinymce);(function(d){var c=d.DOM,b=d.is;d.create("tinymce.ui.Control",{Control:function(g,f,e){this.id=g;this.settings=f=f||{};this.rendered=false;this.onRender=new d.util.Dispatcher(this);this.classPrefix="";this.scope=f.scope||this;this.disabled=0;this.active=0;this.editor=e},setAriaProperty:function(g,f){var e=c.get(this.id+"_aria")||c.get(this.id);if(e){c.setAttrib(e,"aria-"+g,!!f)}},focus:function(){c.get(this.id).focus()},setDisabled:function(e){if(e!=this.disabled){this.setAriaProperty("disabled",e);this.setState("Disabled",e);this.setState("Enabled",!e);this.disabled=e}},isDisabled:function(){return this.disabled},setActive:function(e){if(e!=this.active){this.setState("Active",e);this.active=e;this.setAriaProperty("pressed",e)}},isActive:function(){return this.active},setState:function(g,e){var f=c.get(this.id);g=this.classPrefix+g;if(e){c.addClass(f,g)}else{c.removeClass(f,g)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){c.setHTML(e,this.renderHTML())},postRender:function(){var f=this,e;if(b(f.disabled)){e=f.disabled;f.disabled=-1;f.setDisabled(e)}if(b(f.active)){e=f.active;f.active=-1;f.setActive(e)}},remove:function(){c.remove(this.id);this.destroy()},destroy:function(){d.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(d,c,b){this.parent(d,c,b);this.controls=[];this.lookup={}},add:function(b){this.lookup[b.id]=b;this.controls.push(b);return b},get:function(b){return this.lookup[b]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(c,b){this.parent(c,b);this.classPrefix="mceSeparator";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});(function(e){var d=e.is,c=e.DOM,f=e.each,b=e.walk;e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(j,g){this.parent(j,g);this.classPrefix="mceMenuItem"},setSelected:function(g){this.setState("Selected",g);this.setAriaProperty("checked",!!g);this.selected=g},isSelected:function(){return this.selected},postRender:function(){var g=this;g.parent();if(d(g.selected)){g.setSelected(g.selected)}}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,b=e.walk;e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(k,j){var g=this;g.parent(k,j);g.items={};g.collapsed=false;g.menuCount=0;g.onAddItem=new e.util.Dispatcher(this)},expand:function(j){var g=this;if(j){b(g,function(k){if(k.expand){k.expand()}},"items",g)}g.collapsed=false},collapse:function(j){var g=this;if(j){b(g,function(k){if(k.collapse){k.collapse()}},"items",g)}g.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(g){if(!g.settings){g=new e.ui.MenuItem(g.id||c.uniqueId(),g)}this.onAddItem.dispatch(this,g);return this.items[g.id]=g},addSeparator:function(){return this.add({separator:true})},addMenu:function(g){if(!g.collapse){g=this.createMenu(g)}this.menuCount++;return this.add(g)},hasMenus:function(){return this.menuCount!==0},remove:function(g){delete this.items[g.id]},removeAll:function(){var g=this;b(g,function(j){if(j.removeAll){j.removeAll()}else{j.remove()}j.destroy()},"items",g);g.items={}},createMenu:function(j){var g=new e.ui.Menu(j.id||c.uniqueId(),j);g.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return g}})})(tinymce);(function(f){var e=f.is,d=f.DOM,g=f.each,b=f.dom.Event,c=f.dom.Element;f.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(k,j){j=j||{};j.container=j.container||d.doc.body;j.offset_x=j.offset_x||0;j.offset_y=j.offset_y||0;j.vp_offset_x=j.vp_offset_x||0;j.vp_offset_y=j.vp_offset_y||0;if(e(j.icons)&&!j.icons){j["class"]+=" mceNoIcons"}this.parent(k,j);this.onShowMenu=new f.util.Dispatcher(this);this.onHideMenu=new f.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(n){var k=this,l=k.settings,j;n.container=n.container||l.container;n.parent=k;n.constrain=n.constrain||l.constrain;n["class"]=n["class"]||l["class"];n.vp_offset_x=n.vp_offset_x||l.vp_offset_x;n.vp_offset_y=n.vp_offset_y||l.vp_offset_y;n.keyboard_focus=l.keyboard_focus;j=new f.ui.DropMenu(n.id||d.uniqueId(),n);j.onAddItem.add(k.onAddItem.dispatch,k.onAddItem);return j},focus:function(){var j=this;if(j.keyboardNav){j.keyboardNav.focus()}},update:function(){var l=this,m=l.settings,j=d.get("menu_"+l.id+"_tbl"),o=d.get("menu_"+l.id+"_co"),k,n;k=m.max_width?Math.min(j.offsetWidth,m.max_width):j.offsetWidth;n=m.max_height?Math.min(j.offsetHeight,m.max_height):j.offsetHeight;if(!d.boxModel){l.element.setStyles({width:k+2,height:n+2})}else{l.element.setStyles({width:k,height:n})}if(m.max_width){d.setStyle(o,"width",k)}if(m.max_height){d.setStyle(o,"height",n);if(j.clientHeight<m.max_height){d.setStyle(o,"overflow","hidden")}}},showMenu:function(u,q,z){var C=this,D=C.settings,r,j=d.getViewPort(),A,n,B,v,k=2,m,l,o=C.classPrefix;C.collapse(1);if(C.isMenuVisible){return}if(!C.rendered){r=d.add(C.settings.container,C.renderNode());g(C.items,function(s){s.postRender()});C.element=new c("menu_"+C.id,{blocker:1,container:D.container})}else{r=d.get("menu_"+C.id)}if(!f.isOpera){d.setStyles(r,{left:-65535,top:-65535})}d.show(r);C.update();u+=D.offset_x||0;q+=D.offset_y||0;j.w-=4;j.h-=4;if(D.constrain){A=r.clientWidth-k;n=r.clientHeight-k;B=j.x+j.w;v=j.y+j.h;if((u+D.vp_offset_x+A)>B){u=z?z-A:Math.max(0,(B-D.vp_offset_x)-A)}if((q+D.vp_offset_y+n)>v){q=Math.max(0,(v-D.vp_offset_y)-n)}}d.setStyles(r,{left:u,top:q});C.element.update();C.isMenuVisible=1;C.mouseClickFunc=b.add(r,"click",function(t){var s;t=t.target;if(t&&(t=d.getParent(t,"tr"))&&!d.hasClass(t,o+"ItemSub")){s=C.items[t.id];if(s.isDisabled()){return}m=C;while(m){if(m.hideMenu){m.hideMenu()}m=m.settings.parent}if(s.settings.onclick){s.settings.onclick(t)}return false}});if(C.hasMenus()){C.mouseOverFunc=b.add(r,"mouseover",function(F){var s,E,t;F=F.target;if(F&&(F=d.getParent(F,"tr"))){s=C.items[F.id];if(C.lastMenu){C.lastMenu.collapse(1)}if(s.isDisabled()){return}if(F&&d.hasClass(F,o+"ItemSub")){E=d.getRect(F);s.showMenu((E.x+E.w-k),E.y-k,E.x);C.lastMenu=s;d.addClass(d.get(s.id).firstChild,o+"ItemActive")}}})}b.add(r,"keydown",C._keyHandler,C);C.onShowMenu.dispatch(C);if(D.keyboard_focus){C._setupKeyboardNav()}},hideMenu:function(m){var j=this,l=d.get("menu_"+j.id),k;if(!j.isMenuVisible){return}if(j.keyboardNav){j.keyboardNav.destroy()}b.remove(l,"mouseover",j.mouseOverFunc);b.remove(l,"click",j.mouseClickFunc);b.remove(l,"keydown",j._keyHandler);d.hide(l);j.isMenuVisible=0;if(!m){j.collapse(1)}if(j.element){j.element.hide()}if(k=d.get(j.id)){d.removeClass(k.firstChild,j.classPrefix+"ItemActive")}j.onHideMenu.dispatch(j)},add:function(l){var j=this,k;l=j.parent(l);if(j.isRendered&&(k=d.get("menu_"+j.id))){j._add(d.select("tbody",k)[0],l)}return l},collapse:function(j){this.parent(j);this.hideMenu(1)},remove:function(j){d.remove(j.id);this.destroy();return this.parent(j)},destroy:function(){var j=this,k=d.get("menu_"+j.id);if(j.keyboardNav){j.keyboardNav.destroy()}b.remove(k,"mouseover",j.mouseOverFunc);b.remove(d.select("a",k),"focus",j.mouseOverFunc);b.remove(k,"click",j.mouseClickFunc);b.remove(k,"keydown",j._keyHandler);if(j.element){j.element.remove()}d.remove(k)},renderNode:function(){var l=this,m=l.settings,q,k,o,j;j=d.create("div",{role:"listbox",id:"menu_"+l.id,"class":m["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});if(l.settings.parent){d.setAttrib(j,"aria-parent","menu_"+l.settings.parent.id)}o=d.add(j,"div",{role:"presentation",id:"menu_"+l.id+"_co","class":l.classPrefix+(m["class"]?" "+m["class"]:"")});l.element=new c("menu_"+l.id,{blocker:1,container:m.container});if(m.menu_line){d.add(o,"span",{"class":l.classPrefix+"Line"})}q=d.add(o,"table",{role:"presentation",id:"menu_"+l.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});k=d.add(q,"tbody");g(l.items,function(n){l._add(k,n)});l.rendered=true;return j},_setupKeyboardNav:function(){var l,k,j=this;l=d.get("menu_"+j.id);k=d.select("a[role=option]","menu_"+j.id);k.splice(0,0,l);j.keyboardNav=new f.ui.KeyboardNavigation({root:"menu_"+j.id,items:k,onCancel:function(){j.hideMenu()},enableUpDown:true});l.focus()},_keyHandler:function(j){var k=this,l;switch(j.keyCode){case 37:if(k.settings.parent){k.hideMenu();k.settings.parent.focus();b.cancel(j)}break;case 39:if(k.mouseOverFunc){k.mouseOverFunc(j)}break}},_add:function(m,k){var l,v=k.settings,u,r,q,t=this.classPrefix,j;if(v.separator){r=d.add(m,"tr",{id:k.id,"class":t+"ItemSeparator"});d.add(r,"td",{"class":t+"ItemSeparator"});if(l=r.previousSibling){d.addClass(l,"mceLast")}return}l=r=d.add(m,"tr",{id:k.id,"class":t+"Item "+t+"ItemEnabled"});l=q=d.add(l,v.titleItem?"th":"td");l=u=d.add(l,"a",{id:k.id+"_aria",role:v.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});if(v.parent){d.setAttrib(u,"aria-haspopup","true");d.setAttrib(u,"aria-owns","menu_"+k.id)}d.addClass(q,v["class"]);j=d.add(l,"span",{"class":"mceIcon"+(v.icon?" mce_"+v.icon:"")});if(v.icon_src){d.add(j,"img",{src:v.icon_src})}l=d.add(l,v.element||"span",{"class":"mceText",title:k.settings.title},k.settings.title);if(k.settings.style){if(typeof k.settings.style=="function"){k.settings.style=k.settings.style()}d.setAttrib(l,"style",k.settings.style)}if(m.childNodes.length==1){d.addClass(r,"mceFirst")}if((l=r.previousSibling)&&d.hasClass(l,t+"ItemSeparator")){d.addClass(r,"mceFirst")}if(k.collapse){d.addClass(r,t+"ItemSub")}if(l=r.previousSibling){d.removeClass(l,"mceLast")}d.addClass(r,"mceLast")}})})(tinymce);(function(c){var b=c.DOM;c.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(f,e,d){this.parent(f,e,d);this.classPrefix="mceButton"},renderHTML:function(){var g=this.classPrefix,f=this.settings,e,d;d=b.encode(f.label||"");e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+g+" "+g+"Enabled "+f["class"]+(d?" "+g+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+b.encode(f.title)+'">';if(f.image&&!(this.editor&&this.editor.forcedHighContrastMode)){e+='<img class="mceIcon" src="'+f.image+'" alt="'+b.encode(f.title)+'" />'+d}else{e+='<span class="mceIcon '+f["class"]+'"></span>'+(d?'<span class="'+g+'Label">'+d+"</span>":"")}e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+f.title+"</span>";e+="</a>";return e},postRender:function(){var e=this,f=e.settings,d;if(c.isIE&&e.editor){c.dom.Event.add(e.id,"mousedown",function(g){var j=e.editor.selection.getNode().nodeName;d=j==="IMG"?e.editor.selection.getBookmark():null})}c.dom.Event.add(e.id,"click",function(g){if(!e.isDisabled()){if(c.isIE&&e.editor&&d!==null){e.editor.selection.moveToBookmark(d)}return f.onclick.call(f.scope,g)}});c.dom.Event.add(e.id,"keyup",function(g){if(!e.isDisabled()&&g.keyCode==c.VK.SPACEBAR){return f.onclick.call(f.scope,g)}})}})})(tinymce);(function(f){var e=f.DOM,c=f.dom.Event,g=f.each,b=f.util.Dispatcher,d;f.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(m,l,j){var k=this;k.parent(m,l,j);k.items=[];k.onChange=new b(k);k.onPostRender=new b(k);k.onAdd=new b(k);k.onRenderMenu=new f.util.Dispatcher(this);k.classPrefix="mceListBox";k.marked={}},select:function(k){var j=this,m,l;j.marked={};if(k==d){return j.selectByIndex(-1)}if(k&&typeof(k)=="function"){l=k}else{l=function(n){return n==k}}if(k!=j.selectedValue){g(j.items,function(q,n){if(l(q.value)){m=1;j.selectByIndex(n);return false}});if(!m){j.selectByIndex(-1)}}},selectByIndex:function(j){var l=this,m,n,k;l.marked={};if(j!=l.selectedIndex){m=e.get(l.id+"_text");k=e.get(l.id+"_voiceDesc");n=l.items[j];if(n){l.selectedValue=n.value;l.selectedIndex=j;e.setHTML(m,e.encode(n.title));e.setHTML(k,l.settings.title+" - "+n.title);e.removeClass(m,"mceTitle");e.setAttrib(l.id,"aria-valuenow",n.title)}else{e.setHTML(m,e.encode(l.settings.title));e.setHTML(k,e.encode(l.settings.title));e.addClass(m,"mceTitle");l.selectedValue=l.selectedIndex=null;e.setAttrib(l.id,"aria-valuenow",l.settings.title)}m=0}},mark:function(j){this.marked[j]=true},add:function(m,j,l){var k=this;l=l||{};l=f.extend(l,{title:m,value:j});k.items.push(l);k.onAdd.dispatch(k,l)},getLength:function(){return this.items.length},renderHTML:function(){var l="",j=this,k=j.settings,m=j.classPrefix;l='<span role="listbox" aria-haspopup="true" aria-labelledby="'+j.id+'_voiceDesc" aria-describedby="'+j.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+j.id+'" cellpadding="0" cellspacing="0" class="'+m+" "+m+"Enabled"+(k["class"]?(" "+k["class"]):"")+'"><tbody><tr>';l+="<td>"+e.createHTML("span",{id:j.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},j.settings.title);l+=e.createHTML("a",{id:j.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},e.encode(j.settings.title))+"</td>";l+="<td>"+e.createHTML("a",{id:j.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span></span>')+"</td>";l+="</tr></tbody></table></span>";return l},showMenu:function(){var k=this,n,l=e.get(this.id),j;if(k.isDisabled()||k.items.length===0){return}if(k.menu&&k.menu.isMenuVisible){return k.hideMenu()}if(!k.isMenuRendered){k.renderMenu();k.isMenuRendered=true}n=e.getPos(l);j=k.menu;j.settings.offset_x=n.x;j.settings.offset_y=n.y;j.settings.keyboard_focus=!f.isOpera;g(k.items,function(m){if(j.items[m.id]){j.items[m.id].setSelected(0)}});g(k.items,function(m){if(j.items[m.id]&&k.marked[m.value]){j.items[m.id].setSelected(1)}if(m.value===k.selectedValue){j.items[m.id].setSelected(1)}});j.showMenu(0,l.clientHeight);c.add(e.doc,"mousedown",k.hideMenu,k);e.addClass(k.id,k.classPrefix+"Selected")},hideMenu:function(k){var j=this;if(j.menu&&j.menu.isMenuVisible){e.removeClass(j.id,j.classPrefix+"Selected");if(k&&k.type=="mousedown"&&(k.target.id==j.id+"_text"||k.target.id==j.id+"_open")){return}if(!k||!e.getParent(k.target,".mceMenu")){e.removeClass(j.id,j.classPrefix+"Selected");c.remove(e.doc,"mousedown",j.hideMenu,j);j.menu.hideMenu()}}},renderMenu:function(){var k=this,j;j=k.settings.control_manager.createDropMenu(k.id+"_menu",{menu_line:1,"class":k.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150});j.onHideMenu.add(function(){k.hideMenu();k.focus()});j.add({title:k.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(k.settings.onselect("")!==false){k.select("")}}});g(k.items,function(l){if(l.value===d){j.add({title:l.title,role:"option","class":"mceMenuItemTitle",onclick:function(){if(k.settings.onselect("")!==false){k.select("")}}})}else{l.id=e.uniqueId();l.role="option";l.onclick=function(){if(k.settings.onselect(l.value)!==false){k.select(l.value)}};j.add(l)}});k.onRenderMenu.dispatch(k,j);k.menu=j},postRender:function(){var j=this,k=j.classPrefix;c.add(j.id,"click",j.showMenu,j);c.add(j.id,"keydown",function(l){if(l.keyCode==32){j.showMenu(l);c.cancel(l)}});c.add(j.id,"focus",function(){if(!j._focused){j.keyDownHandler=c.add(j.id,"keydown",function(l){if(l.keyCode==40){j.showMenu();c.cancel(l)}});j.keyPressHandler=c.add(j.id,"keypress",function(m){var l;if(m.keyCode==13){l=j.selectedValue;j.selectedValue=null;c.cancel(m);j.settings.onselect(l)}})}j._focused=1});c.add(j.id,"blur",function(){c.remove(j.id,"keydown",j.keyDownHandler);c.remove(j.id,"keypress",j.keyPressHandler);j._focused=0});if(f.isIE6||!e.boxModel){c.add(j.id,"mouseover",function(){if(!e.hasClass(j.id,k+"Disabled")){e.addClass(j.id,k+"Hover")}});c.add(j.id,"mouseout",function(){if(!e.hasClass(j.id,k+"Disabled")){e.removeClass(j.id,k+"Hover")}})}j.onPostRender.dispatch(j,e.get(j.id))},destroy:function(){this.parent();c.clear(this.id+"_text");c.clear(this.id+"_open")}})})(tinymce);(function(f){var e=f.DOM,c=f.dom.Event,g=f.each,b=f.util.Dispatcher,d;f.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(k,j){this.parent(k,j);this.classPrefix="mceNativeListBox"},setDisabled:function(j){e.get(this.id).disabled=j;this.setAriaProperty("disabled",j)},isDisabled:function(){return e.get(this.id).disabled},select:function(k){var j=this,m,l;if(k==d){return j.selectByIndex(-1)}if(k&&typeof(k)=="function"){l=k}else{l=function(n){return n==k}}if(k!=j.selectedValue){g(j.items,function(q,n){if(l(q.value)){m=1;j.selectByIndex(n);return false}});if(!m){j.selectByIndex(-1)}}},selectByIndex:function(j){e.get(this.id).selectedIndex=j+1;this.selectedValue=this.items[j]?this.items[j].value:null},add:function(q,k,j){var m,l=this;j=j||{};j.value=k;if(l.isRendered()){e.add(e.get(this.id),"option",j,q)}m={title:q,value:k,attribs:j};l.items.push(m);l.onAdd.dispatch(l,m)},getLength:function(){return this.items.length},renderHTML:function(){var k,j=this;k=e.createHTML("option",{value:""},"-- "+j.settings.title+" --");g(j.items,function(l){k+=e.createHTML("option",{value:l.value},l.title)});k=e.createHTML("select",{id:j.id,"class":"mceNativeListBox","aria-labelledby":j.id+"_aria"},k);k+=e.createHTML("span",{id:j.id+"_aria",style:"display: none"},j.settings.title);return k},postRender:function(){var k=this,l,m=true;k.rendered=true;function j(o){var n=k.items[o.target.selectedIndex-1];if(n&&(n=n.value)){k.onChange.dispatch(k,n);if(k.settings.onselect){k.settings.onselect(n)}}}c.add(k.id,"change",j);c.add(k.id,"keydown",function(o){var n;c.remove(k.id,"change",l);m=false;n=c.add(k.id,"blur",function(){if(m){return}m=true;c.add(k.id,"change",j);c.remove(k.id,"blur",n)});if(f.isWebKit&&(o.keyCode==37||o.keyCode==39)){return c.prevent(o)}if(o.keyCode==13||o.keyCode==32){j(o);return c.cancel(o)}});k.onPostRender.dispatch(k,e.get(k.id))}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each;d.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(j,g,f){this.parent(j,g,f);this.onRenderMenu=new d.util.Dispatcher(this);g.menu_container=g.menu_container||c.doc.body},showMenu:function(){var g=this,l,k,j=c.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}l=c.getPos(g.settings.menu_container);k=c.getPos(j);f=g.menu;f.settings.offset_x=k.x;f.settings.offset_y=k.y;f.settings.vp_offset_x=k.x;f.settings.vp_offset_y=k.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,j.firstChild.clientHeight);b.add(c.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:g.settings.icons});f.onHideMenu.add(function(){g.hideMenu();g.focus()});g.onRenderMenu.dispatch(g,f);g.menu=f},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&c.getParent(g.target,function(j){return j.id===f.id||j.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceMenu")){f.setState("Selected",0);b.remove(c.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var f=this,g=f.settings;b.add(f.id,"click",function(){if(!f.isDisabled()){if(g.onclick){g.onclick(f.value)}f.showMenu()}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each;d.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(j,g,f){this.parent(j,g,f);this.classPrefix="mceSplitButton"},renderHTML:function(){var k,g=this,j=g.settings,f;k="<tbody><tr>";if(j.image){f=c.createHTML("img ",{src:j.image,role:"presentation","class":"mceAction "+j["class"]})}else{f=c.createHTML("span",{"class":"mceAction "+j["class"]},"")}f+=c.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:g.id+"_voice",style:"display:none;"},j.title);k+="<td >"+c.createHTML("a",{role:"button",id:g.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+j["class"],onclick:"return false;",onmousedown:"return false;",title:j.title},f)+"</td>";f=c.createHTML("span",{"class":"mceOpen "+j["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span>');k+="<td >"+c.createHTML("a",{role:"button",id:g.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+j["class"],onclick:"return false;",onmousedown:"return false;",title:j.title},f)+"</td>";k+="</tr></tbody>";k=c.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+j["class"],cellpadding:"0",cellspacing:"0",title:j.title},k);return c.createHTML("div",{id:g.id,role:"button",tabindex:"0","aria-labelledby":g.id+"_voice","aria-haspopup":"true"},k)},postRender:function(){var f=this,j=f.settings,g;if(j.onclick){g=function(k){if(!f.isDisabled()){j.onclick(f.value);b.cancel(k)}};b.add(f.id+"_action","click",g);b.add(f.id,["click","keydown"],function(k){var n=32,q=14,l=13,m=38,o=40;if((k.keyCode===32||k.keyCode===13||k.keyCode===14)&&!k.altKey&&!k.ctrlKey&&!k.metaKey){g();b.cancel(k)}else{if(k.type==="click"||k.keyCode===o){f.showMenu();b.cancel(k)}}})}b.add(f.id+"_open","click",function(k){f.showMenu();b.cancel(k)});b.add([f.id,f.id+"_open"],"focus",function(){f._focused=1});b.add([f.id,f.id+"_open"],"blur",function(){f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,"mouseover",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.addClass(f.id,"mceSplitButtonHover")}});b.add(f.id,"mouseout",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.removeClass(f.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();b.clear(this.id+"_action");b.clear(this.id+"_open");b.clear(this.id)}})})(tinymce);(function(e){var d=e.DOM,b=e.dom.Event,c=e.is,f=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(l,k,g){var j=this;j.parent(l,k,g);j.settings=k=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},j.settings);j.onShowMenu=new e.util.Dispatcher(j);j.onHideMenu=new e.util.Dispatcher(j);j.value=k.default_color},showMenu:function(){var g=this,j,m,l,k;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}l=d.get(g.id);d.show(g.id+"_menu");d.addClass(l,"mceSplitButtonSelected");k=d.getPos(l);d.setStyles(g.id+"_menu",{left:k.x,top:k.y+l.firstChild.clientHeight,zIndex:200000});l=0;b.add(d.doc,"mousedown",g.hideMenu,g);g.onShowMenu.dispatch(g);if(g._focused){g._keyHandler=b.add(g.id+"_menu","keydown",function(n){if(n.keyCode==27){g.hideMenu()}});d.select("a",g.id+"_menu")[0].focus()}g.isMenuVisible=1},hideMenu:function(j){var g=this;if(g.isMenuVisible){if(j&&j.type=="mousedown"&&d.getParent(j.target,function(k){return k.id===g.id+"_open"})){return}if(!j||!d.getParent(j.target,".mceSplitButtonMenu")){d.removeClass(g.id,"mceSplitButtonSelected");b.remove(d.doc,"mousedown",g.hideMenu,g);b.remove(g.id+"_menu","keydown",g._keyHandler);d.hide(g.id+"_menu")}g.isMenuVisible=0;g.onHideMenu.dispatch()}},renderMenu:function(){var u=this,k,o=0,v=u.settings,j,l,q,r,g;r=d.add(v.menu_container,"div",{role:"listbox",id:u.id+"_menu","class":v.menu_class+" "+v["class"],style:"position:absolute;left:0;top:-1000px;"});k=d.add(r,"div",{"class":v["class"]+" mceSplitButtonMenu"});d.add(k,"span",{"class":"mceMenuLine"});j=d.add(k,"table",{role:"presentation","class":"mceColorSplitMenu"});l=d.add(j,"tbody");o=0;f(c(v.colors,"array")?v.colors:v.colors.split(","),function(n){n=n.replace(/^#/,"");if(!o--){q=d.add(l,"tr");o=v.grid_width-1}j=d.add(q,"td");var m={href:"javascript:;",style:{backgroundColor:"#"+n},title:u.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};if(!e.isIE){m.role="option"}j=d.add(j,"a",m);if(u.editor.forcedHighContrastMode){j=d.add(j,"canvas",{width:16,height:16,"aria-hidden":"true"});if(j.getContext&&(g=j.getContext("2d"))){g.fillStyle="#"+n;g.fillRect(0,0,16,16)}else{d.remove(j)}}});if(v.more_colors_func){j=d.add(l,"tr");j=d.add(j,"td",{colspan:v.grid_width,"class":"mceMoreColors"});j=d.add(j,"a",{role:"option",id:u.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},v.more_colors_title);b.add(j,"click",function(m){v.more_colors_func.call(v.more_colors_scope||this);return b.cancel(m)})}d.addClass(k,"mceColorSplitMenu");new e.ui.KeyboardNavigation({root:u.id+"_menu",items:d.select("a",u.id+"_menu"),onCancel:function(){u.hideMenu();u.focus()}});b.add(u.id+"_menu","mousedown",function(m){return b.cancel(m)});b.add(u.id+"_menu","click",function(m){var n;m=d.getParent(m.target,"a",l);if(m&&m.nodeName.toLowerCase()=="a"&&(n=m.getAttribute("data-mce-color"))){u.setColor(n)}return false});return r},setColor:function(g){this.displayColor(g);this.hideMenu();this.settings.onselect(g)},displayColor:function(j){var g=this;d.setStyle(g.id+"_preview","backgroundColor",j);g.value=j},postRender:function(){var g=this,j=g.id;g.parent();d.add(j+"_action","div",{id:j+"_preview","class":"mceColorPreview"});d.setStyle(g.id+"_preview","backgroundColor",g.value)},destroy:function(){this.parent();b.clear(this.id+"_menu");b.clear(this.id+"_more");d.remove(this.id+"_menu")}})})(tinymce);(function(c){var e=c.DOM,d=c.each,b=c.dom.Event;c.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var g=this,k=[],f=g.controls,l=c.each,j=g.settings;k.push('<div id="'+g.id+'" role="group" aria-labelledby="'+g.id+'_voice">');k.push("<span role='application'>");k.push('<span id="'+g.id+'_voice" class="mceVoiceLabel" style="display:none;">'+e.encode(j.name)+"</span>");l(f,function(m){k.push(m.renderHTML())});k.push("</span>");k.push("</div>");return k.join("")},focus:function(){var f=this;e.get(f.id).focus()},postRender:function(){var g=this,f=[];d(g.controls,function(j){d(j.controls,function(k){if(k.id){f.push(k)}})});g.keyNav=new c.ui.KeyboardNavigation({root:g.id,items:f,onCancel:function(){if(c.isWebKit){e.get(g.editor.id+"_ifr").focus()}g.editor.focus()},excludeFromTabOrder:!g.settings.tab_focus_toolbar})},destroy:function(){var f=this;f.parent();f.keyNav.destroy();b.clear(f.id)}})})(tinymce);(function(b){var d=b.DOM,c=b.each;b.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var n=this,g="",k,l,o=n.settings,f,e,j,m;m=n.controls;for(f=0;f<m.length;f++){l=m[f];e=m[f-1];j=m[f+1];if(f===0){k="mceToolbarStart";if(l.Button){k+=" mceToolbarStartButton"}else{if(l.SplitButton){k+=" mceToolbarStartSplitButton"}else{if(l.ListBox){k+=" mceToolbarStartListBox"}}}g+=d.createHTML("td",{"class":k},d.createHTML("span",null,"<!-- IE -->"))}if(e&&l.ListBox){if(e.Button||e.SplitButton){g+=d.createHTML("td",{"class":"mceToolbarEnd"},d.createHTML("span",null,"<!-- IE -->"))}}if(d.stdMode){g+='<td style="position: relative">'+l.renderHTML()+"</td>"}else{g+="<td>"+l.renderHTML()+"</td>"}if(j&&l.ListBox){if(j.Button||j.SplitButton){g+=d.createHTML("td",{"class":"mceToolbarStart"},d.createHTML("span",null,"<!-- IE -->"))}}}k="mceToolbarEnd";if(l.Button){k+=" mceToolbarEndButton"}else{if(l.SplitButton){k+=" mceToolbarEndSplitButton"}else{if(l.ListBox){k+=" mceToolbarEndListBox"}}}g+=d.createHTML("td",{"class":k},d.createHTML("span",null,"<!-- IE -->"));return d.createHTML("table",{id:n.id,"class":"mceToolbar"+(o["class"]?" "+o["class"]:""),cellpadding:"0",cellspacing:"0",align:n.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+g+"</tr></tbody>")}})})(tinymce);(function(c){var b=c.util.Dispatcher,d=c.each;c.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[];e.urls={};e.lookup={};e.onAdd=new b(e)},get:function(e){if(this.lookup[e]){return this.lookup[e].instance}else{return undefined}},dependencies:function(f){var e;if(this.lookup[f]){e=this.lookup[f].dependencies}return e||[]},requireLangPack:function(f){var e=c.settings;if(e&&e.language&&e.language_load!==false){c.ScriptLoader.add(this.urls[f]+"/langs/"+e.language+".js")}},add:function(g,f,e){this.items.push(f);this.lookup[g]={instance:f,dependencies:e};this.onAdd.dispatch(this,g,f);return f},createUrl:function(e,f){if(typeof f==="object"){return f}else{return{prefix:e.prefix,resource:f,suffix:e.suffix}}},addComponents:function(g,e){var f=this.urls[g];c.each(e,function(j){c.ScriptLoader.add(f+"/"+j)})},load:function(m,g,e,k){var j=this,f=g;function l(){var n=j.dependencies(m);c.each(n,function(q){var o=j.createUrl(g,q);j.load(o.resource,o,undefined,undefined)});if(e){if(k){e.call(k)}else{e.call(c.ScriptLoader)}}}if(j.urls[m]){return}if(typeof g==="object"){f=g.prefix+g.resource+g.suffix}if(f.indexOf("/")!==0&&f.indexOf("://")==-1){f=c.baseURL+"/"+f}j.urls[m]=f.substring(0,f.lastIndexOf("/"));if(j.lookup[m]){l()}else{c.ScriptLoader.add(f,l,k)}}});c.PluginManager=new c.AddOnManager();c.ThemeManager=new c.AddOnManager()}(tinymce));(function(m){var j=m.each,e=m.extend,n=m.DOM,l=m.dom.Event,g=m.ThemeManager,c=m.PluginManager,f=m.explode,k=m.util.Dispatcher,b,d=0;m.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(m.documentBaseURL)){m.documentBaseURL+="/"}m.baseURL=new m.util.URI(m.documentBaseURL).toAbsolute(m.baseURL);m.baseURI=new m.util.URI(m.baseURL);m.onBeforeUnload=new k(m);l.add(window,"beforeunload",function(o){m.onBeforeUnload.dispatch(m,o)});m.onAddEditor=new k(m);m.onRemoveEditor=new k(m);m.EditorManager=e(m,{editors:[],i18n:{},activeEditor:null,init:function(D){var C=this,u,r=m.ScriptLoader,B,o=[],A;function z(t){var s=t.id;if(!s){s=t.name;if(s&&!n.get(s)){s=t.name}else{s=n.uniqueId()}t.setAttribute("id",s)}return s}function q(F,G,t){var E=F[G];if(!E){return}if(m.is(E,"string")){t=E.replace(/\.\w+$/,"");t=t?m.resolve(t):0;E=m.resolve(E)}return E.apply(t||this,Array.prototype.slice.call(arguments,2))}function v(t,s){return s.constructor===RegExp?s.test(t.className):n.hasClass(t,s)}C.settings=D;l.bind(window,"ready",function(){var s,t;q(D,"onpageload");switch(D.mode){case"exact":s=D.elements||"";if(s.length>0){j(f(s),function(E){if(n.get(E)){A=new m.Editor(E,D);o.push(A);A.render(1)}else{j(document.forms,function(F){j(F.elements,function(G){if(G.name===E){E="mce_editor_"+d++;n.setAttrib(G,"id",E);A=new m.Editor(E,D);o.push(A);A.render(1)}})})}})}break;case"textareas":case"specific_textareas":j(n.select("textarea"),function(E){if(D.editor_deselector&&v(E,D.editor_deselector)){return}if(!D.editor_selector||v(E,D.editor_selector)){A=new m.Editor(z(E),D);o.push(A);A.render(1)}});break;default:if(D.types){j(D.types,function(E){j(n.select(E.selector),function(G){var F=new m.Editor(z(G),m.extend({},D,E));o.push(F);F.render(1)})})}else{if(D.selector){j(n.select(D.selector),function(F){var E=new m.Editor(z(F),D);o.push(E);E.render(1)})}}}if(D.oninit){s=t=0;j(o,function(E){t++;if(!E.initialized){E.onInit.add(function(){s++;if(s==t){q(D,"oninit")}})}else{s++}if(s==t){q(D,"oninit")}})}})},get:function(o){if(o===b){return this.editors}return this.editors[o]},getInstanceById:function(o){return this.get(o)},add:function(q){var o=this,r=o.editors;r[q.id]=q;r.push(q);o._setActive(q);o.onAddEditor.dispatch(o,q);return q},remove:function(r){var q=this,o,s=q.editors;if(!s[r.id]){return null}delete s[r.id];for(o=0;o<s.length;o++){if(s[o]==r){s.splice(o,1);break}}if(q.activeEditor==r){q._setActive(s[0])}r.destroy();q.onRemoveEditor.dispatch(q,r);return r},execCommand:function(B,z,s){var A=this,r=A.get(s),o;function q(){r.destroy();o.detachEvent("onunload",q);o=o.tinyMCE=o.tinymce=null}switch(B){case"mceFocus":r.focus();return true;case"mceAddEditor":case"mceAddControl":if(!A.get(s)){new m.Editor(s,A.settings).render()}return true;case"mceAddFrameControl":o=s.window;o.tinyMCE=tinyMCE;o.tinymce=m;m.DOM.doc=o.document;m.DOM.win=o;r=new m.Editor(s.element_id,s);r.render();if(m.isIE){o.attachEvent("onunload",q)}s.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(r){r.remove()}return true;case"mceToggleEditor":if(!r){A.execCommand("mceAddControl",0,s);return true}if(r.isHidden()){r.show()}else{r.hide()}return true}if(A.activeEditor){return A.activeEditor.execCommand(B,z,s)}return false},execInstanceCommand:function(t,s,r,q){var o=this.get(t);if(o){return o.execCommand(s,r,q)}return false},triggerSave:function(){j(this.editors,function(o){o.save()})},addI18n:function(s,t){var q,r=this.i18n;if(!m.is(s,"string")){j(s,function(v,u){j(v,function(A,z){j(A,function(C,B){if(z==="common"){r[u+"."+B]=C}else{r[u+"."+z+"."+B]=C}})})})}else{j(t,function(v,u){r[s+"."+u]=v})}},_setActive:function(o){this.selectedInstance=this.activeEditor=o}})})(tinymce);(function(n){var o=n.DOM,m=n.dom.Event,g=n.extend,l=n.each,b=n.isGecko,c=n.isIE,f=n.isWebKit,e=n.is,k=n.ThemeManager,d=n.PluginManager,j=n.explode;n.create("tinymce.Editor",{Editor:function(t,s){var q=this,r=true;q.settings=s=g({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n.documentBaseURL,add_form_submit_trigger:r,submit_patch:r,add_unload_trigger:r,convert_urls:r,relative_urls:r,remove_script_host:r,table_inline_editing:false,object_resizing:r,accessibility_focus:r,doctype:n.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:r,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:r,directionality:"ltr",forced_root_block:"p",hidden_input:r,padd_empty_editor:r,render_ui:r,indentation:"30px",fix_table_elements:r,inline_styles:r,convert_fonts_to_spans:r,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:r,entity_encoding:"named",url_converter:q.convertURL,url_converter_scope:q,ie7_compat:r},s);q.id=q.editorId=t;q.isNotDirty=false;q.plugins={};q.documentBaseURI=new n.util.URI(s.document_base_url||n.documentBaseURL,{base_uri:tinyMCE.baseURI});q.baseURI=n.baseURI;q.contentCSS=[];q.setupEvents();q.execCommands={};q.queryStateCommands={};q.queryValueCommands={};q.execCallback("setup",q)},render:function(u){var v=this,z=v.settings,A=v.id,q=n.ScriptLoader;if(!m.domLoaded){m.add(window,"ready",function(){v.render()});return}tinyMCE.settings=z;if(!v.getElement()){return}if(n.isIDevice&&!n.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(v.getElement().nodeName)&&z.hidden_input&&o.getParent(A,"form")){o.insertAfter(o.create("input",{type:"hidden",name:A}),A)}if(!z.content_editable){v.orgVisibility=v.getElement().style.visibility;v.getElement().style.visibility="hidden"}if(n.WindowManager){v.windowManager=new n.WindowManager(v)}if(z.encoding=="xml"){v.onGetContent.add(function(s,t){if(t.save){t.content=o.encode(t.content)}})}if(z.add_form_submit_trigger){v.onSubmit.addToTop(function(){if(v.initialized){v.save();v.isNotDirty=1}})}if(z.add_unload_trigger){v._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(v.initialized&&!v.destroyed&&!v.isHidden()){v.save({format:"raw",no_events:true})}})}n.addUnload(v.destroy,v);if(z.submit_patch){v.onBeforeRenderUI.add(function(){var s=v.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){v.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){n.triggerSave();v.isNotDirty=1;return v.formElement._mceOldSubmit(v.formElement)}}s=null})}function r(){if(z.language&&z.language_load!==false){q.add(n.baseURL+"/langs/"+z.language+".js")}if(z.theme&&typeof z.theme!="function"&&z.theme.charAt(0)!="-"&&!k.urls[z.theme]){k.load(z.theme,"themes/"+z.theme+"/editor_template"+n.suffix+".js")}l(j(z.plugins),function(t){if(t&&!d.urls[t]){if(t.charAt(0)=="-"){t=t.substr(1,t.length);var s=d.dependencies(t);l(s,function(C){var B={prefix:"plugins/",resource:C,suffix:"/editor_plugin"+n.suffix+".js"};C=d.createUrl(B,C);d.load(C.resource,C)})}else{if(t=="safari"){return}d.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+n.suffix+".js"})}}});q.loadQueue(function(){if(!v.removed){v.init()}})}r()},init:function(){var v,K=this,L=K.settings,H,C,D,G=K.getElement(),r,q,I,A,F,J,B,z=[];n.add(K);L.aria_label=L.aria_label||o.getAttrib(G,"aria-label",K.getLang("aria.rich_text_area"));if(L.theme){if(typeof L.theme!="function"){L.theme=L.theme.replace(/-/,"");r=k.get(L.theme);K.theme=new r();if(K.theme.init){K.theme.init(K,k.urls[L.theme]||n.documentBaseURL.replace(/\/$/,""))}}else{K.theme=L.theme}}function E(M){var N=d.get(M),t=d.urls[M]||n.documentBaseURL.replace(/\/$/,""),s;if(N&&n.inArray(z,M)===-1){l(d.dependencies(M),function(u){E(u)});s=new N(K,t);K.plugins[M]=s;if(s.init){s.init(K,t);z.push(M)}}}l(j(L.plugins.replace(/\-/g,"")),E);if(L.popup_css!==false){if(L.popup_css){L.popup_css=K.documentBaseURI.toAbsolute(L.popup_css)}else{L.popup_css=K.baseURI.toAbsolute("themes/"+L.theme+"/skins/"+L.skin+"/dialog.css")}}if(L.popup_css_add){L.popup_css+=","+K.documentBaseURI.toAbsolute(L.popup_css_add)}K.controlManager=new n.ControlManager(K);K.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){K.nodeChanged()}});K.onBeforeRenderUI.dispatch(K,K.controlManager);if(L.render_ui&&K.theme){K.orgDisplay=G.style.display;if(typeof L.theme!="function"){H=L.width||G.style.width||G.offsetWidth;C=L.height||G.style.height||G.offsetHeight;D=L.min_height||100;J=/^[0-9\.]+(|px)$/i;if(J.test(""+H)){H=Math.max(parseInt(H,10)+(r.deltaWidth||0),100)}if(J.test(""+C)){C=Math.max(parseInt(C,10)+(r.deltaHeight||0),D)}r=K.theme.renderUI({targetNode:G,width:H,height:C,deltaWidth:L.delta_width,deltaHeight:L.delta_height});o.setStyles(r.sizeContainer||r.editorContainer,{width:H,height:C});C=(r.iframeHeight||C)+(typeof(C)=="number"?(r.deltaHeight||0):"");if(C<D){C=D}}else{r=L.theme(K,G);if(r.editorContainer.nodeType){r.editorContainer=r.editorContainer.id=r.editorContainer.id||K.id+"_parent"}if(r.iframeContainer.nodeType){r.iframeContainer=r.iframeContainer.id=r.iframeContainer.id||K.id+"_iframecontainer"}C=r.iframeHeight||G.offsetHeight;if(c){K.onInit.add(function(s){s.dom.bind(s.getBody(),"beforedeactivate keydown",function(){s.lastIERng=s.selection.getRng()})})}}K.editorContainer=r.editorContainer}if(L.content_css){l(j(L.content_css),function(s){K.contentCSS.push(K.documentBaseURI.toAbsolute(s))})}if(L.content_editable){G=v=r=null;return K.initContentBody()}if(document.domain&&location.hostname!=document.domain){n.relaxedDomain=document.domain}K.iframeHTML=L.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(L.document_base_url!=n.documentBaseURL){K.iframeHTML+='<base href="'+K.documentBaseURI.getURI()+'" />'}if(L.ie7_compat){K.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}else{K.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'}K.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(B=0;B<K.contentCSS.length;B++){K.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+K.contentCSS[B]+'" />'}K.contentCSS=[];A=L.body_id||"tinymce";if(A.indexOf("=")!=-1){A=K.getParam("body_id","","hash");A=A[K.id]||A}F=L.body_class||"";if(F.indexOf("=")!=-1){F=K.getParam("body_class","","hash");F=F[K.id]||""}K.iframeHTML+='</head><body id="'+A+'" class="mceContentBody '+F+'" onload="window.parent.tinyMCE.get(\''+K.id+"').onLoad.dispatch();\"><br></body></html>";if(n.relaxedDomain&&(c||(n.isOpera&&parseFloat(opera.version())<11))){I='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+K.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'}v=o.add(r.iframeContainer,"iframe",{id:K.id+"_ifr",src:I||'javascript:""',frameBorder:"0",allowTransparency:"true",title:L.aria_label,style:{width:"100%",height:C,display:"block"}});K.contentAreaContainer=r.iframeContainer;if(r.editorContainer){o.get(r.editorContainer).style.display=K.orgDisplay}G.style.visibility=K.orgVisibility;o.get(K.id).style.display="none";o.setAttrib(K.id,"aria-hidden",true);if(!n.relaxedDomain||!I){K.initContentBody()}G=v=r=null},initContentBody:function(){var r=this,t=r.settings,u=o.get(r.id),v=r.getDoc(),s,q;if((!c||!n.relaxedDomain)&&!t.content_editable){v.open();v.write(r.iframeHTML);v.close();if(n.relaxedDomain){v.domain=n.relaxedDomain}}if(t.content_editable){o.addClass(u,"mceContentBody");r.contentDocument=v=t.content_document||document;r.contentWindow=t.content_window||window;r.bodyElement=u;t.content_document=t.content_window=null}q=r.getBody();q.disabled=true;if(!t.readonly){q.contentEditable=r.getParam("content_editable_state",true)}q.disabled=false;r.schema=new n.html.Schema(t);r.dom=new n.dom.DOMUtils(v,{keep_values:true,url_converter:r.convertURL,url_converter_scope:r,hex_colors:t.force_hex_style_colors,class_filter:t.class_filter,update_styles:true,root_element:t.content_editable?r.id:null,schema:r.schema});r.parser=new n.html.DomParser(t,r.schema);r.parser.addAttributeFilter("src,href,style",function(z,A){var B=z.length,D,F=r.dom,E,C;while(B--){D=z[B];E=D.attr(A);C="data-mce-"+A;if(!D.attributes.map[C]){if(A==="style"){D.attr(C,F.serializeStyle(F.parseStyle(E),D.name))}else{D.attr(C,r.convertURL(E,A,D.name))}}}});r.parser.addNodeFilter("script",function(z,A){var B=z.length,C;while(B--){C=z[B];C.attr("type","mce-"+(C.attr("type")||"text/javascript"))}});r.parser.addNodeFilter("#cdata",function(z,A){var B=z.length,C;while(B--){C=z[B];C.type=8;C.name="#comment";C.value="[CDATA["+C.value+"]]"}});r.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(A,B){var C=A.length,D,z=r.schema.getNonEmptyElements();while(C--){D=A[C];if(D.isEmpty(z)){D.empty().append(new n.html.Node("br",1)).shortEnded=true}}});r.serializer=new n.dom.Serializer(t,r.dom,r.schema);r.selection=new n.dom.Selection(r.dom,r.getWin(),r.serializer,r);r.formatter=new n.Formatter(r);r.undoManager=new n.UndoManager(r);r.forceBlocks=new n.ForceBlocks(r);r.enterKey=new n.EnterKey(r);r.editorCommands=new n.EditorCommands(r);r.serializer.onPreProcess.add(function(z,A){return r.onPreProcess.dispatch(r,A,z)});r.serializer.onPostProcess.add(function(z,A){return r.onPostProcess.dispatch(r,A,z)});r.onPreInit.dispatch(r);if(!t.browser_spellcheck&&!t.gecko_spellcheck){v.body.spellcheck=false}if(!t.readonly){r.bindNativeEvents()}r.controlManager.onPostRender.dispatch(r,r.controlManager);r.onPostRender.dispatch(r);r.quirks=n.util.Quirks(r);if(t.directionality){q.dir=t.directionality}if(t.nowrap){q.style.whiteSpace="nowrap"}if(t.protect){r.onBeforeSetContent.add(function(z,A){l(t.protect,function(B){A.content=A.content.replace(B,function(C){return"<!--mce:protected "+escape(C)+"-->"})})})}r.onSetContent.add(function(){r.addVisual(r.getBody())});if(t.padd_empty_editor){r.onPostProcess.add(function(z,A){A.content=A.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}r.load({initial:true,format:"html"});r.startContent=r.getContent({format:"raw"});r.initialized=true;r.onInit.dispatch(r);r.execCallback("setupcontent_callback",r.id,q,v);r.execCallback("init_instance_callback",r);r.focus(true);r.nodeChanged({initial:true});l(r.contentCSS,function(z){r.dom.loadCSS(z)});if(t.auto_focus){setTimeout(function(){var z=n.get(t.auto_focus);z.selection.select(z.getBody(),1);z.selection.collapse(1);z.getBody().focus();z.getWin().focus()},100)}u=v=q=null},focus:function(t){var s,B=this,A=B.selection,u=B.settings.content_editable,r,v,z=B.getDoc(),q;if(!t){if(B.lastIERng){A.setRng(B.lastIERng)}r=A.getRng();if(r.item){v=r.item(0)}B._refreshContentEditable();if(!u){B.getWin().focus()}if(n.isGecko||u){q=B.getBody();if(q.setActive){q.setActive()}else{q.focus()}if(u){A.normalize()}}if(v&&v.ownerDocument==z){r=z.body.createControlRange();r.addElement(v);r.select()}}if(n.activeEditor!=B){if((s=n.activeEditor)!=null){s.onDeactivate.dispatch(s,B)}B.onActivate.dispatch(B,s)}n._setActive(B)},execCallback:function(v){var q=this,u=q.settings[v],r;if(!u){return}if(q.callbackLookup&&(r=q.callbackLookup[v])){u=r.func;r=r.scope}if(e(u,"string")){r=u.replace(/\.\w+$/,"");r=r?n.resolve(r):0;u=n.resolve(u);q.callbackLookup=q.callbackLookup||{};q.callbackLookup[v]={func:u,scope:r}}return u.apply(r||q,Array.prototype.slice.call(arguments,1))},translate:function(q){var t=this.settings.language||"en",r=n.i18n;if(!q){return""}return r[t+"."+q]||q.replace(/\{\#([^\}]+)\}/g,function(u,s){return r[t+"."+s]||"{#"+s+"}"})},getLang:function(r,q){return n.i18n[(this.settings.language||"en")+"."+r]||(e(q)?q:"{#"+r+"}")},getParam:function(z,s,q){var t=n.trim,r=e(this.settings[z])?this.settings[z]:s,u;if(q==="hash"){u={};if(e(r,"string")){l(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(A){A=A.split("=");if(A.length>1){u[t(A[0])]=t(A[1])}else{u[t(A[0])]=t(A)}})}else{u=r}return u}return r},nodeChanged:function(t){var q=this,r=q.selection,s;if(q.initialized){t=t||{};s=r.getStart()||q.getBody();s=c&&s.ownerDocument!=q.getDoc()?q.getBody():s;t.parents=[];q.dom.getParent(s,function(u){if(u.nodeName=="BODY"){return true}t.parents.push(u)});q.onNodeChange.dispatch(q,t?t.controlManager||q.controlManager:q.controlManager,s,r.isCollapsed(),t)}},addButton:function(r,s){var q=this;q.buttons=q.buttons||{};q.buttons[r]=s},addCommand:function(q,s,r){this.execCommands[q]={func:s,scope:r||this}},addQueryStateHandler:function(q,s,r){this.queryStateCommands[q]={func:s,scope:r||this}},addQueryValueHandler:function(q,s,r){this.queryValueCommands[q]={func:s,scope:r||this}},addShortcut:function(s,v,q,u){var r=this,z;if(r.settings.custom_shortcuts===false){return false}r.shortcuts=r.shortcuts||{};if(e(q,"string")){z=q;q=function(){r.execCommand(z,false,null)}}if(e(q,"object")){z=q;q=function(){r.execCommand(z[0],z[1],z[2])}}l(j(s),function(t){var A={func:q,scope:u||this,desc:r.translate(v),alt:false,ctrl:false,shift:false};l(j(t,"+"),function(B){switch(B){case"alt":case"ctrl":case"shift":A[B]=true;break;default:A.charCode=B.charCodeAt(0);A.keyCode=B.toUpperCase().charCodeAt(0)}});r.shortcuts[(A.ctrl?"ctrl":"")+","+(A.alt?"alt":"")+","+(A.shift?"shift":"")+","+A.keyCode]=A});return true},execCommand:function(A,z,C,q){var u=this,v=0,B,r;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(A)&&(!q||!q.skip_focus)){u.focus()}q=g({},q);u.onBeforeExecCommand.dispatch(u,A,z,C,q);if(q.terminate){return false}if(u.execCallback("execcommand_callback",u.id,u.selection.getNode(),A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}if(B=u.execCommands[A]){r=B.func.call(B.scope,z,C);if(r!==true){u.onExecCommand.dispatch(u,A,z,C,q);return r}}l(u.plugins,function(s){if(s.execCommand&&s.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);v=1;return false}});if(v){return true}if(u.theme&&u.theme.execCommand&&u.theme.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}if(u.editorCommands.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}u.getDoc().execCommand(A,z,C);u.onExecCommand.dispatch(u,A,z,C,q)},queryCommandState:function(v){var r=this,z,u;if(r._isHidden()){return}if(z=r.queryStateCommands[v]){u=z.func.call(z.scope);if(u!==true){return u}}z=r.editorCommands.queryCommandState(v);if(z!==-1){return z}try{return this.getDoc().queryCommandState(v)}catch(q){}},queryCommandValue:function(z){var r=this,v,u;if(r._isHidden()){return}if(v=r.queryValueCommands[z]){u=v.func.call(v.scope);if(u!==true){return u}}v=r.editorCommands.queryCommandValue(z);if(e(v)){return v}try{return this.getDoc().queryCommandValue(z)}catch(q){}},show:function(){var q=this;o.show(q.getContainer());o.hide(q.id);q.load()},hide:function(){var q=this,r=q.getDoc();if(c&&r){r.execCommand("SelectAll")}q.save();o.hide(q.getContainer());o.setStyle(q.id,"display",q.orgDisplay)},isHidden:function(){return !o.isHidden(this.id)},setProgressState:function(q,r,s){this.onSetProgressState.dispatch(this,q,r,s);return q},load:function(u){var q=this,s=q.getElement(),r;if(s){u=u||{};u.load=true;r=q.setContent(e(s.value)?s.value:s.innerHTML,u);u.element=s;if(!u.no_events){q.onLoadContent.dispatch(q,u)}u.element=s=null;return r}},save:function(v){var q=this,u=q.getElement(),r,s;if(!u||!q.initialized){return}v=v||{};v.save=true;v.element=u;r=v.content=q.getContent(v);if(!v.no_events){q.onSaveContent.dispatch(q,v)}r=v.content;if(!/TEXTAREA|INPUT/i.test(u.nodeName)){u.innerHTML=r;if(s=o.getParent(q.id,"form")){l(s.elements,function(t){if(t.name==q.id){t.value=r;return false}})}}else{u.value=r}v.element=u=null;return r},setContent:function(v,t){var s=this,r,q=s.getBody(),u;t=t||{};t.format=t.format||"html";t.set=true;t.content=v;if(!t.no_events){s.onBeforeSetContent.dispatch(s,t)}v=t.content;if(!n.isIE&&(v.length===0||/^\s+$/.test(v))){u=s.settings.forced_root_block;if(u){v="<"+u+'><br data-mce-bogus="1"></'+u+">"}else{v='<br data-mce-bogus="1">'}q.innerHTML=v;s.selection.select(q,true);s.selection.collapse(true);return}if(t.format!=="raw"){v=new n.html.Serializer({},s.schema).serialize(s.parser.parse(v))}t.content=n.trim(v);s.dom.setHTML(q,t.content);if(!t.no_events){s.onSetContent.dispatch(s,t)}if(!s.settings.content_editable||document.activeElement===s.getBody()){s.selection.normalize()}return t.content},getContent:function(r){var q=this,s;r=r||{};r.format=r.format||"html";r.get=true;r.getInner=true;if(!r.no_events){q.onBeforeGetContent.dispatch(q,r)}if(r.format=="raw"){s=q.getBody().innerHTML}else{s=q.serializer.serialize(q.getBody(),r)}r.content=n.trim(s);if(!r.no_events){q.onGetContent.dispatch(q,r)}return r.content},isDirty:function(){var q=this;return n.trim(q.startContent)!=n.trim(q.getContent({format:"raw",no_events:1}))&&!q.isNotDirty},getContainer:function(){var q=this;if(!q.container){q.container=o.get(q.editorContainer||q.id+"_parent")}return q.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return o.get(this.settings.content_element||this.id)},getWin:function(){var q=this,r;if(!q.contentWindow){r=o.get(q.id+"_ifr");if(r){q.contentWindow=r.contentWindow}}return q.contentWindow},getDoc:function(){var q=this,r;if(!q.contentDocument){r=q.getWin();if(r){q.contentDocument=r.document}}return q.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(s,r,u){var q=this,t=q.settings;if(t.urlconverter_callback){return q.execCallback("urlconverter_callback",s,u,true,r)}if(!t.convert_urls||(u&&u.nodeName=="LINK")||s.indexOf("file:")===0){return s}if(t.relative_urls){return q.documentBaseURI.toRelative(s)}s=q.documentBaseURI.toAbsolute(s,t.remove_script_host);return s},addVisual:function(u){var r=this,s=r.settings,t=r.dom,q;u=u||r.getBody();if(!e(r.hasVisual)){r.hasVisual=s.visual}l(t.select("table,a",u),function(z){var v;switch(z.nodeName){case"TABLE":q=s.visual_table_class||"mceItemTable";v=t.getAttrib(z,"border");if(!v||v=="0"){if(r.hasVisual){t.addClass(z,q)}else{t.removeClass(z,q)}}return;case"A":if(!z.href){v=t.getAttrib(z,"name")||z.id;q="mceItemAnchor";if(v){if(r.hasVisual){t.addClass(z,q)}else{t.removeClass(z,q)}}}return}});r.onVisualAid.dispatch(r,u,r.hasVisual)},remove:function(){var q=this,r=q.getContainer();if(!q.removed){q.removed=1;q.hide();if(!q.settings.content_editable){m.clear(q.getWin());m.clear(q.getDoc())}m.clear(q.getBody());m.clear(q.formElement);m.unbind(r);q.execCallback("remove_instance_callback",q);q.onRemove.dispatch(q);q.onExecCommand.listeners=[];n.remove(q);o.remove(r)}},destroy:function(r){var q=this;if(q.destroyed){return}if(b){m.unbind(q.getDoc());m.unbind(q.getWin());m.unbind(q.getBody())}if(!r){n.removeUnload(q.destroy);tinyMCE.onBeforeUnload.remove(q._beforeUnload);if(q.theme&&q.theme.destroy){q.theme.destroy()}q.controlManager.destroy();q.selection.destroy();q.dom.destroy()}if(q.formElement){q.formElement.submit=q.formElement._mceOldSubmit;q.formElement._mceOldSubmit=null}q.contentAreaContainer=q.formElement=q.container=q.settings.content_element=q.bodyElement=q.contentDocument=q.contentWindow=null;if(q.selection){q.selection=q.selection.win=q.selection.dom=q.selection.dom.doc=null}q.destroyed=1},_refreshContentEditable:function(){var r=this,q,s;if(r._isHidden()){q=r.getBody();s=q.parentNode;s.removeChild(q);s.appendChild(q);q.focus()}},_isHidden:function(){var q;if(!b){return 0}q=this.selection.getSel();return(!q||!q.rangeCount||q.rangeCount===0)}})})(tinymce);(function(b){var c=b.each;b.Editor.prototype.setupEvents=function(){var d=this,e=d.settings;c(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(f){d[f]=new b.util.Dispatcher(d)});if(e.cleanup_callback){d.onBeforeSetContent.add(function(f,g){g.content=f.execCallback("cleanup_callback","insert_to_editor",g.content,g)});d.onPreProcess.add(function(f,g){if(g.set){f.execCallback("cleanup_callback","insert_to_editor_dom",g.node,g)}if(g.get){f.execCallback("cleanup_callback","get_from_editor_dom",g.node,g)}});d.onPostProcess.add(function(f,g){if(g.set){g.content=f.execCallback("cleanup_callback","insert_to_editor",g.content,g)}if(g.get){g.content=f.execCallback("cleanup_callback","get_from_editor",g.content,g)}})}if(e.save_callback){d.onGetContent.add(function(f,g){if(g.save){g.content=f.execCallback("save_callback",f.id,g.content,f.getBody())}})}if(e.handle_event_callback){d.onEvent.add(function(f,g,j){if(d.execCallback("handle_event_callback",g,f,j)===false){Event.cancel(g)}})}if(e.handle_node_change_callback){d.onNodeChange.add(function(g,f,j){g.execCallback("handle_node_change_callback",g.id,j,-1,-1,true,g.selection.isCollapsed())})}if(e.save_callback){d.onSaveContent.add(function(f,j){var g=f.execCallback("save_callback",f.id,j.content,f.getBody());if(g){j.content=g}})}if(e.onchange_callback){d.onChange.add(function(g,f){g.execCallback("onchange_callback",g,f)})}};b.Editor.prototype.bindNativeEvents=function(){var n=this,g,e=n.settings,f=n.dom,k;k={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function d(o,q){var r=o.type;if(n.removed){return}if(n.onEvent.dispatch(n,o,q)!==false){n[k[o.fakeType||o.type]].dispatch(n,o,q)}}function l(o){n.focus(true)}function m(){n.selection.normalize();n.nodeChanged()}c(k,function(q,r){var o=e.content_editable?n.getBody():n.getDoc();switch(r){case"contextmenu":f.bind(o,r,d);break;case"paste":f.bind(n.getBody(),r,d);break;case"submit":case"reset":f.bind(n.getElement().form||b.DOM.getParent(n.id,"form"),r,d);break;default:f.bind(o,r,d)}});f.bind(e.content_editable?n.getBody():(b.isGecko?n.getDoc():n.getWin()),"focus",function(o){n.focus(true)});if(e.content_editable&&b.isOpera){f.bind(n.getBody(),"click",l);f.bind(n.getBody(),"keydown",l)}n.onMouseUp.add(m);n.onKeyUp.add(function(o,r){var q=r.keyCode;if((q>=33&&q<=36)||(q>=37&&q<=40)||q==13||q==45||q==46||q==8||(b.isMac&&(q==91||q==93))||r.ctrlKey){m()}});n.onReset.add(function(){n.setContent(n.startContent,{format:"raw"})});function j(q,o){if(q.altKey||q.ctrlKey||q.metaKey){c(n.shortcuts,function(r){var s=b.isMac?q.metaKey:q.ctrlKey;if(r.ctrl!=s||r.alt!=q.altKey||r.shift!=q.shiftKey){return}if(q.keyCode==r.keyCode||(q.charCode&&q.charCode==r.charCode)){q.preventDefault();if(o){r.func.call(r.scope)}return true}})}}n.onKeyUp.add(function(o,q){j(q)});n.onKeyPress.add(function(o,q){j(q)});n.onKeyDown.add(function(o,q){j(q,true)});if(b.isOpera){n.onClick.add(function(o,q){q.preventDefault()})}}})(tinymce);(function(e){var f=e.each,c,b=true,d=false;e.EditorCommands=function(r){var q=r.dom,t=r.selection,m={state:{},exec:{},value:{}},n=r.settings,u=r.formatter,s;function v(F,E,D){var C;F=F.toLowerCase();if(C=m.exec[F]){C(F,E,D);return b}return d}function o(D){var C;D=D.toLowerCase();if(C=m.state[D]){return C(D)}return -1}function k(D){var C;D=D.toLowerCase();if(C=m.value[D]){return C(D)}return d}function B(C,D){D=D||"exec";f(C,function(F,E){f(E.toLowerCase().split(","),function(G){m[D][G]=F})})}e.extend(this,{execCommand:v,queryCommandState:o,queryCommandValue:k,addCommands:B});function g(E,D,C){if(D===c){D=d}if(C===c){C=null}return r.getDoc().execCommand(E,D,C)}function A(C){return u.match(C)}function z(C,D){u.toggle(C,D?{value:D}:c)}function l(C){s=t.getBookmark(C)}function j(){t.moveToBookmark(s)}B({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(F){var E=r.getDoc(),C;try{g(F)}catch(D){C=b}if(C||!E.queryCommandSupported(F)){if(e.isGecko){r.windowManager.confirm(r.getLang("clipboard_msg"),function(G){if(G){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{r.windowManager.alert(r.getLang("clipboard_no_support"))}}},unlink:function(C){if(t.isCollapsed()){t.select(t.getNode())}g(C);t.collapse(d)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(C){var D=C.substring(7);f("left,center,right,full".split(","),function(E){if(D!=E){u.remove("align"+E)}});z("align"+D);v("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(E){var C,D;g(E);C=q.getParent(t.getNode(),"ol,ul");if(C){D=C.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(D.nodeName)){l();q.split(D,C);j()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(C){z(C)},"ForeColor,HiliteColor,FontName":function(E,D,C){z(E,C)},FontSize:function(F,E,D){var C,G;if(D>=1&&D<=7){G=e.explode(n.font_size_style_values);C=e.explode(n.font_size_classes);if(C){D=C[D-1]||D}else{D=G[D-1]||D}}z(F,D)},RemoveFormat:function(C){u.remove(C)},mceBlockQuote:function(C){z("blockquote")},FormatBlock:function(E,D,C){return z(C||"p")},mceCleanup:function(){var C=t.getBookmark();r.setContent(r.getContent({cleanup:b}),{cleanup:b});t.moveToBookmark(C)},mceRemoveNode:function(F,E,D){var C=D||t.getNode();if(C!=r.getBody()){l();r.dom.remove(C,b);j()}},mceSelectNodeDepth:function(F,E,D){var C=0;q.getParent(t.getNode(),function(G){if(G.nodeType==1&&C++==D){t.select(G);return d}},r.getBody())},mceSelectNode:function(E,D,C){t.select(C)},mceInsertContent:function(H,O,Q){var E,P,K,F,L,M,J,I,R,D,G,S,C,N;E=r.parser;P=new e.html.Serializer({},r.schema);C='<span id="mce_marker" data-mce-type="bookmark">\uFEFF</span>';M={content:Q,format:"html"};t.onBeforeSetContent.dispatch(t,M);Q=M.content;if(Q.indexOf("{$caret}")==-1){Q+="{$caret}"}Q=Q.replace(/\{\$caret\}/,C);if(!t.isCollapsed()){r.getDoc().execCommand("Delete",false,null)}K=t.getNode();M={context:K.nodeName.toLowerCase()};L=E.parse(Q,M);G=L.lastChild;if(G.attr("id")=="mce_marker"){J=G;for(G=G.prev;G;G=G.walk(true)){if(G.type==3||!q.isBlock(G.name)){G.parent.insert(J,G,G.name==="br");break}}}if(!M.invalid){Q=P.serialize(L);G=K.firstChild;S=K.lastChild;if(!G||(G===S&&G.nodeName==="BR")){q.setHTML(K,Q)}else{t.setContent(Q)}}else{t.setContent(C);K=r.selection.getNode();F=r.getBody();if(K.nodeType==9){K=G=F}else{G=K}while(G!==F){K=G;G=G.parentNode}Q=K==F?F.innerHTML:q.getOuterHTML(K);Q=P.serialize(E.parse(Q.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return P.serialize(L)})));if(K==F){q.setHTML(F,Q)}else{q.setOuterHTML(K,Q)}}J=q.get("mce_marker");I=q.getRect(J);R=q.getViewPort(r.getWin());if((I.y+I.h>R.y+R.h||I.y<R.y)||(I.x>R.x+R.w||I.x<R.x)){N=e.isIE?r.getDoc().documentElement:r.getBody();N.scrollLeft=I.x;N.scrollTop=I.y-R.h+25}D=q.createRng();G=J.previousSibling;if(G&&G.nodeType==3){D.setStart(G,G.nodeValue.length)}else{D.setStartBefore(J);D.setEndBefore(J)}q.remove(J);t.setRng(D);t.onSetContent.dispatch(t,M);r.addVisual()},mceInsertRawHTML:function(E,D,C){t.setContent("tiny_mce_marker");r.setContent(r.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceSetContent:function(E,D,C){r.setContent(C)},"Indent,Outdent":function(F){var D,C,E;D=n.indentation;C=/[a-z%]+$/i.exec(D);D=parseInt(D);if(!o("InsertUnorderedList")&&!o("InsertOrderedList")){if(!n.forced_root_block&&!q.getParent(t.getNode(),q.isBlock)){u.apply("div")}f(t.getSelectedBlocks(),function(G){if(F=="outdent"){E=Math.max(0,parseInt(G.style.paddingLeft||0)-D);q.setStyle(G,"paddingLeft",E?E+C:"")}else{q.setStyle(G,"paddingLeft",(parseInt(G.style.paddingLeft||0)+D)+C)}})}else{g(F)}},mceRepaint:function(){var D;if(e.isGecko){try{l(b);if(t.getSel()){t.getSel().selectAllChildren(r.getBody())}t.collapse(b);j()}catch(C){}}},mceToggleFormat:function(E,D,C){u.toggle(C)},InsertHorizontalRule:function(){r.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual;r.addVisual()},mceReplaceContent:function(E,D,C){r.execCommand("mceInsertContent",false,C.replace(/\{\$selection\}/g,t.getContent({format:"text"})))},mceInsertLink:function(F,E,D){var C;if(typeof(D)=="string"){D={href:D}}C=q.getParent(t.getNode(),"a");D.href=D.href.replace(" ","%20");if(!C||!D.href){u.remove("link")}if(D.href){u.apply("link",D,C)}},selectAll:function(){var D=q.getRoot(),C=q.createRng();C.setStart(D,0);C.setEnd(D,D.childNodes.length);r.selection.setRng(C)}});B({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(F){var D="align"+F.substring(7);var C=t.isCollapsed()?[q.getParent(t.getNode(),q.isBlock)]:t.getSelectedBlocks();var E=e.map(C,function(G){return !!u.matchNode(G,D)});return e.inArray(E,b)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(C){return A(C)},mceBlockQuote:function(){return A("blockquote")},Outdent:function(){var C;if(n.inline_styles){if((C=q.getParent(t.getStart(),q.isBlock))&&parseInt(C.style.paddingLeft)>0){return b}if((C=q.getParent(t.getEnd(),q.isBlock))&&parseInt(C.style.paddingLeft)>0){return b}}return o("InsertUnorderedList")||o("InsertOrderedList")||(!n.inline_styles&&!!q.getParent(t.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(C){return q.getParent(t.getNode(),C=="insertunorderedlist"?"UL":"OL")}},"state");B({"FontSize,FontName":function(E){var D=0,C;if(C=q.getParent(t.getNode(),"span")){if(E=="fontsize"){D=C.style.fontSize}else{D=C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return D}},"value");B({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}})}})(tinymce);(function(c){var b=c.util.Dispatcher;c.UndoManager=function(k){var o,l=0,f=[],j,n,m,g;function d(){return c.trim(k.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function e(){o.typing=false;o.add()}onBeforeAdd=new b(o);n=new b(o);m=new b(o);g=new b(o);n.add(function(q,r){if(q.hasUndo()){return k.onChange.dispatch(k,r,q)}});m.add(function(q,r){return k.onUndo.dispatch(k,r,q)});g.add(function(q,r){return k.onRedo.dispatch(k,r,q)});k.onInit.add(function(){o.add()});k.onBeforeExecCommand.add(function(q,t,s,u,r){if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"&&(!r||!r.skip_undo)){o.beforeChange()}});k.onExecCommand.add(function(q,t,s,u,r){if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"&&(!r||!r.skip_undo)){o.add()}});k.onSaveContent.add(e);k.dom.bind(k.dom.getRoot(),"dragend",e);k.dom.bind(k.getDoc(),c.isGecko?"blur":"focusout",function(q){if(!k.removed&&o.typing){e()}});k.onKeyUp.add(function(q,s){var r=s.keyCode;if((r>=33&&r<=36)||(r>=37&&r<=40)||r==45||r==13||s.ctrlKey){e()}});k.onKeyDown.add(function(q,s){var r=s.keyCode;if((r>=33&&r<=36)||(r>=37&&r<=40)||r==45){if(o.typing){e()}return}if((r<16||r>20)&&r!=224&&r!=91&&!o.typing){o.beforeChange();o.typing=true;o.add()}});k.onMouseDown.add(function(q,r){if(o.typing){e()}});k.addShortcut("ctrl+z","undo_desc","Undo");k.addShortcut("ctrl+y","redo_desc","Redo");o={data:f,typing:false,onBeforeAdd:onBeforeAdd,onAdd:n,onUndo:m,onRedo:g,beforeChange:function(){j=k.selection.getBookmark(2,true)},add:function(t){var q,r=k.settings,s;t=t||{};t.content=d();o.onBeforeAdd.dispatch(o,t);s=f[l];if(s&&s.content==t.content){return null}if(f[l]){f[l].beforeBookmark=j}if(r.custom_undo_redo_levels){if(f.length>r.custom_undo_redo_levels){for(q=0;q<f.length-1;q++){f[q]=f[q+1]}f.length--;l=f.length}}t.bookmark=k.selection.getBookmark(2,true);if(l<f.length-1){f.length=l+1}f.push(t);l=f.length-1;o.onAdd.dispatch(o,t);k.isNotDirty=0;return t},undo:function(){var r,q;if(o.typing){o.add();o.typing=false}if(l>0){r=f[--l];k.setContent(r.content,{format:"raw"});k.selection.moveToBookmark(r.beforeBookmark);o.onUndo.dispatch(o,r)}return r},redo:function(){var q;if(l<f.length-1){q=f[++l];k.setContent(q.content,{format:"raw"});k.selection.moveToBookmark(q.bookmark);o.onRedo.dispatch(o,q)}return q},clear:function(){f=[];l=0;o.typing=false},hasUndo:function(){return l>0||this.typing},hasRedo:function(){return l<f.length-1&&!this.typing}};return o}})(tinymce);tinymce.ForceBlocks=function(d){var c=d.settings,f=d.dom,b=d.selection,e=d.schema.getBlockElements();function g(){var m=b.getStart(),k=d.getBody(),j,n,s,v,u,l,o,q=-16777215,t;if(!m||m.nodeType!==1||!c.forced_root_block){return}while(m&&m!=k){if(e[m.nodeName]){return}m=m.parentNode}j=b.getRng();if(j.setStart){n=j.startContainer;s=j.startOffset;v=j.endContainer;u=j.endOffset}else{if(j.item){m=j.item(0);j=d.getDoc().body.createTextRange();j.moveToElementText(m)}tmpRng=j.duplicate();tmpRng.collapse(true);s=tmpRng.move("character",q)*-1;if(!tmpRng.collapsed){tmpRng=j.duplicate();tmpRng.collapse(false);u=(tmpRng.move("character",q)*-1)-s}}m=k.firstChild;while(m){if(m.nodeType===3||(m.nodeType==1&&!e[m.nodeName])){if(!l){l=f.create(c.forced_root_block);m.parentNode.insertBefore(l,m);t=true}o=m;m=m.nextSibling;l.appendChild(o)}else{l=null;m=m.nextSibling}}if(j.setStart){j.setStart(n,s);j.setEnd(v,u);b.setRng(j)}else{try{j=d.getDoc().body.createTextRange();j.moveToElementText(k);j.collapse(true);j.moveStart("character",s);if(u>0){j.moveEnd("character",u)}j.select()}catch(r){}}if(t){d.nodeChanged()}}if(c.forced_root_block){d.onKeyUp.add(g);d.onNodeChange.add(g)}};(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,f=d.extend;d.create("tinymce.ControlManager",{ControlManager:function(g,l){var k=this,j;l=l||{};k.editor=g;k.controls={};k.onAdd=new d.util.Dispatcher(k);k.onPostRender=new d.util.Dispatcher(k);k.prefix=l.prefix||g.id+"_";k._cls={};k.onPostRender.add(function(){e(k.controls,function(m){m.postRender()})})},get:function(g){return this.controls[this.prefix+g]||this.controls[g]},setActive:function(k,g){var j=null;if(j=this.get(k)){j.setActive(g)}return j},setDisabled:function(k,g){var j=null;if(j=this.get(k)){j.setDisabled(g)}return j},add:function(j){var g=this;if(j){g.controls[j.id]=j;g.onAdd.dispatch(j,g)}return j},createControl:function(m){var r,n,j,k=this,o=k.editor,q,g;if(!k.controlFactories){k.controlFactories=[];e(o.plugins,function(l){if(l.createControl){k.controlFactories.push(l)}})}q=k.controlFactories;for(n=0,j=q.length;n<j;n++){r=q[n].createControl(m,k);if(r){return k.add(r)}}if(m==="|"||m==="separator"){return k.createSeparator()}if(o.buttons&&(r=o.buttons[m])){return k.createButton(m,r)}return k.add(r)},createDropMenu:function(g,r,k){var q=this,l=q.editor,m,j,n,o;r=f({"class":"mceDropDown",constrain:l.settings.constrain_menus},r);r["class"]=r["class"]+" "+l.getParam("skin")+"Skin";if(n=l.getParam("skin_variant")){r["class"]+=" "+l.getParam("skin")+"Skin"+n.substring(0,1).toUpperCase()+n.substring(1)}r["class"]+=l.settings.directionality=="rtl"?" mceRtl":"";g=q.prefix+g;o=k||q._cls.dropmenu||d.ui.DropMenu;m=q.controls[g]=new o(g,r);m.onAddItem.add(function(v,u){var t=u.settings;t.title=l.getLang(t.title,t.title);if(!t.onclick){t.onclick=function(s){if(t.cmd){l.execCommand(t.cmd,t.ui||false,t.value)}}}});l.onRemove.add(function(){m.destroy()});if(d.isIE){m.onShowMenu.add(function(){l.focus();j=l.selection.getBookmark(1)});m.onHideMenu.add(function(){if(j){l.selection.moveToBookmark(j);j=0}})}return q.add(m)},createListBox:function(g,r,k){var o=this,m=o.editor,l,n,q;if(o.get(g)){return null}r.title=m.translate(r.title);r.scope=r.scope||m;if(!r.onselect){r.onselect=function(s){m.execCommand(r.cmd,r.ui||false,s||r.value)}}r=f({title:r.title,"class":"mce_"+g,scope:r.scope,control_manager:o},r);g=o.prefix+g;function j(s){return s.settings.use_accessible_selects&&!d.isGecko}if(m.settings.use_native_selects||j(m)){n=new d.ui.NativeListBox(g,r)}else{q=k||o._cls.listbox||d.ui.ListBox;n=new q(g,r,m)}o.controls[g]=n;if(d.isWebKit){n.onPostRender.add(function(t,s){b.add(s,"mousedown",function(){m.bookmark=m.selection.getBookmark(1)});b.add(s,"focus",function(){m.selection.moveToBookmark(m.bookmark);m.bookmark=null})})}if(n.hideMenu){m.onMouseDown.add(n.hideMenu,n)}return o.add(n)},createButton:function(r,l,q){var k=this,j=k.editor,m,n,g;if(k.get(r)){return null}l.title=j.translate(l.title);l.label=j.translate(l.label);l.scope=l.scope||j;if(!l.onclick&&!l.menu_button){l.onclick=function(){j.execCommand(l.cmd,l.ui||false,l.value)}}l=f({title:l.title,"class":"mce_"+r,unavailable_prefix:j.getLang("unavailable",""),scope:l.scope,control_manager:k},l);r=k.prefix+r;if(l.menu_button){g=q||k._cls.menubutton||d.ui.MenuButton;n=new g(r,l,j);j.onMouseDown.add(n.hideMenu,n)}else{g=k._cls.button||d.ui.Button;n=new g(r,l,j)}return k.add(n)},createMenuButton:function(k,g,j){g=g||{};g.menu_button=1;return this.createButton(k,g,j)},createSplitButton:function(q,l,o){var k=this,j=k.editor,m,n,g;if(k.get(q)){return null}l.title=j.translate(l.title);l.scope=l.scope||j;if(!l.onclick){l.onclick=function(r){j.execCommand(l.cmd,l.ui||false,r||l.value)}}if(!l.onselect){l.onselect=function(r){j.execCommand(l.cmd,l.ui||false,r||l.value)}}l=f({title:l.title,"class":"mce_"+q,scope:l.scope,control_manager:k},l);q=k.prefix+q;g=o||k._cls.splitbutton||d.ui.SplitButton;n=k.add(new g(q,l,j));j.onMouseDown.add(n.hideMenu,n);return n},createColorSplitButton:function(g,r,k){var o=this,m=o.editor,l,n,q,j;if(o.get(g)){return null}r.title=m.translate(r.title);r.scope=r.scope||m;if(!r.onclick){r.onclick=function(s){if(d.isIE){j=m.selection.getBookmark(1)}m.execCommand(r.cmd,r.ui||false,s||r.value)}}if(!r.onselect){r.onselect=function(s){m.execCommand(r.cmd,r.ui||false,s||r.value)}}r=f({title:r.title,"class":"mce_"+g,menu_class:m.getParam("skin")+"Skin",scope:r.scope,more_colors_title:m.getLang("more_colors")},r);g=o.prefix+g;q=k||o._cls.colorsplitbutton||d.ui.ColorSplitButton;n=new q(g,r,m);m.onMouseDown.add(n.hideMenu,n);m.onRemove.add(function(){n.destroy()});if(d.isIE){n.onShowMenu.add(function(){m.focus();j=m.selection.getBookmark(1)});n.onHideMenu.add(function(){if(j){m.selection.moveToBookmark(j);j=0}})}return o.add(n)},createToolbar:function(n,k,m){var l,j=this,g;n=j.prefix+n;g=m||j._cls.toolbar||d.ui.Toolbar;l=new g(n,k,j.editor);if(j.get(n)){return null}return j.add(l)},createToolbarGroup:function(n,k,m){var l,j=this,g;n=j.prefix+n;g=m||this._cls.toolbarGroup||d.ui.ToolbarGroup;l=new g(n,k,j.editor);if(j.get(n)){return null}return j.add(l)},createSeparator:function(j){var g=j||this._cls.separator||d.ui.Separator;return new g()},setControlType:function(j,g){return this._cls[j.toLowerCase()]=g},destroy:function(){e(this.controls,function(g){g.destroy()});this.controls=null}})})(tinymce);(function(e){var b=e.util.Dispatcher,f=e.each,d=e.isIE,c=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(g){var j=this;j.editor=g;j.onOpen=new b(j);j.onClose=new b(j);j.params={};j.features={}},open:function(B,j){var A=this,m="",q,o,k=A.editor.settings.dialog_type=="modal",v,r,l,g=e.DOM.getViewPort(),z;B=B||{};j=j||{};r=c?g.w:screen.width;l=c?g.h:screen.height;B.name=B.name||"mc_"+new Date().getTime();B.width=parseInt(B.width||320);B.height=parseInt(B.height||240);B.resizable=true;B.left=B.left||parseInt(r/2)-(B.width/2);B.top=B.top||parseInt(l/2)-(B.height/2);j.inline=false;j.mce_width=B.width;j.mce_height=B.height;j.mce_auto_focus=B.auto_focus;if(k){if(d){B.center=true;B.help=false;B.dialogWidth=B.width+"px";B.dialogHeight=B.height+"px";B.scroll=B.scrollbars||false}}f(B,function(t,s){if(e.is(t,"boolean")){t=t?"yes":"no"}if(!/^(name|url)$/.test(s)){if(d&&k){m+=(m?";":"")+s+":"+t}else{m+=(m?",":"")+s+"="+t}}});A.features=B;A.params=j;A.onOpen.dispatch(A,B,j);z=B.url||B.file;z=e._addVer(z);try{if(d&&k){v=1;window.showModalDialog(z,window,m)}else{v=window.open(z,B.name,m)}}catch(n){}if(!v){alert(A.editor.getLang("popup_blocked"))}},close:function(g){g.close();this.onClose.dispatch(this)},createInstance:function(k,j,g,o,n,m){var l=e.resolve(k);return new l(j,g,o,n,m)},confirm:function(k,g,l,j){j=j||window;g.call(l||this,j.confirm(this._decode(this.editor.getLang(k,k))))},alert:function(k,g,m,j){var l=this;j=j||window;j.alert(l._decode(l.editor.getLang(k,k)));if(g){g.call(m||l)}},resizeBy:function(g,j,k){k.resizeBy(g,j)},_decode:function(g){return e.DOM.decode(g).replace(/\\n/g,"\n")}})}(tinymce));(function(b){b.Formatter=function(ag){var W={},Z=b.each,d=ag.dom,v=ag.selection,A=b.dom.TreeWalker,T=new b.dom.RangeUtils(d),e=ag.schema.isValidChild,N=d.isBlock,q=ag.settings.forced_root_block,z=d.nodeIndex,M=b.isGecko?"\u200B":"\uFEFF",f=/^(src|href|style)$/,ad=false,I=true,V,J,D=d.getContentEditable;function G(ah){return ah instanceof Array}function r(ai,ah){return d.getParents(ai,ah,d.getRoot())}function c(ah){return ah.nodeType===1&&ah.id==="_mce_caret"}function m(){o({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(ah){return true},onformat:function(aj,ah,ai){Z(ai,function(al,ak){d.setAttrib(aj,ak,al)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});Z("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(ah){o(ah,{block:ah,remove:"all"})});o(ag.settings.formats)}function ac(){ag.addShortcut("ctrl+b","bold_desc","Bold");ag.addShortcut("ctrl+i","italic_desc","Italic");ag.addShortcut("ctrl+u","underline_desc","Underline");for(var ah=1;ah<=6;ah++){ag.addShortcut("ctrl+"+ah,"",["FormatBlock",false,"h"+ah])}ag.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);ag.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);ag.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function ab(ah){return ah?W[ah]:W}function o(ah,ai){if(ah){if(typeof(ah)!=="string"){Z(ah,function(ak,aj){o(aj,ak)})}else{ai=ai.length?ai:[ai];Z(ai,function(aj){if(aj.deep===J){aj.deep=!aj.selector}if(aj.split===J){aj.split=!aj.selector||aj.inline}if(aj.remove===J&&aj.selector&&!aj.inline){aj.remove="none"}if(aj.selector&&aj.inline){aj.mixed=true;aj.block_expand=true}if(typeof(aj.classes)==="string"){aj.classes=aj.classes.split(/\s+/)}});W[ah]=ai}}}var l=function(ai){var ah;ag.dom.getParent(ai,function(aj){ah=ag.dom.getStyle(aj,"text-decoration");return ah&&ah!=="none"});return ah};var R=function(ah){var ai;if(ah.nodeType===1&&ah.parentNode&&ah.parentNode.nodeType===1){ai=l(ah.parentNode);if(ag.dom.getStyle(ah,"color")&&ai){ag.dom.setStyle(ah,"text-decoration",ai)}else{if(ag.dom.getStyle(ah,"textdecoration")===ai){ag.dom.setStyle(ah,"text-decoration",null)}}}};function ae(ak,ar,am){var an=ab(ak),at=an[0],aq,ai,ap,ao=v.isCollapsed();function ah(ax,aw){aw=aw||at;if(ax){if(aw.onformat){aw.onformat(ax,aw,ar,am)}Z(aw.styles,function(az,ay){d.setStyle(ax,ay,u(az,ar))});Z(aw.attributes,function(az,ay){d.setAttrib(ax,ay,u(az,ar))});Z(aw.classes,function(ay){ay=u(ay,ar);if(!d.hasClass(ax,ay)){d.addClass(ax,ay)}})}}function al(){function ay(aE,aC){var aD=new A(aC);for(am=aD.current();am;am=aD.prev()){if(am.childNodes.length>1||am==aE||am.tagName=="BR"){return am}}}var ax=ag.selection.getRng();var aB=ax.startContainer;var aw=ax.endContainer;if(aB!=aw&&ax.endOffset===0){var aA=ay(aB,aw);var az=aA.nodeType==3?aA.length:aA.childNodes.length;ax.setEnd(aA,az)}return ax}function aj(az,aE,aC,aB,ax){var aw=[],ay=-1,aD,aG=-1,aA=-1,aF;Z(az.childNodes,function(aI,aH){if(aI.nodeName==="UL"||aI.nodeName==="OL"){ay=aH;aD=aI;return false}});Z(az.childNodes,function(aI,aH){if(aI.nodeName==="SPAN"&&d.getAttrib(aI,"data-mce-type")=="bookmark"){if(aI.id==aE.id+"_start"){aG=aH}else{if(aI.id==aE.id+"_end"){aA=aH}}}});if(ay<=0||(aG<ay&&aA>ay)){Z(b.grep(az.childNodes),ax);return 0}else{aF=d.clone(aC,ad);Z(b.grep(az.childNodes),function(aI,aH){if((aG<ay&&aH<ay)||(aG>ay&&aH>ay)){aw.push(aI);aI.parentNode.removeChild(aI)}});if(aG<ay){az.insertBefore(aF,aD)}else{if(aG>ay){az.insertBefore(aF,aD.nextSibling)}}aB.push(aF);Z(aw,function(aH){aF.appendChild(aH)});return aF}}function au(ax,az,aC){var aw=[],aB,ay,aA=true;aB=at.inline||at.block;ay=d.create(aB);ah(ay);T.walk(ax,function(aD){var aE;function aF(aG){var aL,aJ,aH,aI,aK;aK=aA;aL=aG.nodeName.toLowerCase();aJ=aG.parentNode.nodeName.toLowerCase();if(aG.nodeType===1&&D(aG)){aK=aA;aA=D(aG)==="true";aI=true}if(j(aL,"br")){aE=0;if(at.block){d.remove(aG)}return}if(at.wrapper&&E(aG,ak,ar)){aE=0;return}if(aA&&!aI&&at.block&&!at.wrapper&&O(aL)){aG=d.rename(aG,aB);ah(aG);aw.push(aG);aE=0;return}if(at.selector){Z(an,function(aM){if("collapsed" in aM&&aM.collapsed!==ao){return}if(d.is(aG,aM.selector)&&!c(aG)){ah(aG,aM);aH=true}});if(!at.inline||aH){aE=0;return}}if(aA&&!aI&&e(aB,aL)&&e(aJ,aB)&&!(!aC&&aG.nodeType===3&&aG.nodeValue.length===1&&aG.nodeValue.charCodeAt(0)===65279)&&!c(aG)){if(!aE){aE=d.clone(ay,ad);aG.parentNode.insertBefore(aE,aG);aw.push(aE)}aE.appendChild(aG)}else{if(aL=="li"&&az){aE=aj(aG,az,ay,aw,aF)}else{aE=0;Z(b.grep(aG.childNodes),aF);if(aI){aA=aK}aE=0}}}Z(aD,aF)});if(at.wrap_links===false){Z(aw,function(aD){function aE(aI){var aH,aG,aF;if(aI.nodeName==="A"){aG=d.clone(ay,ad);aw.push(aG);aF=b.grep(aI.childNodes);for(aH=0;aH<aF.length;aH++){aG.appendChild(aF[aH])}aI.appendChild(aG)}Z(b.grep(aI.childNodes),aE)}aE(aD)})}Z(aw,function(aF){var aD;function aG(aI){var aH=0;Z(aI.childNodes,function(aJ){if(!g(aJ)&&!Q(aJ)){aH++}});return aH}function aE(aH){var aJ,aI;Z(aH.childNodes,function(aK){if(aK.nodeType==1&&!Q(aK)&&!c(aK)){aJ=aK;return ad}});if(aJ&&k(aJ,at)){aI=d.clone(aJ,ad);ah(aI);d.replace(aI,aH,I);d.remove(aJ,1)}return aI||aH}aD=aG(aF);if((aw.length>1||!N(aF))&&aD===0){d.remove(aF,1);return}if(at.inline||at.wrapper){if(!at.exact&&aD===1){aF=aE(aF)}Z(an,function(aH){Z(d.select(aH.inline,aF),function(aJ){var aI;if(aH.wrap_links===false){aI=aJ.parentNode;do{if(aI.nodeName==="A"){return}}while(aI=aI.parentNode)}af(aH,ar,aJ,aH.exact?aJ:null)})});if(E(aF.parentNode,ak,ar)){d.remove(aF,1);aF=0;return I}if(at.merge_with_parents){d.getParent(aF.parentNode,function(aH){if(E(aH,ak,ar)){d.remove(aF,1);aF=0;return I}})}if(aF&&at.merge_siblings!==false){aF=B(K(aF),aF);aF=B(aF,K(aF,I))}}})}if(at){if(am){if(am.nodeType){ai=d.createRng();ai.setStartBefore(am);ai.setEndAfter(am);au(t(ai,an),null,true)}else{au(am,null,true)}}else{if(!ao||!at.inline||d.select("td.mceSelected,th.mceSelected").length){var av=ag.selection.getNode();if(!q&&an[0].defaultBlock&&!d.getParent(av,d.isBlock)){ae(an[0].defaultBlock)}ag.selection.setRng(al());aq=v.getBookmark();au(t(v.getRng(I),an),aq);if(at.styles&&(at.styles.color||at.styles.textDecoration)){b.walk(av,R,"childNodes");R(av)}v.moveToBookmark(aq);X(v.getRng(I));ag.nodeChanged()}else{aa("apply",ak,ar)}}}}function H(aj,at,al){var am=ab(aj),av=am[0],aq,ap,ai,ar=true;function ak(aB){var aA,az,ay,ax,aD,aC;if(aB.nodeType===1&&D(aB)){aD=ar;ar=D(aB)==="true";aC=true}aA=b.grep(aB.childNodes);if(ar&&!aC){for(az=0,ay=am.length;az<ay;az++){if(af(am[az],at,aB,aB)){break}}}if(av.deep){if(aA.length){for(az=0,ay=aA.length;az<ay;az++){ak(aA[az])}if(aC){ar=aD}}}}function an(ax){var ay;Z(r(ax.parentNode).reverse(),function(az){var aA;if(!ay&&az.id!="_start"&&az.id!="_end"){aA=E(az,aj,at);if(aA&&aA.split!==false){ay=az}}});return ay}function ah(aA,ax,aC,aF){var aG,aE,aD,az,aB,ay;if(aA){ay=aA.parentNode;for(aG=ax.parentNode;aG&&aG!=ay;aG=aG.parentNode){aE=d.clone(aG,ad);for(aB=0;aB<am.length;aB++){if(af(am[aB],at,aE,aE)){aE=0;break}}if(aE){if(aD){aE.appendChild(aD)}if(!az){az=aE}aD=aE}}if(aF&&(!av.mixed||!N(aA))){ax=d.split(aA,ax)}if(aD){aC.parentNode.insertBefore(aD,aC);az.appendChild(aC)}}return ax}function au(ax){return ah(an(ax),ax,ax,true)}function ao(az){var ay=d.get(az?"_start":"_end"),ax=ay[az?"firstChild":"lastChild"];if(Q(ax)){ax=ax[az?"firstChild":"lastChild"]}d.remove(ay,true);return ax}function aw(ax){var az,aA,ay;ax=t(ax,am,I);if(av.split){az=S(ax,I);aA=S(ax);if(az!=aA){if(/^(TR|TD)$/.test(az.nodeName)&&az.firstChild){az=(az.nodeName=="TD"?az.firstChild:az.firstChild.firstChild)||az}az=Y(az,"span",{id:"_start","data-mce-type":"bookmark"});aA=Y(aA,"span",{id:"_end","data-mce-type":"bookmark"});au(az);au(aA);az=ao(I);aA=ao()}else{az=aA=au(az)}ax.startContainer=az.parentNode;ax.startOffset=z(az);ax.endContainer=aA.parentNode;ax.endOffset=z(aA)+1}T.walk(ax,function(aB){Z(aB,function(aC){ak(aC);if(aC.nodeType===1&&ag.dom.getStyle(aC,"text-decoration")==="underline"&&aC.parentNode&&l(aC.parentNode)==="underline"){af({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aC)}})})}if(al){if(al.nodeType){ai=d.createRng();ai.setStartBefore(al);ai.setEndAfter(al);aw(ai)}else{aw(al)}return}if(!v.isCollapsed()||!av.inline||d.select("td.mceSelected,th.mceSelected").length){aq=v.getBookmark();aw(v.getRng(I));v.moveToBookmark(aq);if(av.inline&&n(aj,at,v.getStart())){X(v.getRng(true))}ag.nodeChanged()}else{aa("remove",aj,at)}}function L(ai,ak,aj){var ah=ab(ai);if(n(ai,ak,aj)&&(!("toggle" in ah[0])||ah[0].toggle)){H(ai,ak,aj)}else{ae(ai,ak,aj)}}function E(ai,ah,an,al){var aj=ab(ah),ao,am,ak;function ap(au,aw,ax){var at,av,aq=aw[ax],ar;if(aw.onmatch){return aw.onmatch(au,aw,ax)}if(aq){if(aq.length===J){for(at in aq){if(aq.hasOwnProperty(at)){if(ax==="attributes"){av=d.getAttrib(au,at)}else{av=U(au,at)}if(al&&!av&&!aw.exact){return}if((!al||aw.exact)&&!j(av,u(aq[at],an))){return}}}}else{for(ar=0;ar<aq.length;ar++){if(ax==="attributes"?d.getAttrib(au,aq[ar]):U(au,aq[ar])){return aw}}}}return aw}if(aj&&ai){for(am=0;am<aj.length;am++){ao=aj[am];if(k(ai,ao)&&ap(ai,ao,"attributes")&&ap(ai,ao,"styles")){if(ak=ao.classes){for(am=0;am<ak.length;am++){if(!d.hasClass(ai,ak[am])){return}}}return ao}}}}function n(aj,al,ak){var ai;function ah(am){am=d.getParent(am,function(an){return !!E(an,aj,al,true)});return E(am,aj,al)}if(ak){return ah(ak)}ak=v.getNode();if(ah(ak)){return I}ai=v.getStart();if(ai!=ak){if(ah(ai)){return I}}return ad}function C(ao,an){var al,am=[],ak={},aj,ai,ah;al=v.getStart();d.getParent(al,function(ar){var aq,ap;for(aq=0;aq<ao.length;aq++){ap=ao[aq];if(!ak[ap]&&E(ar,ap,an)){ak[ap]=true;am.push(ap)}}},d.getRoot());return am}function F(al){var an=ab(al),ak,aj,am,ai,ah;if(an){ak=v.getStart();aj=r(ak);for(ai=an.length-1;ai>=0;ai--){ah=an[ai].selector;if(!ah){return I}for(am=aj.length-1;am>=0;am--){if(d.is(aj[am],ah)){return I}}}}return ad}function P(ah,aj){var ai;if(!V){V={};ai={};ag.onNodeChange.addToTop(function(al,ak,an){var am=r(an),ao={};Z(V,function(ap,aq){Z(am,function(ar){if(E(ar,aq,{},true)){if(!ai[aq]){Z(ap,function(at){at(true,{node:ar,format:aq,parents:am})});ai[aq]=ap}ao[aq]=ap;return false}})});Z(ai,function(ap,aq){if(!ao[aq]){delete ai[aq];Z(ap,function(ar){ar(false,{node:an,format:aq,parents:am})})}})})}Z(ah.split(","),function(ak){if(!V[ak]){V[ak]=[]}V[ak].push(aj)});return this}b.extend(this,{get:ab,register:o,apply:ae,remove:H,toggle:L,match:n,matchAll:C,matchNode:E,canApply:F,formatChanged:P});m();ac();function k(ah,ai){if(j(ah,ai.inline)){return I}if(j(ah,ai.block)){return I}if(ai.selector){return d.is(ah,ai.selector)}}function j(ai,ah){ai=ai||"";ah=ah||"";ai=""+(ai.nodeName||ai);ah=""+(ah.nodeName||ah);return ai.toLowerCase()==ah.toLowerCase()}function U(ai,ah){var aj=d.getStyle(ai,ah);if(ah=="color"||ah=="backgroundColor"){aj=d.toHex(aj)}if(ah=="fontWeight"&&aj==700){aj="bold"}return""+aj}function u(ah,ai){if(typeof(ah)!="string"){ah=ah(ai)}else{if(ai){ah=ah.replace(/%(\w+)/g,function(ak,aj){return ai[aj]||ak})}}return ah}function g(ah){return ah&&ah.nodeType===3&&/^([\t \r\n]+|)$/.test(ah.nodeValue)}function Y(aj,ai,ah){var ak=d.create(ai,ah);aj.parentNode.insertBefore(ak,aj);ak.appendChild(aj);return ak}function t(ah,at,ak){var aw,au,an,ar,aj=ah.startContainer,ao=ah.startOffset,ay=ah.endContainer,aq=ah.endOffset;function av(aF){var aA,aD,aE,aC,aB,az;aA=aD=aF?aj:ay;aB=aF?"previousSibling":"nextSibling";az=d.getRoot();if(aA.nodeType==3&&!g(aA)){if(aF?ao>0:aq<aA.nodeValue.length){return aA}}for(;;){if(!at[0].block_expand&&N(aD)){return aD}for(aC=aD[aB];aC;aC=aC[aB]){if(!Q(aC)&&!g(aC)){return aD}}if(aD.parentNode==az){aA=aD;break}aD=aD.parentNode}return aA}function am(az,aA){if(aA===J){aA=az.nodeType===3?az.length:az.childNodes.length}while(az&&az.hasChildNodes()){az=az.childNodes[aA];if(az){aA=az.nodeType===3?az.length:az.childNodes.length}}return{node:az,offset:aA}}if(aj.nodeType==1&&aj.hasChildNodes()){au=aj.childNodes.length-1;aj=aj.childNodes[ao>au?au:ao];if(aj.nodeType==3){ao=0}}if(ay.nodeType==1&&ay.hasChildNodes()){au=ay.childNodes.length-1;ay=ay.childNodes[aq>au?au:aq-1];if(ay.nodeType==3){aq=ay.nodeValue.length}}function ax(aA){var az=aA;while(az){if(az.nodeType===1&&D(az)){return D(az)==="false"?az:aA}az=az.parentNode}return aA}function ap(aA,aE,aG){var aD,aB,aF,az;function aC(aI,aK){var aL,aH,aJ=aI.nodeValue;if(typeof(aK)=="undefined"){aK=aG?aJ.length:0}if(aG){aL=aJ.lastIndexOf(" ",aK);aH=aJ.lastIndexOf("\u00a0",aK);aL=aL>aH?aL:aH;if(aL!==-1&&!ak){aL++}}else{aL=aJ.indexOf(" ",aK);aH=aJ.indexOf("\u00a0",aK);aL=aL!==-1&&(aH===-1||aL<aH)?aL:aH}return aL}if(aA.nodeType===3){aF=aC(aA,aE);if(aF!==-1){return{container:aA,offset:aF}}az=aA}aD=new A(aA,d.getParent(aA,N)||ag.getBody());while(aB=aD[aG?"prev":"next"]()){if(aB.nodeType===3){az=aB;aF=aC(aB);if(aF!==-1){return{container:aB,offset:aF}}}else{if(N(aB)){break}}}if(az){if(aG){aE=0}else{aE=az.length}return{container:az,offset:aE}}}function al(aA,az){var aB,aC,aE,aD;if(aA.nodeType==3&&aA.nodeValue.length===0&&aA[az]){aA=aA[az]}aB=r(aA);for(aC=0;aC<aB.length;aC++){for(aE=0;aE<at.length;aE++){aD=at[aE];if("collapsed" in aD&&aD.collapsed!==ah.collapsed){continue}if(d.is(aB[aC],aD.selector)){return aB[aC]}}}return aA}function ai(aA,az,aC){var aB;if(!at[0].wrapper){aB=d.getParent(aA,at[0].block)}if(!aB){aB=d.getParent(aA.nodeType==3?aA.parentNode:aA,N)}if(aB&&at[0].wrapper){aB=r(aB,"ul,ol").reverse()[0]||aB}if(!aB){aB=aA;while(aB[az]&&!N(aB[az])){aB=aB[az];if(j(aB,"br")){break}}}return aB||aA}aj=ax(aj);ay=ax(ay);if(Q(aj.parentNode)||Q(aj)){aj=Q(aj)?aj:aj.parentNode;aj=aj.nextSibling||aj;if(aj.nodeType==3){ao=0}}if(Q(ay.parentNode)||Q(ay)){ay=Q(ay)?ay:ay.parentNode;ay=ay.previousSibling||ay;if(ay.nodeType==3){aq=ay.length}}if(at[0].inline){if(ah.collapsed){ar=ap(aj,ao,true);if(ar){aj=ar.container;ao=ar.offset}ar=ap(ay,aq);if(ar){ay=ar.container;aq=ar.offset}}an=am(ay,aq);if(an.node){while(an.node&&an.offset===0&&an.node.previousSibling){an=am(an.node.previousSibling)}if(an.node&&an.offset>0&&an.node.nodeType===3&&an.node.nodeValue.charAt(an.offset-1)===" "){if(an.offset>1){ay=an.node;ay.splitText(an.offset-1)}}}}if(at[0].inline||at[0].block_expand){if(!at[0].inline||(aj.nodeType!=3||ao===0)){aj=av(true)}if(!at[0].inline||(ay.nodeType!=3||aq===ay.nodeValue.length)){ay=av()}}if(at[0].selector&&at[0].expand!==ad&&!at[0].inline){aj=al(aj,"previousSibling");ay=al(ay,"nextSibling")}if(at[0].block||at[0].selector){aj=ai(aj,"previousSibling");ay=ai(ay,"nextSibling");if(at[0].block){if(!N(aj)){aj=av(true)}if(!N(ay)){ay=av()}}}if(aj.nodeType==1){ao=z(aj);aj=aj.parentNode}if(ay.nodeType==1){aq=z(ay)+1;ay=ay.parentNode}return{startContainer:aj,startOffset:ao,endContainer:ay,endOffset:aq}}function af(an,am,ak,ah){var aj,ai,al;if(!k(ak,an)){return ad}if(an.remove!="all"){Z(an.styles,function(ap,ao){ap=u(ap,am);if(typeof(ao)==="number"){ao=ap;ah=0}if(!ah||j(U(ah,ao),ap)){d.setStyle(ak,ao,"")}al=1});if(al&&d.getAttrib(ak,"style")==""){ak.removeAttribute("style");ak.removeAttribute("data-mce-style")}Z(an.attributes,function(aq,ao){var ap;aq=u(aq,am);if(typeof(ao)==="number"){ao=aq;ah=0}if(!ah||j(d.getAttrib(ah,ao),aq)){if(ao=="class"){aq=d.getAttrib(ak,ao);if(aq){ap="";Z(aq.split(/\s+/),function(ar){if(/mce\w+/.test(ar)){ap+=(ap?" ":"")+ar}});if(ap){d.setAttrib(ak,ao,ap);return}}}if(ao=="class"){ak.removeAttribute("className")}if(f.test(ao)){ak.removeAttribute("data-mce-"+ao)}ak.removeAttribute(ao)}});Z(an.classes,function(ao){ao=u(ao,am);if(!ah||d.hasClass(ah,ao)){d.removeClass(ak,ao)}});ai=d.getAttribs(ak);for(aj=0;aj<ai.length;aj++){if(ai[aj].nodeName.indexOf("_")!==0){return ad}}}if(an.remove!="none"){s(ak,an);return I}}function s(aj,ak){var ah=aj.parentNode,ai;function al(an,am,ao){an=K(an,am,ao);return !an||(an.nodeName=="BR"||N(an))}if(ak.block){if(!q){if(N(aj)&&!N(ah)){if(!al(aj,ad)&&!al(aj.firstChild,I,1)){aj.insertBefore(d.create("br"),aj.firstChild)}if(!al(aj,I)&&!al(aj.lastChild,ad,1)){aj.appendChild(d.create("br"))}}}else{if(ah==d.getRoot()){if(!ak.list_block||!j(aj,ak.list_block)){Z(b.grep(aj.childNodes),function(am){if(e(q,am.nodeName.toLowerCase())){if(!ai){ai=Y(am,q)}else{ai.appendChild(am)}}else{ai=0}})}}}}if(ak.selector&&ak.inline&&!j(ak.inline,aj)){return}d.remove(aj,1)}function K(ai,ah,aj){if(ai){ah=ah?"nextSibling":"previousSibling";for(ai=aj?ai:ai[ah];ai;ai=ai[ah]){if(ai.nodeType==1||!g(ai)){return ai}}}}function Q(ah){return ah&&ah.nodeType==1&&ah.getAttribute("data-mce-type")=="bookmark"}function B(al,ak){var ah,aj,ai;function an(aq,ap){if(aq.nodeName!=ap.nodeName){return ad}function ao(at){var au={};Z(d.getAttribs(at),function(av){var aw=av.nodeName.toLowerCase();if(aw.indexOf("_")!==0&&aw!=="style"){au[aw]=d.getAttrib(at,aw)}});return au}function ar(aw,av){var au,at;for(at in aw){if(aw.hasOwnProperty(at)){au=av[at];if(au===J){return ad}if(aw[at]!=au){return ad}delete av[at]}}for(at in av){if(av.hasOwnProperty(at)){return ad}}return I}if(!ar(ao(aq),ao(ap))){return ad}if(!ar(d.parseStyle(d.getAttrib(aq,"style")),d.parseStyle(d.getAttrib(ap,"style")))){return ad}return I}function am(ap,ao){for(aj=ap;aj;aj=aj[ao]){if(aj.nodeType==3&&aj.nodeValue.length!==0){return ap}if(aj.nodeType==1&&!Q(aj)){return aj}}return ap}if(al&&ak){al=am(al,"previousSibling");ak=am(ak,"nextSibling");if(an(al,ak)){for(aj=al.nextSibling;aj&&aj!=ak;){ai=aj;aj=aj.nextSibling;al.appendChild(ai)}d.remove(ak);Z(b.grep(ak.childNodes),function(ao){al.appendChild(ao)});return al}}return ak}function O(ah){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(ah)}function S(ai,am){var ah,al,aj,ak;ah=ai[am?"startContainer":"endContainer"];al=ai[am?"startOffset":"endOffset"];if(ah.nodeType==1){aj=ah.childNodes.length-1;if(!am&&al){al--}ah=ah.childNodes[al>aj?aj:al]}if(ah.nodeType===3&&am&&al>=ah.nodeValue.length){ah=new A(ah,ag.getBody()).next()||ah}if(ah.nodeType===3&&!am&&al===0){ah=new A(ah,ag.getBody()).prev()||ah}return ah}function aa(aq,ah,ao){var ar="_mce_caret",ai=ag.settings.caret_debug;function aj(aw){var av=d.create("span",{id:ar,"data-mce-bogus":true,style:ai?"color:red":""});if(aw){av.appendChild(ag.getDoc().createTextNode(M))}return av}function ap(aw,av){while(aw){if((aw.nodeType===3&&aw.nodeValue!==M)||aw.childNodes.length>1){return false}if(av&&aw.nodeType===1){av.push(aw)}aw=aw.firstChild}return true}function am(av){while(av){if(av.id===ar){return av}av=av.parentNode}}function al(av){var aw;if(av){aw=new A(av,av);for(av=aw.current();av;av=aw.next()){if(av.nodeType===3){return av}}}}function ak(ax,aw){var ay,av;if(!ax){ax=am(v.getStart());if(!ax){while(ax=d.get(ar)){ak(ax,false)}}}else{av=v.getRng(true);if(ap(ax)){if(aw!==false){av.setStartBefore(ax);av.setEndBefore(ax)}d.remove(ax)}else{ay=al(ax);if(ay.nodeValue.charAt(0)===M){ay=ay.deleteData(0,1)}d.remove(ax,1)}v.setRng(av)}}function an(){var ax,av,aB,aA,ay,aw,az;ax=v.getRng(true);aA=ax.startOffset;aw=ax.startContainer;az=aw.nodeValue;av=am(v.getStart());if(av){aB=al(av)}if(az&&aA>0&&aA<az.length&&/\w/.test(az.charAt(aA))&&/\w/.test(az.charAt(aA-1))){ay=v.getBookmark();ax.collapse(true);ax=t(ax,ab(ah));ax=T.split(ax);ae(ah,ao,ax);v.moveToBookmark(ay)}else{if(!av||aB.nodeValue!==M){av=aj(true);aB=av.firstChild;ax.insertNode(av);aA=1;ae(ah,ao,av)}else{ae(ah,ao,av)}v.setCursorLocation(aB,aA)}}function at(){var av=v.getRng(true),aw,ay,aB,aA,ax,aE,aD=[],az,aC;aw=av.startContainer;ay=av.startOffset;ax=aw;if(aw.nodeType==3){if(ay!=aw.nodeValue.length||aw.nodeValue===M){aA=true}ax=ax.parentNode}while(ax){if(E(ax,ah,ao)){aE=ax;break}if(ax.nextSibling){aA=true}aD.push(ax);ax=ax.parentNode}if(!aE){return}if(aA){aB=v.getBookmark();av.collapse(true);av=t(av,ab(ah),true);av=T.split(av);H(ah,ao,av);v.moveToBookmark(aB)}else{aC=aj();ax=aC;for(az=aD.length-1;az>=0;az--){ax.appendChild(d.clone(aD[az],false));ax=ax.firstChild}ax.appendChild(d.doc.createTextNode(M));ax=ax.firstChild;d.insertAfter(aC,aE);v.setCursorLocation(ax,1)}}function au(){var aw,av,ax;av=am(v.getStart());if(av&&!d.isEmpty(av)){b.walk(av,function(ay){if(ay.nodeType==1&&ay.id!==ar&&!d.isEmpty(ay)){d.setAttrib(ay,"data-mce-bogus",null)}},"childNodes")}}if(!self._hasCaretEvents){ag.onBeforeGetContent.addToTop(function(){var av=[],aw;if(ap(am(v.getStart()),av)){aw=av.length;while(aw--){d.setAttrib(av[aw],"data-mce-bogus","1")}}});b.each("onMouseUp onKeyUp".split(" "),function(av){ag[av].addToTop(function(){ak();au()})});ag.onKeyDown.addToTop(function(av,ax){var aw=ax.keyCode;if(aw==8||aw==37||aw==39){ak(am(v.getStart()))}au()});v.onSetContent.add(au);self._hasCaretEvents=true}if(aq=="apply"){an()}else{at()}}function X(ai){var ah=ai.startContainer,ao=ai.startOffset,ak,an,am,aj,al;if(ah.nodeType==3&&ao>=ah.nodeValue.length){ao=z(ah);ah=ah.parentNode;ak=true}if(ah.nodeType==1){aj=ah.childNodes;ah=aj[Math.min(ao,aj.length-1)];an=new A(ah,d.getParent(ah,d.isBlock));if(ao>aj.length-1||ak){an.next()}for(am=an.current();am;am=an.next()){if(am.nodeType==3&&!g(am)){al=d.create("a",null,M);am.parentNode.insertBefore(al,am);ai.setStart(am,0);v.setRng(ai);d.remove(al);return}}}}}})(tinymce);tinymce.onAddEditor.add(function(f,b){var e,k,j,d=b.settings;function c(m,l){f.each(l,function(o,n){if(o){j.setStyle(m,n,o)}});j.rename(m,"span")}function g(l,m){j=l.dom;if(d.convert_fonts_to_spans){f.each(j.select("font,u,strike",m.node),function(n){e[n.nodeName.toLowerCase()](b.dom,n)})}}if(d.inline_styles){k=f.explode(d.font_size_legacy_values);e={font:function(m,l){c(l,{backgroundColor:l.style.backgroundColor,color:l.color,fontFamily:l.face,fontSize:k[parseInt(l.size,10)-1]})},u:function(m,l){c(l,{textDecoration:"underline"})},strike:function(m,l){c(l,{textDecoration:"line-through"})}};b.onPreProcess.add(g);b.onSetContent.add(g);b.onInit.add(function(){b.selection.onSetContent.add(g)})}});(function(c){var b=c.dom.TreeWalker;c.EnterKey=function(f){var k=f.dom,e=f.selection,d=f.settings,j=f.undoManager;function g(E){var B=e.getRng(true),I,l,D,A,s,N,r,m,o,z,K,C,F;function H(O){return O&&k.isBlock(O)&&!/^(TD|TH|CAPTION)$/.test(O.nodeName)&&!/^(fixed|absolute)/i.test(O.style.position)&&k.getContentEditable(O)!=="true"}function q(P){var U,S,O,V,T,R=P,Q;O=k.createRng();if(P.hasChildNodes()){U=new b(P,P);while(S=U.current()){if(S.nodeType==3){O.setStart(S,0);O.setEnd(S,0);break}if(/^(BR|IMG)$/.test(S.nodeName)){O.setStartBefore(S);O.setEndBefore(S);break}R=S;S=U.next()}if(!S){O.setStart(R,0);O.setEnd(R,0)}}else{if(P.nodeName=="BR"){if(P.nextSibling&&k.isBlock(P.nextSibling)){if(!N||N<9){Q=k.create("br");P.parentNode.insertBefore(Q,P)}O.setStartBefore(P);O.setEndBefore(P)}else{O.setStartAfter(P);O.setEndAfter(P)}}else{O.setStart(P,0);O.setEnd(P,0)}}e.setRng(O);k.remove(Q);T=k.getViewPort(f.getWin());V=k.getPos(P).y;if(V<T.y||V+25>T.y+T.h){f.getWin().scrollTo(0,V<T.y?V:V-T.h+25)}}function u(P){var Q=D,S,R,O;S=P||z=="TABLE"?k.create(P||C):s.cloneNode(false);O=S;if(d.keep_styles!==false){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(Q.nodeName)){R=Q.cloneNode(false);k.setAttrib(R,"id","");if(S.hasChildNodes()){R.appendChild(S.firstChild);S.appendChild(R)}else{O=R;S.appendChild(R)}}}while(Q=Q.parentNode)}if(!c.isIE){O.innerHTML="<br>"}return S}function t(R){var Q,P,O;if(D.nodeType==3&&(R?A>0:A<D.nodeValue.length)){return false}if(D.parentNode==s&&F&&!R){return true}if(D.nodeName==="TABLE"||(D.previousSibling&&D.previousSibling.nodeName=="TABLE")){return(F&&!R)||(!F&&R)}Q=new b(D,s);while(P=(R?Q.prev():Q.next())){if(P.nodeType===1){if(P.getAttribute("data-mce-bogus")){continue}O=P.nodeName.toLowerCase();if(O==="IMG"){return false}}else{if(P.nodeType===3&&!/^[ \t\r\n]*$/.test(P.nodeValue)){return false}}}return true}function n(O,U){var V,T,Q,S,R,P=C||"P";T=k.getParent(O,k.isBlock);if(!T||!H(T)){T=T||l;if(!T.hasChildNodes()){V=k.create(P);T.appendChild(V);B.setStart(V,0);B.setEnd(V,0);return V}S=O;while(S.parentNode!=T){S=S.parentNode}while(S&&!k.isBlock(S)){Q=S;S=S.previousSibling}if(Q){V=k.create(P);Q.parentNode.insertBefore(V,Q);S=Q;while(S&&!k.isBlock(S)){R=S.nextSibling;V.appendChild(S);S=R}B.setStart(O,U);B.setEnd(O,U)}}return O}function J(){function O(Q){var P=o[Q?"firstChild":"lastChild"];while(P){if(P.nodeType==1){break}P=P[Q?"nextSibling":"previousSibling"]}return P===s}r=C?u(C):k.create("BR");if(O(true)&&O()){k.replace(r,o)}else{if(O(true)){o.parentNode.insertBefore(r,o)}else{if(O()){k.insertAfter(r,o)}else{I=B.cloneRange();I.setStartAfter(s);I.setEndAfter(o);m=I.extractContents();k.insertAfter(m,o);k.insertAfter(r,o)}}}k.remove(s);q(r);j.add()}function G(){var P=new b(D,s),O;while(O=P.current()){if(O.nodeName=="BR"){return true}O=P.next()}}function M(){var P,O;if(D&&D.nodeType==3&&A>=D.nodeValue.length){if(!c.isIE&&!G()){P=k.create("br");B.insertNode(P);B.setStartAfter(P);B.setEndAfter(P);O=true}}P=k.create("br");B.insertNode(P);if(c.isIE&&z=="PRE"&&(!N||N<8)){P.parentNode.insertBefore(k.doc.createTextNode("\r"),P)}if(!O){B.setStartAfter(P);B.setEndAfter(P)}else{B.setStartBefore(P);B.setEndBefore(P)}e.setRng(B);j.add()}function v(O){do{if(O.nodeType===3){O.nodeValue=O.nodeValue.replace(/^[\r\n]+/,"")}O=O.firstChild}while(O)}function L(Q){var O=k.getRoot(),P,R;P=Q;while(P!==O&&k.getContentEditable(P)!=="false"){if(k.getContentEditable(P)==="true"){R=P}P=P.parentNode}return P!==O?R:O}if(!B.collapsed){f.execCommand("Delete");return}if(E.isDefaultPrevented()){return}D=B.startContainer;A=B.startOffset;C=d.forced_root_block;C=C?C.toUpperCase():"";N=k.doc.documentMode;if(D.nodeType==1&&D.hasChildNodes()){F=A>D.childNodes.length-1;D=D.childNodes[Math.min(A,D.childNodes.length-1)]||D;A=0}l=L(D);if(!l){return}j.beforeChange();if(!k.isBlock(l)&&l!=k.getRoot()){if(!C||E.shiftKey){M()}return}if((C&&!E.shiftKey)||(!C&&E.shiftKey)){D=n(D,A)}s=k.getParent(D,k.isBlock);o=s?k.getParent(s.parentNode,k.isBlock):null;z=s?s.nodeName.toUpperCase():"";K=o?o.nodeName.toUpperCase():"";if(z=="LI"&&k.isEmpty(s)){if(/^(UL|OL|LI)$/.test(o.parentNode.nodeName)){return false}J();return}if(z=="PRE"&&d.br_in_pre!==false){if(!E.shiftKey){M();return}}else{if((!C&&!E.shiftKey&&z!="LI")||(C&&E.shiftKey)){M();return}}C=C||"P";if(t()){if(/^(H[1-6]|PRE)$/.test(z)&&K!="HGROUP"){r=u(C)}else{r=u()}if(d.end_container_on_empty_block&&H(o)&&k.isEmpty(s)){r=k.split(o,s)}else{k.insertAfter(r,s)}}else{if(t(true)){r=s.parentNode.insertBefore(u(),s)}else{I=B.cloneRange();I.setEndAfter(s);m=I.extractContents();v(m);r=m.firstChild;k.insertAfter(m,s)}}k.setAttrib(r,"id","");q(r);j.add()}f.onKeyDown.add(function(m,l){if(l.keyCode==13){if(g(l)!==false){l.preventDefault()}}})}})(tinymce);tinyMCE.addI18n({en:{common:{more_colors:"More Colors...",invalid_data:"Error: Invalid values entered, these are marked in red.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",not_set:"-- Not Set --",class_name:"Class",browse:"Browse",close:"Close",cancel:"Cancel",update:"Update",insert:"Insert",apply:"Apply",edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",invalid_data_number:"{#field} must be a number",invalid_data_min:"{#field} must be a number greater than {#min}",invalid_data_size:"{#field} must be a number or percentage",value:"(value)"},contextmenu:{full:"Full",right:"Right",center:"Center",left:"Left",align:"Alignment"},insertdatetime:{day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",inserttime_desc:"Insert Time",insertdate_desc:"Insert Date",time_fmt:"%H:%M:%S",date_fmt:"%Y-%m-%d"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{rtl_desc:"Direction Right to Left",ltr_desc:"Direction Left to Right"},layer:{content:"New layer...",absolute_desc:"Toggle Absolute Positioning",backward_desc:"Move Backward",forward_desc:"Move Forward",insertlayer_desc:"Insert New Layer"},save:{save_desc:"Save",cancel_desc:"Cancel All Changes"},nonbreaking:{nonbreaking_desc:"Insert Non-Breaking Space Character"},iespell:{download:"ieSpell not detected. Do you want to install it now?",iespell_desc:"Check Spelling"},advhr:{delta_height:"",delta_width:"",advhr_desc:"Insert Horizontal Line"},emotions:{delta_height:"",delta_width:"",emotions_desc:"Emotions"},searchreplace:{replace_desc:"Find/Replace",delta_width:"",delta_height:"",search_desc:"Find"},advimage:{delta_width:"",image_desc:"Insert/Edit Image",delta_height:""},advlink:{delta_height:"",delta_width:"",link_desc:"Insert/Edit Link"},xhtmlxtras:{attribs_delta_height:"",attribs_delta_width:"",ins_delta_height:"",ins_delta_width:"",del_delta_height:"",del_delta_width:"",acronym_delta_height:"",acronym_delta_width:"",abbr_delta_height:"",abbr_delta_width:"",cite_delta_height:"",cite_delta_width:"",attribs_desc:"Insert/Edit Attributes",ins_desc:"Insertion",del_desc:"Deletion",acronym_desc:"Acronym",abbr_desc:"Abbreviation",cite_desc:"Citation"},style:{delta_height:"",delta_width:"",desc:"Edit CSS Style"},paste:{plaintext_mode_stick:"Paste is now in plain text mode. Click again to toggle back to regular paste mode.",plaintext_mode:"Paste is now in plain text mode. Click again to toggle back to regular paste mode. After you paste something you will be returned to regular paste mode.",selectall_desc:"Select All",paste_word_desc:"Paste from Word",paste_text_desc:"Paste as Plain Text"},paste_dlg:{word_title:"Use Ctrl+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep Linebreaks",text_title:"Use Ctrl+V on your keyboard to paste the text into the window."},table:{merge_cells_delta_height:"",merge_cells_delta_width:"",table_delta_height:"",table_delta_width:"",cellprops_delta_height:"",cellprops_delta_width:"",rowprops_delta_height:"",rowprops_delta_width:"",cell:"Cell",col:"Column",row:"Row",del:"Delete Table",copy_row_desc:"Copy Table Row",cut_row_desc:"Cut Table Row",paste_row_after_desc:"Paste Table Row After",paste_row_before_desc:"Paste Table Row Before",props_desc:"Table Properties",cell_desc:"Table Cell Properties",row_desc:"Table Row Properties",merge_cells_desc:"Merge Table Cells",split_cells_desc:"Split Merged Table Cells",delete_col_desc:"Delete Column",col_after_desc:"Insert Column After",col_before_desc:"Insert Column Before",delete_row_desc:"Delete Row",row_after_desc:"Insert Row After",row_before_desc:"Insert Row Before",desc:"Insert/Edit Table"},autosave:{warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?",restore_content:"Restore auto-saved content.",unload_msg:"The changes you made will be lost if you navigate away from this page."},fullscreen:{desc:"Toggle Full Screen Mode"},media:{delta_height:"",delta_width:"",edit:"Edit Embedded Media",desc:"Insert/Edit Embedded Media"},fullpage:{desc:"Document Properties",delta_width:"",delta_height:""},template:{desc:"Insert Predefined Template Content"},visualchars:{desc:"Show/Hide Visual Control Characters"},spellchecker:{desc:"Toggle Spell Checker",menu:"Spell Checker Settings",ignore_word:"Ignore Word",ignore_words:"Ignore All",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No Suggestions",no_mpell:"No misspellings found.",learn_word:"Learn word"},pagebreak:{desc:"Insert Page Break for Printing"},advlist:{types:"Types",def:"Default",lower_alpha:"Lower Alpha",lower_greek:"Lower Greek",lower_roman:"Lower Roman",upper_alpha:"Upper Alpha",upper_roman:"Upper Roman",circle:"Circle",disc:"Disc",square:"Square"},colors:{"333300":"Dark olive","993300":"Burnt orange","000000":"Black","003300":"Dark green","003366":"Dark azure","000080":"Navy Blue","333399":"Indigo","333333":"Very dark gray","800000":"Maroon",FF6600:"Orange","808000":"Olive","008000":"Green","008080":"Teal","0000FF":"Blue","666699":"Grayish blue","808080":"Gray",FF0000:"Red",FF9900:"Amber","99CC00":"Yellow green","339966":"Sea green","33CCCC":"Turquoise","3366FF":"Royal blue","800080":"Purple","999999":"Medium gray",FF00FF:"Magenta",FFCC00:"Gold",FFFF00:"Yellow","00FF00":"Lime","00FFFF":"Aqua","00CCFF":"Sky blue","993366":"Brown",C0C0C0:"Silver",FF99CC:"Pink",FFCC99:"Peach",FFFF99:"Light yellow",CCFFCC:"Pale green",CCFFFF:"Pale cyan","99CCFF":"Light sky blue",CC99FF:"Plum",FFFFFF:"White"},aria:{rich_text_area:"Rich Text Area"},wordcount:{words:"Words:"},visualblocks:{desc:"Show/hide block elements"}}});(function(){var d=tinymce.each,b={paste_auto_cleanup_on_paste:true,paste_enable_default_filters:true,paste_block_drop:false,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:false,paste_remove_styles:false,paste_remove_styles_if_webkit:true,paste_convert_middot_lists:true,paste_convert_headers_to_strong:false,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:false,paste_text_sticky:false,paste_text_sticky_default:false,paste_text_notifyalways:false,paste_text_linebreaktype:"combined",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};function c(e,f){return e.getParam(f,b[f])}tinymce.create("tinymce.plugins.PastePlugin",{init:function(e,f){var g=this;g.editor=e;g.url=f;g.onPreProcess=new tinymce.util.Dispatcher(g);g.onPostProcess=new tinymce.util.Dispatcher(g);g.onPreProcess.add(g._preProcess);g.onPostProcess.add(g._postProcess);g.onPreProcess.add(function(l,m){e.execCallback("paste_preprocess",l,m)});g.onPostProcess.add(function(l,m){e.execCallback("paste_postprocess",l,m)});e.onKeyDown.addToTop(function(l,m){if(((tinymce.isMac?m.metaKey:m.ctrlKey)&&m.keyCode==86)||(m.shiftKey&&m.keyCode==45)){return false}});e.pasteAsPlainText=c(e,"paste_text_sticky_default");function k(q,m){var n=e.dom,l;g.onPreProcess.dispatch(g,q);q.node=n.create("div",0,q.content);if(tinymce.isGecko){l=e.selection.getRng(true);if(l.startContainer==l.endContainer&&l.startContainer.nodeType==3){if(q.node.childNodes.length===1&&/^(p|h[1-6]|pre)$/i.test(q.node.firstChild.nodeName)&&q.content.indexOf("__MCE_ITEM__")===-1){n.remove(q.node.firstChild,true)}}}g.onPostProcess.dispatch(g,q);q.content=e.serializer.serialize(q.node,{getInner:1,forced_root_block:""});if((!m)&&(e.pasteAsPlainText)){g._insertPlainText(q.content);if(!c(e,"paste_text_sticky")){e.pasteAsPlainText=false;e.controlManager.setActive("pastetext",false)}}else{g._insert(q.content)}}e.addCommand("mceInsertClipboardContent",function(l,m){k(m,true)});if(!c(e,"paste_text_use_dialog")){e.addCommand("mcePasteText",function(m,l){var n=tinymce.util.Cookie;e.pasteAsPlainText=!e.pasteAsPlainText;e.controlManager.setActive("pastetext",e.pasteAsPlainText);if((e.pasteAsPlainText)&&(!n.get("tinymcePasteText"))){if(c(e,"paste_text_sticky")){e.windowManager.alert(e.translate("paste.plaintext_mode_sticky"))}else{e.windowManager.alert(e.translate("paste.plaintext_mode"))}if(!c(e,"paste_text_notifyalways")){n.set("tinymcePasteText","1",new Date(new Date().getFullYear()+1,12,31))}}})}e.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"});e.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"});function j(z){var q,t,m,A,o=e.selection,s=e.dom,u=e.getBody(),l,v;if(z.clipboardData||s.doc.dataTransfer){v=(z.clipboardData||s.doc.dataTransfer).getData("Text");if(e.pasteAsPlainText){z.preventDefault();k({content:s.encode(v).replace(/\r?\n/g,"<br />")});return}}if(s.get("_mcePaste")){return}q=s.add(u,"div",{id:"_mcePaste","class":"mcePaste","data-mce-bogus":"1"},"\uFEFF\uFEFF");if(u!=e.getDoc().body){l=s.getPos(e.selection.getStart(),u).y}else{l=u.scrollTop+s.getViewPort(e.getWin()).y}s.setStyles(q,{position:"absolute",left:tinymce.isGecko?-40:0,top:l-25,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){A=o.getRng();m=s.doc.body.createTextRange();m.moveToElementText(q);m.execCommand("Paste");s.remove(q);if(q.innerHTML==="\uFEFF\uFEFF"){e.execCommand("mcePasteWord");z.preventDefault();return}o.setRng(A);o.setContent("");setTimeout(function(){k({content:q.innerHTML})},0);return tinymce.dom.Event.cancel(z)}else{function r(n){n.preventDefault()}s.bind(e.getDoc(),"mousedown",r);s.bind(e.getDoc(),"keydown",r);t=e.selection.getRng();q=q.firstChild;m=e.getDoc().createRange();m.setStart(q,0);m.setEnd(q,2);o.setRng(m);window.setTimeout(function(){var B="",n;if(!s.select("div.mcePaste > div.mcePaste").length){n=s.select("div.mcePaste");d(n,function(D){var C=D.firstChild;if(C&&C.nodeName=="DIV"&&C.style.marginTop&&C.style.backgroundColor){s.remove(C,1)}d(s.select("span.Apple-style-span",D),function(E){s.remove(E,1)});d(s.select("br[data-mce-bogus]",D),function(E){s.remove(E)});if(D.parentNode.className!="mcePaste"){B+=D.innerHTML}})}else{B="<p>"+s.encode(v).replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br />")+"</p>"}d(s.select("div.mcePaste"),function(C){s.remove(C)});if(t){o.setRng(t)}k({content:B});s.unbind(e.getDoc(),"mousedown",r);s.unbind(e.getDoc(),"keydown",r)},0)}}if(c(e,"paste_auto_cleanup_on_paste")){if(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)){e.onKeyDown.addToTop(function(l,m){if(((tinymce.isMac?m.metaKey:m.ctrlKey)&&m.keyCode==86)||(m.shiftKey&&m.keyCode==45)){j(m)}})}else{e.onPaste.addToTop(function(l,m){return j(m)})}}e.onInit.add(function(){e.controlManager.setActive("pastetext",e.pasteAsPlainText);if(c(e,"paste_block_drop")){e.dom.bind(e.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(l){l.preventDefault();l.stopPropagation();return false})}});g._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(j,f){var m=this.editor,l=f.content,s=tinymce.grep,r=tinymce.explode,g=tinymce.trim,n,k;function e(o){d(o,function(t){if(t.constructor==RegExp){l=l.replace(t,"")}else{l=l.replace(t[0],t[1])}})}if(m.settings.paste_enable_default_filters==false){return}if(tinymce.isIE&&document.documentMode>=9&&/<(h[1-6r]|p|div|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|blockquote|center|dl|dt|dd|dir|fieldset)/.test(f.content)){e([[/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6r]|p|div|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|blockquote|center|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1"]]);e([[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(l)||f.wordContent){f.wordContent=true;e([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]);if(c(m,"paste_convert_headers_to_strong")){l=l.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")}if(c(m,"paste_convert_middot_lists")){e([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"],[/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1__MCE_ITEM__"]])}e([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"]]);do{n=l.length;l=l.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1")}while(n!=l.length);if(c(m,"paste_retain_style_properties").replace(/^none$/i,"").length==0){l=l.replace(/<\/?span[^>]*>/gi,"")}else{e([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,o){return(o.length>0)?o.replace(/./," ").slice(Math.floor(o.length/2)).split("").join("\u00a0"):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(z,o,v){var A=[],t=0,u=r(g(v).replace(/&quot;/gi,"'"),";");d(u,function(B){var C,E,F=r(B,":");function D(G){return G+((G!=="0")&&(/\d$/.test(G)))?"px":""}if(F.length==2){C=F[0].toLowerCase();E=F[1].toLowerCase();switch(C){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":A[t++]=C.replace(/^mso-|-alt$/g,"")+":"+D(E);return;case"horiz-align":A[t++]="text-align:"+E;return;case"vert-align":A[t++]="vertical-align:"+E;return;case"font-color":case"mso-foreground":A[t++]="color:"+E;return;case"mso-background":case"mso-highlight":A[t++]="background:"+E;return;case"mso-default-height":A[t++]="min-height:"+D(E);return;case"mso-default-width":A[t++]="min-width:"+D(E);return;case"mso-padding-between-alt":A[t++]="border-collapse:separate;border-spacing:"+D(E);return;case"text-line-through":if((E=="single")||(E=="double")){A[t++]="text-decoration:line-through"}return;case"mso-zero-height":if(E=="yes"){A[t++]="display:none"}return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(C)){return}A[t++]=C+":"+F[1]}});if(t>0){return o+' style="'+A.join(";")+'"'}else{return o}}]])}}if(c(m,"paste_convert_headers_to_strong")){e([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]])}e([[/Version:[\d.]+\nStartHTML:\d+\nEndHTML:\d+\nStartFragment:\d+\nEndFragment:\d+/gi,""]]);k=c(m,"paste_strip_class_attributes");if(k!=="none"){function q(u,t){if(k==="all"){return""}var o=s(r(t.replace(/^(["'])(.*)\1$/,"$2")," "),function(z){return(/^(?!mso)/i.test(z))});return o.length?' class="'+o.join(" ")+'"':""}l=l.replace(/ class="([^"]+)"/gi,q);l=l.replace(/ class=([\-\w]+)/gi,q)}if(c(m,"paste_remove_spans")){l=l.replace(/<\/?span[^>]*>/gi,"")}f.content=l},_postProcess:function(j,l){var g=this,f=g.editor,k=f.dom,e;if(f.settings.paste_enable_default_filters==false){return}if(l.wordContent){d(k.select("a",l.node),function(m){if(!m.href||m.href.indexOf("#_Toc")!=-1){k.remove(m,1)}});if(c(f,"paste_convert_middot_lists")){g._convertLists(j,l)}e=c(f,"paste_retain_style_properties");if((tinymce.is(e,"string"))&&(e!=="all")&&(e!=="*")){e=tinymce.explode(e.replace(/^none$/i,""));d(k.select("*",l.node),function(q){var r={},n=0,o,s,m;if(e){for(o=0;o<e.length;o++){s=e[o];m=k.getStyle(q,s);if(m){r[s]=m;n++}}}k.setAttrib(q,"style","");if(e&&n>0){k.setStyles(q,r)}else{if(q.nodeName=="SPAN"&&!q.className){k.remove(q,true)}}})}}if(c(f,"paste_remove_styles")||(c(f,"paste_remove_styles_if_webkit")&&tinymce.isWebKit)){d(k.select("*[style]",l.node),function(m){m.removeAttribute("style");m.removeAttribute("data-mce-style")})}else{if(tinymce.isWebKit){d(k.select("*",l.node),function(m){m.removeAttribute("data-mce-style")})}}},_convertLists:function(j,f){var l=j.editor.dom,k,q,e=-1,g,r=[],n,m;d(l.select("p",f.node),function(z){var t,A="",v,u,o,s;for(t=z.firstChild;t&&t.nodeType==3;t=t.nextSibling){A+=t.nodeValue}A=z.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"\u00a0");if(/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o\u25CF]\s*\u00a0*/.test(A)){v="ul"}if(/^__MCE_ITEM__\s*\w+\.\s*\u00a0+/.test(A)){v="ol"}if(v){g=parseFloat(z.style.marginLeft||0);if(g>e){r.push(g)}if(!k||v!=n){k=l.create(v);l.insertAfter(k,z)}else{if(g>e){k=q.appendChild(l.create(v))}else{if(g<e){o=tinymce.inArray(r,g);s=l.getParents(k.parentNode,v);k=s[s.length-1-o]||k}}}d(l.select("span",z),function(C){var B=C.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");if(v=="ul"&&/^__MCE_ITEM__[\u2022\u00b7\u00a7\u00d8o\u25CF]/.test(B)){l.remove(C)}else{if(/^__MCE_ITEM__[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(B)){l.remove(C)}}});u=z.innerHTML;if(v=="ul"){u=z.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o\u25CF]\s*(&nbsp;|\u00a0)+\s*/,"")}else{u=z.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,"")}q=k.appendChild(l.create("li",0,u));l.remove(z);e=g;n=v}else{k=e=0}});m=f.node.innerHTML;if(m.indexOf("__MCE_ITEM__")!=-1){f.node.innerHTML=m.replace(/__MCE_ITEM__/g,"")}},_insert:function(g,e){var f=this.editor,j=f.selection.getRng();if(!f.selection.isCollapsed()&&j.startContainer!=j.endContainer){f.getDoc().execCommand("Delete",false,null)}f.execCommand("mceInsertContent",false,g,{skip_undo:e})},_insertPlainText:function(j){var e=this.editor,f=c(e,"paste_text_linebreaktype"),l=c(e,"paste_text_replacements"),g=tinymce.is;function k(m){d(m,function(n){if(n.constructor==RegExp){j=j.replace(n,"")}else{j=j.replace(n[0],n[1])}})}if((typeof(j)==="string")&&(j.length>0)){if(/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(j)){k([/[\n\r]+/g])}else{k([/\r+/g])}k([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"]]);j=e.dom.decode(tinymce.html.Entities.encodeRaw(j));if(g(l,"array")){k(l)}else{if(g(l,"string")){k(new RegExp(l,"gi"))}}if(f=="none"){k([[/\n+/g," "]])}else{if(f=="br"){k([[/\n/g,"<br />"]])}else{if(f=="p"){k([[/\n+/g,"</p><p>"],[/^(.*<\/p>)(<p>)$/,"<p>$1"]])}else{k([[/\n\n/g,"</p><p>"],[/^(.*<\/p>)(<p>)$/,"<p>$1"],[/\n/g,"<br />"]])}}}e.execCommand("mceInsertContent",false,j)}},_legacySupport:function(){var f=this,e=f.editor;e.addCommand("mcePasteWord",function(){e.windowManager.open({file:f.url+"/pasteword.htm",width:parseInt(c(e,"paste_dialog_width")),height:parseInt(c(e,"paste_dialog_height")),inline:1})});if(c(e,"paste_text_use_dialog")){e.addCommand("mcePasteText",function(){e.windowManager.open({file:f.url+"/pastetext.htm",width:parseInt(c(e,"paste_dialog_width")),height:parseInt(c(e,"paste_dialog_height")),inline:1})})}e.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}});tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)})();(function(){var b=tinymce.util.JSONRequest,d=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(f,g){var j=this,e;j.url=g;j.editor=f;j.rpcUrl=f.getParam("spellchecker_rpc_url","{backend}");if(j.rpcUrl=="{backend}"){if(tinymce.isIE){return}j.hasSupport=true;f.onContextMenu.addToTop(function(k,l){if(j.active){return false}})}f.addCommand("mceSpellCheck",function(){if(j.rpcUrl=="{backend}"){j.editor.getBody().spellcheck=j.active=!j.active;return}if(!j.active){f.setProgressState(1);j._sendRPC("checkWords",[j.selectedLang,j._getWords()],function(k){if(k.length>0){j.active=1;j._markWords(k);f.setProgressState(0);f.nodeChanged()}else{f.setProgressState(0);if(f.getParam("spellchecker_report_no_misspellings",true)){f.windowManager.alert("spellchecker.no_mpell")}}})}else{j._done()}});if(f.settings.content_css!==false){f.contentCSS.push(g+"/css/content.css")}f.onClick.add(j._showMenu,j);f.onContextMenu.add(j._showMenu,j);f.onBeforeGetContent.add(function(){if(j.active){j._removeWords()}});f.onNodeChange.add(function(l,k){k.setActive("spellchecker",j.active)});f.onSetContent.add(function(){j._done()});f.onBeforeGetContent.add(function(){j._done()});f.onBeforeExecCommand.add(function(k,l){if(l=="mceFullScreen"){j._done()}});j.languages={};d(f.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(m,l){if(l.indexOf("+")===0){l=l.substring(1);j.selectedLang=m}j.languages[l]=m})},createControl:function(k,e){var g=this,j,f=g.editor;if(k=="spellchecker"){if(g.rpcUrl=="{backend}"){if(g.hasSupport){j=e.createButton(k,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:g})}return j}j=e.createSplitButton(k,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:g});j.onRenderMenu.add(function(n,l){l.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1);d(g.languages,function(r,q){var s={icon:1},m;s.onclick=function(){if(r==g.selectedLang){return}m.setSelected(1);g.selectedItem.setSelected(0);g.selectedItem=m;g.selectedLang=r};s.title=q;m=l.add(s);m.setSelected(r==g.selectedLang);if(r==g.selectedLang){g.selectedItem=m}})});return j}},_walk:function(k,g){var j=this.editor.getDoc(),e;if(j.createTreeWalker){e=j.createTreeWalker(k,NodeFilter.SHOW_TEXT,null,false);while((k=e.nextNode())!=null){g.call(this,k)}}else{tinymce.walk(k,g,"childNodes")}},_getSeparators:function(){var f="",e,g=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}\u201d\u201c');for(e=0;e<g.length;e++){f+="\\"+g.charAt(e)}return f},_getWords:function(){var f=this.editor,j=[],e="",g={},k=[];this._walk(f.getBody(),function(l){if(l.nodeType==3){e+=l.nodeValue+" "}});if(f.getParam("spellchecker_word_pattern")){k=e.match("("+f.getParam("spellchecker_word_pattern")+")","gi")}else{e=e.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," ");e=tinymce.trim(e.replace(/(\s+)/g," "));k=e.split(" ")}d(k,function(l){if(!g[l]){j.push(l);g[l]=1}});return j},_removeWords:function(e){var f=this.editor,k=f.dom,j=f.selection,g=j.getRng(true);d(k.select("span").reverse(),function(l){if(l&&(k.hasClass(l,"mceItemHiddenSpellWord")||k.hasClass(l,"mceItemHidden"))){if(!e||k.decode(l.innerHTML)==e){k.remove(l,1)}}});j.setRng(g)},_markWords:function(o){var k=this.editor,j=k.dom,m=k.getDoc(),l=k.selection,e=l.getRng(true),f=[],n=o.join("|"),q=this._getSeparators(),g=new RegExp("(^|["+q+"])("+n+")(?=["+q+"]|$)","g");this._walk(k.getBody(),function(r){if(r.nodeType==3){f.push(r)}});d(f,function(A){var u,t,r,z,s=A.nodeValue;if(g.test(s)){s=j.encode(s);t=j.create("span",{"class":"mceItemHidden"});if(tinymce.isIE){s=s.replace(g,"$1<mcespell>$2</mcespell>");while((z=s.indexOf("<mcespell>"))!=-1){r=s.substring(0,z);if(r.length){u=m.createTextNode(j.decode(r));t.appendChild(u)}s=s.substring(z+10);z=s.indexOf("</mcespell>");r=s.substring(0,z);s=s.substring(z+11);t.appendChild(j.create("span",{"class":"mceItemHiddenSpellWord"},r))}if(s.length){u=m.createTextNode(j.decode(s));t.appendChild(u)}}else{t.innerHTML=s.replace(g,'$1<span class="mceItemHiddenSpellWord">$2</span>')}j.replace(t,A)}});l.setRng(e)},_showMenu:function(k,n){var l=this,k=l.editor,f=l._menu,q,o=k.dom,j=o.getViewPort(k.getWin()),g=n.target;n=0;if(!f){f=k.controlManager.createDropMenu("spellcheckermenu",{"class":"mceNoIcons"});l._menu=f}if(o.hasClass(g,"mceItemHiddenSpellWord")){f.removeAll();f.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1);l._sendRPC("getSuggestions",[l.selectedLang,o.decode(g.innerHTML)],function(m){var e;f.removeAll();if(m.length>0){f.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1);d(m,function(r){f.add({title:r,onclick:function(){o.replace(k.getDoc().createTextNode(r),g);l._checkDone()}})});f.addSeparator()}else{f.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1)}if(k.getParam("show_ignore_words",true)){e=l.editor.getParam("spellchecker_enable_ignore_rpc","");f.add({title:"spellchecker.ignore_word",onclick:function(){var r=g.innerHTML;o.remove(g,1);l._checkDone();if(e){k.setProgressState(1);l._sendRPC("ignoreWord",[l.selectedLang,r],function(s){k.setProgressState(0)})}}});f.add({title:"spellchecker.ignore_words",onclick:function(){var r=g.innerHTML;l._removeWords(o.decode(r));l._checkDone();if(e){k.setProgressState(1);l._sendRPC("ignoreWords",[l.selectedLang,r],function(s){k.setProgressState(0)})}}})}if(l.editor.getParam("spellchecker_enable_learn_rpc")){f.add({title:"spellchecker.learn_word",onclick:function(){var r=g.innerHTML;o.remove(g,1);l._checkDone();k.setProgressState(1);l._sendRPC("learnWord",[l.selectedLang,r],function(s){k.setProgressState(0)})}})}f.update()});q=c.getPos(k.getContentAreaContainer());f.settings.offset_x=q.x;f.settings.offset_y=q.y;k.selection.select(g);q=o.getPos(g);f.showMenu(q.x,q.y+g.offsetHeight-j.y);return tinymce.dom.Event.cancel(n)}else{f.hideMenu()}},_checkDone:function(){var f=this,e=f.editor,j=e.dom,g;d(j.select("span"),function(k){if(k&&j.hasClass(k,"mceItemHiddenSpellWord")){g=true;return false}});if(!g){f._done()}},_done:function(){var e=this,f=e.active;if(e.active){e.active=0;e._removeWords();if(e._menu){e._menu.hideMenu()}if(f){e.editor.nodeChanged()}}},_sendRPC:function(f,j,e){var g=this;b.sendRPC({url:g.rpcUrl,method:f,params:j,success:e,error:function(l,k){g.editor.setProgressState(0);g.editor.windowManager.alert(l.errstr||("Error response: "+k.responseText))}})}});tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)})();(function(){var b=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(c,d){var e=this;e.editor=c;function f(j){var g=[];b(j.split(/,/),function(k){g.push({title:"advlist."+(k=="default"?"def":k.replace(/-/g,"_")),styles:{listStyleType:k=="default"?"":k}})});return g}e.numlist=c.getParam("advlist_number_styles")||f("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");e.bullist=c.getParam("advlist_bullet_styles")||f("default,circle,disc,square");if(tinymce.isIE&&/MSIE [2-7]/.test(navigator.userAgent)){e.isIE7=true}},createControl:function(e,c){var g=this,f,l,j=g.editor;if(e=="numlist"||e=="bullist"){if(g[e][0].title=="advlist.def"){l=g[e][0]}function d(m,o){var n=true;b(o.styles,function(r,q){if(j.dom.getStyle(m,q)!=r){n=false;return false}});return n}function k(){var n,o=j.dom,m=j.selection;n=o.getParent(m.getNode(),"ol,ul");if(!n||n.nodeName==(e=="bullist"?"OL":"UL")||d(n,l)){j.execCommand(e=="bullist"?"InsertUnorderedList":"InsertOrderedList")}if(l){n=o.getParent(m.getNode(),"ol,ul");if(n){o.setStyles(n,l.styles);n.removeAttribute("data-mce-style")}}j.focus()}f=c.createSplitButton(e,{title:"advanced."+e+"_desc","class":"mce_"+e,onclick:function(){k()}});f.onRenderMenu.add(function(m,n){n.onHideMenu.add(function(){if(g.bookmark){j.selection.moveToBookmark(g.bookmark);g.bookmark=0}});n.onShowMenu.add(function(){var r=j.dom,q=r.getParent(j.selection.getNode(),"ol,ul"),o;if(q||l){o=g[e];b(n.items,function(s){var t=true;s.setSelected(0);if(q&&!s.isDisabled()){b(o,function(u){if(u.id==s.id){if(!d(q,u)){t=false;return false}}});if(t){s.setSelected(1)}}});if(!q){n.items[l.id].setSelected(1)}}j.focus();if(tinymce.isIE){g.bookmark=j.selection.getBookmark(1)}});n.add({id:j.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle",titleItem:true}).setDisabled(1);b(g[e],function(o){if(g.isIE7&&o.styles.listStyleType=="lower-greek"){return}o.id=j.dom.uniqueId();n.add({id:o.id,title:o.title,onclick:function(){l=o;k()}})})});return f}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();(function(){var f=tinymce.each,v=tinymce.dom.Event,j;function t(A,z){while(A&&(A.nodeType===8||(A.nodeType===3&&/^[ \t\n\r]*$/.test(A.nodeValue)))){A=z(A)}return A}function c(z){return t(z,function(A){return A.previousSibling})}function l(z){return t(z,function(A){return A.nextSibling})}function e(z,B,A){return z.dom.getParent(B,function(C){return tinymce.inArray(A,C)!==-1})}function r(z){return z&&(z.tagName==="OL"||z.tagName==="UL")}function d(B,C){var A,D,z;A=c(B.lastChild);while(r(A)){D=A;A=c(D.previousSibling)}if(D){z=C.create("li",{style:"list-style-type: none;"});C.split(B,D);C.insertAfter(z,D);z.appendChild(D);z.appendChild(D);B=z.previousSibling}return B}function q(A,z,B){A=b(A,z,B);return s(A,z,B)}function b(B,z,C){var A=c(B.previousSibling);if(A){return k(A,B,z?A:false,C)}else{return B}}function s(B,A,C){var z=l(B.nextSibling);if(z){return k(B,z,A?z:false,C)}else{return B}}function k(B,z,A,C){if(o(B,z,!!A,C)){return g(B,z,A)}else{if(B&&B.tagName==="LI"&&r(z)){B.appendChild(z)}}return z}function o(B,A,z,C){if(!B||!A){return false}else{if(B.tagName==="LI"&&A.tagName==="LI"){return A.style.listStyleType==="none"||m(A)}else{if(r(B)){return(B.tagName===A.tagName&&(z||B.style.listStyleType===A.style.listStyleType))||u(A)}else{return C&&B.tagName==="P"&&A.tagName==="P"}}}}function u(A){var z=l(A.firstChild),B=c(A.lastChild);return z&&B&&r(A)&&z===B&&(r(z)||z.style.listStyleType==="none"||m(z))}function m(B){var A=l(B.firstChild),z=c(B.lastChild);return A&&z&&A===z&&r(A)}function g(D,C,z){var B=c(D.lastChild),A=l(C.firstChild);if(D.tagName==="P"){D.appendChild(D.ownerDocument.createElement("br"))}while(C.firstChild){D.appendChild(C.firstChild)}if(z){D.style.listStyleType=z.style.listStyleType}C.parentNode.removeChild(C);k(B,A,false);return D}function n(A,B){var z;if(!B.is(A,"li,ol,ul")){z=B.getParent(A,"li");if(z){A=z}}return A}tinymce.create("tinymce.plugins.Lists",{init:function(F){var C="TABBING";var z="EMPTY";var Q="ESCAPE";var G="PARAGRAPH";var U="UNKNOWN";var E=U;function L(ab){return ab.keyCode===tinymce.VK.TAB&&!(ab.altKey||ab.ctrlKey)&&(F.queryCommandState("InsertUnorderedList")||F.queryCommandState("InsertOrderedList"))}function D(){var ab=I();var ad=ab.parentNode.parentNode;var ac=ab.parentNode.lastChild===ab;return ac&&!A(ad)&&W(ab)}function A(ab){if(r(ab)){return ab.parentNode&&ab.parentNode.tagName==="LI"}else{return ab.tagName==="LI"}}function M(){return F.selection.isCollapsed()&&W(I())}function I(){var ab=F.selection.getStart();return((ab.tagName=="BR"||ab.tagName=="")&&ab.parentNode.tagName=="LI")?ab.parentNode:ab}function W(ab){var ac=ab.childNodes.length;if(ab.tagName==="LI"){return ac==0?true:ac==1&&(ab.firstChild.tagName==""||ab.firstChild.tagName=="BR"||O(ab))}return false}function O(ab){var ac=tinymce.grep(ab.parentNode.childNodes,function(af){return af.tagName=="LI"});var ad=ab==ac[ac.length-1];var ae=ab.firstChild;return tinymce.isIE9&&ad&&(ae.nodeValue==String.fromCharCode(160)||ae.nodeValue==String.fromCharCode(32))}function aa(ab){return ab.keyCode===tinymce.VK.ENTER}function H(ab){return aa(ab)&&!ab.shiftKey}function T(ab){if(L(ab)){return C}else{if(H(ab)&&D()){return U}else{if(H(ab)&&M()){return z}else{return U}}}}function K(ab,ac){if(E==C||E==z||tinymce.isGecko&&E==Q){v.cancel(ac)}}function J(){var ab=F.selection.getRng(true);var ac=ab.startContainer;if(ac.nodeType==3){var ad=ac.nodeValue;if(tinymce.isIE9&&ad.length>1&&ad.charCodeAt(ad.length-1)==32){return(ab.endOffset==ad.length-1)}else{return(ab.endOffset==ad.length)}}else{if(ac.nodeType==1){return ab.endOffset==ac.childNodes.length}}return false}function P(){var ad=F.selection.getNode();var ac="h1,h2,h3,h4,h5,h6,p,div";var ab=F.dom.is(ad,ac)&&ad.parentNode.tagName==="LI"&&ad.parentNode.lastChild===ad;return F.selection.isCollapsed()&&ab&&J()}function R(ad,af){if(H(af)&&P()){var ae=ad.selection.getNode();var ac=ad.dom.create("li");var ab=ad.dom.getParent(ae,"li");ad.dom.insertAfter(ac,ab);if(tinymce.isIE6||tinymce.isIE7||tinyMCE.isIE8){ad.selection.setCursorLocation(ac,1)}else{ad.selection.setCursorLocation(ac,0)}af.preventDefault()}}function B(ae,ag){var aj;if(!tinymce.isGecko){return}var ac=ae.selection.getStart();if(ag.keyCode!=tinymce.VK.BACKSPACE||ac.tagName!=="IMG"){return}function ad(an){var ao=an.firstChild;var am=null;do{if(!ao){break}if(ao.tagName==="LI"){am=ao}}while(ao=ao.nextSibling);return am}function al(an,am){while(an.childNodes.length>0){am.appendChild(an.childNodes[0])}}aj=ac.parentNode.previousSibling;if(!aj){return}var ah;if(aj.tagName==="UL"||aj.tagName==="OL"){ah=aj}else{if(aj.previousSibling&&(aj.previousSibling.tagName==="UL"||aj.previousSibling.tagName==="OL")){ah=aj.previousSibling}else{return}}var ak=ad(ah);var ab=ae.dom.createRng();ab.setStart(ak,1);ab.setEnd(ak,1);ae.selection.setRng(ab);ae.selection.collapse(true);var af=ae.selection.getBookmark();var ai=ac.parentNode.cloneNode(true);if(ai.tagName==="P"||ai.tagName==="DIV"){al(ai,ak)}else{ak.appendChild(ai)}ac.parentNode.parentNode.removeChild(ac.parentNode);ae.selection.moveToBookmark(af)}function N(ab){var ac=F.dom.getParent(ab,"ol,ul");if(ac!=null){var ad=ac.lastChild;F.selection.setCursorLocation(ad,0)}}this.ed=F;F.addCommand("Indent",this.indent,this);F.addCommand("Outdent",this.outdent,this);F.addCommand("InsertUnorderedList",function(){this.applyList("UL","OL")},this);F.addCommand("InsertOrderedList",function(){this.applyList("OL","UL")},this);F.onInit.add(function(){F.editorCommands.addCommands({outdent:function(){var ac=F.selection,ad=F.dom;function ab(ae){ae=ad.getParent(ae,ad.isBlock);return ae&&(parseInt(F.dom.getStyle(ae,"margin-left")||0,10)+parseInt(F.dom.getStyle(ae,"padding-left")||0,10))>0}return ab(ac.getStart())||ab(ac.getEnd())||F.queryCommandState("InsertOrderedList")||F.queryCommandState("InsertUnorderedList")}},"state")});F.onKeyUp.add(function(ac,ad){if(E==C){ac.execCommand(ad.shiftKey?"Outdent":"Indent",true,null);E=U;return v.cancel(ad)}else{if(E==z){var ab=I();var af=ac.settings.list_outdent_on_enter===true||ad.shiftKey;ac.execCommand(af?"Outdent":"Indent",true,null);if(tinymce.isIE){N(ab)}return v.cancel(ad)}else{if(E==Q){if(tinymce.isIE6||tinymce.isIE7||tinymce.isIE8){var ae=ac.getDoc().createTextNode("\uFEFF");ac.selection.getNode().appendChild(ae)}else{if(tinymce.isIE9||tinymce.isGecko){ac.execCommand("Outdent");return v.cancel(ad)}}}}}});function S(ac,ab){var ad=F.getDoc().createTextNode("\uFEFF");ac.insertBefore(ad,ab);F.selection.setCursorLocation(ad,0);F.execCommand("mceRepaint")}function Y(ac,ae){if(aa(ae)){var ab=I();if(ab){var ad=ab.parentNode;var af=ad&&ad.parentNode;if(af&&af.nodeName=="LI"&&af.firstChild==ad&&ab==ad.firstChild){S(af,ad)}}}}function Z(ac,ae){if(aa(ae)){var ab=I();if(ac.dom.select("ul li",ab).length===1){var ad=ab.firstChild;S(ab,ad)}}}function X(ac,ag){function ad(ak,ah){var aj=[];var al=new tinymce.dom.TreeWalker(ah,ak);for(var ai=al.current();ai;ai=al.next()){if(ac.dom.is(ai,"ol,ul,li")){aj.push(ai)}}return aj}if(ag.keyCode==tinymce.VK.BACKSPACE){var ab=I();if(ab){var af=ac.dom.getParent(ab,"ol,ul");if(af&&af.firstChild===ab){var ae=ad(af,ab);ac.execCommand("Outdent",false,ae);ac.undoManager.add();return v.cancel(ag)}}}}function V(ac,ae){var ab=I();if(ae.keyCode===tinymce.VK.BACKSPACE&&ac.dom.is(ab,"li")&&ab.parentNode.firstChild!==ab){if(ac.dom.select("ul,ol",ab).length===1){var ag=ab.previousSibling;ac.dom.remove(ac.dom.select("br",ab));ac.dom.remove(ab,true);var ad=tinymce.grep(ag.childNodes,function(ah){return ah.nodeType===3});if(ad.length===1){var af=ad[0];ac.selection.setCursorLocation(af,af.length)}ac.undoManager.add();return v.cancel(ae)}}}F.onKeyDown.add(function(ab,ac){E=T(ac)});F.onKeyDown.add(K);F.onKeyDown.add(B);F.onKeyDown.add(R);if(tinymce.isGecko){F.onKeyUp.add(Y)}if(tinymce.isIE8){F.onKeyUp.add(Z)}if(tinymce.isGecko||tinymce.isWebKit){F.onKeyDown.add(X)}if(tinymce.isWebKit){F.onKeyDown.add(V)}},applyList:function(E,B){var I=this,F=I.ed,O=F.dom,z=[],N=false,A=false,C=false,H,M=F.selection.getSelectedBlocks();function K(R){if(R&&R.tagName==="BR"){O.remove(R)}}function L(T){var U=O.create(E),R;function S(V){if(V.style.marginLeft||V.style.paddingLeft){I.adjustPaddingFunction(false)(V)}}if(T.tagName==="LI"){}else{if(T.tagName==="P"||T.tagName==="DIV"||T.tagName==="BODY"){Q(T,function(W,V){P(W,V,T.tagName==="BODY"?null:W.parentNode);R=W.parentNode;S(R);K(V)});if(R){if(R.tagName==="LI"&&(T.tagName==="P"||M.length>1)){O.split(R.parentNode.parentNode,R.parentNode)}q(R.parentNode,true)}return}else{R=O.create("li");O.insertAfter(R,T);R.appendChild(T);S(T);T=R}}O.insertAfter(U,T);U.appendChild(T);q(U,true);z.push(T)}function P(W,S,U){var R,V=W,T;while(!O.isBlock(W.parentNode)&&W.parentNode!==O.getRoot()){W=O.split(W.parentNode,W.previousSibling);W=W.nextSibling;V=W}if(U){R=U.cloneNode(true);W.parentNode.insertBefore(R,W);while(R.firstChild){O.remove(R.firstChild)}R=O.rename(R,"li")}else{R=O.create("li");W.parentNode.insertBefore(R,W)}while(V&&V!=S){T=V.nextSibling;R.appendChild(V);V=T}if(R.childNodes.length===0){R.innerHTML='<br _mce_bogus="1" />'}L(R)}function Q(X,aa){var U,Y,V=3,S=1,R="br,ul,ol,p,div,h1,h2,h3,h4,h5,h6,table,blockquote,address,pre,form,center,dl";function W(ae,ab){var ac=O.createRng(),ad;j.keep=true;F.selection.moveToBookmark(j);j.keep=false;ad=F.selection.getRng(true);if(!ab){ab=ae.parentNode.lastChild}ac.setStartBefore(ae);ac.setEndAfter(ab);return !(ac.compareBoundaryPoints(V,ad)>0||ac.compareBoundaryPoints(S,ad)<=0)}function Z(ab){if(ab.nextSibling){return ab.nextSibling}if(!O.isBlock(ab.parentNode)&&ab.parentNode!==O.getRoot()){return Z(ab.parentNode)}}U=X.firstChild;var T=false;f(O.select(R,X),function(ab){if(ab.hasAttribute&&ab.hasAttribute("_mce_bogus")){return true}if(W(U,ab)){O.addClass(ab,"_mce_tagged_br");U=Z(ab)}});T=(U&&W(U,undefined));U=X.firstChild;f(O.select(R,X),function(ac){var ab=Z(ac);if(ac.hasAttribute&&ac.hasAttribute("_mce_bogus")){return true}if(O.hasClass(ac,"_mce_tagged_br")){aa(U,ac,Y);Y=null}else{Y=ac}U=ab});if(T){aa(U,undefined,Y)}}function J(R){Q(R,function(T,S,U){P(T,S);K(S);K(U)})}function G(R){if(tinymce.inArray(z,R)!==-1){return}if(R.parentNode.tagName===B){O.split(R.parentNode,R);L(R);s(R.parentNode,false)}z.push(R)}function D(T){var V,U,S,R;if(tinymce.inArray(z,T)!==-1){return}T=d(T,O);while(O.is(T.parentNode,"ol,ul,li")){O.split(T.parentNode,T)}z.push(T);T=O.rename(T,"p");S=q(T,false,F.settings.force_br_newlines);if(S===T){V=T.firstChild;while(V){if(O.isBlock(V)){V=O.split(V.parentNode,V);R=true;U=V.nextSibling&&V.nextSibling.firstChild}else{U=V.nextSibling;if(R&&V.tagName==="BR"){O.remove(V)}R=false}V=U}}}f(M,function(R){R=n(R,O);if(R.tagName===B||(R.tagName==="LI"&&R.parentNode.tagName===B)){A=true}else{if(R.tagName===E||(R.tagName==="LI"&&R.parentNode.tagName===E)){N=true}else{C=true}}});if(C&&!N||A||M.length===0){H={LI:G,H1:L,H2:L,H3:L,H4:L,H5:L,H6:L,P:L,BODY:L,DIV:M.length>1?L:J,defaultAction:J,elements:this.selectedBlocks()}}else{H={defaultAction:D,elements:this.selectedBlocks()}}this.process(H)},indent:function(){var B=this.ed,D=B.dom,E=[];function z(G){var F=D.create("li",{style:"list-style-type: none;"});D.insertAfter(F,G);return F}function A(I){var F=z(I),K=D.getParent(I,"ol,ul"),J=K.tagName,L=D.getStyle(K,"list-style-type"),H={},G;if(L!==""){H.style="list-style-type: "+L+";"}G=D.create(J,H);F.appendChild(G);return G}function C(G){if(!e(B,G,E)){G=d(G,D);var F=A(G);F.appendChild(G);q(F.parentNode,false);q(F,false);E.push(G)}}this.process({LI:C,defaultAction:this.adjustPaddingFunction(true),elements:this.selectedBlocks()})},outdent:function(E,D){var C=this,A=C.ed,F=A.dom,z=[];function G(H){var J,I,K;if(!e(A,H,z)){if(F.getStyle(H,"margin-left")!==""||F.getStyle(H,"padding-left")!==""){return C.adjustPaddingFunction(false)(H)}K=F.getStyle(H,"text-align",true);if(K==="center"||K==="right"){F.setStyle(H,"text-align","left");return}H=d(H,F);J=H.parentNode;I=H.parentNode.parentNode;if(I.tagName==="P"){F.split(I,H.parentNode)}else{F.split(J,H);if(I.tagName==="LI"){F.split(I,H)}else{if(!F.is(I,"ol,ul")){F.rename(H,"p")}}}z.push(H)}}var B=D&&tinymce.is(D,"array")?D:this.selectedBlocks();this.process({LI:G,defaultAction:this.adjustPaddingFunction(false),elements:B});f(z,q)},process:function(D){var K=this,B=K.ed.selection,E=K.ed.dom,J,z;function G(N){var M=tinymce.grep(N.childNodes,function(O){return !(O.nodeName==="BR"||O.nodeName==="SPAN"&&E.getAttrib(O,"data-mce-type")=="bookmark"||O.nodeType==3&&(O.nodeValue==String.fromCharCode(160)||O.nodeValue==""))});return M.length===0}function C(M){E.removeClass(M,"_mce_act_on");if(!M||M.nodeType!==1||J.length>1&&G(M)){return}M=n(M,E);var N=D[M.tagName];if(!N){N=D.defaultAction}N(M)}function A(M){K.splitSafeEach(M.childNodes,C)}function H(M,N){return N>=0&&M.hasChildNodes()&&N<M.childNodes.length&&M.childNodes[N].tagName==="BR"}function I(){var N=B.getNode();var M=E.getParent(N,"td");return M!==null}J=D.elements;z=B.getRng(true);if(!z.collapsed){if(H(z.endContainer,z.endOffset-1)){z.setEnd(z.endContainer,z.endOffset-1);B.setRng(z)}if(H(z.startContainer,z.startOffset)){z.setStart(z.startContainer,z.startOffset+1);B.setRng(z)}}if(tinymce.isIE8){var L=K.ed.selection.getNode();if(L.tagName==="LI"&&!(L.parentNode.lastChild===L)){var F=K.ed.getDoc().createTextNode("\uFEFF");L.appendChild(F)}}j=B.getBookmark();D.OL=D.UL=A;K.splitSafeEach(J,C);B.moveToBookmark(j);j=null;if(!I()){K.ed.execCommand("mceRepaint")}},splitSafeEach:function(A,z){if(tinymce.isGecko&&(/Firefox\/[12]\.[0-9]/.test(navigator.userAgent)||/Firefox\/3\.[0-4]/.test(navigator.userAgent))){this.classBasedEach(A,z)}else{f(A,z)}},classBasedEach:function(C,B){var D=this.ed.dom,z,A;f(C,function(E){D.addClass(E,"_mce_act_on")});z=D.select("._mce_act_on");while(z.length>0){A=z.shift();D.removeClass(A,"_mce_act_on");B(A);z=D.select("._mce_act_on")}},adjustPaddingFunction:function(B){var z,C,A=this.ed;z=A.settings.indentation;C=/[a-z%]+/i.exec(z);z=parseInt(z,10);return function(D){var F,E;F=parseInt(A.dom.getStyle(D,"margin-left")||0,10)+parseInt(A.dom.getStyle(D,"padding-left")||0,10);if(B){E=F+z}else{E=F-z}A.dom.setStyle(D,"padding-left","");A.dom.setStyle(D,"margin-left",E>0?E+C:"")}},selectedBlocks:function(){var z=this.ed;var A=z.selection.getSelectedBlocks();return A.length==0?[z.dom.getRoot()]:A},getInfo:function(){return{longname:"Lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/lists",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("lists",tinymce.plugins.Lists)}());(function(){tinymce.create("tinymce.plugins.Print",{init:function(b,c){b.addCommand("mcePrint",function(){b.getWin().print()});b.addButton("print",{title:"print.print_desc",cmd:"mcePrint"})},getInfo:function(){return{longname:"Print",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/print",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("print",tinymce.plugins.Print)})();(function(e){var f=e.each;function d(j,k){var l=k.ownerDocument,g=l.createRange(),m;g.setStartBefore(k);g.setEnd(j.endContainer,j.endOffset);m=l.createElement("body");m.appendChild(g.cloneContents());return m.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length==0}function b(j,g){return parseInt(j.getAttribute(g)||1)}function c(L,K,O){var j,P,H,r;z();r=K.getParent(O.getStart(),"th,td");if(r){P=J(r);H=M();r=D(P.x,P.y)}function E(R,Q){R=R.cloneNode(Q);R.removeAttribute("id");return R}function z(){var Q=0;j=[];f(["thead","tbody","tfoot"],function(R){var S=K.select("> "+R+" tr",L);f(S,function(T,U){U+=Q;f(K.select("> td, > th",T),function(aa,V){var W,X,Y,Z;if(j[U]){while(j[U][V]){V++}}Y=b(aa,"rowspan");Z=b(aa,"colspan");for(X=U;X<U+Y;X++){if(!j[X]){j[X]=[]}for(W=V;W<V+Z;W++){j[X][W]={part:R,real:X==U&&W==V,elm:aa,rowspan:Y,colspan:Z}}}})});Q+=S.length})}function D(Q,S){var R;R=j[S];if(R){return R[Q]}}function v(S,Q,R){if(S){R=parseInt(R);if(R===1){S.removeAttribute(Q,1)}else{S.setAttribute(Q,R,1)}}}function l(Q){return Q&&(K.hasClass(Q.elm,"mceSelected")||Q==r)}function m(){var Q=[];f(L.rows,function(R){f(R.cells,function(S){if(K.hasClass(S,"mceSelected")||S==r.elm){Q.push(R);return false}})});return Q}function u(){var Q=K.createRng();Q.setStartAfter(L);Q.setEndAfter(L);O.setRng(Q);K.remove(L)}function g(Q){var R;e.walk(Q,function(T){var S;if(T.nodeType==3){f(K.getParents(T.parentNode,null,Q).reverse(),function(U){U=E(U,false);if(!R){R=S=U}else{if(S){S.appendChild(U)}}S=U});if(S){S.innerHTML=e.isIE?"&nbsp;":'<br data-mce-bogus="1" />'}return false}},"childNodes");Q=E(Q,false);v(Q,"rowSpan",1);v(Q,"colSpan",1);if(R){Q.appendChild(R)}else{if(!e.isIE){Q.innerHTML='<br data-mce-bogus="1" />'}}return Q}function t(){var Q=K.createRng();f(K.select("tr",L),function(R){if(R.cells.length==0){K.remove(R)}});if(K.select("tr",L).length==0){Q.setStartAfter(L);Q.setEndAfter(L);O.setRng(Q);K.remove(L);return}f(K.select("thead,tbody,tfoot",L),function(R){if(R.rows.length==0){K.remove(R)}});z();row=j[Math.min(j.length-1,P.y)];if(row){O.select(row[Math.min(row.length-1,P.x)].elm,true);O.collapse(true)}}function A(W,U,Y,V){var T,R,Q,S,X;T=j[U][W].elm.parentNode;for(Q=1;Q<=Y;Q++){T=K.getNext(T,"tr");if(T){for(R=W;R>=0;R--){X=j[U+Q][R].elm;if(X.parentNode==T){for(S=1;S<=V;S++){K.insertAfter(g(X),X)}break}}if(R==-1){for(S=1;S<=V;S++){T.insertBefore(g(T.cells[0]),T.cells[0])}}}}}function G(){f(j,function(Q,R){f(Q,function(T,S){var W,V,X,U;if(l(T)){T=T.elm;W=b(T,"colspan");V=b(T,"rowspan");if(W>1||V>1){v(T,"rowSpan",1);v(T,"colSpan",1);for(U=0;U<W-1;U++){K.insertAfter(g(T),T)}A(S,R,V-1,W)}}})})}function s(Z,W,ac){var T,S,ab,aa,Y,V,X,Q,Z,R,U;if(Z){pos=J(Z);T=pos.x;S=pos.y;ab=T+(W-1);aa=S+(ac-1)}else{P=H=null;f(j,function(ad,ae){f(ad,function(ag,af){if(l(ag)){if(!P){P={x:af,y:ae}}H={x:af,y:ae}}})});T=P.x;S=P.y;ab=H.x;aa=H.y}X=D(T,S);Q=D(ab,aa);if(X&&Q&&X.part==Q.part){G();z();X=D(T,S).elm;v(X,"colSpan",(ab-T)+1);v(X,"rowSpan",(aa-S)+1);for(V=S;V<=aa;V++){for(Y=T;Y<=ab;Y++){if(!j[V]||!j[V][Y]){continue}Z=j[V][Y].elm;if(Z!=X){R=e.grep(Z.childNodes);f(R,function(ad){X.appendChild(ad)});if(R.length){R=e.grep(X.childNodes);U=0;f(R,function(ad){if(ad.nodeName=="BR"&&K.getAttrib(ad,"data-mce-bogus")&&U++<R.length-1){X.removeChild(ad)}})}K.remove(Z)}}}t()}}function n(U){var Q,W,T,V,X,Y,R,Z,S;f(j,function(aa,ab){f(aa,function(ad,ac){if(l(ad)){ad=ad.elm;X=ad.parentNode;Y=E(X,false);Q=ab;if(U){return false}}});if(U){return !Q}});for(V=0;V<j[0].length;V++){if(!j[Q][V]){continue}W=j[Q][V].elm;if(W!=T){if(!U){S=b(W,"rowspan");if(S>1){v(W,"rowSpan",S+1);continue}}else{if(Q>0&&j[Q-1][V]){Z=j[Q-1][V].elm;S=b(Z,"rowSpan");if(S>1){v(Z,"rowSpan",S+1);continue}}}R=g(W);v(R,"colSpan",W.colSpan);Y.appendChild(R);T=W}}if(Y.hasChildNodes()){if(!U){K.insertAfter(Y,X)}else{X.parentNode.insertBefore(Y,X)}}}function k(R){var S,Q;f(j,function(T,U){f(T,function(W,V){if(l(W)){S=V;if(R){return false}}});if(R){return !S}});f(j,function(W,X){var T,U,V;if(!W[S]){return}T=W[S].elm;if(T!=Q){V=b(T,"colspan");U=b(T,"rowspan");if(V==1){if(!R){K.insertAfter(g(T),T);A(S,X,U-1,V)}else{T.parentNode.insertBefore(g(T),T);A(S,X,U-1,V)}}else{v(T,"colSpan",T.colSpan+1)}Q=T}})}function q(){var Q=[];f(j,function(R,S){f(R,function(U,T){if(l(U)&&e.inArray(Q,T)===-1){f(j,function(X){var V=X[T].elm,W;W=b(V,"colSpan");if(W>1){v(V,"colSpan",W-1)}else{K.remove(V)}});Q.push(T)}})});t()}function o(){var R;function Q(U){var T,V,S;T=K.getNext(U,"tr");f(U.cells,function(W){var X=b(W,"rowSpan");if(X>1){v(W,"rowSpan",X-1);V=J(W);A(V.x,V.y,1,1)}});V=J(U.cells[0]);f(j[V.y],function(W){var X;W=W.elm;if(W!=S){X=b(W,"rowSpan");if(X<=1){K.remove(W)}else{v(W,"rowSpan",X-1)}S=W}})}R=m();f(R.reverse(),function(S){Q(S)});t()}function I(){var Q=m();K.remove(Q);t();return Q}function N(){var Q=m();f(Q,function(S,R){Q[R]=E(S,true)});return Q}function F(S,R){var T=m(),Q=T[R?0:T.length-1],U=Q.cells.length;f(j,function(W){var V;U=0;f(W,function(Y,X){if(Y.real){U+=Y.colspan}if(Y.elm.parentNode==Q){V=1}});if(V){return false}});if(!R){S.reverse()}f(S,function(X){var W=X.cells.length,V;for(i=0;i<W;i++){V=X.cells[i];v(V,"colSpan",1);v(V,"rowSpan",1)}for(i=W;i<U;i++){X.appendChild(g(X.cells[W-1]))}for(i=U;i<W;i++){K.remove(X.cells[i])}if(R){Q.parentNode.insertBefore(X,Q)}else{K.insertAfter(X,Q)}});K.removeClass(K.select("td.mceSelected,th.mceSelected"),"mceSelected")}function J(Q){var R;f(j,function(S,T){f(S,function(V,U){if(V.elm==Q){R={x:U,y:T};return false}});return !R});return R}function C(Q){P=J(Q)}function M(){var S,R,Q;R=Q=0;f(j,function(T,U){f(T,function(W,V){var Y,X;if(l(W)){W=j[U][V];if(V>R){R=V}if(U>Q){Q=U}if(W.real){Y=W.colspan-1;X=W.rowspan-1;if(Y){if(V+Y>R){R=V+Y}}if(X){if(U+X>Q){Q=U+X}}}}})});return{x:R,y:Q}}function B(W){var T,S,Y,X,R,Q,U,V;H=J(W);if(P&&H){T=Math.min(P.x,H.x);S=Math.min(P.y,H.y);Y=Math.max(P.x,H.x);X=Math.max(P.y,H.y);R=Y;Q=X;for(y=S;y<=Q;y++){W=j[y][T];if(!W.real){if(T-(W.colspan-1)<T){T-=W.colspan-1}}}for(x=T;x<=R;x++){W=j[S][x];if(!W.real){if(S-(W.rowspan-1)<S){S-=W.rowspan-1}}}for(y=S;y<=X;y++){for(x=T;x<=Y;x++){W=j[y][x];if(W.real){U=W.colspan-1;V=W.rowspan-1;if(U){if(x+U>R){R=x+U}}if(V){if(y+V>Q){Q=y+V}}}}}K.removeClass(K.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=S;y<=Q;y++){for(x=T;x<=R;x++){if(j[y][x]){K.addClass(j[y][x].elm,"mceSelected")}}}}}e.extend(this,{deleteTable:u,split:G,merge:s,insertRow:n,insertCol:k,deleteCols:q,deleteRows:o,cutRows:I,copyRows:N,pasteRows:F,getPos:J,setStartCell:C,setEndCell:B})}e.create("tinymce.plugins.TablePlugin",{init:function(j,k){var g,o,l=true;function n(s){var r=j.selection,q=j.dom.getParent(s||r.getNode(),"table");if(q){return new c(q,j.dom,r)}}function m(){j.getBody().style.webkitUserSelect="";if(l){j.dom.removeClass(j.dom.select("td.mceSelected,th.mceSelected"),"mceSelected");l=false}}f([["table","table.desc","mceInsertTable",true],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",true],["cell_props","table.cell_desc","mceTableCellProps",true],["split_cells","table.split_cells_desc","mceTableSplitCells",true],["merge_cells","table.merge_cells_desc","mceTableMergeCells",true]],function(q){j.addButton(q[0],{title:q[1],cmd:q[2],ui:q[3]})});if(!e.isIE){j.onClick.add(function(q,r){r=r.target;if(r.nodeName==="TABLE"){q.selection.select(r);q.nodeChanged()}})}j.onPreProcess.add(function(r,s){var q,t,u,z=r.dom,v;q=z.select("table",s.node);t=q.length;while(t--){u=q[t];z.setAttrib(u,"data-mce-style","");if((v=z.getAttrib(u,"width"))){z.setStyle(u,"width",v);z.setAttrib(u,"width","")}if((v=z.getAttrib(u,"height"))){z.setStyle(u,"height",v);z.setAttrib(u,"height","")}}});j.onNodeChange.add(function(r,q,t){var s;t=r.selection.getStart();s=r.dom.getParent(t,"td,th,caption");q.setActive("table",t.nodeName==="TABLE"||!!s);if(s&&s.nodeName==="CAPTION"){s=0}q.setDisabled("delete_table",!s);q.setDisabled("delete_col",!s);q.setDisabled("delete_table",!s);q.setDisabled("delete_row",!s);q.setDisabled("col_after",!s);q.setDisabled("col_before",!s);q.setDisabled("row_after",!s);q.setDisabled("row_before",!s);q.setDisabled("row_props",!s);q.setDisabled("cell_props",!s);q.setDisabled("split_cells",!s);q.setDisabled("merge_cells",!s)});j.onInit.add(function(u){var s,z,t=u.dom,A;g=u.windowManager;u.onMouseDown.add(function(C,D){if(D.button!=2){m();z=t.getParent(D.target,"td,th");s=t.getParent(z,"table")}});t.bind(u.getDoc(),"mouseover",function(G){var E,D,F=G.target;if(z&&(A||F!=z)&&(F.nodeName=="TD"||F.nodeName=="TH")){D=t.getParent(F,"table");if(D==s){if(!A){A=n(D);A.setStartCell(z);u.getBody().style.webkitUserSelect="none"}A.setEndCell(F);l=true}E=u.selection.getSel();try{if(E.removeAllRanges){E.removeAllRanges()}else{E.empty()}}catch(C){}G.preventDefault()}});u.onMouseUp.add(function(J,K){var D,F=J.selection,L,M=F.getSel(),C,G,E,I;if(z){if(A){J.getBody().style.webkitUserSelect=""}function H(N,P){var O=new e.dom.TreeWalker(N,N);do{if(N.nodeType==3&&e.trim(N.nodeValue).length!=0){if(P){D.setStart(N,0)}else{D.setEnd(N,N.nodeValue.length)}return}if(N.nodeName=="BR"){if(P){D.setStartBefore(N)}else{D.setEndBefore(N)}return}}while(N=(P?O.next():O.prev()))}L=t.select("td.mceSelected,th.mceSelected");if(L.length>0){D=t.createRng();G=L[0];I=L[L.length-1];D.setStartBefore(G);D.setEndAfter(G);H(G,1);C=new e.dom.TreeWalker(G,t.getParent(L[0],"table"));do{if(G.nodeName=="TD"||G.nodeName=="TH"){if(!t.hasClass(G,"mceSelected")){break}E=G}}while(G=C.next());H(E);F.setRng(D)}J.nodeChanged();z=A=s=null}});u.onKeyUp.add(function(C,D){m()});u.onKeyDown.add(function(C,D){q(C)});u.onMouseDown.add(function(C,D){if(D.button!=2){q(C)}});function r(H,D,E,J){var F=3,K=H.dom.getParent(D.startContainer,"TABLE"),G,C,I;if(K){G=K.parentNode}C=D.startContainer.nodeType==F&&D.startOffset==0&&D.endOffset==0&&J&&(E.nodeName=="TR"||E==G);I=(E.nodeName=="TD"||E.nodeName=="TH")&&!J;return C||I}function q(E){if(!e.isWebKit){return}var D=E.selection.getRng();var G=E.selection.getNode();var F=E.dom.getParent(D.startContainer,"TD,TH");if(!r(E,D,G,F)){return}if(!F){F=G}var C=F.lastChild;while(C.lastChild){C=C.lastChild}D.setEnd(C,C.nodeValue.length);E.selection.setRng(D)}u.plugins.table.fixTableCellSelection=q;if(u&&u.plugins.contextmenu){u.plugins.contextmenu.onContextMenu.add(function(E,C,G){var H,F=u.selection,D=F.getNode()||u.getBody();if(u.dom.getParent(G,"td")||u.dom.getParent(G,"th")||u.dom.select("td.mceSelected,th.mceSelected").length){C.removeAll();if(D.nodeName=="A"&&!u.dom.getAttrib(D,"name")){C.add({title:"advanced.link_desc",icon:"link",cmd:u.plugins.advlink?"mceAdvLink":"mceLink",ui:true});C.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});C.addSeparator()}if(D.nodeName=="IMG"&&D.className.indexOf("mceItem")==-1){C.add({title:"advanced.image_desc",icon:"image",cmd:u.plugins.advimage?"mceAdvImage":"mceImage",ui:true});C.addSeparator()}C.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}});C.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"});C.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"});C.addSeparator();H=C.addMenu({title:"table.cell"});H.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"});H.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"});H.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"});H=C.addMenu({title:"table.row"});H.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"});H.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"});H.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"});H.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"});H.addSeparator();H.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"});H.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"});H.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!o);H.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!o);H=C.addMenu({title:"table.col"});H.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"});H.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"});H.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})}else{C.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})}})}if(e.isWebKit){function B(G,R){var P=e.VK;var U=R.keyCode;function S(ac,Y,W){var X=ac?"previousSibling":"nextSibling";var ad=G.dom.getParent(Y,"tr");var ab=ad[X];if(ab){D(G,Y,ab,ac);e.dom.Event.cancel(W);return true}else{var ae=G.dom.getParent(ad,"table");var aa=ad.parentNode;var V=aa.nodeName.toLowerCase();if(V==="tbody"||V===(ac?"tfoot":"thead")){var Z=C(ac,ae,aa,"tbody");if(Z!==null){return O(ac,Z,Y,W)}}return Q(ac,ad,X,ae,W)}}function C(Z,X,Y,ab){var W=G.dom.select(">"+ab,X);var V=W.indexOf(Y);if(Z&&V===0||!Z&&V===W.length-1){return F(Z,X)}else{if(V===-1){var aa=Y.tagName.toLowerCase()==="thead"?0:W.length-1;return W[aa]}else{return W[V+(Z?-1:1)]}}}function F(Y,X){var W=Y?"thead":"tfoot";var V=G.dom.select(">"+W,X);return V.length!==0?V[0]:null}function O(Z,X,W,Y){var V=N(X,Z);V&&D(G,W,V,Z);e.dom.Event.cancel(Y);return true}function Q(ac,Y,V,ab,aa){var W=ab[V];if(W){J(W);return true}else{var Z=G.dom.getParent(ab,"td,th");if(Z){return S(ac,Z,aa)}else{var X=N(Y,!ac);J(X);return e.dom.Event.cancel(aa)}}}function N(W,V){var X=W&&W[V?"lastChild":"firstChild"];return X&&X.nodeName==="BR"?G.dom.getParent(X,"td,th"):X}function J(V){G.selection.setCursorLocation(V,0)}function E(){return U==P.UP||U==P.DOWN}function H(V){var X=V.selection.getNode();var W=V.dom.getParent(X,"tr");return W!==null}function T(W){var V=0;var X=W;while(X.previousSibling){X=X.previousSibling;V=V+b(X,"colspan")}return V}function I(X,V){var Y=0;var W=0;f(X.children,function(Z,aa){Y=Y+b(Z,"colspan");W=aa;if(Y>V){return false}});return W}function D(X,aa,ac,Z){var ab=T(X.dom.getParent(aa,"td,th"));var W=I(ac,ab);var V=ac.childNodes[W];var Y=N(V,Z);J(Y||V)}function L(V){var X=G.selection.getNode();var Y=G.dom.getParent(X,"td,th");var W=G.dom.getParent(V,"td,th");return Y&&Y!==W&&M(Y,W)}function M(W,V){return G.dom.getParent(W,"TABLE")===G.dom.getParent(V,"TABLE")}if(E()&&H(G)){var K=G.selection.getNode();setTimeout(function(){if(L(K)){S(!R.shiftKey&&U===P.UP,K,R)}},0)}}u.onKeyDown.add(B)}if(!e.isIE){function v(){var C;for(C=u.getBody().lastChild;C&&C.nodeType==3&&!C.nodeValue.length;C=C.previousSibling){}if(C&&C.nodeName=="TABLE"){u.dom.add(u.getBody(),"p",null,'<br data-mce-bogus="1" />')}}if(e.isGecko){u.onKeyDown.add(function(D,F){var C,E,G=D.dom;if(F.keyCode==37||F.keyCode==38){C=D.selection.getRng();E=G.getParent(C.startContainer,"table");if(E&&D.getBody().firstChild==E){if(d(C,E)){C=G.createRng();C.setStartBefore(E);C.setEndBefore(E);D.selection.setRng(C);F.preventDefault()}}}})}u.onKeyUp.add(v);u.onSetContent.add(v);u.onVisualAid.add(v);u.onPreProcess.add(function(C,E){var D=E.node.lastChild;if(D&&D.childNodes.length==1&&D.firstChild.nodeName=="BR"&&D.previousSibling&&D.previousSibling.nodeName=="TABLE"){C.dom.remove(D)}});if(e.isGecko){u.onKeyDown.add(function(D,F){if(F.keyCode===e.VK.ENTER&&F.shiftKey){var E=D.selection.getRng().startContainer;var G=t.getParent(E,"td,th");if(G){var C=D.getDoc().createTextNode("\uFEFF");t.insertAfter(C,E)}}})}v();u.startContent=u.getContent({format:"raw"})}});f({mceTableSplitCells:function(q){q.split()},mceTableMergeCells:function(r){var s,t,q;q=j.dom.getParent(j.selection.getNode(),"th,td");if(q){s=q.rowSpan;t=q.colSpan}if(!j.dom.select("td.mceSelected,th.mceSelected").length){g.open({url:k+"/merge_cells.htm",width:240+parseInt(j.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(j.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:s,cols:t,onaction:function(u){r.merge(q,u.cols,u.rows)},plugin_url:k})}else{r.merge()}},mceTableInsertRowBefore:function(q){q.insertRow(true)},mceTableInsertRowAfter:function(q){q.insertRow()},mceTableInsertColBefore:function(q){q.insertCol(true)},mceTableInsertColAfter:function(q){q.insertCol()},mceTableDeleteCol:function(q){q.deleteCols()},mceTableDeleteRow:function(q){q.deleteRows()},mceTableCutRow:function(q){o=q.cutRows()},mceTableCopyRow:function(q){o=q.copyRows()},mceTablePasteRowBefore:function(q){q.pasteRows(o,true)},mceTablePasteRowAfter:function(q){q.pasteRows(o)},mceTableDelete:function(q){q.deleteTable()}},function(r,q){j.addCommand(q,function(){var s=n();if(s){r(s);j.execCommand("mceRepaint");m()}})});f({mceInsertTable:function(q){g.open({url:k+"/table.htm",width:400+parseInt(j.getLang("table.table_delta_width",0)),height:320+parseInt(j.getLang("table.table_delta_height",0)),inline:1},{plugin_url:k,action:q?q.action:0})},mceTableRowProps:function(){g.open({url:k+"/row.htm",width:400+parseInt(j.getLang("table.rowprops_delta_width",0)),height:295+parseInt(j.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:k})},mceTableCellProps:function(){g.open({url:k+"/cell.htm",width:400+parseInt(j.getLang("table.cellprops_delta_width",0)),height:295+parseInt(j.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:k})}},function(r,q){j.addCommand(q,function(s,t){r(t)})})}});e.PluginManager.add("table",e.plugins.TablePlugin)})(tinymce);(function(f){var d="autosave",j="restoredraft",c=true,g,e,b=f.util.Dispatcher;f.create("tinymce.plugins.AutoSave",{init:function(l,m){var k=this,o=l.settings;k.editor=l;function n(r){var q={s:1000,m:60000};r=/^(\d+)([ms]?)$/.exec(""+r);return(r[2]?q[r[2]]:1)*parseInt(r)}f.each({ask_before_unload:c,interval:"30s",retention:"20m",minlength:50},function(r,q){q=d+"_"+q;if(o[q]===g){o[q]=r}});o.autosave_interval=n(o.autosave_interval);o.autosave_retention=n(o.autosave_retention);l.addButton(j,{title:d+".restore_content",onclick:function(){if(l.getContent({draft:true}).replace(/\s|&nbsp;|<\/?p[^>]*>|<br[^>]*>/gi,"").length>0){l.windowManager.confirm(d+".warning_message",function(q){if(q){k.restoreDraft()}})}else{k.restoreDraft()}}});l.onNodeChange.add(function(){var q=l.controlManager;if(q.get(j)){q.setDisabled(j,!k.hasDraft())}});l.onInit.add(function(){if(l.controlManager.get(j)){k.setupStorage(l);setInterval(function(){k.storeDraft();l.nodeChanged()},o.autosave_interval)}});k.onStoreDraft=new b(k);k.onRestoreDraft=new b(k);k.onRemoveDraft=new b(k);if(!e){window.onbeforeunload=f.plugins.AutoSave._beforeUnloadHandler;e=c}},getInfo:function(){return{longname:"Auto save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autosave",version:f.majorVersion+"."+f.minorVersion}},getExpDate:function(){return new Date(new Date().getTime()+this.editor.settings.autosave_retention).toUTCString()},setupStorage:function(l){var k=this,n=d+"_test",m="OK";k.key=d+l.id;f.each([function(){if(localStorage){localStorage.setItem(n,m);if(localStorage.getItem(n)===m){localStorage.removeItem(n);return localStorage}}},function(){if(sessionStorage){sessionStorage.setItem(n,m);if(sessionStorage.getItem(n)===m){sessionStorage.removeItem(n);return sessionStorage}}},function(){if(f.isIE){l.getElement().style.behavior="url('#default#userData')";return{autoExpires:c,setItem:function(o,r){var q=l.getElement();q.setAttribute(o,r);q.expires=k.getExpDate();try{q.save("TinyMCE")}catch(s){}},getItem:function(o){var q=l.getElement();try{q.load("TinyMCE");return q.getAttribute(o)}catch(r){return null}},removeItem:function(o){l.getElement().removeAttribute(o)}}}},],function(o){try{k.storage=o();if(k.storage){return false}}catch(q){}})},storeDraft:function(){var l=this,o=l.storage,m=l.editor,k,n;if(o){if(!o.getItem(l.key)&&!m.isDirty()){return}n=m.getContent({draft:true});if(n.length>m.settings.autosave_minlength){k=l.getExpDate();if(!l.storage.autoExpires){l.storage.setItem(l.key+"_expires",k)}l.storage.setItem(l.key,n);l.onStoreDraft.dispatch(l,{expires:k,content:n})}}},restoreDraft:function(){var k=this,m=k.storage,l;if(m){l=m.getItem(k.key);if(l){k.editor.setContent(l);k.onRestoreDraft.dispatch(k,{content:l})}}},hasDraft:function(){var k=this,n=k.storage,l,m;if(n){m=!!n.getItem(k.key);if(m){if(!k.storage.autoExpires){l=new Date(n.getItem(k.key+"_expires"));if(new Date().getTime()<l.getTime()){return c}k.removeDraft()}else{return c}}}return false},removeDraft:function(){var k=this,n=k.storage,l=k.key,m;if(n){m=n.getItem(l);n.removeItem(l);n.removeItem(l+"_expires");if(m){k.onRemoveDraft.dispatch(k,{content:m})}}},"static":{_beforeUnloadHandler:function(k){var l;f.each(tinyMCE.editors,function(m){if(m.plugins.autosave){m.plugins.autosave.storeDraft()}if(m.getParam("fullscreen_is_enabled")){return}if(!l&&m.isDirty()&&m.getParam("autosave_ask_before_unload")){l=m.getLang("autosave.unload_msg")}});return l}}});f.PluginManager.add("autosave",f.plugins.AutoSave)})(tinymce);tinyMCE.addI18n("en.autosave",{restore_content:"Restore auto-saved content",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?"});jQuery(function(e){VERSION="3.5.2";var b=window.head_data||{};var c=b.panel_data.tinymce||{};var k=b.kaltura_data||{};var d="paste,embedmedia,spellchecker,imagedrawer,advimagescale,advlist,print,table,autosave";if(c.enable_wiki_plugin){d+=",wicked"}if(k.enabled){d+=",kaltura"}var g=b.context_url;var j=b.karl_static_url+"tinymce/"+VERSION+"/jscripts/tiny_mce";var m=b.karl_static_url+"tinymce-plugins";var f=b.app_url;var n=b.tinymce_height;var l=b.tinymce_width;e.each(["advimagescale","embedmedia","imagedrawer","kaltura","wicked"],function(o,q){tinymce.PluginManager.load(q,m+"/"+q+"/")});tinymce.ThemeManager.load("advanced",m+"/theme-advanced-"+VERSION+"/editor_template_src.js");e(".mceEditor").tinysafe({load_js:false,load_editor_css:false,script_url:j,theme:"advanced",skin:"karl",mode:"specific_textareas",height:n,width:l,convert_urls:false,gecko_spellcheck:true,submit_patch:false,entity_encoding:"numeric",add_form_submit_trigger:false,add_unload_trigger:false,strict_loading_mode:true,paste_create_paragraphs:false,paste_create_linebreaks:false,paste_use_dialog:false,paste_auto_cleanup_on_paste:true,paste_convert_middot_lists:true,paste_unindented_list_class:"unindentedList",paste_convert_headers_to_strong:true,theme_advanced_buttons1:"bold, italic, underline, |, forecolor, backcolor, removeformat, |, bullist, numlist, |, justifycenter, justifyleft,justifyright, justifyfull, |, indent, outdent, |, image, embedmedia, kaltura, |, print",theme_advanced_buttons2:"formatselect, fontselect, fontsizeselect, |, blockquote, hr, |, link, addwickedlink, delwickedlink, code, spellchecker, restoredraft",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"center",theme_advanced_statusbar_location:false,plugins:d,extended_valid_elements:"object[classid|codebase|width|height],param[name|value],embed[quality|type|pluginspage|width|height|src|wmode|swliveconnect|allowscriptaccess|allowfullscreen|seamlesstabbing|name|base|flashvars|flashVars|bgcolor],script[src]",relative_urls:false,spellchecker_rpc_url:f+"/tinymce_spellcheck",spellchecker_languages:"+English=en",imagedrawer_dialog_url:g+"drawer_dialog_view.html",imagedrawer_upload_url:g+"drawer_upload_view.html",imagedrawer_data_url:g+"drawer_data_view.html",imagedrawer_enable_upload:c.enable_imagedrawer_upload,kaltura_partner_id:k.partner_id,kaltura_sub_partner_id:k.sub_partner_id,kaltura_local_user:k.local_user,kaltura_user_secret:k.user_secret,kaltura_admin_secret:k.admin_secret,kaltura_kcw_uiconf_id:k.kcw_uiconf_id,kaltura_player_uiconf_id:k.player_uiconf_id,kaltura_player_cache_st:k.player_cache_st,kaltura_session_url:k.session_url})});(function(c){var f,e,b=[],d=window;c.fn.tinysafe=function(m){var t=this,j,n,k,q,l,o="",r="";if(!t.length){return t}if(!m){return tinyMCE.get(t[0].id)}function s(){var v=[],u=0;t.each(function(A,B){var z,D=B.id,C=m.oninit;if(!D){B.id=D=tinymce.DOM.uniqueId()}z=new tinymce.Editor(D,m);v.push(z);if(C){z.onInit.add(function(){var E,F=C;if(++u==v.length){if(tinymce.is(F,"string")){E=(F.indexOf(".")===-1)?null:tinymce.resolve(F.replace(/\.\w+$/,""));F=tinymce.resolve(F)}F.apply(E||tinymce,v)}})}});c.each(v,function(A,z){z.render()})}var j=m.script_url;if(m.load_js===false){if(j.charAt(j.length-1)!="/"){j+="/"}j+="gzip"}if(m.load_editor_css===false){m.editor_css=","}if((m.load_js===false)||(!d.tinymce&&!e&&j)){e=1;k=j.substring(0,j.lastIndexOf("/"));if(/_(src|dev)\.js/g.test(j)){r="_src"}q=j.lastIndexOf("?");if(q!=-1){o=j.substring(q+1)}d.tinyMCEPreInit=d.tinyMCEPreInit||{base:k,suffix:r,query:o};if(j.indexOf("gzip")!=-1){l=m.language||"en";j=j+(/\?/.test(j)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(m.theme)+"&plugins="+escape(m.plugins)+"&languages="+l;if(!d.tinyMCE_GZ){tinyMCE_GZ={start:function(){tinymce.suffix=r;function u(v){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(v))}u("langs/"+l+".js");u("themes/"+m.theme+"/editor_template"+r+".js");u("themes/"+m.theme+"/langs/"+l+".js");c.each(m.plugins.split(","),function(z,v){if(v){u("plugins/"+v+"/editor_plugin"+r+".js");u("plugins/"+v+"/langs/"+l+".js")}})},end:function(){}}}}if(m.load_js===false){tinymce.baseURL=new tinymce.util.URI(tinymce.documentBaseURL).toAbsolute(tinyMCEPreInit.base);if(tinymce.baseURL.charAt(tinymce.baseURL.length-1)=="/"){tinymce.baseURL=tinymce.baseURL.substr(0,tinymce.baseURL.length-1)}tinymce.baseURI=new tinymce.util.URI(tinymce.baseURL);tinymce.dom.Event.domLoaded=1;tinyMCE_GZ.start();if(m.script_loaded){m.script_loaded()}s()}(m.load_js!==false)&&c.ajax({type:"GET",url:j,dataType:"script",cache:true,success:function(){tinymce.dom.Event.domLoaded=1;e=2;if(m.script_loaded){m.script_loaded()}s();c.each(b,function(u,v){v()})}})}else{if(e===1){b.push(s)}else{s()}}return t};c.extend(c.expr[":"],{tinymce:function(j){return j.id&&!!tinyMCE.get(j.id)}});function g(){function l(o){if(o==="remove"){this.each(function(r,s){var q=k(s);if(q){q.remove()}})}this.find("span.mceEditor,div.mceEditor").each(function(r,s){var q=tinyMCE.get(s.id.replace(/_parent$/,""));if(q){q.remove()}})}function n(r){var q=this,o;if(r!==f){l.call(q);q.each(function(t,u){var s;if(s=tinyMCE.get(u.id)){s.setContent(r)}})}else{if(q.length>0){if(o=tinyMCE.get(q[0].id)){return o.getContent()}}}}function k(q){var o=null;(q)&&(q.id)&&(d.tinymce)&&(o=tinyMCE.get(q.id));return o}function j(o){return !!((o)&&(o.length)&&(d.tinymce)&&(o.is(":tinymce")))}var m={};c.each(["text","html","val"],function(r,o){var s=m[o]=c.fn[o],q=(o==="text");c.fn["tiny_"+o]=function(z){var t=this;if(!j(t)){return s.apply(t,arguments)}if(z!==f){n.call(t.filter(":tinymce"),z);s.apply(t.not(":tinymce"),arguments);return t}else{var v="";var u=arguments;(q?t:t.eq(0)).each(function(B,C){var A=k(C);v+=A?(q?A.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):A.getContent()):s.apply(c(C),u)});return v}}});c.each(["append","prepend"],function(r,q){var s=m[q]=c.fn[q],o=(q==="prepend");c.fn["tiny_"+q]=function(u){var t=this;if(!j(t)){return s.apply(t,arguments)}if(u!==f){t.filter(":tinymce").each(function(z,A){var v=k(A);v&&v.setContent(o?u+v.getContent():v.getContent()+u)});s.apply(t.not(":tinymce"),arguments);return t}}});c.each(["remove","replaceWith","replaceAll","empty"],function(q,o){var r=m[o]=c.fn[o];c.fn["tiny_"+o]=function(){l.call(this,o);return r.apply(this,arguments)}});m.attr=c.fn.attr;c.fn.tiny_attr=function(r,u,s){var q=this;if((!r)||(r!=="value")||(!j(q))){return m.attr.call(q,r,u,s)}if(u!==f){n.call(q.filter(":tinymce"),u);m.attr.call(q.not(":tinymce"),r,u,s);return q}else{var t=q[0],o=k(t);return o?o.getContent():m.attr.call(c(t),r,u,s)}}}if(g){g();g=null}})(jQuery);(function(k){var l=k.DOM,j=k.dom.Event,d=k.extend,g=k.each,b=k.util.Cookie,f,e=k.explode;function c(q,n){var u,t=q.dom,r="",s,o;previewStyles=q.settings.preview_styles;if(previewStyles===false){return""}if(!previewStyles){previewStyles="font-family font-size font-weight text-decoration text-transform color background-color"}function m(v){return v.replace(/%(\w+)/g,"")}name=n.block||n.inline||"span";u=t.create(name);g(n.styles,function(z,v){z=m(z);if(z){t.setStyle(u,v,z)}});g(n.attributes,function(z,v){z=m(z);if(z){t.setAttrib(u,v,z)}});g(n.classes,function(v){v=m(v);if(!t.hasClass(u,v)){t.addClass(u,v)}});t.setStyles(u,{position:"absolute",left:-65535});q.getBody().appendChild(u);s=t.getStyle(q.getBody(),"fontSize",true);s=/px$/.test(s)?parseInt(s,10):0;g(previewStyles.split(" "),function(v){var z=t.getStyle(u,v,true);if(v=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(z)){z=t.getStyle(q.getBody(),v,true);if(t.toHex(z).toLowerCase()=="#ffffff"){return}}if(v=="font-size"){if(/em|%$/.test(z)){if(s===0){return}z=parseFloat(z,10)/(/%$/.test(z)?100:1);z=(z*s)+"px"}}r+=v+":"+z+";"});t.remove(u);return r}k.ThemeManager.requireLangPack("advanced");k.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(n,q){var r=this,u,m,z;r.editor=n;r.url=q;r.onResolveName=new k.util.Dispatcher(this);u=n.settings;n.forcedHighContrastMode=n.settings.detect_highcontrast&&r._isHighContrast();n.settings.skin=n.forcedHighContrastMode?"highcontrast":n.settings.skin;if(!u.theme_advanced_buttons1){u=d({theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap"},u)}r.settings=u=d({theme_advanced_path:true,theme_advanced_toolbar_location:"top",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",theme_advanced_font_selector:"span",theme_advanced_show_current_color:0,readonly:n.settings.readonly},u);if(!u.font_size_style_values){u.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"}if(k.is(u.theme_advanced_font_sizes,"string")){u.font_size_style_values=k.explode(u.font_size_style_values);u.font_size_classes=k.explode(u.font_size_classes||"");z={};n.settings.theme_advanced_font_sizes=u.theme_advanced_font_sizes;g(n.getParam("theme_advanced_font_sizes","","hash"),function(t,s){var o;if(s==t&&t>=1&&t<=7){s=t+" ("+r.sizes[t-1]+"pt)";o=u.font_size_classes[t-1];t=u.font_size_style_values[t-1]||(r.sizes[t-1]+"pt")}if(/^\s*\./.test(t)){o=t.replace(/\./g,"")}z[s]=o?{"class":o}:{fontSize:t}});u.theme_advanced_font_sizes=z}if((m=u.theme_advanced_path_location)&&m!="none"){u.theme_advanced_statusbar_location=u.theme_advanced_path_location}if(u.theme_advanced_statusbar_location=="none"){u.theme_advanced_statusbar_location=0}if(n.settings.content_css!==false){n.contentCSS.push(n.baseURI.toAbsolute(q+"/skins/"+n.settings.skin+"/content.css"))}n.onInit.add(function(){if(!n.settings.readonly){n.onNodeChange.add(r._nodeChanged,r);n.onKeyUp.add(r._updateUndoStatus,r);n.onMouseUp.add(r._updateUndoStatus,r);n.dom.bind(n.dom.getRoot(),"dragend",function(){r._updateUndoStatus(n)})}});n.onSetProgressState.add(function(t,o,v){var A,B=t.id,s;if(o){r.progressTimer=setTimeout(function(){A=t.getContainer();A=A.insertBefore(l.create("DIV",{style:"position:relative"}),A.firstChild);s=l.get(t.id+"_tbl");l.add(A,"div",{id:B+"_blocker","class":"mceBlocker",style:{width:s.clientWidth+2,height:s.clientHeight+2}});l.add(A,"div",{id:B+"_progress","class":"mceProgress",style:{left:s.clientWidth/2,top:s.clientHeight/2}})},v||0)}else{l.remove(B+"_blocker");l.remove(B+"_progress");clearTimeout(r.progressTimer)}});l.loadCSS(u.editor_css?n.documentBaseURI.toAbsolute(u.editor_css):q+"/skins/"+n.settings.skin+"/ui.css");if(u.skin_variant){l.loadCSS(q+"/skins/"+n.settings.skin+"/ui_"+u.skin_variant+".css")}},_isHighContrast:function(){var m,n=l.add(l.getRoot(),"div",{style:"background-color: rgb(171,239,86);"});m=(l.getStyle(n,"background-color",true)+"").toLowerCase().replace(/ /g,"");l.remove(n);return m!="rgb(171,239,86)"&&m!="#abef56"},createControl:function(r,m){var o,q;if(q=m.createControl(r)){return q}switch(r){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if((o=this.controls[r])){return m.createButton(r,{title:"advanced."+o[0],cmd:o[1],ui:o[2],value:o[3]})}},execCommand:function(o,n,q){var m=this["_"+o];if(m){m.call(this,n,q);return true}return false},_importClasses:function(o){var m=this.editor,n=m.controlManager.get("styleselect");if(n.getLength()==0){g(m.dom.getClasses(),function(t,q){var s="style_"+q,r;r={inline:"span",attributes:{"class":t["class"]},selector:"*"};m.formatter.register(s,r);n.add(t["class"],s,{style:function(){return c(m,r)}})})}},_createStyleSelect:function(s){var q=this,m=q.editor,o=m.controlManager,r;r=o.createListBox("styleselect",{title:"advanced.style_select",onselect:function(u){var v,n=[],t;g(r.items,function(z){n.push(z.value)});m.focus();m.undoManager.add();v=m.formatter.matchAll(n);k.each(v,function(z){if(!u||z==u){if(z){m.formatter.remove(z)}t=true}});if(!t){m.formatter.apply(u)}m.undoManager.add();m.nodeChanged();return false}});m.onPreInit.add(function(){var t=0,n=m.getParam("style_formats");if(n){g(n,function(u){var v,z=0;g(u,function(){z++});if(z>1){v=u.name=u.name||"style_"+(t++);m.formatter.register(v,u);r.add(u.title,v,{style:function(){return c(m,u)}})}else{r.add(u.title)}})}else{g(m.getParam("theme_advanced_styles","","hash"),function(A,z){var v,u;if(A){v="style_"+(t++);u={inline:"span",classes:A,selector:"*"};m.formatter.register(v,u);r.add(q.editor.translate(z),v,{style:function(){return c(m,u)}})}})}});if(r.getLength()==0){r.onPostRender.add(function(t,u){if(!r.NativeListBox){j.add(u.id+"_text","focus",q._importClasses,q);j.add(u.id+"_text","mousedown",q._importClasses,q);j.add(u.id+"_open","focus",q._importClasses,q);j.add(u.id+"_open","mousedown",q._importClasses,q)}else{j.add(u.id,"focus",q._importClasses,q)}})}return r},_createFontSelect:function(){var o,n=this,m=n.editor;o=m.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(q){var r=o.items[o.selectedIndex];if(!q&&r){m.execCommand("FontName",false,r.value);return}m.execCommand("FontName",false,q);o.select(function(s){return q==s});if(r&&r.value==q){o.select(null)}return false}});if(o){g(m.getParam("theme_advanced_fonts",n.settings.theme_advanced_fonts,"hash"),function(r,q){o.add(m.translate(q),r,{style:r.indexOf("dings")==-1?"font-family:"+r:""})})}return o},_createFontSizeSelect:function(){var q=this,n=q.editor,r,o=0,m=[];r=n.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(s){var t=r.items[r.selectedIndex];if(!s&&t){t=t.value;if(t["class"]){n.formatter.toggle("fontsize_class",{value:t["class"]});n.undoManager.add();n.nodeChanged()}else{n.execCommand("FontSize",false,t.fontSize)}return}if(s["class"]){n.focus();n.undoManager.add();n.formatter.toggle("fontsize_class",{value:s["class"]});n.undoManager.add();n.nodeChanged()}else{n.execCommand("FontSize",false,s.fontSize)}r.select(function(u){return s==u});if(t&&(t.value.fontSize==s.fontSize||t.value["class"]&&t.value["class"]==s["class"])){r.select(null)}return false}});if(r){g(q.settings.theme_advanced_font_sizes,function(t,s){var u=t.fontSize;if(u>=1&&u<=7){u=q.sizes[parseInt(u)-1]+"pt"}r.add(s,t,{style:"font-size:"+u,"class":"mceFontSize"+(o++)+(" "+(t["class"]||""))})})}return r},_createBlockFormats:function(){var o,m={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},n=this;o=n.editor.controlManager.createListBox("formatselect",{title:"advanced.block",onselect:function(q){n.editor.execCommand("FormatBlock",false,q);return false}});if(o){g(n.editor.getParam("theme_advanced_blockformats",n.settings.theme_advanced_blockformats,"hash"),function(r,q){o.add(n.editor.translate(q!=r?q:m[r]),r,{"class":"mce_formatPreview mce_"+r,style:function(){return c(n.editor,{block:r})}})})}return o},_createForeColorMenu:function(){var u,n=this,q=n.settings,r={},m;if(q.theme_advanced_more_colors){r.more_colors_func=function(){n._mceColorPicker(0,{color:u.value,func:function(o){u.setColor(o)}})}}if(m=q.theme_advanced_text_colors){r.colors=m}if(q.theme_advanced_default_foreground_color){r.default_color=q.theme_advanced_default_foreground_color}r.title="advanced.forecolor_desc";r.cmd="ForeColor";r.scope=this;u=n.editor.controlManager.createColorSplitButton("forecolor",r);return u},_createBackColorMenu:function(){var u,n=this,q=n.settings,r={},m;if(q.theme_advanced_more_colors){r.more_colors_func=function(){n._mceColorPicker(0,{color:u.value,func:function(o){u.setColor(o)}})}}if(m=q.theme_advanced_background_colors){r.colors=m}if(q.theme_advanced_default_background_color){r.default_color=q.theme_advanced_default_background_color}r.title="advanced.backcolor_desc";r.cmd="HiliteColor";r.scope=this;u=n.editor.controlManager.createColorSplitButton("backcolor",r);return u},renderUI:function(r){var v,u,z,C=this,A=C.editor,D=C.settings,B,q,m;if(A.settings){A.settings.aria_label=D.aria_label+A.getLang("advanced.help_shortcut")}v=q=l.create("span",{role:"application","aria-labelledby":A.id+"_voice",id:A.id+"_parent","class":"mceEditor "+A.settings.skin+"Skin"+(D.skin_variant?" "+A.settings.skin+"Skin"+C._ufirst(D.skin_variant):"")+(A.settings.directionality=="rtl"?" mceRtl":"")});l.add(v,"span",{"class":"mceVoiceLabel",style:"display:none;",id:A.id+"_voice"},D.aria_label);if(!l.boxModel){v=l.add(v,"div",{"class":"mceOldBoxModel"})}v=B=l.add(v,"table",{role:"presentation",id:A.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});v=z=l.add(v,"tbody");switch((D.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":u=C._rowLayout(D,z,r);break;case"customlayout":u=A.execCallback("theme_advanced_custom_layout",D,z,r,q);break;default:u=C._simpleLayout(D,z,r,q)}v=r.targetNode;m=B.rows;l.addClass(m[0],"mceFirst");l.addClass(m[m.length-1],"mceLast");g(l.select("tr",z),function(o){l.addClass(o.firstChild,"mceFirst");l.addClass(o.childNodes[o.childNodes.length-1],"mceLast")});if(l.get(D.theme_advanced_toolbar_container)){l.get(D.theme_advanced_toolbar_container).appendChild(q)}else{l.insertAfter(q,v)}j.add(A.id+"_path_row","click",function(n){n=n.target;if(n.nodeName=="A"){C._sel(n.className.replace(/^.*mcePath_([0-9]+).*$/,"$1"));return false}});if(!A.getParam("accessibility_focus")){j.add(l.add(q,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(A.id).focus()})}if(D.theme_advanced_toolbar_location=="external"){r.deltaHeight=0}C.deltaHeight=r.deltaHeight;r.targetNode=null;A.onKeyDown.add(function(s,n){var t=121,o=122;if(n.altKey){if(n.keyCode===t){if(k.isWebKit){window.focus()}C.toolbarGroup.focus();return j.cancel(n)}else{if(n.keyCode===o){l.get(s.id+"_path_row").focus();return j.cancel(n)}}}});A.addShortcut("alt+0","","mceShortcuts",C);return{iframeContainer:u,editorContainer:A.id+"_parent",sizeContainer:B,deltaHeight:r.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:k.majorVersion+"."+k.minorVersion}},resizeBy:function(m,n){var o=l.get(this.editor.id+"_ifr");this.resizeTo(o.clientWidth+m,o.clientHeight+n)},resizeTo:function(m,r,o){var n=this.editor,q=this.settings,t=l.get(n.id+"_tbl"),u=l.get(n.id+"_ifr");m=Math.max(q.theme_advanced_resizing_min_width||100,m);r=Math.max(q.theme_advanced_resizing_min_height||100,r);m=Math.min(q.theme_advanced_resizing_max_width||65535,m);r=Math.min(q.theme_advanced_resizing_max_height||65535,r);l.setStyle(t,"height","");l.setStyle(u,"height",r);if(q.theme_advanced_resize_horizontal){l.setStyle(t,"width","");l.setStyle(u,"width",m);if(m<t.clientWidth){m=t.clientWidth;l.setStyle(u,"width",t.clientWidth)}}if(o&&q.theme_advanced_resizing_use_cookie){b.setHash("TinyMCE_"+n.id+"_size",{cw:m,ch:r})}},destroy:function(){var m=this.editor.id;j.clear(m+"_resize");j.clear(m+"_path_row");j.clear(m+"_external_close")},_simpleLayout:function(F,A,r,m){var E=this,B=E.editor,C=F.theme_advanced_toolbar_location,v=F.theme_advanced_statusbar_location,u,q,z,D;if(F.readonly){u=l.add(A,"tr");u=q=l.add(u,"td",{"class":"mceIframeContainer"});return q}if(C=="top"){E._addToolbars(A,r)}if(C=="external"){u=D=l.create("div",{style:"position:relative"});u=l.add(u,"div",{id:B.id+"_external","class":"mceExternalToolbar"});l.add(u,"a",{id:B.id+"_external_close",href:"javascript:;","class":"mceExternalClose"});u=l.add(u,"table",{id:B.id+"_tblext",cellSpacing:0,cellPadding:0});z=l.add(u,"tbody");if(m.firstChild.className=="mceOldBoxModel"){m.firstChild.appendChild(D)}else{m.insertBefore(D,m.firstChild)}E._addToolbars(z,r);B.onMouseUp.add(function(){var o=l.get(B.id+"_external");l.show(o);l.hide(f);var n=j.add(B.id+"_external_close","click",function(){l.hide(B.id+"_external");j.remove(B.id+"_external_close","click",n)});l.show(o);l.setStyle(o,"top",0-l.getRect(B.id+"_tblext").h-1);l.hide(o);l.show(o);o.style.filter="";f=B.id+"_external";o=null})}if(v=="top"){E._addStatusBar(A,r)}if(!F.theme_advanced_toolbar_container){u=l.add(A,"tr");u=q=l.add(u,"td",{"class":"mceIframeContainer"})}if(C=="bottom"){E._addToolbars(A,r)}if(v=="bottom"){E._addStatusBar(A,r)}return q},_rowLayout:function(E,v,r){var D=this,z=D.editor,C,F,m=z.controlManager,u,q,B,A;C=E.theme_advanced_containers_default_class||"";F=E.theme_advanced_containers_default_align||"center";g(e(E.theme_advanced_containers||""),function(s,o){var n=E["theme_advanced_container_"+s]||"";switch(s.toLowerCase()){case"mceeditor":u=l.add(v,"tr");u=q=l.add(u,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":D._addStatusBar(v,r);break;default:A=(E["theme_advanced_container_"+s+"_align"]||F).toLowerCase();A="mce"+D._ufirst(A);u=l.add(l.add(v,"tr"),"td",{"class":"mceToolbar "+(E["theme_advanced_container_"+s+"_class"]||C)+" "+A||F});B=m.createToolbar("toolbar"+o);D._addControls(n,B);l.setHTML(u,B.renderHTML());r.deltaHeight-=E.theme_advanced_row_height}});return q},_addControls:function(n,m){var o=this,q=o.settings,r,u=o.editor.controlManager;if(q.theme_advanced_disable&&!o._disabled){r={};g(e(q.theme_advanced_disable),function(s){r[s]=1});o._disabled=r}else{r=o._disabled}g(e(n),function(t){var s;if(r&&r[t]){return}if(t=="tablecontrols"){g(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(v){v=o.createControl(v,u);if(v){m.add(v)}});return}s=o.createControl(t,u);if(s){m.add(s)}})},_addToolbars:function(F,q){var I=this,A,z,C=I.editor,J=I.settings,H,m=C.controlManager,D,r,B=[],G,E,u=false;E=m.createToolbarGroup("toolbargroup",{name:C.getLang("advanced.toolbar"),tab_focus_toolbar:C.getParam("theme_advanced_tab_focus_toolbar")});I.toolbarGroup=E;G=J.theme_advanced_toolbar_align.toLowerCase();G="mce"+I._ufirst(G);r=l.add(l.add(F,"tr",{role:"presentation"}),"td",{"class":"mceToolbar "+G,role:"presentation"});for(A=1;(H=J["theme_advanced_buttons"+A]);A++){u=true;z=m.createToolbar("toolbar"+A,{"class":"mceToolbarRow"+A});if(J["theme_advanced_buttons"+A+"_add"]){H+=","+J["theme_advanced_buttons"+A+"_add"]}if(J["theme_advanced_buttons"+A+"_add_before"]){H=J["theme_advanced_buttons"+A+"_add_before"]+","+H}I._addControls(H,z);E.add(z);q.deltaHeight-=J.theme_advanced_row_height}if(!u){q.deltaHeight-=J.theme_advanced_row_height}B.push(E.renderHTML());B.push(l.createHTML("a",{href:"#",accesskey:"z",title:C.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+C.id+"').focus();"},"<!-- IE -->"));l.setHTML(r,B.join(""))},_addStatusBar:function(z,q){var u,D=this,A=D.editor,E=D.settings,m,B,C,v;u=l.add(z,"tr");u=v=l.add(u,"td",{"class":"mceStatusbar"});u=l.add(u,"div",{id:A.id+"_path_row",role:"group","aria-labelledby":A.id+"_path_voice"});if(E.theme_advanced_path){l.add(u,"span",{id:A.id+"_path_voice"},A.translate("advanced.path"));l.add(u,"span",{},": ")}else{l.add(u,"span",{},"&#160;")}if(E.theme_advanced_resizing){l.add(v,"a",{id:A.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize",tabIndex:"-1"});if(E.theme_advanced_resizing_use_cookie){A.onPostRender.add(function(){var n=b.getHash("TinyMCE_"+A.id+"_size"),r=l.get(A.id+"_tbl");if(!n){return}D.resizeTo(n.cw,n.ch)})}A.onPostRender.add(function(){j.add(A.id+"_resize","click",function(n){n.preventDefault()});j.add(A.id+"_resize","mousedown",function(L){var t,r,s,o,K,H,I,N,n,M,F;function G(O){O.preventDefault();n=I+(O.screenX-K);M=N+(O.screenY-H);D.resizeTo(n,M)}function J(O){j.remove(l.doc,"mousemove",t);j.remove(A.getDoc(),"mousemove",r);j.remove(l.doc,"mouseup",s);j.remove(A.getDoc(),"mouseup",o);n=I+(O.screenX-K);M=N+(O.screenY-H);D.resizeTo(n,M,true)}L.preventDefault();K=L.screenX;H=L.screenY;F=l.get(D.editor.id+"_ifr");I=n=F.clientWidth;N=M=F.clientHeight;t=j.add(l.doc,"mousemove",G);r=j.add(A.getDoc(),"mousemove",G);s=j.add(l.doc,"mouseup",J);o=j.add(A.getDoc(),"mouseup",J)})})}q.deltaHeight-=21;u=z=null},_updateUndoStatus:function(n){var m=n.controlManager,o=n.undoManager;m.setDisabled("undo",!o.hasUndo()&&!o.typing);m.setDisabled("redo",!o.hasRedo())},_nodeChanged:function(u,B,K,A,L){var F=this,J,M=0,E,N,G=F.settings,D,q,C,I,r,o,m;k.each(F.stateControls,function(n){B.setActive(n,u.queryCommandState(F.controls[n][1]))});function z(s){var t,n=L.parents,v=s;if(typeof(s)=="string"){v=function(O){return O.nodeName==s}}for(t=0;t<n.length;t++){if(v(n[t])){return n[t]}}}B.setActive("visualaid",u.hasVisual);F._updateUndoStatus(u);B.setDisabled("outdent",!u.queryCommandState("Outdent"));J=z("A");if(N=B.get("link")){N.setDisabled((!J&&A)||(J&&!J.href));N.setActive(!!J&&(!J.name&&!J.id))}if(N=B.get("unlink")){N.setDisabled(!J&&A);N.setActive(!!J&&!J.name&&!J.id)}if(N=B.get("anchor")){N.setActive(!A&&!!J&&(J.name||(J.id&&!J.href)))}J=z("IMG");if(N=B.get("image")){N.setActive(!A&&!!J&&K.className.indexOf("mceItem")==-1)}if(N=B.get("styleselect")){F._importClasses();o=[];g(N.items,function(n){o.push(n.value)});m=u.formatter.matchAll(o);N.select(m[0]);k.each(m,function(s,n){if(n>0){N.mark(s)}})}if(N=B.get("formatselect")){J=z(u.dom.isBlock);if(J){N.select(J.nodeName.toLowerCase())}}z(function(s){if(s.nodeName==="SPAN"){if(!D&&s.className){D=s.className}}if(u.dom.is(s,G.theme_advanced_font_selector)){if(!q&&s.style.fontSize){q=s.style.fontSize}if(!C&&s.style.fontFamily){C=s.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase()}if(!I&&s.style.color){I=s.style.color}if(!r&&s.style.backgroundColor){r=s.style.backgroundColor}}return false});if(N=B.get("fontselect")){N.select(function(n){return n.replace(/^([^,]+).*/,"$1").toLowerCase()==C})}if(N=B.get("fontsizeselect")){if(G.theme_advanced_runtime_fontsize&&!q&&!D){q=u.dom.getStyle(K,"fontSize",true)}N.select(function(n){if(n.fontSize&&n.fontSize===q){return true}if(n["class"]&&n["class"]===D){return true}})}if(G.theme_advanced_show_current_color){function H(s,n){if(N=B.get(s)){if(!n){n=N.settings.default_color}if(n!==N.value){N.displayColor(n)}}}H("forecolor",I);H("backcolor",r)}if(G.theme_advanced_show_current_color){function H(s,n){if(N=B.get(s)){if(!n){n=N.settings.default_color}if(n!==N.value){N.displayColor(n)}}}H("forecolor",I);H("backcolor",r)}if(G.theme_advanced_path&&G.theme_advanced_statusbar_location){J=l.get(u.id+"_path")||l.add(u.id+"_path_row","span",{id:u.id+"_path"});if(F.statusKeyboardNavigation){F.statusKeyboardNavigation.destroy();F.statusKeyboardNavigation=null}l.setHTML(J,"");z(function(P){var s=P.nodeName.toLowerCase(),t,O,v="";if(P.nodeType!=1||s==="br"||P.getAttribute("data-mce-bogus")||l.hasClass(P,"mceItemHidden")||l.hasClass(P,"mceItemRemoved")){return}if(k.isIE&&P.scopeName!=="HTML"&&P.scopeName){s=P.scopeName+":"+s}s=s.replace(/mce\:/g,"");switch(s){case"b":s="strong";break;case"i":s="em";break;case"img":if(E=l.getAttrib(P,"src")){v+="src: "+E+" "}break;case"a":if(E=l.getAttrib(P,"name")){v+="name: "+E+" ";s+="#"+E}if(E=l.getAttrib(P,"href")){v+="href: "+E+" "}break;case"font":if(E=l.getAttrib(P,"face")){v+="font: "+E+" "}if(E=l.getAttrib(P,"size")){v+="size: "+E+" "}if(E=l.getAttrib(P,"color")){v+="color: "+E+" "}break;case"span":if(E=l.getAttrib(P,"style")){v+="style: "+E+" "}break}if(E=l.getAttrib(P,"id")){v+="id: "+E+" "}if(E=P.className){E=E.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(E){v+="class: "+E+" ";if(u.dom.isBlock(P)||s=="img"||s=="span"){s+="."+E}}}s=s.replace(/(html:)/g,"");s={name:s,node:P,title:v};F.onResolveName.dispatch(F,s);v=s.title;s=s.name;O=l.create("a",{href:"javascript:;",role:"button",onmousedown:"return false;",title:v,"class":"mcePath_"+(M++)},s);if(J.hasChildNodes()){J.insertBefore(l.create("span",{"aria-hidden":"true"},"\u00a0\u00bb "),J.firstChild);J.insertBefore(O,J.firstChild)}else{J.appendChild(O)}},u.getBody());if(l.select("a",J).length>0){F.statusKeyboardNavigation=new k.ui.KeyboardNavigation({root:u.id+"_path_row",items:l.select("a",J),excludeFromTabOrder:true,onCancel:function(){u.focus()}},l)}}},_sel:function(m){this.editor.execCommand("mceSelectNodeDepth",false,m)},_mceInsertAnchor:function(o,n){var m=this.editor;m.windowManager.open({url:this.url+"/anchor.htm",width:320+parseInt(m.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(m.getLang("advanced.anchor_delta_height",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var m=this.editor;m.windowManager.open({url:this.url+"/charmap.htm",width:550+parseInt(m.getLang("advanced.charmap_delta_width",0)),height:265+parseInt(m.getLang("advanced.charmap_delta_height",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var m=this.editor;m.windowManager.open({url:this.url+"/about.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceShortcuts:function(){var m=this.editor;m.windowManager.open({url:this.url+"/shortcuts.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(o,n){var m=this.editor;n=n||{};m.windowManager.open({url:this.url+"/color_picker.htm",width:375+parseInt(m.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(m.getLang("advanced.colorpicker_delta_height",0)),close_previous:false,inline:true},{input_color:n.color,func:n.func,theme_url:this.url})},_mceCodeEditor:function(n,o){var m=this.editor;m.windowManager.open({url:this.url+"/source_editor.htm",width:parseInt(m.getParam("theme_advanced_source_editor_width",720)),height:parseInt(m.getParam("theme_advanced_source_editor_height",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(n,o){var m=this.editor;if(m.dom.getAttrib(m.selection.getNode(),"class","").indexOf("mceItem")!=-1){return}m.windowManager.open({url:this.url+"/image.htm",width:355+parseInt(m.getLang("advanced.image_delta_width",0)),height:275+parseInt(m.getLang("advanced.image_delta_height",0)),inline:true},{theme_url:this.url})},_mceLink:function(n,o){var m=this.editor;m.windowManager.open({url:this.url+"/link.htm",width:310+parseInt(m.getLang("advanced.link_delta_width",0)),height:200+parseInt(m.getLang("advanced.link_delta_height",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var m=this.editor;m.windowManager.confirm("advanced.newdocument",function(n){if(n){m.execCommand("mceSetContent",false,"")}})},_mceForeColor:function(){var m=this;this._mceColorPicker(0,{color:m.fgColor,func:function(n){m.fgColor=n;m.editor.execCommand("ForeColor",false,n)}})},_mceBackColor:function(){var m=this;this._mceColorPicker(0,{color:m.bgColor,func:function(n){m.bgColor=n;m.editor.execCommand("HiliteColor",false,n)}})},_ufirst:function(m){return m.substring(0,1).toUpperCase()+m.substring(1)}});k.ThemeManager.add("advanced",k.themes.AdvancedTheme)}(tinymce));tinyMCE.addI18n("en.advanced",{underline_desc:"Underline (Ctrl+U)",italic_desc:"Italic (Ctrl+I)",bold_desc:"Bold (Ctrl+B)",dd:"Definition Description",dt:"Definition Term ",samp:"Code Sample",code:"Code",blockquote:"Block Quote",h6:"Heading 6",h5:"Heading 5",h4:"Heading 4",h3:"Heading 3",h2:"Heading 2",h1:"Heading 1",pre:"Preformatted",address:"Address",div:"DIV",paragraph:"Paragraph",block:"Format",fontdefault:"Font Family",font_size:"Font Size",style_select:"Styles",anchor_delta_height:"",anchor_delta_width:"",charmap_delta_height:"",charmap_delta_width:"",colorpicker_delta_height:"",colorpicker_delta_width:"",link_delta_height:"",link_delta_width:"",image_delta_height:"",image_delta_width:"",more_colors:"More Colors...",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X",newdocument:"Are you sure you want clear all contents?",path:"Path",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",blockquote_desc:"Block Quote",help_desc:"Help",newdocument_desc:"New Document",image_props_desc:"Image Properties",paste_desc:"Paste (Ctrl+V)",copy_desc:"Copy (Ctrl+C)",cut_desc:"Cut (Ctrl+X)",anchor_desc:"Insert/Edit Anchor",visualaid_desc:"show/Hide Guidelines/Invisible Elements",charmap_desc:"Insert Special Character",backcolor_desc:"Select Background Color",forecolor_desc:"Select Text Color",custom1_desc:"Your Custom Description Here",removeformat_desc:"Remove Formatting",hr_desc:"Insert Horizontal Line",sup_desc:"Superscript",sub_desc:"Subscript",code_desc:"Edit HTML Source",cleanup_desc:"Cleanup Messy Code",image_desc:"Insert/Edit Image",unlink_desc:"Unlink",link_desc:"Insert/Edit Link",redo_desc:"Redo (Ctrl+Y)",undo_desc:"Undo (Ctrl+Z)",indent_desc:"Increase Indent",outdent_desc:"Decrease Indent",numlist_desc:"Insert/Remove Numbered List",bullist_desc:"Insert/Remove Bulleted List",justifyfull_desc:"Align Full",justifyright_desc:"Align Right",justifycenter_desc:"Align Center",justifyleft_desc:"Align Left",striketrough_desc:"Strikethrough",help_shortcut:"Press ALT-F10 for toolbar. Press ALT-0 for help",rich_text_area:"Rich Text Area",shortcuts_desc:"Accessability Help",toolbar:"Toolbar"});(function(){var b=tinymce.each;tinymce.create("tinymce.plugins.EmbedMediaPlugin",{init:function(c,d){var f=this;f.editor=c;f.url=d;function g(j){return/^mceItemFlash$/.test(j.className)}c.addCommand("mceEmbedMedia",function(){c.windowManager.open({file:d+"/media.htm",width:480+parseInt(c.getLang("embedmedia.delta_width",0)),height:500+parseInt(c.getLang("embedmedia.delta_height",0)),inline:1},{plugin_url:d})});c.addButton("embedmedia",{title:"media.desc",cmd:"mceEmbedMedia"});c.onNodeChange.add(function(k,j,l){j.setActive("embedmedia",l.nodeName=="IMG"&&g(l))});c.onInit.add(function(){if(c.settings.content_css!==false){c.dom.loadCSS(d+"/css/content.css")}if(c&&c.plugins.contextmenu){c.plugins.contextmenu.onContextMenu.add(function(k,j,l){if(l.nodeName=="IMG"&&/mceItemFlash/.test(l.className)){j.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});c.onBeforeSetContent.add(function(k,n){var m=f.newEmbedSnippet();var l=n.content;var j=m._objectsToSpans(l);n.content=j},f);c.onSetContent.add(function(){var j=$(c.getBody());j.find("span.mceItemEmbed,span.mceItemObject").each(function(){var q=$(this);if(q.is("span.mceItemEmbed")&&q.parent().is("span.mceItemObject")){return}var n=f.newEmbedSnippet();var m;if($.browser.msie){m=q[0].outerHTML}else{var o=$("<div />");o.append(q.clone());m=o[0].innerHTML;o.remove()}var l=n._spansToObjects(m);var k=$("<img />").attr("src",f.url+"/img/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",l).attr("width",q.attr("width")).attr("height",q.attr("height"));k=$("<div />").append(k).html();q.replaceWith(k)});j.find("span.mceEndObject").remove()});function e(j,k){k=new RegExp(k+'="([^"]+)"',"g").exec(j);return k?c.dom.decode(k[1]):""}c.onPostProcess.add(function(j,k){k.content=k.content.replace(/<img[^>]+>/g,function(m){var l=e(m,"class");if(l=="mceMarker-embedmedia"){var n=f.newEmbedSnippet();n.setContent(e(m,"title"));n.setParms({width:e(m,"width"),height:e(m,"height")});m=n.getContent();n.wrapper.remove()}return m})})},newEmbedSnippet:function(){var d=function d(){};$.extend(d.prototype,{_objectsToSpans:function(e){e=e.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');e=e.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');e=e.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');e=e.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');e=e.replace(/<\/embed>/gi,"");e=e.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');e=e.replace(/<\/param>/gi,"");return e},_spansToObjects:function(e){e=e.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");e=e.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");e=e.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");e=e.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return e},setContent:function(m){this.wrapper=$("<div />");var g=this.wrapper;var n=this._objectsToSpans(m);g[0].innerHTML=n;this.root=g.children();var r=this.root;this.emtype=null;var j="wmode";var o="opaque";if(r.is("span.mceItemObject")){var k=r.find("span.mceItemEmbed");if(k){this.emtype="object+embed";this.inside=k;if(k.attr("mce_src")){k.removeAttr("mce_src")}k.attr(j,o)}var l=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var f=[];$.each(l,function(e,u){var t=false;r.find("span.mceItemParam").each(function(z,A){var v=$(A).attr("name");if(v==u||v==u.toLowerCase()){t=true;return false}});if(!t){if(r.attr(u)){f.push({k:u,v:r.attr(u)})}else{if(r.attr(u.toLowerCase())){f.push({k:u,v:r.attr(u.toLowerCase())})}else{if(u=="movie"){if(r.attr("resource")){f.push({k:u,v:r.attr("resource")})}}}}}});$.each(f,function(t,u){try{$('<span class="mceItemParam"></span>').attr("name",u.k).attr("value",u.v).prependTo(r)}catch(v){}});var s=false;r.find("span.mceItemParam").each(function(t,u){var e=$(u).attr("name");if(e==j){s=true;$(u).attr("value",o);return false}});if(!s){try{$('<span class="mceItemParam"></span>').attr("name",j).attr("value",o).prependTo(r)}catch(q){}}r.attr(j,o)}if(r.attr("mce_src")){r.removeAttr("mce_src")}return this},getContent:function(){var e=this.wrapper.html();var f=this._spansToObjects(e);return f},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(e){if(this.emtype=="object+embed"){e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height);e.width&&this.inside.attr("width",e.width);e.height&&this.inside.attr("height",e.height)}else{e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height)}return this}});this.newEmbedSnippet=function c(){return new d()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},getInfo:function(){return{longname:"Media",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("embedmedia",tinymce.plugins.EmbedMediaPlugin)})();(function(c){var b=c.ui.slider;c.widget("ui.karlslider",c.extend({},b.prototype,{widgetName:"karlslider",options:c.extend({},b.prototype.options,{enableClickJump:false,jumpStep:undefined,enableKeyJump:false}),_create:function(){var d=this.options;if(!d.jumpStep){d.jumpStep=d.step;d.alignStep=d.step}else{d.alignStep=d.step;d.step=d.enableKeyJump?d.jumpStep:d.step}b.prototype._create.call(this)},destroy:function(){b.prototype.destroy.call(this)},_mouseCapture:function(f){var g=this.options,m,r,e,j,z,n,t,l,d;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();m={x:f.pageX,y:f.pageY};r=this._normValueFromMouse(m);e=this._valueMax()-this._valueMin()+1;z=this;this.handles.each(function(o){var A=Math.abs(r-z.values(o));if(e>A){e=A;j=c(this);n=o}});if(g.range===true&&this.values(1)===g.min){n+=1;j=c(this.handles[n])}t=this._start(f,n);if(t===false){return false}this._mouseSliding=true;z._handleIndex=n;j.addClass("ui-state-active").focus();l=j.offset();d=!c(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-l.left-(j.width()/2),top:f.pageY-l.top-(j.height()/2)-(parseInt(j.css("borderTopWidth"),10)||0)-(parseInt(j.css("borderBottomWidth"),10)||0)+(parseInt(j.css("marginTop"),10)||0)};r=this._normValueFromMouse(m);if(this.options.enableClickJump){var q=this.values(n);var v=r-q;if(v==0){return true}else{var k=g.jumpStep;var s=k%g.alignStep;if(s>0){k=k-s+g.alignStep}var u;if(v<0){u=q-k}else{u=q+k}this._slide(f,n,u);this._mouseStop(f);this._animateOff=true;return false}}else{this._slide(f,n,r);this._animateOff=true;return true}},_slide:function(f,e,d){d=Math.max(d,this._valueMin());d=Math.min(d,this._valueMax());b.prototype._slide.call(this,f,e,d)},_trimAlignValue:function(g){if(g<this._valueMin()){return this._valueMin()}if(g>this._valueMax()){return this._valueMax()}var d=(this.options.alignStep>0)?this.options.alignStep:1,f=g%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_setOption:function(d,e){if(d=="jump"){this.options.alignStep=e;if(!this.options.enableKeyJump){this.options.step=e}}else{if(d=="jumpStep"){this.options.jumpStep=e;if(this.options.enableKeyJump){this.options.step=e}}else{b.prototype._setOption.apply(this,arguments)}}}}))})(jQuery);jQuery.extend({createUploadIframe:function(e,c){var b="jUploadFrame"+e;if(window.ActiveXObject){var d=document.createElement('<iframe id="'+b+'" name="'+b+'" />');if(typeof c=="boolean"){d.src="javascript:false"}else{if(typeof c=="string"){d.src=c}}}else{var d=document.createElement("iframe");d.id=b;d.name=b}d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(k,c,j){var f="jUploadForm"+k;var b="jUploadFile"+k;var e=$('<form  action="" method="POST" name="'+f+'" id="'+f+'" enctype="multipart/form-data"></form>');var d=$("#"+c);var g=$(d).clone(true);g.attr("name",d.attr("name"));$(d).attr("id",b);$(d).before(g);$(d).appendTo(e);j&&$.each(j,function(m,l){$('<input type="hidden">').attr("name",m).attr("value",l).appendTo(e)});$(e).css("position","absolute");$(e).css("top","-1200px");$(e).css("left","-1200px");$(e).appendTo("body");return e},ajaxFileUpload:function(n){n=jQuery.extend({},jQuery.ajaxSettings,n);var b=new Date().getTime();var c=jQuery.createUploadForm(b,n.fileElementId,n.extraParams);var l=jQuery.createUploadIframe(b,n.secureuri);var k="jUploadFrame"+b;var m="jUploadForm"+b;if(n.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var d=false;var g={};if(n.global){jQuery.event.trigger("ajaxSend",[g,n])}var f=function(o){var t=document.getElementById(k);try{if(t.contentWindow){g.responseText=t.contentWindow.document.body?t.contentWindow.document.body.innerHTML:null;g.responseXML=t.contentWindow.document.XMLDocument?t.contentWindow.document.XMLDocument:t.contentWindow.document}else{if(t.contentDocument){g.responseText=t.contentDocument.document.body?t.contentDocument.document.body.innerHTML:null;g.responseXML=t.contentDocument.document.XMLDocument?t.contentDocument.document.XMLDocument:t.contentDocument.document}}}catch(s){jQuery.handleError(n,g,null,s)}if(g||o=="timeout"){d=true;var q;try{q=o!="timeout"?"success":"error";if(q!="error"){var r=jQuery.uploadHttpData(g,n.dataType);if(n.success){n.success(r,q)}if(n.global){jQuery.event.trigger("ajaxSuccess",[g,n])}}else{jQuery.handleError(n,g,q)}}catch(s){q="error";jQuery.handleError(n,g,q,s)}if(n.global){jQuery.event.trigger("ajaxComplete",[g,n])}if(n.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(n.complete){n.complete(g,q)}jQuery(t).unbind();setTimeout(function(){try{$(t).remove();$(c).remove()}catch(u){jQuery.handleError(n,g,null,u)}},100);g=null}};if(n.timeout>0){setTimeout(function(){if(!d){f("timeout")}},n.timeout)}try{var c=$("#"+m);$(c).attr("action",n.url);$(c).attr("method","POST");$(c).attr("target",k);if(c.encoding){c.encoding="multipart/form-data"}else{c.enctype="multipart/form-data"}$(c).submit()}catch(j){jQuery.handleError(n,g,null,j)}if(window.attachEvent){document.getElementById(k).attachEvent("onload",f)}else{document.getElementById(k).addEventListener("load",f,false)}return{abort:function(){}}},uploadHttpData:function(c,b){var d=!b;d=b=="xml"||d?c.responseXML:c.responseText;if(b=="script"){jQuery.globalEval(d)}if(b=="json"){try{d=window["eval"]("("+d+")")}catch(f){throw new Error("Could not evaluate data, probably server side error or 404. [Received: "+d.substring(0,30)+"...]")}}if(b=="html"){jQuery("<div>").html(d).evalScripts()}return d}});(function(){var c=0;var f=0;var e=0;var b=function(){this.init.apply(this,arguments)};var d=function(){if($.tiny){return}$.tiny={};$.fn.tiny_fixIEPanelSize=function(j,g){if(!jQuery.boxModel){return this.each(function(){var m=$(this);var k=m.css("width");if(k&&k!="auto"){m.width(parseInt(k)+j)}var l=m.css("height");if(l&&l!="auto"){m.height(parseInt(l)+g)}})}return this};$.tiny.PANEL_WD=14;$.tiny.PANEL_HD=14;$.widget("tiny.imagedrawerimage",{options:{record:null},_create:function(){this.image=this.element.find(".tiny-imagedrawer-image img");this.label=this.element.find(".tiny-imagedrawer-imagelabel");if(this.options.record){this.record(this.options.record)}},record:function(g){if(typeof g=="undefined"){return this._record}this._record=g;var j=g.title;if(j&&j.length>9){j=j.substr(0,9)+"..."}this.label.text(j);this.image.attr("src",g.thumbnail_url);if(g.thumbnail_width){this.image.attr("width",g.thumbnail_width)}else{this.image.removeAttr("width")}if(g.thumbnail_height){this.image.attr("height",g.thumbnail_height)}else{this.image.removeAttr("height")}return this}});$.widget("tiny.imagedrawerinfopanel",{options:{record:null,insertButtonLabel:null},_create:function(){var g=this;this.info_title=this.element.find(".tiny-imagedrawer-info-title");this.info_location=this.element.find(".tiny-imagedrawer-info-location");this.info_author=this.element.find(".tiny-imagedrawer-info-author");this.info_modified=this.element.find(".tiny-imagedrawer-info-modified");this.input_caption=this.element.find("input:checkbox[name=tiny-imagedrawer-input-caption]");this.input_captiontext=this.element.find("input:text[name=tiny-imagedrawer-input-captiontext]");this.input_align={};this.element.find("input:radio[name=tiny-imagedrawer-input-align]").each(function(j,k){g.input_align[$(k).attr("value")]=k});this.input_dimension=this.element.find("select[name=tiny-imagedrawer-input-dimension]");this.wrapper_location=this.element.find(".tiny-imagedrawer-info-location-wrapper");this.wrapper_author=this.element.find(".tiny-imagedrawer-info-author-wrapper");this.wrapper_modified=this.element.find(".tiny-imagedrawer-info-modified-wrapper");this.wrapper_captiontext=this.element.find(".tiny-imagedrawer-input-captiontext-wrapper");this.buttonset_save=this.element.find(".karl-buttonset.tiny-imagedrawer-buttonset-save").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-save"});this.insert_button=this.buttonset_save.karlbuttonset("getButton",0);this.insert_button_label=this.insert_button.find("a");this.statusbox=this.element.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});if(this.input_caption.is(":checked")){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}this.input_caption.click(function(){if($(this).is(":checked")){g.wrapper_captiontext.show("fold").focus()}else{g.wrapper_captiontext.hide("fold")}});if(this.options.insertButtonLabel){this.insertButtonLabel(this.options.insertButtonLabel)}if(this.options.record){this.record(this.options.record)}},insertButtonEnabled:function(g){if(g===undefined){this.insert_button.hasClass("ui-state-disabled")}if(g){this.insert_button.removeClass("ui-state-disabled")}else{this.insert_button.addClass("ui-state-disabled")}return this},insertButtonLabel:function(g){if(g===undefined){return this.insert_button_label.text()}this.insert_button_label.attr("title",g);this.insert_button_label.text(g);return this},record:function(k){var j=this;if(typeof k=="undefined"){return this._record}this._record=k;if(k.title){this.info_title.text(k.title);this.input_captiontext.val(k.title)}else{this.info_title.text("No selection");this.input_captiontext.val("")}var l=k.author_name||"";this.info_author.text(l);if(l){this.wrapper_author.show()}else{this.wrapper_author.hide()}var g=k.last_modified||"";this.info_modified.text(g);if(g){this.wrapper_modified.show()}else{this.wrapper_modified.hide()}this.info_location.html("");$(k.location).each(function(m){if(m>0){j.info_location.append("<span>&nbsp;&gt;&nbsp;</span>")}j.info_location.append($("<span></span>").text(this.title))});if(k.location&&k.location.length>0){this.wrapper_location.show()}else{this.wrapper_location.hide()}this.statusbox.multistatusbox("clear");if(k.error){this.statusbox.multistatusbox("append",k.error,null,"ui-state-error ui-corner-all")}else{if(k.status){this.statusbox.multistatusbox("append",k.status,null,"ui-state-highlight ui-corner-all")}}this.insertButtonEnabled(k.image_url);return this},insertOptions:function(j){var g=this;if(typeof j=="undefined"){return{caption:this.input_caption.is(":checked"),captiontext:this.input_captiontext.val(),align:this.element.find("input:radio[name=tiny-imagedrawer-input-align]:checked").val(),dimension:this.input_dimension.val()}}if(j){if(j.caption!=undefined){this.input_caption[0].checked=j.caption;if(j.caption){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}}if(j.captiontext!=undefined){this.input_captiontext.val(j.captiontext)}if(j.align!=undefined){this.input_align[j.align].checked=true}if(j.dimension!=undefined){this.input_dimension.val(j.dimension)}}return this}});$.extend(b.prototype,{init:function(j,l,k,g){this.container=j;this.column_width=l;this.proto_image=k;this.proto_value=g;this.reset()},reset:function(){this.offset=0;this.container.empty()},_thumb:function(g){return this.proto_image.clone(true).imagedrawerimage({record:$.extend({},this.proto_value,g)})},preload:function(o,j){var k=this;var g=this.offset;var n=g+this.items().length;if((n-g>0)&&((j<g)||(o>n))){throw new Error("Preloading non-adjoining regions: must have reset before.")}var l=o;while(l<g){this._thumb({loading:true}).prependTo(this.container);l+=1}var m=l-o;if(m>0){this.offset-=m}else{if(this.items().length==0){this.offset=o}}while(l<Math.min(n,j)){this._thumb({loading:true}).replaceAll(this.item(l));l+=1}while(l<j){this._thumb({loading:true}).appendTo(this.container);l+=1}this._setLength()},insertRecord:function(g,l){var j=this._thumb(l);if(g-this.offset==this.items().length){j.appendTo(this.container)}else{var k=this.item(g);if(k.length!=1){throw new Error("insertRecord must extend a region continously.")}j.insertBefore(k)}this._setLength();return j},_setLength:function(){this.container.width(this.items().length*(this.column_width+20)+100)},moveTo:function(g){this.container.css("margin-left",Math.round((this.offset-g)*this.column_width)+"px")},items:function(){return this.container.children()},item:function(g){return this.items().eq(g-this.offset)},recordAt:function(g,k){var j=this.item(g);if(j.length!=1){throw new Error("recordAt with an unstored index: item must have preloaded before.")}if(typeof k=="undefined"){return j.imagedrawerimage("record")}j.imagedrawerimage("record",k)}})};window.tinymce||d();window.tinymce&&tinymce.create("tinymce.plugins.ImageDrawerPlugin",{init:function(j,k){var g=this;this.editor=j;this.url=k;d();this.dialog=null;this.selected_item=undefined;j.addCommand("mceImageDrawer",function(){if(j.dom.getAttrib(j.selection.getNode(),"class").indexOf("mceItem")!=-1){return}var n=g._getEditorImageSelection();if(n){n=$(n);g.editor_image_data=g._getEditorImageData(n);var q=/^https?:\/\/([^\/\?]*)[\/\?]?/;var o=q.exec(window.location.href);var t=o&&o[1];var m=q.exec(n.attr("src"));var s=m&&m[1];g.editor_image_data.external=m&&t!=s}else{g.editor_image_data=null}g._save_editor_selection(n);g.enable_upload=j.getParam("imagedrawer_enable_upload",false);if(!g.dialog){var r={};if(g.editor_image_data&&!g.editor_image_data.external){r={source:"myrecent",include_image_url:g.editor_image_data.image_url}}else{if(!g.enable_upload){r={source:"myrecent"}}}$.ajax({type:"GET",url:j.getParam("imagedrawer_dialog_url"),data:r,success:function(v){var u=v&&v.error;if(u){this._dialogError(u)}else{g._dialogSuccess(v)}},error:function(u,z,v){if(v){throw v}g._dialogError(z)},dataType:"json"})}else{g._restore_formstate();var l=$(g.buttonset).data("karlbuttonset").element.children().eq(g.selected_source).attr("value");g._updateInsertReplaceState();if(g.editor_image_data){if(g.editor_image_data.external){g.buttonset.karlbuttonset("getButton",g._findSourceButtonIndex("external")).click();g.input_url.val(g.editor_image_data.image_url);g._externalDoCheck({image_url:g.editor_image_data.image_url})}else{if(g.selected_source!=g._findSourceButtonIndex("myrecent")){g.buttonset.karlbuttonset("getButton",g._findSourceButtonIndex("myrecent")).click()}else{if(l=="myrecent"||l=="thiscommunity"){g._requestRecords(0,12,true)}}}}else{if(l=="myrecent"||l=="thiscommunity"){g._requestRecords(0,12,true)}}g._save_formstate();g.dialog.dialog("open");g._restore_formstate()}});j.addButton("image",{title:"imagedrawer.image_desc",cmd:"mceImageDrawer"});j.onInit.add(function(){if(!j.settings.editor_css){tinymce.DOM.loadCSS(k+"/css/ui.css")}})},_save_formstate:function(){this._formstate={insertOptions:this.info_panel.imagedrawerinfopanel("insertOptions")}},_restore_formstate:function(){this.info_panel.imagedrawerinfopanel("insertOptions",this._formstate.insertOptions)},_save_editor_selection:function(j){if(j&&$.browser.msie){this._saved_editor_selection=$(j)[0];var g=this.editor;g.selection.collapse();g.execCommand("mceRepaint")}else{this._saved_editor_selection=null}},_get_editor_selection:function(){var g;if(this._saved_editor_selection){g=this._saved_editor_selection;this._saved_editor_selection=null}else{g=this._getEditorImageSelection()}return g},_dialogSuccess:function(u){var v=this;var n=this.editor;this.dialog=$(u.dialog_snippet);this.dialog.hide().appendTo("body");this.dialog.dialog({width:6+390+7+320+6+(jQuery.boxModel?0:10),dialogClass:"tiny-imagedrawer-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var g=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");g.removeClass("ui-dialog-content").css("overflow","hidden");g.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");if(!this.enable_upload){var t=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect option");t.eq(1).attr("selected","selected");t.eq(0).remove()}var k=this.dialog.find(".tiny-imagedrawer-panel-download");this.upload_panel=this.dialog.find(".tiny-imagedrawer-panel-upload").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.external_panel=k.find(".tiny-imagedrawer-panel-external").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.images_panel=this.dialog.find(".tiny-imagedrawer-panel-images").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);var m=this.dialog.find(".tiny-imagedrawer-panel-top");var l=m.find(".tiny-imagedrawer-sources");this.buttonset=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect");this.buttonset.karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-tabselect"}).bind("change.karlbuttonset",function(A,C,B){if(B){var z=$(this).data("karlbuttonset").element.children().eq(C).attr("value");if(z=="uploadnew"){v.upload_panel.show();v.images_panel.hide();v.external_panel.hide();var B=v.upload_preview_image.imagedrawerimage("record");if(B&&B.image_url){v._setSelection(v.upload_preview_image)}else{v._setSelection(null)}v.selected_source=C}else{if(z=="myrecent"||z=="thiscommunity"){if(C!=v.selected_source){v._requestRecords(0,12,true);v.selected_source=C;v.info_panel.imagedrawerinfopanel("record",{})}v.upload_panel.hide();v.images_panel.show();v.external_panel.hide()}else{if(z=="external"){v.upload_panel.hide();v.images_panel.hide();v.external_panel.show();var B=v.external_preview_image.imagedrawerimage("record");if(B&&B.image_url){v._setSelection(v.external_preview_image)}else{v._setSelection(null)}v.selected_source=C}}}}});this.info_panel=this.dialog.find(".tiny-imagedrawer-panel-info").imagedrawerinfopanel({}).tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.info_panel.data("imagedrawerinfopanel").buttonset_save.bind("change.karlbuttonset",function(z,B,A){if(B==0){if(v.selected_item==null){return}v._insertToEditor();v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}else{v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}});this.fileinputid="tiny-imagedrawer-fileinputid-"+c;c+=1;var r=this.upload_panel.find(".tiny-imagedrawer-fileinput");this.textinput=this.upload_panel.find(".tiny-imagedrawer-input-titletext");r.attr("id",this.fileinputid);if(!r.attr("name")){r.attr("name","file")}this._fileinput_change=function(){var A=""+this.value;var z=Math.max(A.lastIndexOf("/"),A.lastIndexOf("\\"));if(z!=-1){A=A.substring(z+1)}v.textinput.val(A);v._uploadReset();v.buttonset_upload.karlbuttonset("getButton",0).removeClass("ui-state-disabled");v.buttonset_upload.karlbuttonset("getButton",1).addClass("ui-state-disabled")};r.change(this._fileinput_change);this.upload_statusbox=this.upload_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_upload=this.upload_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-upload").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-upload"}).bind("change.karlbuttonset",function(A,C,B){var D=$(this);if(C==0){var z={};f+=1;z.upload_serial=f;v._uploadStart(z);D.karlbuttonset("getButton",0).addClass("ui-state-disabled");D.karlbuttonset("getButton",1).removeClass("ui-state-disabled");$.ajaxFileUpload({url:n.getParam("imagedrawer_upload_url"),secureuri:false,fileElementId:v.fileinputid,extraParams:{title:v.textinput.val()},dataType:"json",success:function(F,E){v._uploadSuccess(F,z)},error:function(F,E,G){if(G&&G.message){F={error:G.message}}v._uploadError(F,z)}})}else{f+=1;v._uploadReset();D.karlbuttonset("getButton",0).removeClass("ui-state-disabled");D.karlbuttonset("getButton",1).addClass("ui-state-disabled")}});this.input_url=this.external_panel.find(".tiny-imagedrawer-input-url");this.label_previewtext=this.external_panel.find(".tiny-imagedrawer-external-previewtext");this.external_statusbox=this.external_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_check=this.external_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-check").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-check"}).bind("change.karlbuttonset",function(z,B,A){var C=$(this);v._externalDoCheck({image_url:v.input_url.val()})});this.proto_image=this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").eq(0);var j=$("<ul></ul>").hide().appendTo(this.images_panel).append(this.proto_image);this.proto_image.dblclick(function(z){var A=$(this).imagedrawerimage("record");if(A&&A.image_url){v._insertToEditor(this);v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}z.preventDefault()}).click(function(z){v._setSelection(this);z.preventDefault()}).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").remove();this.visible_columns=4;this.stripes=[];this.images_panel.find("ul.tiny-imagedrawer-imagestripe").each(function(z){v.stripes.push(new b($(this),95,v.proto_image,{title:v.editor.getLang("imagedrawer.loading_title"),thumbnail_url:v.url+"/images/default_image.png"}))});this.region_id=0;this.scrollbar=this.images_panel.find(".tiny-imagedrawer-scrollbar").karlslider({enableClickJump:true,enableKeyJump:true,slide:function(A,z){v._moveStripe(z.value/100)}});this.upload_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.upload_panel.find(".tiny-imagedrawer-image").replaceWith(this.upload_preview_image);this._uploadReset();this.external_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.external_panel.find(".tiny-imagedrawer-image").replaceWith(this.external_preview_image);this._externalReset();var s=this.dialog.find(".tiny-imagedrawer-panel-help").hide();var o=false;s.find(".karl-buttonset").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-cancelhelp"}).bind("change.karlbuttonset",function(z,B,A){s.hide("slow");k.show("slow");l.show("slow");o=false});this.dialog.find(".tiny-imagedrawer-button-help").click(function(z){if(!o){s.show("fold");l.hide();k.hide();o=true}z.preventDefault()});if($.ui.version<"1.8"&&!this.scrollbar.data("karlslider")._uiHash_patched){throw new Error("jquery-ui version >= 1.8, or patched 1.7 version required.")}this.title_tag=this.dialog.find(".tiny-imagedrawer-title");v._updateInsertReplaceState();if(u.images_info){this._initImages(u.images_info);this._loadRecords(u.images_info)}v._setSelection(null);if(this.editor_image_data){if(this.editor_image_data.external){this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("external")).click();this.input_url.val(this.editor_image_data.image_url);this._externalDoCheck({image_url:this.editor_image_data.image_url})}else{this.selected_source=this._findSourceButtonIndex("myrecent");this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("myrecent")).click();this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}}else{this.selected_source=this.buttonset[0].selectedIndex}var q=this.buttonset.data("karlbuttonset").element.children().eq(this.selected_source).attr("value");if(q=="uploadnew"){this.upload_panel.show();this.images_panel.hide();this.external_panel.hide()}else{if(q=="myrecent"||q=="thiscommunity"){this.upload_panel.hide();this.images_panel.show();this.external_panel.hide()}else{if(q=="external"){this.upload_panel.hide();this.images_panel.hide();this.external_panel.show()}}}this._save_formstate();this.dialog.dialog("open");this._restore_formstate()},_findSourceButtonIndex:function(g){var j;this.buttonset.data("karlbuttonset").element.children().each(function(k){if($(this).attr("value")==g){j=k;return false}});return j},_initImages:function(j){this.region_start=0;this.region_end=j.records.length;this.region_total=j.totalRecords;this._resetStripe();this._preloadRegion(this.region_start,this.region_end);this._moveStripe(this.scrollbar.karlslider("value")/100);var g=Math.floor(100/(Math.ceil(this.region_total/this.stripes.length))*this.visible_columns);this.scrollbar.karlslider("option","jumpStep",g)},_dialogError:function(g){g="Error when fetching drawer_dialog_view.html: "+g;alert(g)},_dataSuccess:function(l,m,k){var g=this;var j=l&&l.error;if(j){this._dataError(l)}if(this.region_id!=m){return}if(k){this._initImages(l.images_info)}this._loadRecords(l.images_info);if(k&&this.editor_image_data&&!this.editor_image_data.external&&!this.editor_image_data._selected_once){this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}},_dataError:function(j){var g=j&&j.error;if(!g){g="Server error when fetching drawer_data_view.html"}alert(g)},_uploadStart:function(g){this.upload_preview_image.parent().show();this.upload_preview_image.imagedrawerimage("record",{loading:true,title:this.textinput.val(),thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear")},_uploadReset:function(){this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear");this._setSelection(null)},_uploadSuccess:function(l,k){var g=this;var j=l&&l.error;if(j){this._uploadError(l,k);return}if(k.upload_serial!=f){return}this.upload_preview_image.imagedrawerimage("record",l.upload_image_info);if(this.buttonset.val()=="uploadnew"){if(this.selected_item==null){this._setSelection(this.upload_preview_image)}else{this._updateInfoPanel()}}},_uploadError:function(k,j){if(j.upload_serial!=f){return}var g=k&&k.error;if(!g){g="Server error when fetching drawer_upload_view.html"}this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.upload_statusbox.multistatusbox("clearAndAppend",g,null,"ui-state-error ui-corner-all");if(this.buttonset.val()=="uploadnew"){this._updateInfoPanel()}},_externalDoCheck:function(k){var j=this;e+=1;k.external_check_serial=e;this._externalStart(k);var g=new Image();$(g).load(function(){j._externalSuccess(this,k)}).error(function(){j._externalError(this,k)}).attr("src",k.image_url)},_externalStart:function(g){var k=g.image_url;var j="External image";this.external_preview_image.parent().show();this.external_preview_image.imagedrawerimage("record",{loading:true,title:j,thumbnail_url:this.url+"/images/throbber.gif",location:[{title:k,href:k}]});this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide()},_externalReset:function(){this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.external_statusbox.multistatusbox("clear");this._setSelection(null);this.label_previewtext.show()},_externalSuccess:function(j,k){var g=this;if(k.external_check_serial!=e){return}var o=undefined;var l=undefined;if($.browser.msie){var n=175;if(j.width>n||j.height>n){var m=j.width/j.height;if(m>1){o=n;l=Math.floor(n/m)}else{o=Math.floor(n*m);l=n}}}this.external_preview_image.imagedrawerimage("record",$.extend({},this.external_preview_image.imagedrawerimage("record"),{image_width:j.width,image_height:j.height,image_url:k.image_url,thumbnail_url:k.image_url,thumbnail_width:o,thumbnail_height:l}));this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide();if(this.buttonset.val()=="external"){if(this.selected_item==null){this._setSelection(this.external_preview_image)}else{this._updateInfoPanel()}}},_externalError:function(g,k){if(k.external_check_serial!=e){return}var j="Wrong url, or not an image.";this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.external_statusbox.multistatusbox("clearAndAppend",j,null,"ui-state-error ui-corner-all");this.label_previewtext.show();if(this.buttonset.val()=="external"){this._updateInfoPanel()}},_getListItem:function(g){var k=this.stripes.length;var j=g%k;return this.stripes[j].item(Math.floor((g+j)/k))},_setSelection:function(g){if(g){g=$(g)}if((this.selected_item&&this.selected_item[0])===(g&&g[0])){return}if(this.selected_item!=null){this.selected_item.removeClass("ui-state-default ui-state-active")}this.selected_item=g;this._updateInfoPanel()},_updateInfoPanel:function(){var j=this.selected_item;if(j!=null){j.addClass("ui-state-default ui-state-active");var g=j.imagedrawerimage("record");this.info_panel.imagedrawerinfopanel("record",g)}else{this.info_panel.imagedrawerinfopanel("record",{})}},_preloadRegion:function(k,g){var j=this.stripes.length;$(this.stripes).each(function(l){var m=j-l-1;this.preload(Math.floor((k+m)/j),Math.floor((g+m)/j))})},_resetStripe:function(){$(this.stripes).each(function(g){this.reset()});this.region_id+=1;this._setSelection(null);this.scrollbar.karlslider("value",0)},_moveStripe:function(o){var s=this;var m=o*(Math.ceil(this.region_total/this.stripes.length)-this.visible_columns);if(m<0){return}var j=Math.floor(m*this.stripes.length);var k=Math.ceil(m+this.visible_columns)*this.stripes.length;var g;var r;var n;if((j<this.region_start)||(k>this.region_end)){var l=12;if(j<this.region_start){r=k;if(r<this.region_start){this._resetStripe();this.region_end=r}else{r=this.region_start}g=Math.min(j,r-l);g=Math.max(g,0);this.region_start=g}else{if(k>this.region_end){g=j;if(g>this.region_end){this._resetStripe();this.region_start=g}else{g=this.region_end}r=Math.max(k,g+l);r=Math.min(r,this.region_total);this.region_end=r}}if(g<r){this._preloadRegion(g,r);var q=this.region_id;this._requestRecords(g,r-g,false)}}$(this.stripes).each(function(t){this.moveTo(m)})},_requestRecords:function(n,g,k){var j=this;var l=this.region_id;var m={start:n,limit:g,sort_on:"creation_date",reverse:"1",source:this.buttonset.find("option:selected").val()};if(this.editor_image_data&&!this.editor_image_data.external){m.include_image_url=this.editor_image_data.image_url}$.ajax({type:"GET",url:this.editor.getParam("imagedrawer_data_url"),data:m,success:function(o){j._dataSuccess(o,l,k)},error:function(o){j._dataError(o)},dataType:"json"})},_loadRecords:function(k){var g=this;var l=k.start;var j=this.stripes.length;$.each(k.records,function(m){var n=(m+l)%j;g.stripes[n].recordAt(Math.floor((m+l)/j),this)})},_insertToEditor:function(B){var n;if(B){n=$(B).imagedrawerimage("record")}else{n=this.info_panel.imagedrawerinfopanel("record")}var q=this.editor;var z;var k;var l=this.info_panel.imagedrawerinfopanel("insertOptions");var j=n.image_width;var A=n.image_height;var C;var u;var m={original:{max_width:530,max_height:530},large:{max_width:400,max_height:400},medium:{max_width:250,max_height:250},small:{max_width:100,max_height:100}}[l.dimension];var C=m.max_width;var u=m.max_height;if(j>C){A=Math.floor(A*C/j);j=C}if(A>u){j=Math.floor(j*u/A);A=u}var s="";alt=l.captiontext;if(l.caption){s=(s?s+" ":"")+"tiny-imagedrawer-captioned"}var g="";var r;if(l.align=="left"){r="left"}else{if(l.align=="right"){r="right"}else{if(l.align=="center"){g="display: block; margin-left: auto; margin-right: auto; text-align: center;";r=null}}}var t={src:n.image_url,align:r,width:j,height:A,alt:alt,"class":s,style:g};if(tinymce.isWebKit){q.getWin().focus()}t.onmouseover=t.onmouseout="";if(t.onmousemovecheck){if(t.onmouseoversrc){t.onmouseover="this.src='"+t.onmouseoversrc+"';"}if(t.onmouseoutsrc){t.onmouseout="this.src='"+t.onmouseoutsrc+"';"}}var o=this._get_editor_selection();if(o){q.dom.setAttribs(o,t);q.execCommand("mceRepaint")}else{q.execCommand("mceInsertContent",false,'<img id="__mce_tmp" />',{skip_undo:1});q.dom.setAttribs("__mce_tmp",t);q.dom.setAttrib("__mce_tmp","id","");q.undoManager.add()}},_getEditorImageSelection:function(){var g=this.editor;var j=g.selection.getNode();if(j&&j.nodeName=="P"){var k=j.childNodes[g.selection.getRng().startOffset];if(k&&k.nodeName=="IMG"){j=k}}if(j&&j.nodeName=="IMG"){return j}else{return null}},_getEditorImageData:function(j){j=$(j);var g=j.attr("width");var k=j.attr("height");var l={insert_width:g,insert_height:k,caption:j.hasClass("tiny-imagedrawer-captioned"),captiontext:j.attr("alt"),image_url:j.attr("src"),dimension:"original"};$.each([["small",100],["medium",250],["large",400]],function(m,n){if(g<=n[1]&&k<=n[1]){l.dimension=n[0];return false}});if(j.css("float")=="left"){l.align="left"}else{if(j.css("float")=="right"){l.align="right"}else{if(j.css("margin-left")=="auto"&&j.css("margin-right")=="auto"){l.align="center"}else{l.align=null}}}return l},_updateInsertReplaceState:function(){var g=this;var l;var j;var k=this.editor_image_data;if(k){l="Replace Image";j="Replace";this.info_panel.imagedrawerinfopanel("insertOptions",k)}else{l="Insert Image";j="Insert"}this.info_panel.imagedrawerinfopanel("insertButtonLabel",j);this.title_tag.text(l)},getInfo:function(){return{longname:"Image Drawer",author:"Thomas Moroz, Open Society Institute",authorurl:"",infourl:"",version:"1.0"}}});if(window.tinymce){tinymce.PluginManager.add("imagedrawer",tinymce.plugins.ImageDrawerPlugin);tinymce.PluginManager.requireLangPack("imagedrawer")}})();tinyMCE.addI18n("en.imagedrawer",{image_desc:"Insert/edit image",loading_title:"Loading..."});if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(o,d,r,f,l,m,j,g,e,n){if(!document.getElementById){return}this.DETECT_KEY=n?n:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(o){this.setAttribute("swf",o)}if(d){this.setAttribute("id",d)}if(r){this.setAttribute("width",r)}if(f){this.setAttribute("height",f)}if(l){this.setAttribute("version",new deconcept.PlayerVersion(l.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(m){this.addParam("bgcolor",m)}var b=j?j:"high";this.addParam("quality",b);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var k=(g)?g:window.location;this.setAttribute("xiRedirectUrl",k);this.setAttribute("redirectUrl","");if(e){this.setAttribute("redirectUrl",e)}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true)},setAttribute:function(b,c){this.attributes[b]=c},getAttribute:function(b){return this.attributes[b]},addParam:function(c,b){this.params[c]=b},getParams:function(){return this.params},addVariable:function(c,b){this.variables[c]=b},getVariable:function(b){return this.variables[b]},getVariables:function(){return this.variables},getVariablePairs:function(){var d=new Array();var c;var b=this.getVariables();for(c in b){d[d.length]=c+"="+b[c]}return d},getSWFHTML:function(){var c="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}c='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';c+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var g=this.getParams();for(var f in g){c+=[f]+'="'+g[f]+'" '}var e=this.getVariablePairs().join("&");if(e.length>0){c+='flashvars="'+e+'"'}c+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}c='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';c+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var d=this.getParams();for(var f in d){c+='<param name="'+f+'" value="'+d[f]+'" />'}var b=this.getVariablePairs().join("&");if(b.length>0){c+='<param name="flashvars" value="'+b+'" />'}c+="</object>"}return c},write:function(c){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var d=(typeof c=="string")?document.getElementById(c):c;d.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var g=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];if(b&&b.description){g=new deconcept.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var c=1;var d=3;while(c){try{d++;c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);g=new deconcept.PlayerVersion([d,0,0])}catch(f){c=null}}}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(f){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");g=new deconcept.PlayerVersion([6,0,21]);c.AllowScriptAccess="always"}catch(f){if(g.major==6){return g}}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){}}if(c!=null){g=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(","))}}}return g};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false}if(this.major>b.major){return true}if(this.minor<b.minor){return false}if(this.minor>b.minor){return true}if(this.rev<b.rev){return false}return true};deconcept.util={getRequestParameter:function(d){var e=document.location.search||document.location.hash;if(d==null){return e}if(e){var c=e.substring(1).split("&");for(var b=0;b<c.length;b++){if(c[b].substring(0,c[b].indexOf("="))==d){return c[b].substring((c[b].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var c=document.getElementsByTagName("OBJECT");for(var d=c.length-1;d>=0;d--){c[d].style.display="none";for(var b in c[d]){if(typeof c[d][b]=="function"){c[d][b]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(b){return document.all[b]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;var MD5=function(v){function Q(c,b){return(c<<b)|(c>>>(32-b))}function P(F,c){var H,b,k,G,d;k=(F&2147483648);G=(c&2147483648);H=(F&1073741824);b=(c&1073741824);d=(F&1073741823)+(c&1073741823);if(H&b){return(d^2147483648^k^G)}if(H|b){if(d&1073741824){return(d^3221225472^k^G)}else{return(d^1073741824^k^G)}}else{return(d^k^G)}}function u(b,d,c){return(b&d)|((~b)&c)}function t(b,d,c){return(b&c)|(d&(~c))}function s(b,d,c){return(b^d^c)}function q(b,d,c){return(d^(b|(~c)))}function A(G,F,af,ae,k,H,I){G=P(G,P(P(u(F,af,ae),k),I));return P(Q(G,H),F)}function f(G,F,af,ae,k,H,I){G=P(G,P(P(t(F,af,ae),k),I));return P(Q(G,H),F)}function M(G,F,af,ae,k,H,I){G=P(G,P(P(s(F,af,ae),k),I));return P(Q(G,H),F)}function z(G,F,af,ae,k,H,I){G=P(G,P(P(q(F,af,ae),k),I));return P(Q(G,H),F)}function e(F){var I;var k=F.length;var d=k+8;var c=(d-(d%64))/64;var H=(c+1)*16;var ae=Array(H-1);var b=0;var G=0;while(G<k){I=(G-(G%4))/4;b=(G%4)*8;ae[I]=(ae[I]|(F.charCodeAt(G)<<b));G++}I=(G-(G%4))/4;b=(G%4)*8;ae[I]=ae[I]|(128<<b);ae[H-2]=k<<3;ae[H-1]=k>>>29;return ae}function K(d){var c="",k="",F,b;for(b=0;b<=3;b++){F=(d>>>(b*8))&255;k="0"+F.toString(16);c=c+k.substr(k.length-2,2)}return c}function O(d){d=d.replace(/\r\n/g,"\n");var b="";for(var F=0;F<d.length;F++){var k=d.charCodeAt(F);if(k<128){b+=String.fromCharCode(k)}else{if((k>127)&&(k<2048)){b+=String.fromCharCode((k>>6)|192);b+=String.fromCharCode((k&63)|128)}else{b+=String.fromCharCode((k>>12)|224);b+=String.fromCharCode(((k>>6)&63)|128);b+=String.fromCharCode((k&63)|128)}}}return b}var L=Array();var U,j,N,B,g,ad,ac,ab,aa;var X=7,V=12,S=17,R=22;var J=5,E=9,D=14,C=20;var r=4,o=11,n=16,m=23;var Z=6,Y=10,W=15,T=21;v=O(v);L=e(v);ad=1732584193;ac=4023233417;ab=2562383102;aa=271733878;for(U=0;U<L.length;U+=16){j=ad;N=ac;B=ab;g=aa;ad=A(ad,ac,ab,aa,L[U+0],X,3614090360);aa=A(aa,ad,ac,ab,L[U+1],V,3905402710);ab=A(ab,aa,ad,ac,L[U+2],S,606105819);ac=A(ac,ab,aa,ad,L[U+3],R,3250441966);ad=A(ad,ac,ab,aa,L[U+4],X,4118548399);aa=A(aa,ad,ac,ab,L[U+5],V,1200080426);ab=A(ab,aa,ad,ac,L[U+6],S,2821735955);ac=A(ac,ab,aa,ad,L[U+7],R,4249261313);ad=A(ad,ac,ab,aa,L[U+8],X,1770035416);aa=A(aa,ad,ac,ab,L[U+9],V,2336552879);ab=A(ab,aa,ad,ac,L[U+10],S,4294925233);ac=A(ac,ab,aa,ad,L[U+11],R,2304563134);ad=A(ad,ac,ab,aa,L[U+12],X,1804603682);aa=A(aa,ad,ac,ab,L[U+13],V,4254626195);ab=A(ab,aa,ad,ac,L[U+14],S,2792965006);ac=A(ac,ab,aa,ad,L[U+15],R,1236535329);ad=f(ad,ac,ab,aa,L[U+1],J,4129170786);aa=f(aa,ad,ac,ab,L[U+6],E,3225465664);ab=f(ab,aa,ad,ac,L[U+11],D,643717713);ac=f(ac,ab,aa,ad,L[U+0],C,3921069994);ad=f(ad,ac,ab,aa,L[U+5],J,3593408605);aa=f(aa,ad,ac,ab,L[U+10],E,38016083);ab=f(ab,aa,ad,ac,L[U+15],D,3634488961);ac=f(ac,ab,aa,ad,L[U+4],C,3889429448);ad=f(ad,ac,ab,aa,L[U+9],J,568446438);aa=f(aa,ad,ac,ab,L[U+14],E,3275163606);ab=f(ab,aa,ad,ac,L[U+3],D,4107603335);ac=f(ac,ab,aa,ad,L[U+8],C,1163531501);ad=f(ad,ac,ab,aa,L[U+13],J,2850285829);aa=f(aa,ad,ac,ab,L[U+2],E,4243563512);ab=f(ab,aa,ad,ac,L[U+7],D,1735328473);ac=f(ac,ab,aa,ad,L[U+12],C,2368359562);ad=M(ad,ac,ab,aa,L[U+5],r,4294588738);aa=M(aa,ad,ac,ab,L[U+8],o,2272392833);ab=M(ab,aa,ad,ac,L[U+11],n,1839030562);ac=M(ac,ab,aa,ad,L[U+14],m,4259657740);ad=M(ad,ac,ab,aa,L[U+1],r,2763975236);aa=M(aa,ad,ac,ab,L[U+4],o,1272893353);ab=M(ab,aa,ad,ac,L[U+7],n,4139469664);ac=M(ac,ab,aa,ad,L[U+10],m,3200236656);ad=M(ad,ac,ab,aa,L[U+13],r,681279174);aa=M(aa,ad,ac,ab,L[U+0],o,3936430074);ab=M(ab,aa,ad,ac,L[U+3],n,3572445317);ac=M(ac,ab,aa,ad,L[U+6],m,76029189);ad=M(ad,ac,ab,aa,L[U+9],r,3654602809);aa=M(aa,ad,ac,ab,L[U+12],o,3873151461);ab=M(ab,aa,ad,ac,L[U+15],n,530742520);ac=M(ac,ab,aa,ad,L[U+2],m,3299628645);ad=z(ad,ac,ab,aa,L[U+0],Z,4096336452);aa=z(aa,ad,ac,ab,L[U+7],Y,1126891415);ab=z(ab,aa,ad,ac,L[U+14],W,2878612391);ac=z(ac,ab,aa,ad,L[U+5],T,4237533241);ad=z(ad,ac,ab,aa,L[U+12],Z,1700485571);aa=z(aa,ad,ac,ab,L[U+3],Y,2399980690);ab=z(ab,aa,ad,ac,L[U+10],W,4293915773);ac=z(ac,ab,aa,ad,L[U+1],T,2240044497);ad=z(ad,ac,ab,aa,L[U+8],Z,1873313359);aa=z(aa,ad,ac,ab,L[U+15],Y,4264355552);ab=z(ab,aa,ad,ac,L[U+6],W,2734768916);ac=z(ac,ab,aa,ad,L[U+13],T,1309151649);ad=z(ad,ac,ab,aa,L[U+4],Z,4149444226);aa=z(aa,ad,ac,ab,L[U+11],Y,3174756917);ab=z(ab,aa,ad,ac,L[U+2],W,718787259);ac=z(ac,ab,aa,ad,L[U+9],T,3951481745);ad=P(ad,j);ac=P(ac,N);ab=P(ab,B);aa=P(aa,g)}var l=K(ad)+K(ac)+K(ab)+K(aa);return l.toLowerCase()};if(typeof(OX)==="undefined"){var OX={}}OX.AJAST={Broker:function(c,d,f,e,b){this.url=c;this.cb=d;this.params=[];this.timeout=e||5000;if(typeof(b)!=="undefined"){for(p in b){this.params.push(p+"="+encodeURIComponent(b[p]))}}this.jsonmode=f||false},__callbacks__:{},__callid__:1,call:function(url,callbackparameter,callbackfunction,optional_timeout,optional_decode_json_response){var callbackid="callback"+OX.AJAST.__callid__;url+="&"+encodeURIComponent(callbackparameter)+"="+encodeURIComponent("OX.AJAST.__callbacks__."+callbackid);var tag=OX.AJAST.createScriptTag(url);var head=document.getElementsByTagName("head").item(0);var timedout=function(){if(OX.AJAST.__callbacks__[callbackid]!=="undefined"){OX.AJAST.__callbacks__[callbackid]=function(){delete OX.AJAST.__callbacks__[callbackid]};callbackfunction(false);head.removeChild(tag)}};var timer=setTimeout(timedout,optional_timeout||5000);var decode_response=optional_decode_json_response||false;OX.AJAST.__callbacks__[callbackid]=function(data){clearTimeout(timer);if(typeof(data)==="undefined"){callbackfunction(false)}else{callbackfunction(true,decode_response?eval(data):data)}delete OX.AJAST.__callbacks__[callbackid];head.removeChild(tag)};head.appendChild(tag)},createScriptTag:function(b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("id","oxajastcall"+OX.AJAST.__callid__++);c.setAttribute("src",b);return c}};OX.AJAST.Broker.prototype.call=function(c,d){var b=[];for(p in c){b.push(p+"="+encodeURIComponent(c[p]))}for(p in this.params){b.push(this.params[p])}if(this.url.indexOf("?",0)>-1){this.url+="&"+b.join("&")}else{this.url+="?"+b.join("&")}OX.AJAST.call(this.url,this.cb,d,this.timeout,this.jsonmode)};function http_build_query(c,g,b){var f,e,d=[];var j=function(o,q,l){var m,n=[];if(q===true){q="1"}else{if(q===false){q="0"}}if(q!==null&&typeof(q)==="object"){for(m in q){if(q[m]!==null){n.push(j(o+"["+m+"]",q[m],l))}}return n.join(l)}else{if(typeof(q)!=="function"){return o+"="+encodeURIComponent(q)}else{return""}}};if(!b){b="&"}for(e in c){f=c[e];if(g&&!isNaN(e)){e=String(g)+e}d.push(j(e,f,b))}return d.join(b)}function getFunctionName(b){if(typeof b=="function"||typeof b=="object"){var c=(""+b).match(/^function\s*([\w\$]*)\s*\(/)}if(c!==null){return c[1]}return null}function getClass(c,b){if(typeof c=="undefined"){return"undefined"}if(c===null){return"null"}if(b==true&&c.hasOwnProperty("constructor")){delete c.constructor}if(b!=false&&!c.hasOwnProperty("constructor")){return getFunctionName(c.constructor)}return Object.prototype.toString.call(c).match(/^\[object\s(.*)\]$/)[1]}function addIfNotNull(c,e,b,d){if(d!=null){if(d instanceof KalturaObjectBase){e[b]=toParams(d)}else{e[b]=d}}}function toParams(b){var d=new Object();d.objectType=getClass(b);for(var e in b){var c=b[e];addIfNotNull(b,d,e,c)}return d}Function.prototype.inheritsFrom=function(b){if(b.constructor==Function){this.prototype=new b;this.prototype.constructor=this;this.prototype.parentClass=b.prototype}else{this.prototype=b;this.prototype.constructor=this;this.prototype.parentClass=b}return this};function ksort(d){var e=[];var c=[];var g=0;for(f in d){c[g++]=f+"|"+d[f]}c=c.sort();for(var f=0;f<c.length;f++){var b=c[f].split("|");e[b[0]]=b[1]}return e}function KalturaServiceActionCall(b,d,e,c){if(!e){e=new Object()}if(!c){c=new Object()}this.service=b;this.action=d;this.params=this.parseParams(e);this.files=c}KalturaServiceActionCall.prototype.service=null;KalturaServiceActionCall.prototype.action=null;KalturaServiceActionCall.prototype.params=null;KalturaServiceActionCall.prototype.files=null;KalturaServiceActionCall.prototype.parseParams=function(d){var e=new Object();for(var b in d){var c=d[b];if(typeof(c)=="object"){e[b]=this.parseParams(c)}else{e[b]=c}}return e};KalturaServiceActionCall.prototype.getParamsForMultiRequest=function(e){var c=new Object();c[e+":service"]=this.service;c[e+":action"]=this.action;for(var b in this.params){var d=this.params[b];c[e+":"+b]=d}return c};function IKalturaLogger(){}IKalturaLogger.prototype.log=function(b){if(console&&console.log){console.log(b)}};function KalturaClientBase(){}KalturaClientBase.prototype.init=function(c){this.config=c;var b=this.config.getLogger();if(b){this.shouldLog=true}};KalturaClientBase.prototype.KALTURA_API_VERSION="3.0";KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSON=1;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_XML=2;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_PHP=3;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP=9;KalturaClientBase.prototype.config=null;KalturaClientBase.prototype.ks=null;KalturaClientBase.prototype.shouldLog=false;KalturaClientBase.prototype.useMultiRequest=false;KalturaClientBase.prototype.callsQueue=new Array();KalturaClientBase.prototype.queueServiceActionCall=function(b,e,f,d){if(!f.hasOwnProperty("partnerId")||f.partnerId==-1){f.partnerId=this.config.partnerId}this.addParam(f,"ks",this.ks);var c=new KalturaServiceActionCall(b,e,f,d);this.callsQueue.push(c)};KalturaClientBase.prototype.doQueue=function(n){if(this.callsQueue.length==0){return null}var f=new Object();var b=new Object();this.log("service url: ["+this.config.serviceUrl+"]");this.addParam(f,"apiVersion",this.KALTURA_API_VERSION);this.addParam(f,"format",this.config.format);this.addParam(f,"clientTag",this.config.clientTag);var c=this.config.serviceUrl+this.config.serviceBase;var o=null;if(this.useMultiRequest){c+="multirequest";$i=1;for(var m in this.callsQueue){o=this.callsQueue[m];var e=o.getParamsForMultiRequest($i++);for(var l in e){f[l]=e[l]}for(var k in o.files){b[k]=o.files[k]}}}else{o=this.callsQueue[0];c+=o.service+"&action="+o.action;for(var j in o.params){f[j]=o.params[j]}for(var g in o.files){b[g]=o.files[g]}}this.callsQueue=new Array();this.useMultiRequest=false;var d=this.signature(f);this.addParam(f,"kalsig",d);this.doHttpRequest(n,c,f,b);return true};KalturaClientBase.prototype.signature=function(e){e=ksort(e);var d="";for(var c in e){var b=e[c];d+=b+c}return MD5(d)};KalturaClientBase.prototype.doHttpRequest=function(b,c,e,d){c+="&"+http_build_query(e);OX.AJAST.call(c,"callback",b,20000,false)};KalturaClientBase.prototype.getKs=function(){return this.ks};KalturaClientBase.prototype.setKs=function(b){this.ks=b};KalturaClientBase.prototype.getConfig=function(){return this.config};KalturaClientBase.prototype.setConfig=function(b){this.config=b;logger=this.config.getLogger();if(logger instanceof IKalturaLogger){this.shouldLog=true}};KalturaClientBase.prototype.addParam=function(f,d,e){if(e==null){return}if(typeof(e)!="object"){f[d]=e;return}for(var c in e){var b=e[c];this.addParam(f,d+":"+c,b)}};KalturaClientBase.prototype.startMultiRequest=function(){this.useMultiRequest=true};KalturaClientBase.prototype.doMultiRequest=function(b){return this.doQueue(b)};KalturaClientBase.prototype.isMultiRequest=function(){return this.useMultiRequest};KalturaClientBase.prototype.log=function(b){if(this.shouldLog){this.config.getLogger().log(b)}};function KalturaObjectBase(){}function KalturaServiceBase(){}KalturaServiceBase.prototype.init=function(b){this.client=b};KalturaServiceBase.prototype.client=null;function KalturaConfiguration(b){if(!b){b=-1}if(typeof(b)!="number"){throw"Invalid partner id - partnerId must be numeric!"}this.partnerId=b}KalturaConfiguration.prototype.logger=null;KalturaConfiguration.prototype.serviceUrl="http://www.kaltura.com";KalturaConfiguration.prototype.serviceBase="/api_v3/index.php?service=";KalturaConfiguration.prototype.partnerId=null;KalturaConfiguration.prototype.format=KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP;KalturaConfiguration.prototype.clientTag="js";KalturaConfiguration.prototype.setLogger=function(b){this.logger=b};KalturaConfiguration.prototype.getLogger=function(){return this.logger};function KalturaClient(b){this.init(b)}KalturaClient.inheritsFrom(KalturaClientBase);KalturaClient.prototype.accessControl=null;KalturaClient.prototype.adminconsole=null;KalturaClient.prototype.adminUser=null;KalturaClient.prototype.baseEntry=null;KalturaClient.prototype.bulkUpload=null;KalturaClient.prototype.category=null;KalturaClient.prototype.conversionProfile=null;KalturaClient.prototype.data=null;KalturaClient.prototype.flavorAsset=null;KalturaClient.prototype.flavorParams=null;KalturaClient.prototype.media=null;KalturaClient.prototype.mixing=null;KalturaClient.prototype.notification=null;KalturaClient.prototype.partner=null;KalturaClient.prototype.playlist=null;KalturaClient.prototype.report=null;KalturaClient.prototype.search=null;KalturaClient.prototype.session=null;KalturaClient.prototype.stats=null;KalturaClient.prototype.syndicationFeed=null;KalturaClient.prototype.system=null;KalturaClient.prototype.uiConf=null;KalturaClient.prototype.upload=null;KalturaClient.prototype.user=null;KalturaClient.prototype.widget=null;KalturaClient.prototype.xInternal=null;KalturaClient.prototype.systemUser=null;KalturaClient.prototype.systemPartner=null;KalturaClient.prototype.fileSync=null;KalturaClient.prototype.flavorParamsOutput=null;KalturaClient.prototype.mediaInfo=null;KalturaClient.prototype.entryAdmin=null;KalturaClient.prototype.init=function(b){KalturaClientBase.prototype.init.apply(this,arguments);this.accessControl=new KalturaAccessControlService(this);this.adminconsole=new KalturaAdminconsoleService(this);this.adminUser=new KalturaAdminUserService(this);this.baseEntry=new KalturaBaseEntryService(this);this.bulkUpload=new KalturaBulkUploadService(this);this.category=new KalturaCategoryService(this);this.conversionProfile=new KalturaConversionProfileService(this);this.data=new KalturaDataService(this);this.flavorAsset=new KalturaFlavorAssetService(this);this.flavorParams=new KalturaFlavorParamsService(this);this.media=new KalturaMediaService(this);this.mixing=new KalturaMixingService(this);this.notification=new KalturaNotificationService(this);this.partner=new KalturaPartnerService(this);this.playlist=new KalturaPlaylistService(this);this.report=new KalturaReportService(this);this.search=new KalturaSearchService(this);this.session=new KalturaSessionService(this);this.stats=new KalturaStatsService(this);this.syndicationFeed=new KalturaSyndicationFeedService(this);this.system=new KalturaSystemService(this);this.uiConf=new KalturaUiConfService(this);this.upload=new KalturaUploadService(this);this.user=new KalturaUserService(this);this.widget=new KalturaWidgetService(this);this.xInternal=new KalturaXInternalService(this);this.systemUser=new KalturaSystemUserService(this);this.systemPartner=new KalturaSystemPartnerService(this);this.fileSync=new KalturaFileSyncService(this);this.flavorParamsOutput=new KalturaFlavorParamsOutputService(this);this.mediaInfo=new KalturaMediaInfoService(this);this.entryAdmin=new KalturaEntryAdminService(this)};function KalturaAccessControlOrderBy(){}KalturaAccessControlOrderBy.CREATED_AT_ASC="+createdAt";KalturaAccessControlOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAudioCodec(){}KalturaAudioCodec.NONE="";KalturaAudioCodec.MP3="mp3";KalturaAudioCodec.AAC="aac";function KalturaBaseEntryOrderBy(){}KalturaBaseEntryOrderBy.NAME_ASC="+name";KalturaBaseEntryOrderBy.NAME_DESC="-name";KalturaBaseEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaBaseEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaBaseEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseEntryOrderBy.RANK_ASC="+rank";KalturaBaseEntryOrderBy.RANK_DESC="-rank";function KalturaBaseJobOrderBy(){}KalturaBaseJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBaseSyndicationFeedOrderBy(){}KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaBaseSyndicationFeedOrderBy.NAME_ASC="+name";KalturaBaseSyndicationFeedOrderBy.NAME_DESC="-name";KalturaBaseSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaBaseSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaBatchJobErrorTypes(){}KalturaBatchJobErrorTypes.APP=0;KalturaBatchJobErrorTypes.RUNTIME=1;KalturaBatchJobErrorTypes.HTTP=2;KalturaBatchJobErrorTypes.CURL=3;function KalturaBatchJobOrderBy(){}KalturaBatchJobOrderBy.STATUS_ASC="+status";KalturaBatchJobOrderBy.STATUS_DESC="-status";KalturaBatchJobOrderBy.QUEUE_TIME_ASC="+queueTime";KalturaBatchJobOrderBy.QUEUE_TIME_DESC="-queueTime";KalturaBatchJobOrderBy.FINISH_TIME_ASC="+finishTime";KalturaBatchJobOrderBy.FINISH_TIME_DESC="-finishTime";KalturaBatchJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBatchJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBatchJobStatus(){}KalturaBatchJobStatus.PENDING=0;KalturaBatchJobStatus.QUEUED=1;KalturaBatchJobStatus.PROCESSING=2;KalturaBatchJobStatus.PROCESSED=3;KalturaBatchJobStatus.MOVEFILE=4;KalturaBatchJobStatus.FINISHED=5;KalturaBatchJobStatus.FAILED=6;KalturaBatchJobStatus.ABORTED=7;KalturaBatchJobStatus.ALMOST_DONE=8;KalturaBatchJobStatus.RETRY=9;KalturaBatchJobStatus.FATAL=10;KalturaBatchJobStatus.DONT_PROCESS=11;function KalturaBatchJobType(){}KalturaBatchJobType.CONVERT=0;KalturaBatchJobType.IMPORT=1;KalturaBatchJobType.DELETE=2;KalturaBatchJobType.FLATTEN=3;KalturaBatchJobType.BULKUPLOAD=4;KalturaBatchJobType.DVDCREATOR=5;KalturaBatchJobType.DOWNLOAD=6;KalturaBatchJobType.OOCONVERT=7;KalturaBatchJobType.CONVERT_PROFILE=10;KalturaBatchJobType.POSTCONVERT=11;KalturaBatchJobType.PULL=12;KalturaBatchJobType.REMOTE_CONVERT=13;KalturaBatchJobType.EXTRACT_MEDIA=14;KalturaBatchJobType.MAIL=15;KalturaBatchJobType.NOTIFICATION=16;KalturaBatchJobType.CLEANUP=17;KalturaBatchJobType.SCHEDULER_HELPER=18;KalturaBatchJobType.BULKDOWNLOAD=19;KalturaBatchJobType.PROJECT=1000;function KalturaBitRateMode(){}KalturaBitRateMode.CBR=1;KalturaBitRateMode.VBR=2;function KalturaBulkUploadCsvVersion(){}KalturaBulkUploadCsvVersion.V1="1";KalturaBulkUploadCsvVersion.V2="2";function KalturaCategoryOrderBy(){}KalturaCategoryOrderBy.DEPTH_ASC="+depth";KalturaCategoryOrderBy.DEPTH_DESC="-depth";KalturaCategoryOrderBy.FULL_NAME_ASC="+fullName";KalturaCategoryOrderBy.FULL_NAME_DESC="-fullName";KalturaCategoryOrderBy.CREATED_AT_ASC="+createdAt";KalturaCategoryOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCommercialUseType(){}KalturaCommercialUseType.COMMERCIAL_USE="commercial_use";KalturaCommercialUseType.NON_COMMERCIAL_USE="non-commercial_use";function KalturaContainerFormat(){}KalturaContainerFormat.FLV="flv";KalturaContainerFormat.MP4="mp4";KalturaContainerFormat.AVI="avi";KalturaContainerFormat.MOV="mov";KalturaContainerFormat._3GP="3gp";function KalturaControlPanelCommandOrderBy(){}KalturaControlPanelCommandOrderBy.CREATED_AT_ASC="+createdAt";KalturaControlPanelCommandOrderBy.CREATED_AT_DESC="-createdAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_DESC="-updatedAt";function KalturaControlPanelCommandStatus(){}KalturaControlPanelCommandStatus.PENDING=1;KalturaControlPanelCommandStatus.HANDLED=2;KalturaControlPanelCommandStatus.DONE=3;KalturaControlPanelCommandStatus.FAILED=4;function KalturaControlPanelCommandTargetType(){}KalturaControlPanelCommandTargetType.DATA_CENTER=1;KalturaControlPanelCommandTargetType.SCHEDULER=2;KalturaControlPanelCommandTargetType.JOB_TYPE=3;KalturaControlPanelCommandTargetType.JOB=4;KalturaControlPanelCommandTargetType.BATCH=5;function KalturaControlPanelCommandType(){}KalturaControlPanelCommandType.STOP=1;KalturaControlPanelCommandType.START=2;KalturaControlPanelCommandType.CONFIG=3;KalturaControlPanelCommandType.KILL=4;function KalturaConversionProfileOrderBy(){}KalturaConversionProfileOrderBy.CREATED_AT_ASC="+createdAt";KalturaConversionProfileOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCountryRestrictionType(){}KalturaCountryRestrictionType.RESTRICT_COUNTRY_LIST=0;KalturaCountryRestrictionType.ALLOW_COUNTRY_LIST=1;function KalturaDataEntryOrderBy(){}KalturaDataEntryOrderBy.NAME_ASC="+name";KalturaDataEntryOrderBy.NAME_DESC="-name";KalturaDataEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDataEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDataEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDataEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDataEntryOrderBy.RANK_ASC="+rank";KalturaDataEntryOrderBy.RANK_DESC="-rank";function KalturaDirectoryRestrictionType(){}KalturaDirectoryRestrictionType.DONT_DISPLAY=0;KalturaDirectoryRestrictionType.DISPLAY_WITH_LINK=1;function KalturaDocumentEntryOrderBy(){}KalturaDocumentEntryOrderBy.NAME_ASC="+name";KalturaDocumentEntryOrderBy.NAME_DESC="-name";KalturaDocumentEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDocumentEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDocumentEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDocumentEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDocumentEntryOrderBy.RANK_ASC="+rank";KalturaDocumentEntryOrderBy.RANK_DESC="-rank";function KalturaDocumentType(){}KalturaDocumentType.DOCUMENT=11;KalturaDocumentType.SWF=12;function KalturaDurationType(){}KalturaDurationType.NOT_AVAILABLE="notavailable";KalturaDurationType.SHORT="short";KalturaDurationType.MEDIUM="medium";KalturaDurationType.LONG="long";function KalturaEditorType(){}KalturaEditorType.SIMPLE=1;KalturaEditorType.ADVANCED=2;function KalturaEntryModerationStatus(){}KalturaEntryModerationStatus.PENDING_MODERATION=1;KalturaEntryModerationStatus.APPROVED=2;KalturaEntryModerationStatus.REJECTED=3;KalturaEntryModerationStatus.FLAGGED_FOR_REVIEW=5;KalturaEntryModerationStatus.AUTO_APPROVED=6;function KalturaEntryStatus(){}KalturaEntryStatus.ERROR_IMPORTING=-2;KalturaEntryStatus.ERROR_CONVERTING=-1;KalturaEntryStatus.IMPORT=0;KalturaEntryStatus.PRECONVERT=1;KalturaEntryStatus.READY=2;KalturaEntryStatus.DELETED=3;KalturaEntryStatus.PENDING=4;KalturaEntryStatus.MODERATE=5;KalturaEntryStatus.BLOCKED=6;function KalturaEntryType(){}KalturaEntryType.AUTOMATIC=-1;KalturaEntryType.MEDIA_CLIP=1;KalturaEntryType.MIX=2;KalturaEntryType.PLAYLIST=5;KalturaEntryType.DATA=6;KalturaEntryType.DOCUMENT=10;function KalturaFileSyncObjectType(){}KalturaFileSyncObjectType.ENTRY=1;KalturaFileSyncObjectType.UICONF=2;KalturaFileSyncObjectType.BATCHJOB=3;KalturaFileSyncObjectType.FLAVOR_ASSET=4;function KalturaFileSyncOrderBy(){}KalturaFileSyncOrderBy.CREATED_AT_ASC="+createdAt";KalturaFileSyncOrderBy.CREATED_AT_DESC="-createdAt";KalturaFileSyncOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaFileSyncOrderBy.UPDATED_AT_DESC="-updatedAt";KalturaFileSyncOrderBy.READY_AT_ASC="+readyAt";KalturaFileSyncOrderBy.READY_AT_DESC="-readyAt";KalturaFileSyncOrderBy.SYNC_TIME_ASC="+syncTime";KalturaFileSyncOrderBy.SYNC_TIME_DESC="-syncTime";KalturaFileSyncOrderBy.FILE_SIZE_ASC="+fileSize";KalturaFileSyncOrderBy.FILE_SIZE_DESC="-fileSize";function KalturaFileSyncStatus(){}KalturaFileSyncStatus.ERROR=-1;KalturaFileSyncStatus.PENDING=1;KalturaFileSyncStatus.READY=2;KalturaFileSyncStatus.DELETED=3;KalturaFileSyncStatus.PURGED=4;function KalturaFileSyncType(){}KalturaFileSyncType.FILE=1;KalturaFileSyncType.LINK=2;KalturaFileSyncType.URL=3;function KalturaFlavorAssetStatus(){}KalturaFlavorAssetStatus.ERROR=-1;KalturaFlavorAssetStatus.QUEUED=0;KalturaFlavorAssetStatus.CONVERTING=1;KalturaFlavorAssetStatus.READY=2;KalturaFlavorAssetStatus.DELETED=3;KalturaFlavorAssetStatus.NOT_APPLICABLE=4;function KalturaFlavorParamsOrderBy(){}function KalturaFlavorParamsOutputOrderBy(){}function KalturaGender(){}KalturaGender.UNKNOWN=0;KalturaGender.MALE=1;KalturaGender.FEMALE=2;function KalturaGoogleSyndicationFeedAdultValues(){}KalturaGoogleSyndicationFeedAdultValues.YES="Yes";KalturaGoogleSyndicationFeedAdultValues.NO="No";function KalturaGoogleVideoSyndicationFeedOrderBy(){}KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_ASC="+name";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_DESC="-name";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaITunesSyndicationFeedAdultValues(){}KalturaITunesSyndicationFeedAdultValues.YES="yes";KalturaITunesSyndicationFeedAdultValues.NO="no";KalturaITunesSyndicationFeedAdultValues.CLEAN="clean";function KalturaITunesSyndicationFeedCategories(){}KalturaITunesSyndicationFeedCategories.ARTS="Arts";KalturaITunesSyndicationFeedCategories.ARTS_DESIGN="Arts/Design";KalturaITunesSyndicationFeedCategories.ARTS_FASHION_BEAUTY="Arts/Fashion &amp; Beauty";KalturaITunesSyndicationFeedCategories.ARTS_FOOD="Arts/Food";KalturaITunesSyndicationFeedCategories.ARTS_LITERATURE="Arts/Literature";KalturaITunesSyndicationFeedCategories.ARTS_PERFORMING_ARTS="Arts/Performing Arts";KalturaITunesSyndicationFeedCategories.ARTS_VISUAL_ARTS="Arts/Visual Arts";KalturaITunesSyndicationFeedCategories.BUSINESS="Business";KalturaITunesSyndicationFeedCategories.BUSINESS_BUSINESS_NEWS="Business/Business News";KalturaITunesSyndicationFeedCategories.BUSINESS_CAREERS="Business/Careers";KalturaITunesSyndicationFeedCategories.BUSINESS_INVESTING="Business/Investing";KalturaITunesSyndicationFeedCategories.BUSINESS_MANAGEMENT_MARKETING="Business/Management &amp; Marketing";KalturaITunesSyndicationFeedCategories.BUSINESS_SHOPPING="Business/Shopping";KalturaITunesSyndicationFeedCategories.COMEDY="Comedy";KalturaITunesSyndicationFeedCategories.EDUCATION="Education";KalturaITunesSyndicationFeedCategories.EDUCATION_TECHNOLOGY="Education/Education Technology";KalturaITunesSyndicationFeedCategories.EDUCATION_HIGHER_EDUCATION="Education/Higher Education";KalturaITunesSyndicationFeedCategories.EDUCATION_K_12="Education/K-12";KalturaITunesSyndicationFeedCategories.EDUCATION_LANGUAGE_COURSES="Education/Language Courses";KalturaITunesSyndicationFeedCategories.EDUCATION_TRAINING="Education/Training";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES="Games &amp; Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AUTOMOTIVE="Games &amp; Hobbies/Automotive";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AVIATION="Games &amp; Hobbies/Aviation";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_HOBBIES="Games &amp; Hobbies/Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_OTHER_GAMES="Games &amp; Hobbies/Other Games";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_VIDEO_GAMES="Games &amp; Hobbies/Video Games";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS="Government &amp; Organizations";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_LOCAL="Government &amp; Organizations/Local";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NATIONAL="Government &amp; Organizations/National";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NON_PROFIT="Government &amp; Organizations/Non-Profit";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_REGIONAL="Government &amp; Organizations/Regional";KalturaITunesSyndicationFeedCategories.HEALTH="Health";KalturaITunesSyndicationFeedCategories.HEALTH_ALTERNATIVE_HEALTH="Health/Alternative Health";KalturaITunesSyndicationFeedCategories.HEALTH_FITNESS_NUTRITION="Health/Fitness &amp; Nutrition";KalturaITunesSyndicationFeedCategories.HEALTH_SELF_HELP="Health/Self-Help";KalturaITunesSyndicationFeedCategories.HEALTH_SEXUALITY="Health/Sexuality";KalturaITunesSyndicationFeedCategories.KIDS_FAMILY="Kids &amp; Family";KalturaITunesSyndicationFeedCategories.MUSIC="Music";KalturaITunesSyndicationFeedCategories.NEWS_POLITICS="News &amp; Politics";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY="Religion &amp; Spirituality";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_BUDDHISM="Religion &amp; Spirituality/Buddhism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_CHRISTIANITY="Religion &amp; Spirituality/Christianity";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_HINDUISM="Religion &amp; Spirituality/Hinduism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_ISLAM="Religion &amp; Spirituality/Islam";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_JUDAISM="Religion &amp; Spirituality/Judaism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_OTHER="Religion &amp; Spirituality/Other";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_SPIRITUALITY="Religion &amp; Spirituality/Spirituality";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE="Science &amp; Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_MEDICINE="Science &amp; Medicine/Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_NATURAL_SCIENCES="Science &amp; Medicine/Natural Sciences";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_SOCIAL_SCIENCES="Science &amp; Medicine/Social Sciences";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE="Society &amp; Culture";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_HISTORY="Society &amp; Culture/History";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PERSONAL_JOURNALS="Society &amp; Culture/Personal Journals";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PHILOSOPHY="Society &amp; Culture/Philosophy";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PLACES_TRAVEL="Society &amp; Culture/Places &amp; Travel";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION="Sports &amp; Recreation";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_AMATEUR="Sports &amp; Recreation/Amateur";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_COLLEGE_HIGH_SCHOOL="Sports &amp; Recreation/College &amp; High School";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_OUTDOOR="Sports &amp; Recreation/Outdoor";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_PROFESSIONAL="Sports &amp; Recreation/Professional";KalturaITunesSyndicationFeedCategories.TECHNOLOGY="Technology";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_GADGETS="Technology/Gadgets";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_TECH_NEWS="Technology/Tech News";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_PODCASTING="Technology/Podcasting";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_SOFTWARE_HOW_TO="Technology/Software How-To";KalturaITunesSyndicationFeedCategories.TV_FILM="TV &amp; Film";function KalturaITunesSyndicationFeedOrderBy(){}KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaITunesSyndicationFeedOrderBy.NAME_ASC="+name";KalturaITunesSyndicationFeedOrderBy.NAME_DESC="-name";KalturaITunesSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaITunesSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaLicenseType(){}KalturaLicenseType.UNKNOWN=-1;KalturaLicenseType.NONE=0;KalturaLicenseType.COPYRIGHTED=1;KalturaLicenseType.PUBLIC_DOMAIN=2;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION=3;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_SHARE_ALIKE=4;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NO_DERIVATIVES=5;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL=6;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE=7;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES=8;KalturaLicenseType.GFDL=9;KalturaLicenseType.GPL=10;KalturaLicenseType.AFFERO_GPL=11;KalturaLicenseType.LGPL=12;KalturaLicenseType.BSD=13;KalturaLicenseType.APACHE=14;KalturaLicenseType.MOZILLA=15;function KalturaMailJobOrderBy(){}KalturaMailJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaMailJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaMailJobStatus(){}KalturaMailJobStatus.PENDING=1;KalturaMailJobStatus.SENT=2;KalturaMailJobStatus.ERROR=3;KalturaMailJobStatus.QUEUED=4;function KalturaMailType(){}KalturaMailType.MAIL_TYPE_KALTURA_NEWSLETTER=10;KalturaMailType.MAIL_TYPE_ADDED_TO_FAVORITES=11;KalturaMailType.MAIL_TYPE_ADDED_TO_CLIP_FAVORITES=12;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_PROFILE=13;KalturaMailType.MAIL_TYPE_CLIP_ADDED_YOUR_KALTURA=20;KalturaMailType.MAIL_TYPE_VIDEO_ADDED=21;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED=22;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_YOUR_FAVORITES=23;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA=24;KalturaMailType.MAIL_TYPE_CLIP_ADDED=30;KalturaMailType.MAIL_TYPE_VIDEO_CREATED=31;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES=32;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_CONTRIBUTED=33;KalturaMailType.MAIL_TYPE_CLIP_CONTRIBUTED=40;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED_SUBSCRIBED=41;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES_SUBSCRIBED=42;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_SUBSCRIBED=43;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM=50;KalturaMailType.MAIL_TYPE_PASSWORD_RESET=51;KalturaMailType.MAIL_TYPE_LOGIN_MAIL_RESET=52;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM_VIDEO_SERVICE=54;KalturaMailType.MAIL_TYPE_VIDEO_READY=60;KalturaMailType.MAIL_TYPE_VIDEO_IS_READY=62;KalturaMailType.MAIL_TYPE_BULK_DOWNLOAD_READY=63;KalturaMailType.MAIL_TYPE_NOTIFY_ERR=70;KalturaMailType.MAIL_TYPE_ACCOUNT_UPGRADE_CONFIRM=80;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE=81;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_LIMIT_REACHED=82;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_LOCKED=83;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_DELETED=84;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_UPGRADE_OFFER=85;KalturaMailType.MAIL_TYPE_ACCOUNT_REACTIVE_CONFIRM=86;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD=110;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD_SUCCESS=111;function KalturaMediaEntryOrderBy(){}KalturaMediaEntryOrderBy.MEDIA_TYPE_ASC="+mediaType";KalturaMediaEntryOrderBy.MEDIA_TYPE_DESC="-mediaType";KalturaMediaEntryOrderBy.PLAYS_ASC="+plays";KalturaMediaEntryOrderBy.PLAYS_DESC="-plays";KalturaMediaEntryOrderBy.VIEWS_ASC="+views";KalturaMediaEntryOrderBy.VIEWS_DESC="-views";KalturaMediaEntryOrderBy.DURATION_ASC="+duration";KalturaMediaEntryOrderBy.DURATION_DESC="-duration";KalturaMediaEntryOrderBy.NAME_ASC="+name";KalturaMediaEntryOrderBy.NAME_DESC="-name";KalturaMediaEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMediaEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMediaEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMediaEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMediaEntryOrderBy.RANK_ASC="+rank";KalturaMediaEntryOrderBy.RANK_DESC="-rank";function KalturaMediaInfoOrderBy(){}function KalturaMediaType(){}KalturaMediaType.VIDEO=1;KalturaMediaType.IMAGE=2;KalturaMediaType.AUDIO=5;function KalturaMixEntryOrderBy(){}KalturaMixEntryOrderBy.PLAYS_ASC="+plays";KalturaMixEntryOrderBy.PLAYS_DESC="-plays";KalturaMixEntryOrderBy.VIEWS_ASC="+views";KalturaMixEntryOrderBy.VIEWS_DESC="-views";KalturaMixEntryOrderBy.DURATION_ASC="+duration";KalturaMixEntryOrderBy.DURATION_DESC="-duration";KalturaMixEntryOrderBy.NAME_ASC="+name";KalturaMixEntryOrderBy.NAME_DESC="-name";KalturaMixEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMixEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMixEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMixEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMixEntryOrderBy.RANK_ASC="+rank";KalturaMixEntryOrderBy.RANK_DESC="-rank";function KalturaModerationFlagStatus(){}KalturaModerationFlagStatus.PENDING=1;KalturaModerationFlagStatus.MODERATED=2;function KalturaModerationFlagType(){}KalturaModerationFlagType.SEXUAL_CONTENT=1;KalturaModerationFlagType.VIOLENT_REPULSIVE=2;KalturaModerationFlagType.HARMFUL_DANGEROUS=3;KalturaModerationFlagType.SPAM_COMMERCIALS=4;function KalturaModerationObjectType(){}KalturaModerationObjectType.ENTRY=2;KalturaModerationObjectType.USER=3;function KalturaNotificationObjectType(){}KalturaNotificationObjectType.ENTRY=1;KalturaNotificationObjectType.KSHOW=2;KalturaNotificationObjectType.USER=3;KalturaNotificationObjectType.BATCH_JOB=4;function KalturaNotificationOrderBy(){}KalturaNotificationOrderBy.CREATED_AT_ASC="+createdAt";KalturaNotificationOrderBy.CREATED_AT_DESC="-createdAt";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaNotificationStatus(){}KalturaNotificationStatus.PENDING=1;KalturaNotificationStatus.SENT=2;KalturaNotificationStatus.ERROR=3;KalturaNotificationStatus.SHOULD_RESEND=4;KalturaNotificationStatus.ERROR_RESENDING=5;KalturaNotificationStatus.SENT_SYNCH=6;KalturaNotificationStatus.QUEUED=7;function KalturaNotificationType(){}KalturaNotificationType.ENTRY_ADD=1;KalturaNotificationType.ENTR_UPDATE_PERMISSIONS=2;KalturaNotificationType.ENTRY_DELETE=3;KalturaNotificationType.ENTRY_BLOCK=4;KalturaNotificationType.ENTRY_UPDATE=5;KalturaNotificationType.ENTRY_UPDATE_THUMBNAIL=6;KalturaNotificationType.ENTRY_UPDATE_MODERATION=7;KalturaNotificationType.USER_ADD=21;KalturaNotificationType.USER_BANNED=26;function KalturaNullableBoolean(){}KalturaNullableBoolean.NULL_VALUE=-1;KalturaNullableBoolean.FALSE_VALUE=0;KalturaNullableBoolean.TRUE_VALUE=1;function KalturaPartnerOrderBy(){}KalturaPartnerOrderBy.ID_ASC="+id";KalturaPartnerOrderBy.ID_DESC="-id";KalturaPartnerOrderBy.NAME_ASC="+name";KalturaPartnerOrderBy.NAME_DESC="-name";KalturaPartnerOrderBy.WEBSITE_ASC="+website";KalturaPartnerOrderBy.WEBSITE_DESC="-website";KalturaPartnerOrderBy.CREATED_AT_ASC="+createdAt";KalturaPartnerOrderBy.CREATED_AT_DESC="-createdAt";KalturaPartnerOrderBy.ADMIN_NAME_ASC="+adminName";KalturaPartnerOrderBy.ADMIN_NAME_DESC="-adminName";KalturaPartnerOrderBy.ADMIN_EMAIL_ASC="+adminEmail";KalturaPartnerOrderBy.ADMIN_EMAIL_DESC="-adminEmail";KalturaPartnerOrderBy.STATUS_ASC="+status";KalturaPartnerOrderBy.STATUS_DESC="-status";function KalturaPartnerStatus(){}KalturaPartnerStatus.ACTIVE=1;KalturaPartnerStatus.BLOCKED=2;KalturaPartnerStatus.FULL_BLOCK=3;function KalturaPartnerType(){}KalturaPartnerType.KMC=1;KalturaPartnerType.WIKI=100;KalturaPartnerType.WORDPRESS=101;KalturaPartnerType.DRUPAL=102;KalturaPartnerType.DEKIWIKI=103;KalturaPartnerType.MOODLE=104;KalturaPartnerType.COMMUNITY_EDITION=105;KalturaPartnerType.JOOMLA=106;function KalturaPlayableEntryOrderBy(){}KalturaPlayableEntryOrderBy.PLAYS_ASC="+plays";KalturaPlayableEntryOrderBy.PLAYS_DESC="-plays";KalturaPlayableEntryOrderBy.VIEWS_ASC="+views";KalturaPlayableEntryOrderBy.VIEWS_DESC="-views";KalturaPlayableEntryOrderBy.DURATION_ASC="+duration";KalturaPlayableEntryOrderBy.DURATION_DESC="-duration";KalturaPlayableEntryOrderBy.NAME_ASC="+name";KalturaPlayableEntryOrderBy.NAME_DESC="-name";KalturaPlayableEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlayableEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlayableEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlayableEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlayableEntryOrderBy.RANK_ASC="+rank";KalturaPlayableEntryOrderBy.RANK_DESC="-rank";function KalturaPlaylistOrderBy(){}KalturaPlaylistOrderBy.NAME_ASC="+name";KalturaPlaylistOrderBy.NAME_DESC="-name";KalturaPlaylistOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlaylistOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlaylistOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlaylistOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlaylistOrderBy.RANK_ASC="+rank";KalturaPlaylistOrderBy.RANK_DESC="-rank";function KalturaPlaylistType(){}KalturaPlaylistType.DYNAMIC=10;KalturaPlaylistType.STATIC_LIST=3;KalturaPlaylistType.EXTERNAL=101;function KalturaReportType(){}KalturaReportType.TOP_CONTENT=1;KalturaReportType.CONTENT_DROPOFF=2;KalturaReportType.CONTENT_INTERACTIONS=3;KalturaReportType.MAP_OVERLAY=4;KalturaReportType.TOP_CONTRIBUTORS=5;KalturaReportType.TOP_SYNDICATION=6;KalturaReportType.CONTENT_CONTRIBUTIONS=7;KalturaReportType.ADMIN_CONSOLE=10;function KalturaSearchProviderType(){}KalturaSearchProviderType.FLICKR=3;KalturaSearchProviderType.YOUTUBE=4;KalturaSearchProviderType.MYSPACE=7;KalturaSearchProviderType.PHOTOBUCKET=8;KalturaSearchProviderType.JAMENDO=9;KalturaSearchProviderType.CCMIXTER=10;KalturaSearchProviderType.NYPL=11;KalturaSearchProviderType.CURRENT=12;KalturaSearchProviderType.MEDIA_COMMONS=13;KalturaSearchProviderType.KALTURA=20;KalturaSearchProviderType.KALTURA_USER_CLIPS=21;KalturaSearchProviderType.ARCHIVE_ORG=22;KalturaSearchProviderType.KALTURA_PARTNER=23;KalturaSearchProviderType.METACAFE=24;KalturaSearchProviderType.SEARCH_PROXY=28;function KalturaSessionType(){}KalturaSessionType.USER=0;KalturaSessionType.ADMIN=2;function KalturaSiteRestrictionType(){}KalturaSiteRestrictionType.RESTRICT_SITE_LIST=0;KalturaSiteRestrictionType.ALLOW_SITE_LIST=1;function KalturaSourceType(){}KalturaSourceType.FILE=1;KalturaSourceType.WEBCAM=2;KalturaSourceType.URL=5;KalturaSourceType.SEARCH_PROVIDER=6;function KalturaStatsEventType(){}KalturaStatsEventType.WIDGET_LOADED=1;KalturaStatsEventType.MEDIA_LOADED=2;KalturaStatsEventType.PLAY=3;KalturaStatsEventType.PLAY_REACHED_25=4;KalturaStatsEventType.PLAY_REACHED_50=5;KalturaStatsEventType.PLAY_REACHED_75=6;KalturaStatsEventType.PLAY_REACHED_100=7;KalturaStatsEventType.OPEN_EDIT=8;KalturaStatsEventType.OPEN_VIRAL=9;KalturaStatsEventType.OPEN_DOWNLOAD=10;KalturaStatsEventType.OPEN_REPORT=11;KalturaStatsEventType.BUFFER_START=12;KalturaStatsEventType.BUFFER_END=13;KalturaStatsEventType.OPEN_FULL_SCREEN=14;KalturaStatsEventType.CLOSE_FULL_SCREEN=15;KalturaStatsEventType.REPLAY=16;KalturaStatsEventType.SEEK=17;KalturaStatsEventType.OPEN_UPLOAD=18;KalturaStatsEventType.SAVE_PUBLISH=19;KalturaStatsEventType.CLOSE_EDITOR=20;KalturaStatsEventType.PRE_BUMPER_PLAYED=21;KalturaStatsEventType.POST_BUMPER_PLAYED=22;KalturaStatsEventType.BUMPER_CLICKED=23;KalturaStatsEventType.FUTURE_USE_1=24;KalturaStatsEventType.FUTURE_USE_2=25;KalturaStatsEventType.FUTURE_USE_3=26;function KalturaStatsKmcEventType(){}KalturaStatsKmcEventType.CONTENT_PAGE_VIEW=1001;KalturaStatsKmcEventType.CONTENT_ADD_PLAYLIST=1010;KalturaStatsKmcEventType.CONTENT_EDIT_PLAYLIST=1011;KalturaStatsKmcEventType.CONTENT_DELETE_PLAYLIST=1012;KalturaStatsKmcEventType.CONTENT_DELETE_ITEM=1058;KalturaStatsKmcEventType.CONTENT_EDIT_ENTRY=1013;KalturaStatsKmcEventType.CONTENT_CHANGE_THUMBNAIL=1014;KalturaStatsKmcEventType.CONTENT_ADD_TAGS=1015;KalturaStatsKmcEventType.CONTENT_REMOVE_TAGS=1016;KalturaStatsKmcEventType.CONTENT_ADD_ADMIN_TAGS=1017;KalturaStatsKmcEventType.CONTENT_REMOVE_ADMIN_TAGS=1018;KalturaStatsKmcEventType.CONTENT_DOWNLOAD=1019;KalturaStatsKmcEventType.CONTENT_APPROVE_MODERATION=1020;KalturaStatsKmcEventType.CONTENT_REJECT_MODERATION=1021;KalturaStatsKmcEventType.CONTENT_BULK_UPLOAD=1022;KalturaStatsKmcEventType.CONTENT_ADMIN_KCW_UPLOAD=1023;KalturaStatsKmcEventType.CONTENT_CONTENT_GO_TO_PAGE=1057;KalturaStatsKmcEventType.ACCOUNT_CHANGE_PARTNER_INFO=1030;KalturaStatsKmcEventType.ACCOUNT_CHANGE_LOGIN_INFO=1031;KalturaStatsKmcEventType.ACCOUNT_CONTACT_US_USAGE=1032;KalturaStatsKmcEventType.ACCOUNT_UPDATE_SERVER_SETTINGS=1033;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_OVERVIEW=1034;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL=1035;KalturaStatsKmcEventType.ACCOUNT_TRANSCODING_SETTINGS=1036;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_UPGRADE=1037;KalturaStatsKmcEventType.ACCOUNT_SAVE_SERVER_SETTINGS=1038;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL_DELETE=1039;KalturaStatsKmcEventType.ACCOUNT_SAVE_TRANSCODING_SETTINGS=1040;KalturaStatsKmcEventType.LOGIN=1041;KalturaStatsKmcEventType.DASHBOARD_IMPORT_CONTENT=1042;KalturaStatsKmcEventType.DASHBOARD_UPDATE_CONTENT=1043;KalturaStatsKmcEventType.DASHBOARD_ACCOUNT_CONTACT_US=1044;KalturaStatsKmcEventType.DASHBOARD_VIEW_REPORTS=1045;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYER=1046;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYLIST=1047;KalturaStatsKmcEventType.DASHBOARD_CUSTOMIZE_PLAYERS=1048;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_SINGLE_VIDEO=1050;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_PLAYLIST=1051;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_MULTI_TAB_PLAYLIST=1052;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_SINGLE_VIDEO=1053;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_PLAYLIST=1054;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_MULTI_TAB_PLAYLIST=1055;KalturaStatsKmcEventType.APP_STUDIO_DUPLICATE_PLAYER=1056;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_TAB=1070;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_REPORTS_TAB=1071;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_USERS_AND_COMMUNITY_REPORTS_TAB=1072;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTRIBUTORS=1073;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS=1074;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS=1075;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTENT=1076;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DROPOFF=1077;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_INTERACTIONS=1078;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS=1079;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN=1080;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DRILL_DOWN_INTERACTION=1081;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS_DRILLDOWN=1082;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN_DROPOFF=1083;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS_DRILLDOWN=1084;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS_DRILL_DOWN=1085;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_MONTHLY=1086;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_YEARLY=1087;function KalturaSyndicationFeedStatus(){}KalturaSyndicationFeedStatus.DELETED=-1;KalturaSyndicationFeedStatus.ACTIVE=1;function KalturaSyndicationFeedType(){}KalturaSyndicationFeedType.GOOGLE_VIDEO=1;KalturaSyndicationFeedType.YAHOO=2;KalturaSyndicationFeedType.ITUNES=3;KalturaSyndicationFeedType.TUBE_MOGUL=4;function KalturaSystemPartnerPackage(){}KalturaSystemPartnerPackage.PACKAGE_FREE="1";KalturaSystemPartnerPackage.PACKAGE_20="2";KalturaSystemPartnerPackage.PACKAGE_50="3";KalturaSystemPartnerPackage.PACKAGE_100="4";KalturaSystemPartnerPackage.PACKAGE_250="5";KalturaSystemPartnerPackage.PACKAGE_500="6";function KalturaSystemUserOrderBy(){}KalturaSystemUserOrderBy.ID_ASC="+id";KalturaSystemUserOrderBy.ID_DESC="-id";KalturaSystemUserOrderBy.STATUS_ASC="+status";KalturaSystemUserOrderBy.STATUS_DESC="-status";function KalturaSystemUserStatus(){}KalturaSystemUserStatus.BLOCKED=0;KalturaSystemUserStatus.ACTIVE=1;function KalturaTubeMogulSyndicationFeedCategories(){}KalturaTubeMogulSyndicationFeedCategories.ARTS_AND_ANIMATION="Arts &amp; Animation";KalturaTubeMogulSyndicationFeedCategories.COMEDY="Comedy";KalturaTubeMogulSyndicationFeedCategories.ENTERTAINMENT="Entertainment";KalturaTubeMogulSyndicationFeedCategories.MUSIC="Music";KalturaTubeMogulSyndicationFeedCategories.NEWS_AND_BLOGS="News &amp; Blogs";KalturaTubeMogulSyndicationFeedCategories.SCIENCE_AND_TECHNOLOGY="Science &amp; Technology";KalturaTubeMogulSyndicationFeedCategories.SPORTS="Sports";KalturaTubeMogulSyndicationFeedCategories.TRAVEL_AND_PLACES="Travel &amp; Places";KalturaTubeMogulSyndicationFeedCategories.VIDEO_GAMES="Video Games";KalturaTubeMogulSyndicationFeedCategories.ANIMALS_AND_PETS="Animals &amp; Pets";KalturaTubeMogulSyndicationFeedCategories.AUTOS="Autos";KalturaTubeMogulSyndicationFeedCategories.VLOGS_PEOPLE="Vlogs &amp; People";KalturaTubeMogulSyndicationFeedCategories.HOW_TO_INSTRUCTIONAL_DIY="How To/Instructional/DIY";KalturaTubeMogulSyndicationFeedCategories.COMMERCIALS_PROMOTIONAL="Commercials/Promotional";KalturaTubeMogulSyndicationFeedCategories.FAMILY_AND_KIDS="Family &amp; Kids";function KalturaTubeMogulSyndicationFeedOrderBy(){}KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaTubeMogulSyndicationFeedOrderBy.NAME_ASC="+name";KalturaTubeMogulSyndicationFeedOrderBy.NAME_DESC="-name";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUiConfCreationMode(){}KalturaUiConfCreationMode.WIZARD=2;KalturaUiConfCreationMode.ADVANCED=3;function KalturaUiConfObjType(){}KalturaUiConfObjType.PLAYER=1;KalturaUiConfObjType.CONTRIBUTION_WIZARD=2;KalturaUiConfObjType.SIMPLE_EDITOR=3;KalturaUiConfObjType.ADVANCED_EDITOR=4;KalturaUiConfObjType.PLAYLIST=5;KalturaUiConfObjType.APP_STUDIO=6;function KalturaUiConfOrderBy(){}KalturaUiConfOrderBy.CREATED_AT_ASC="+createdAt";KalturaUiConfOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUploadErrorCode(){}KalturaUploadErrorCode.NO_ERROR=0;KalturaUploadErrorCode.GENERAL_ERROR=1;KalturaUploadErrorCode.PARTIAL_UPLOAD=2;function KalturaUserOrderBy(){}KalturaUserOrderBy.CREATED_AT_ASC="+createdAt";KalturaUserOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUserStatus(){}KalturaUserStatus.BLOCKED=0;KalturaUserStatus.ACTIVE=1;KalturaUserStatus.DELETED=2;function KalturaVideoCodec(){}KalturaVideoCodec.NONE="";KalturaVideoCodec.VP6="vp6";KalturaVideoCodec.H263="h263";KalturaVideoCodec.H264="h264";KalturaVideoCodec.FLV="flv";function KalturaWidgetOrderBy(){}KalturaWidgetOrderBy.CREATED_AT_ASC="+createdAt";KalturaWidgetOrderBy.CREATED_AT_DESC="-createdAt";function KalturaWidgetSecurityType(){}KalturaWidgetSecurityType.NONE=1;KalturaWidgetSecurityType.TIMEHASH=2;function KalturaYahooSyndicationFeedAdultValues(){}KalturaYahooSyndicationFeedAdultValues.ADULT="adult";KalturaYahooSyndicationFeedAdultValues.NON_ADULT="nonadult";function KalturaYahooSyndicationFeedCategories(){}KalturaYahooSyndicationFeedCategories.ACTION="Action";KalturaYahooSyndicationFeedCategories.ART_AND_ANIMATION="Art &amp; Animation";KalturaYahooSyndicationFeedCategories.ENTERTAINMENT_AND_TV="Entertainment &amp; TV";KalturaYahooSyndicationFeedCategories.FOOD="Food";KalturaYahooSyndicationFeedCategories.GAMES="Games";KalturaYahooSyndicationFeedCategories.HOW_TO="How-To";KalturaYahooSyndicationFeedCategories.MUSIC="Music";KalturaYahooSyndicationFeedCategories.PEOPLE_AND_VLOGS="People &amp; Vlogs";KalturaYahooSyndicationFeedCategories.SCIENCE_AND_ENVIRONMENT="Science &amp; Environment";KalturaYahooSyndicationFeedCategories.TRANSPORTATION="Transportation";KalturaYahooSyndicationFeedCategories.ANIMALS="Animals";KalturaYahooSyndicationFeedCategories.COMMERCIALS="Commercials";KalturaYahooSyndicationFeedCategories.FAMILY="Family";KalturaYahooSyndicationFeedCategories.FUNNY_VIDEOS="Funny Videos";KalturaYahooSyndicationFeedCategories.HEALTH_AND_BEAUTY="Health &amp; Beauty";KalturaYahooSyndicationFeedCategories.MOVIES_AND_SHORTS="Movies &amp; Shorts";KalturaYahooSyndicationFeedCategories.NEWS_AND_POLITICS="News &amp; Politics";KalturaYahooSyndicationFeedCategories.PRODUCTS_AND_TECH="Products &amp; Tech.";KalturaYahooSyndicationFeedCategories.SPORTS="Sports";KalturaYahooSyndicationFeedCategories.TRAVEL="Travel";function KalturaYahooSyndicationFeedOrderBy(){}KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaYahooSyndicationFeedOrderBy.NAME_ASC="+name";KalturaYahooSyndicationFeedOrderBy.NAME_DESC="-name";KalturaYahooSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaYahooSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAccessControl(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isDefault=null;this.restrictions=null}KalturaAccessControl.inheritsFrom(KalturaObjectBase);function KalturaAccessControlFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaAccessControlFilter.inheritsFrom(KalturaFilter);function KalturaAccessControlListResponse(){this.objects=null;this.totalCount=null}KalturaAccessControlListResponse.inheritsFrom(KalturaObjectBase);function KalturaAdminUser(){this.password=null;this.email=null;this.screenName=null}KalturaAdminUser.inheritsFrom(KalturaObjectBase);function KalturaBaseEntry(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.userId=null;this.tags=null;this.adminTags=null;this.categories=null;this.status=null;this.moderationStatus=null;this.moderationCount=null;this.type=null;this.createdAt=null;this.rank=null;this.totalRank=null;this.votes=null;this.groupId=null;this.partnerData=null;this.downloadUrl=null;this.searchText=null;this.licenseType=null;this.version=null;this.thumbnailUrl=null;this.accessControlId=null;this.startDate=null;this.endDate=null}KalturaBaseEntry.inheritsFrom(KalturaObjectBase);function KalturaBaseEntryFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.userIdEqual=null;this.tagsLike=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.adminTagsLike=null;this.adminTagsMultiLikeOr=null;this.adminTagsMultiLikeAnd=null;this.categoriesMatchAnd=null;this.categoriesMatchOr=null;this.statusEqual=null;this.statusNotEqual=null;this.statusIn=null;this.statusNotIn=null;this.moderationStatusEqual=null;this.moderationStatusNotEqual=null;this.moderationStatusIn=null;this.moderationStatusNotIn=null;this.typeEqual=null;this.typeIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.groupIdEqual=null;this.searchTextMatchAnd=null;this.searchTextMatchOr=null;this.accessControlIdEqual=null;this.accessControlIdIn=null;this.startDateGreaterThanOrEqual=null;this.startDateLessThanOrEqual=null;this.startDateGreaterThanOrEqualOrNull=null;this.startDateLessThanOrEqualOrNull=null;this.endDateGreaterThanOrEqual=null;this.endDateLessThanOrEqual=null;this.endDateGreaterThanOrEqualOrNull=null;this.endDateLessThanOrEqualOrNull=null;this.tagsNameMultiLikeOr=null;this.tagsAdminTagsMultiLikeOr=null;this.tagsAdminTagsNameMultiLikeOr=null;this.tagsNameMultiLikeAnd=null;this.tagsAdminTagsMultiLikeAnd=null;this.tagsAdminTagsNameMultiLikeAnd=null}KalturaBaseEntryFilter.inheritsFrom(KalturaFilter);function KalturaBaseEntryListResponse(){this.objects=null;this.totalCount=null}KalturaBaseEntryListResponse.inheritsFrom(KalturaObjectBase);function KalturaBaseJob(){this.id=null;this.partnerId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.processorExpiration=null;this.executionAttempts=null}KalturaBaseJob.inheritsFrom(KalturaObjectBase);function KalturaBaseJobFilter(){this.idEqual=null;this.idGreaterThanOrEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaBaseJobFilter.inheritsFrom(KalturaFilter);function KalturaBaseRestriction(){}KalturaBaseRestriction.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeed(){this.id=null;this.feedUrl=null;this.partnerId=null;this.playlistId=null;this.name=null;this.status=null;this.type=null;this.landingPage=null;this.createdAt=null;this.allowEmbed=null;this.playerUiconfId=null;this.flavorParamId=null;this.transcodeExistingContent=null;this.addToDefaultConversionProfile=null;this.categories=null}KalturaBaseSyndicationFeed.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeedFilter(){}KalturaBaseSyndicationFeedFilter.inheritsFrom(KalturaFilter);function KalturaBaseSyndicationFeedListResponse(){this.objects=null;this.totalCount=null}KalturaBaseSyndicationFeedListResponse.inheritsFrom(KalturaObjectBase);function KalturaBatchJob(){this.entryId=null;this.entryName=null;this.jobType=null;this.jobSubType=null;this.onStressDivertTo=null;this.data=null;this.status=null;this.abort=null;this.checkAgainTimeout=null;this.progress=null;this.message=null;this.description=null;this.updatesCount=null;this.priority=null;this.workGroupId=null;this.twinJobId=null;this.bulkJobId=null;this.parentJobId=null;this.rootJobId=null;this.queueTime=null;this.finishTime=null;this.errType=null;this.errNumber=null;this.fileSize=null;this.lastWorkerRemote=null;this.schedulerId=null;this.workerId=null;this.batchIndex=null;this.lastSchedulerId=null;this.lastWorkerId=null;this.dc=null}KalturaBatchJob.inheritsFrom(KalturaBaseJob);function KalturaBatchJobFilter(){this.entryIdEqual=null;this.jobTypeEqual=null;this.jobTypeIn=null;this.jobTypeNotIn=null;this.jobSubTypeEqual=null;this.jobSubTypeIn=null;this.onStressDivertToIn=null;this.statusEqual=null;this.statusIn=null;this.workGroupIdIn=null;this.queueTimeGreaterThanOrEqual=null;this.queueTimeLessThanOrEqual=null;this.finishTimeGreaterThanOrEqual=null;this.finishTimeLessThanOrEqual=null;this.errTypeIn=null;this.fileSizeLessThan=null;this.fileSizeGreaterThan=null}KalturaBatchJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaBatchJobFilterExt(){this.jobTypeAndSubTypeIn=null}KalturaBatchJobFilterExt.inheritsFrom(KalturaBatchJobFilter);function KalturaBatchJobListResponse(){this.objects=null;this.totalCount=null}KalturaBatchJobListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkDownloadJobData(){this.entryIds=null;this.flavorParamsId=null;this.puserId=null}KalturaBulkDownloadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUpload(){this.id=null;this.uploadedBy=null;this.uploadedOn=null;this.numOfEntries=null;this.status=null;this.logFileUrl=null;this.csvFileUrl=null;this.results=null}KalturaBulkUpload.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadJobData(){this.userId=null;this.uploadedBy=null;this.conversionProfileId=null;this.csvFilePath=null;this.resultsFileLocalPath=null;this.resultsFileUrl=null;this.numOfEntries=null;this.csvVersion=null}KalturaBulkUploadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUploadListResponse(){this.objects=null;this.totalCount=null}KalturaBulkUploadListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadResult(){this.id=null;this.bulkUploadJobId=null;this.lineIndex=null;this.partnerId=null;this.entryId=null;this.entryStatus=null;this.rowData=null;this.title=null;this.description=null;this.tags=null;this.url=null;this.contentType=null;this.conversionProfileId=null;this.accessControlProfileId=null;this.category=null;this.scheduleStartDate=null;this.scheduleEndDate=null;this.thumbnailUrl=null;this.thumbnailSaved=null;this.partnerData=null;this.errorDescription=null}KalturaBulkUploadResult.inheritsFrom(KalturaObjectBase);function KalturaCEError(){this.id=null;this.partnerId=null;this.browser=null;this.serverIp=null;this.serverOs=null;this.phpVersion=null;this.ceAdminEmail=null;this.type=null;this.description=null;this.data=null}KalturaCEError.inheritsFrom(KalturaObjectBase);function KalturaCategory(){this.id=null;this.parentId=null;this.depth=null;this.partnerId=null;this.name=null;this.fullName=null;this.entriesCount=null;this.createdAt=null}KalturaCategory.inheritsFrom(KalturaObjectBase);function KalturaCategoryFilter(){this.idEqual=null;this.idIn=null;this.parentIdEqual=null;this.parentIdIn=null;this.depthEqual=null;this.fullNameEqual=null;this.fullNameStartsWith=null}KalturaCategoryFilter.inheritsFrom(KalturaFilter);function KalturaCategoryListResponse(){this.objects=null;this.totalCount=null}KalturaCategoryListResponse.inheritsFrom(KalturaObjectBase);function KalturaClientNotification(){this.url=null;this.data=null}KalturaClientNotification.inheritsFrom(KalturaObjectBase);function KalturaControlPanelCommandFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.createdByIdEqual=null;this.typeEqual=null;this.typeIn=null;this.targetTypeEqual=null;this.targetTypeIn=null;this.statusEqual=null;this.statusIn=null}KalturaControlPanelCommandFilter.inheritsFrom(KalturaFilter);function KalturaConvartableJobData(){this.srcFileSyncLocalPath=null;this.srcFileSyncRemoteUrl=null;this.flavorParamsOutputId=null;this.flavorParamsOutput=null;this.mediaInfoId=null}KalturaConvartableJobData.inheritsFrom(KalturaJobData);function KalturaConversionProfile(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.flavorParamsIds=null;this.isDefault=null;this.cropDimensions=null;this.clipStart=null;this.clipDuration=null}KalturaConversionProfile.inheritsFrom(KalturaObjectBase);function KalturaConversionProfileFilter(){this.idEqual=null;this.idIn=null}KalturaConversionProfileFilter.inheritsFrom(KalturaFilter);function KalturaConversionProfileListResponse(){this.objects=null;this.totalCount=null}KalturaConversionProfileListResponse.inheritsFrom(KalturaObjectBase);function KalturaConvertJobData(){this.destFileSyncLocalPath=null;this.destFileSyncRemoteUrl=null;this.logFileSyncLocalPath=null;this.flavorAssetId=null;this.remoteMediaId=null}KalturaConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaConvertProfileJobData(){this.inputFileSyncLocalPath=null;this.thumbHeight=null;this.thumbBitrate=null}KalturaConvertProfileJobData.inheritsFrom(KalturaJobData);function KalturaCountryRestriction(){this.countryRestrictionType=null;this.countryList=null}KalturaCountryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaCropDimensions(){this.left=null;this.top=null;this.width=null;this.height=null}KalturaCropDimensions.inheritsFrom(KalturaObjectBase);function KalturaDataEntry(){this.dataContent=null}KalturaDataEntry.inheritsFrom(KalturaBaseEntry);function KalturaDataEntryFilter(){}KalturaDataEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaDataListResponse(){this.objects=null;this.totalCount=null}KalturaDataListResponse.inheritsFrom(KalturaObjectBase);function KalturaDirectoryRestriction(){this.directoryRestrictionType=null}KalturaDirectoryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaDocumentEntry(){this.documentType=null}KalturaDocumentEntry.inheritsFrom(KalturaBaseEntry);function KalturaDocumentEntryFilter(){this.documentTypeEqual=null;this.documentTypeIn=null}KalturaDocumentEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaEntryContextDataParams(){this.referrer=null}KalturaEntryContextDataParams.inheritsFrom(KalturaObjectBase);function KalturaEntryContextDataResult(){this.isSiteRestricted=null;this.isCountryRestricted=null;this.isSessionRestricted=null;this.previewLength=null;this.isScheduledNow=null;this.isAdmin=null}KalturaEntryContextDataResult.inheritsFrom(KalturaObjectBase);function KalturaExtractMediaJobData(){this.flavorAssetId=null}KalturaExtractMediaJobData.inheritsFrom(KalturaConvartableJobData);function KalturaFileSync(){this.id=null;this.partnerId=null;this.objectType=null;this.objectId=null;this.version=null;this.objectSubType=null;this.dc=null;this.original=null;this.createdAt=null;this.updatedAt=null;this.readyAt=null;this.syncTime=null;this.status=null;this.fileType=null;this.linkedId=null;this.linkCount=null;this.fileRoot=null;this.filePath=null;this.fileSize=null;this.fileUrl=null;this.fileContent=null}KalturaFileSync.inheritsFrom(KalturaObjectBase);function KalturaFileSyncFilter(){this.partnerIdEqual=null;this.objectTypeEqual=null;this.objectTypeIn=null;this.objectIdEqual=null;this.objectIdIn=null;this.versionEqual=null;this.versionIn=null;this.objectSubTypeEqual=null;this.objectSubTypeIn=null;this.dcEqual=null;this.dcIn=null;this.originalEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.readyAtGreaterThanOrEqual=null;this.readyAtLessThanOrEqual=null;this.syncTimeGreaterThanOrEqual=null;this.syncTimeLessThanOrEqual=null;this.statusEqual=null;this.statusIn=null;this.fileTypeEqual=null;this.fileTypeIn=null;this.linkedIdEqual=null;this.linkCountGreaterThanOrEqual=null;this.linkCountLessThanOrEqual=null;this.fileSizeGreaterThanOrEqual=null;this.fileSizeLessThanOrEqual=null}KalturaFileSyncFilter.inheritsFrom(KalturaFilter);function KalturaFileSyncListResponse(){this.objects=null;this.totalCount=null}KalturaFileSyncListResponse.inheritsFrom(KalturaObjectBase);function KalturaFilter(){this.orderBy=null}KalturaFilter.inheritsFrom(KalturaObjectBase);function KalturaFilterPager(){this.pageSize=null;this.pageIndex=null}KalturaFilterPager.inheritsFrom(KalturaObjectBase);function KalturaFlattenJobData(){}KalturaFlattenJobData.inheritsFrom(KalturaJobData);function KalturaFlavorAsset(){this.id=null;this.entryId=null;this.partnerId=null;this.status=null;this.flavorParamsId=null;this.version=null;this.width=null;this.height=null;this.bitrate=null;this.frameRate=null;this.size=null;this.isOriginal=null;this.tags=null;this.isWeb=null;this.fileExt=null;this.containerFormat=null;this.videoCodecId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.description=null}KalturaFlavorAsset.inheritsFrom(KalturaObjectBase);function KalturaFlavorAssetWithParams(){this.flavorAsset=null;this.flavorParams=null;this.entryId=null}KalturaFlavorAssetWithParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParams(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isSystemDefault=null;this.tags=null;this.format=null;this.videoCodec=null;this.videoBitrate=null;this.audioCodec=null;this.audioBitrate=null;this.audioChannels=null;this.audioSampleRate=null;this.width=null;this.height=null;this.frameRate=null;this.gopSize=null;this.conversionEngines=null;this.conversionEnginesExtraParams=null;this.twoPass=null}KalturaFlavorParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsFilter(){this.isSystemDefaultEqual=null}KalturaFlavorParamsFilter.inheritsFrom(KalturaFilter);function KalturaFlavorParamsListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsListResponse.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsOutput(){this.flavorParamsId=null;this.commandLinesStr=null;this.flavorParamsVersion=null;this.flavorAssetId=null;this.flavorAssetVersion=null}KalturaFlavorParamsOutput.inheritsFrom(KalturaFlavorParams);function KalturaFlavorParamsOutputFilter(){this.flavorParamsIdEqual=null;this.flavorParamsVersionEqual=null;this.flavorAssetIdEqual=null;this.flavorAssetVersionEqual=null}KalturaFlavorParamsOutputFilter.inheritsFrom(KalturaFlavorParamsFilter);function KalturaFlavorParamsOutputListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsOutputListResponse.inheritsFrom(KalturaObjectBase);function KalturaGoogleVideoSyndicationFeed(){this.adultContent=null}KalturaGoogleVideoSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaGoogleVideoSyndicationFeedFilter(){}KalturaGoogleVideoSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaITunesSyndicationFeed(){this.feedDescription=null;this.language=null;this.feedLandingPage=null;this.ownerName=null;this.ownerEmail=null;this.feedImageUrl=null;this.category=null;this.adultContent=null;this.feedAuthor=null}KalturaITunesSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaITunesSyndicationFeedFilter(){}KalturaITunesSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaImportJobData(){this.srcFileUrl=null;this.destFileLocalPath=null;this.flavorAssetId=null}KalturaImportJobData.inheritsFrom(KalturaJobData);function KalturaJobData(){}KalturaJobData.inheritsFrom(KalturaObjectBase);function KalturaMailJob(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null}KalturaMailJob.inheritsFrom(KalturaBaseJob);function KalturaMailJobData(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null;this.isHtml=null}KalturaMailJobData.inheritsFrom(KalturaJobData);function KalturaMailJobFilter(){}KalturaMailJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaMediaEntry(){this.mediaType=null;this.conversionQuality=null;this.sourceType=null;this.searchProviderType=null;this.searchProviderId=null;this.creditUserName=null;this.creditUrl=null;this.mediaDate=null;this.dataUrl=null;this.flavorParamsIds=null}KalturaMediaEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMediaEntryFilter(){this.mediaTypeEqual=null;this.mediaTypeIn=null;this.mediaDateGreaterThanOrEqual=null;this.mediaDateLessThanOrEqual=null;this.flavorParamsIdsMatchOr=null;this.flavorParamsIdsMatchAnd=null}KalturaMediaEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMediaEntryFilterForPlaylist(){this.limit=null}KalturaMediaEntryFilterForPlaylist.inheritsFrom(KalturaMediaEntryFilter);function KalturaMediaInfo(){this.id=null;this.flavorAssetId=null;this.fileSize=null;this.containerFormat=null;this.containerId=null;this.containerProfile=null;this.containerDuration=null;this.containerBitRate=null;this.videoFormat=null;this.videoCodecId=null;this.videoDuration=null;this.videoBitRate=null;this.videoBitRateMode=null;this.videoWidth=null;this.videoHeight=null;this.videoFrameRate=null;this.videoDar=null;this.videoRotation=null;this.audioFormat=null;this.audioCodecId=null;this.audioDuration=null;this.audioBitRate=null;this.audioBitRateMode=null;this.audioChannels=null;this.audioSamplingRate=null;this.audioResolution=null;this.writingLib=null;this.rawData=null}KalturaMediaInfo.inheritsFrom(KalturaObjectBase);function KalturaMediaInfoFilter(){this.flavorAssetIdEqual=null}KalturaMediaInfoFilter.inheritsFrom(KalturaFilter);function KalturaMediaInfoListResponse(){this.objects=null;this.totalCount=null}KalturaMediaInfoListResponse.inheritsFrom(KalturaObjectBase);function KalturaMediaListResponse(){this.objects=null;this.totalCount=null}KalturaMediaListResponse.inheritsFrom(KalturaObjectBase);function KalturaMixEntry(){this.hasRealThumbnail=null;this.editorType=null;this.dataContent=null}KalturaMixEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMixEntryFilter(){}KalturaMixEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMixListResponse(){this.objects=null;this.totalCount=null}KalturaMixListResponse.inheritsFrom(KalturaObjectBase);function KalturaModerationFlag(){this.id=null;this.partnerId=null;this.userId=null;this.moderationObjectType=null;this.flaggedEntryId=null;this.flaggedUserId=null;this.status=null;this.comments=null;this.flagType=null;this.createdAt=null;this.updatedAt=null}KalturaModerationFlag.inheritsFrom(KalturaObjectBase);function KalturaModerationFlagListResponse(){this.objects=null;this.totalCount=null}KalturaModerationFlagListResponse.inheritsFrom(KalturaObjectBase);function KalturaNotification(){this.puserId=null;this.type=null;this.objectId=null;this.status=null;this.notificationData=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotification.inheritsFrom(KalturaBaseJob);function KalturaNotificationFilter(){}KalturaNotificationFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaNotificationJobData(){this.userId=null;this.type=null;this.typeAsString=null;this.objectId=null;this.status=null;this.data=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotificationJobData.inheritsFrom(KalturaJobData);function KalturaPartner(){this.id=null;this.name=null;this.website=null;this.notificationUrl=null;this.appearInSearch=null;this.createdAt=null;this.adminName=null;this.adminEmail=null;this.description=null;this.commercialUse=null;this.landingPage=null;this.userLandingPage=null;this.contentCategories=null;this.type=null;this.phone=null;this.describeYourself=null;this.adultContent=null;this.defConversionProfileType=null;this.notify=null;this.status=null;this.allowQuickEdit=null;this.mergeEntryLists=null;this.notificationsConfig=null;this.maxUploadSize=null;this.partnerPackage=null;this.secret=null;this.adminSecret=null;this.cmsPassword=null;this.allowMultiNotification=null}KalturaPartner.inheritsFrom(KalturaObjectBase);function KalturaPartnerFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.statusEqual=null;this.statusIn=null;this.partnerNameDescriptionWebsiteAdminNameAdminEmailLike=null}KalturaPartnerFilter.inheritsFrom(KalturaFilter);function KalturaPartnerListResponse(){this.objects=null;this.totalCount=null}KalturaPartnerListResponse.inheritsFrom(KalturaObjectBase);function KalturaPartnerUsage(){this.hostingGB=null;this.Percent=null;this.packageBW=null;this.usageGB=null;this.reachedLimitDate=null;this.usageGraph=null}KalturaPartnerUsage.inheritsFrom(KalturaObjectBase);function KalturaPlayableEntry(){this.plays=null;this.views=null;this.width=null;this.height=null;this.duration=null;this.durationType=null}KalturaPlayableEntry.inheritsFrom(KalturaBaseEntry);function KalturaPlayableEntryFilter(){this.durationLessThan=null;this.durationGreaterThan=null;this.durationLessThanOrEqual=null;this.durationGreaterThanOrEqual=null;this.durationTypeMatchOr=null}KalturaPlayableEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylist(){this.playlistContent=null;this.filters=null;this.totalResults=null;this.playlistType=null;this.plays=null;this.views=null;this.duration=null}KalturaPlaylist.inheritsFrom(KalturaBaseEntry);function KalturaPlaylistFilter(){}KalturaPlaylistFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylistListResponse(){this.objects=null;this.totalCount=null}KalturaPlaylistListResponse.inheritsFrom(KalturaObjectBase);function KalturaPostConvertJobData(){this.srcFileSyncLocalPath=null;this.flavorAssetId=null;this.createThumb=null;this.thumbPath=null;this.thumbOffset=null;this.thumbHeight=null;this.thumbBitrate=null;this.flavorParamsOutputId=null}KalturaPostConvertJobData.inheritsFrom(KalturaJobData);function KalturaPreviewRestriction(){this.previewLength=null}KalturaPreviewRestriction.inheritsFrom(KalturaSessionRestriction);function KalturaPullJobData(){this.srcFileUrl=null;this.destFileLocalPath=null}KalturaPullJobData.inheritsFrom(KalturaJobData);function KalturaRemoteConvertJobData(){this.srcFileUrl=null;this.destFileUrl=null}KalturaRemoteConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaReportGraph(){this.id=null;this.data=null}KalturaReportGraph.inheritsFrom(KalturaObjectBase);function KalturaReportInputFilter(){this.fromDate=null;this.toDate=null;this.keywords=null;this.searchInTags=null;this.searchInAdminTags=null;this.categories=null}KalturaReportInputFilter.inheritsFrom(KalturaObjectBase);function KalturaReportTable(){this.header=null;this.data=null;this.totalCount=null}KalturaReportTable.inheritsFrom(KalturaObjectBase);function KalturaReportTotal(){this.header=null;this.data=null}KalturaReportTotal.inheritsFrom(KalturaObjectBase);function KalturaSearch(){this.keyWords=null;this.searchSource=null;this.mediaType=null;this.extraData=null;this.authData=null}KalturaSearch.inheritsFrom(KalturaObjectBase);function KalturaSearchAuthData(){this.authData=null;this.loginUrl=null;this.message=null}KalturaSearchAuthData.inheritsFrom(KalturaObjectBase);function KalturaSearchResult(){this.id=null;this.title=null;this.thumbUrl=null;this.description=null;this.tags=null;this.url=null;this.sourceLink=null;this.credit=null;this.licenseType=null;this.flashPlaybackType=null}KalturaSearchResult.inheritsFrom(KalturaSearch);function KalturaSearchResultResponse(){this.objects=null;this.needMediaInfo=null}KalturaSearchResultResponse.inheritsFrom(KalturaObjectBase);function KalturaSessionRestriction(){}KalturaSessionRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaSiteRestriction(){this.siteRestrictionType=null;this.siteList=null}KalturaSiteRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaStartWidgetSessionResponse(){this.partnerId=null;this.ks=null;this.userId=null}KalturaStartWidgetSessionResponse.inheritsFrom(KalturaObjectBase);function KalturaStatsEvent(){this.clientVer=null;this.eventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.uniqueViewer=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.currentPoint=null;this.duration=null;this.userIp=null;this.processDuration=null;this.controlId=null;this.seek=null;this.newPoint=null;this.referrer=null;this.isFirstInSession=null}KalturaStatsEvent.inheritsFrom(KalturaObjectBase);function KalturaStatsKmcEvent(){this.clientVer=null;this.kmcEventActionPath=null;this.kmcEventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.userIp=null}KalturaStatsKmcEvent.inheritsFrom(KalturaObjectBase);function KalturaSyndicationFeedEntryCount(){this.totalEntryCount=null;this.actualEntryCount=null;this.requireTranscodingCount=null}KalturaSyndicationFeedEntryCount.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerConfiguration(){this.host=null;this.cdnHost=null;this.maxBulkSize=null;this.partnerPackage=null}KalturaSystemPartnerConfiguration.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageFilter(){this.fromDate=null;this.toDate=null}KalturaSystemPartnerUsageFilter.inheritsFrom(KalturaFilter);function KalturaSystemPartnerUsageItem(){this.partnerId=null;this.partnerName=null;this.partnerStatus=null;this.partnerPackage=null;this.partnerCreatedAt=null;this.views=null;this.plays=null;this.entriesCount=null;this.totalEntriesCount=null;this.videoEntriesCount=null;this.imageEntriesCount=null;this.audioEntriesCount=null;this.mixEntriesCount=null;this.bandwidth=null;this.totalStorage=null;this.storage=null}KalturaSystemPartnerUsageItem.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageListResponse(){this.objects=null;this.totalCount=null}KalturaSystemPartnerUsageListResponse.inheritsFrom(KalturaObjectBase);function KalturaSystemUser(){this.id=null;this.email=null;this.firstName=null;this.lastName=null;this.password=null;this.createdBy=null;this.status=null;this.statusUpdatedAt=null;this.createdAt=null}KalturaSystemUser.inheritsFrom(KalturaObjectBase);function KalturaSystemUserFilter(){}KalturaSystemUserFilter.inheritsFrom(KalturaFilter);function KalturaSystemUserListResponse(){this.objects=null;this.totalCount=null}KalturaSystemUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaTubeMogulSyndicationFeed(){this.category=null}KalturaTubeMogulSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaTubeMogulSyndicationFeedFilter(){}KalturaTubeMogulSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaUiConf(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.objType=null;this.objTypeAsString=null;this.width=null;this.height=null;this.htmlParams=null;this.swfUrl=null;this.confFilePath=null;this.confFile=null;this.confFileFeatures=null;this.confVars=null;this.useCdn=null;this.tags=null;this.swfUrlVersion=null;this.createdAt=null;this.updatedAt=null;this.creationMode=null}KalturaUiConf.inheritsFrom(KalturaObjectBase);function KalturaUiConfFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.objTypeEqual=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null}KalturaUiConfFilter.inheritsFrom(KalturaFilter);function KalturaUiConfListResponse(){this.objects=null;this.totalCount=null}KalturaUiConfListResponse.inheritsFrom(KalturaObjectBase);function KalturaUploadResponse(){this.uploadTokenId=null;this.fileSize=null;this.errorCode=null;this.errorDescription=null}KalturaUploadResponse.inheritsFrom(KalturaObjectBase);function KalturaUser(){this.id=null;this.partnerId=null;this.screenName=null;this.fullName=null;this.email=null;this.dateOfBirth=null;this.country=null;this.state=null;this.city=null;this.zip=null;this.thumbnailUrl=null;this.description=null;this.tags=null;this.adminTags=null;this.gender=null;this.status=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.indexedPartnerDataInt=null;this.indexedPartnerDataString=null;this.storageSize=null}KalturaUser.inheritsFrom(KalturaObjectBase);function KalturaUserFilter(){this.idEqual=null;this.idIn=null;this.partnerIdEqual=null;this.screenNameLike=null;this.screenNameStartsWith=null;this.emailLike=null;this.emailStartsWith=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaUserFilter.inheritsFrom(KalturaFilter);function KalturaUserListResponse(){this.objects=null;this.totalCount=null}KalturaUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaWidget(){this.id=null;this.sourceWidgetId=null;this.rootWidgetId=null;this.partnerId=null;this.entryId=null;this.uiConfId=null;this.securityType=null;this.securityPolicy=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.widgetHTML=null}KalturaWidget.inheritsFrom(KalturaObjectBase);function KalturaWidgetFilter(){this.idEqual=null;this.idIn=null;this.sourceWidgetIdEqual=null;this.rootWidgetIdEqual=null;this.partnerIdEqual=null;this.entryIdEqual=null;this.uiConfIdEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.partnerDataLike=null}KalturaWidgetFilter.inheritsFrom(KalturaFilter);function KalturaWidgetListResponse(){this.objects=null;this.totalCount=null}KalturaWidgetListResponse.inheritsFrom(KalturaObjectBase);function KalturaYahooSyndicationFeed(){this.category=null;this.adultContent=null;this.feedDescription=null;this.feedLandingPage=null}KalturaYahooSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaYahooSyndicationFeedFilter(){}KalturaYahooSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaAccessControlService(b){this.init(b)}KalturaAccessControlService.inheritsFrom(KalturaServiceBase);KalturaAccessControlService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"accessControl",toParams(c));this.client.queueServiceActionCall("accessControl","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("accessControl","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"accessControl",toParams(c));this.client.queueServiceActionCall("accessControl","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaAccessControlService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("accessControl","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("accessControl","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaAdminconsoleService(b){this.init(b)}KalturaAdminconsoleService.inheritsFrom(KalturaServiceBase);KalturaAdminconsoleService.prototype.listBatchJobs=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("adminconsole","listBatchJobs",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaAdminUserService(b){this.init(b)}KalturaAdminUserService.inheritsFrom(KalturaServiceBase);KalturaAdminUserService.prototype.updatePassword=function(g,d,c,e,f){if(!e){e=""}if(!f){f=""}var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.addParam(b,"newEmail",e);this.client.addParam(b,"newPassword",f);this.client.queueServiceActionCall("adminUser","updatePassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaAdminUserService.prototype.resetPassword=function(d,c){var b=new Object();this.client.addParam(b,"email",c);this.client.queueServiceActionCall("adminUser","resetPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAdminUserService.prototype.login=function(e,d,c){var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("adminUser","login",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaBaseEntryService(b){this.init(b)}KalturaBaseEntryService.inheritsFrom(KalturaServiceBase);KalturaBaseEntryService.prototype.addFromUploadedFile=function(f,e,d,c){if(!c){c=-1}var b=new Object();this.client.addParam(b,"entry",toParams(e));this.client.addParam(b,"uploadTokenId",d);this.client.addParam(b,"type",c);this.client.queueServiceActionCall("baseEntry","addFromUploadedFile",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaBaseEntryService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("baseEntry","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"baseEntry",toParams(c));this.client.queueServiceActionCall("baseEntry","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.getByIds=function(d,c){var b=new Object();this.client.addParam(b,"entryIds",c);this.client.queueServiceActionCall("baseEntry","getByIds",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("baseEntry","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("baseEntry","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("baseEntry","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.updateThumbnailJpeg=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("baseEntry","updateThumbnailJpeg",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.updateThumbnailFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"url",c);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.updateThumbnailFromSourceEntry=function(f,e,d,b){var c=new Object();this.client.addParam(c,"entryId",e);this.client.addParam(c,"sourceEntryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromSourceEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaBaseEntryService.prototype.flag=function(d,c){var b=new Object();this.client.addParam(b,"moderationFlag",toParams(c));this.client.queueServiceActionCall("baseEntry","flag",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.reject=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","reject",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.approve=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","approve",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.listFlags=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"entryId",d);if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("baseEntry","listFlags",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("baseEntry","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.getContextData=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"contextDataParams",toParams(d));this.client.queueServiceActionCall("baseEntry","getContextData",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaBulkUploadService(b){this.init(b)}KalturaBulkUploadService.inheritsFrom(KalturaServiceBase);KalturaBulkUploadService.prototype.add=function(e,d,c){var b=new Object();this.client.addParam(b,"conversionProfileId",d);kfiles=new Object();this.client.addParam(kfiles,"csvFileData",c);this.client.queueServiceActionCall("bulkUpload","add",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBulkUploadService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("bulkUpload","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBulkUploadService.prototype.listAction=function(d,b){if(!b){b=null}var c=new Object();if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("bulkUpload","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaCategoryService(b){this.init(b)}KalturaCategoryService.inheritsFrom(KalturaServiceBase);KalturaCategoryService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"category",toParams(c));this.client.queueServiceActionCall("category","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("category","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"category",toParams(c));this.client.queueServiceActionCall("category","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaCategoryService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("category","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.listAction=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("category","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaConversionProfileService(b){this.init(b)}KalturaConversionProfileService.inheritsFrom(KalturaServiceBase);KalturaConversionProfileService.prototype.add=function(d,b){var c=new Object();this.client.addParam(c,"conversionProfile",toParams(b));this.client.queueServiceActionCall("conversionProfile","add",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("conversionProfile","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"id",d);this.client.addParam(c,"conversionProfile",toParams(b));this.client.queueServiceActionCall("conversionProfile","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaConversionProfileService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("conversionProfile","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("conversionProfile","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaDataService(b){this.init(b)}KalturaDataService.inheritsFrom(KalturaServiceBase);KalturaDataService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"dataEntry",toParams(c));this.client.queueServiceActionCall("data","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("data","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaDataService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"documentEntry",toParams(b));this.client.queueServiceActionCall("data","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaDataService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("data","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("data","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaFlavorAssetService(b){this.init(b)}KalturaFlavorAssetService.inheritsFrom(KalturaServiceBase);KalturaFlavorAssetService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getByEntryId=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getByEntryId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getWebPlayableByEntryId=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getWebPlayableByEntryId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.convert=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"flavorParamsId",c);this.client.queueServiceActionCall("flavorAsset","convert",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorAssetService.prototype.reconvert=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","reconvert",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getDownloadUrl=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","getDownloadUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getFlavorAssetsWithParams=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getFlavorAssetsWithParams",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFlavorParamsService(b){this.init(b)}KalturaFlavorParamsService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"flavorParams",toParams(c));this.client.queueServiceActionCall("flavorParams","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorParams","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"flavorParams",toParams(c));this.client.queueServiceActionCall("flavorParams","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorParamsService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorParams","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("flavorParams","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorParamsService.prototype.getByConversionProfileId=function(d,c){var b=new Object();this.client.addParam(b,"conversionProfileId",c);this.client.queueServiceActionCall("flavorParams","getByConversionProfileId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaMediaService(b){this.init(b)}KalturaMediaService.inheritsFrom(KalturaServiceBase);KalturaMediaService.prototype.addFromBulk=function(f,e,c,d){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(e));this.client.addParam(b,"url",c);this.client.addParam(b,"bulkUploadId",d);this.client.queueServiceActionCall("media","addFromBulk",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMediaService.prototype.addFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"url",c);this.client.queueServiceActionCall("media","addFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromSearchResult=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"mediaEntry",toParams(d))}if(b!=null){this.client.addParam(c,"searchResult",toParams(b))}this.client.queueServiceActionCall("media","addFromSearchResult",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromUploadedFile=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"uploadTokenId",c);this.client.queueServiceActionCall("media","addFromUploadedFile",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromRecordedWebcam=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"webcamTokenId",c);this.client.queueServiceActionCall("media","addFromRecordedWebcam",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("media","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.update=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"mediaEntry",toParams(d));this.client.queueServiceActionCall("media","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("media","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("media","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("media","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.updateThumbnail=function(e,d,b){var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("media","updateThumbnail",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.updateThumbnailFromSourceEntry=function(f,e,d,b){var c=new Object();this.client.addParam(c,"entryId",e);this.client.addParam(c,"sourceEntryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("media","updateThumbnailFromSourceEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMediaService.prototype.updateThumbnailJpeg=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("media","updateThumbnailJpeg",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.updateThumbnailFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"url",c);this.client.queueServiceActionCall("media","updateThumbnailFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.requestConversion=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"fileFormat",d);this.client.queueServiceActionCall("media","requestConversion",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.flag=function(d,c){var b=new Object();this.client.addParam(b,"moderationFlag",toParams(c));this.client.queueServiceActionCall("media","flag",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.reject=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","reject",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.approve=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","approve",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.listFlags=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"entryId",d);if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("media","listFlags",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("media","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaMixingService(b){this.init(b)}KalturaMixingService.inheritsFrom(KalturaServiceBase);KalturaMixingService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"mixEntry",toParams(c));this.client.queueServiceActionCall("mixing","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.update=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"mixEntry",toParams(d));this.client.queueServiceActionCall("mixing","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("mixing","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("mixing","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("mixing","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("mixing","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.appendMediaEntry=function(e,d,b){var c=new Object();this.client.addParam(c,"mixEntryId",d);this.client.addParam(c,"mediaEntryId",b);this.client.queueServiceActionCall("mixing","appendMediaEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.requestFlattening=function(f,d,e,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"fileFormat",e);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","requestFlattening",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMixingService.prototype.getMixesByMediaId=function(d,b){var c=new Object();this.client.addParam(c,"mediaEntryId",b);this.client.queueServiceActionCall("mixing","getMixesByMediaId",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.getReadyMediaEntries=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"mixId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","getReadyMediaEntries",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("mixing","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaNotificationService(b){this.init(b)}KalturaNotificationService.inheritsFrom(KalturaServiceBase);KalturaNotificationService.prototype.getClientNotification=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"type",c);this.client.queueServiceActionCall("notification","getClientNotification",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaPartnerService(b){this.init(b)}KalturaPartnerService.inheritsFrom(KalturaServiceBase);KalturaPartnerService.prototype.register=function(e,d,b){if(!b){b=""}var c=new Object();this.client.addParam(c,"partner",toParams(d));this.client.addParam(c,"cmsPassword",b);this.client.queueServiceActionCall("partner","register",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPartnerService.prototype.update=function(e,c,d){if(!d){d=false}var b=new Object();this.client.addParam(b,"partner",toParams(c));this.client.addParam(b,"allowEmpty",d);this.client.queueServiceActionCall("partner","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPartnerService.prototype.getSecrets=function(f,e,d,b){var c=new Object();this.client.addParam(c,"partnerId",e);this.client.addParam(c,"adminEmail",d);this.client.addParam(c,"cmsPassword",b);this.client.queueServiceActionCall("partner","getSecrets",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPartnerService.prototype.getInfo=function(c){var b=new Object();this.client.queueServiceActionCall("partner","getInfo",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaPartnerService.prototype.getUsage=function(f,d,e,c){if(!d){d=""}if(!e){e=1}if(!c){c="days"}var b=new Object();this.client.addParam(b,"year",d);this.client.addParam(b,"month",e);this.client.addParam(b,"resolution",c);this.client.queueServiceActionCall("partner","getUsage",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};function KalturaPlaylistService(b){this.init(b)}KalturaPlaylistService.inheritsFrom(KalturaServiceBase);KalturaPlaylistService.prototype.add=function(e,d,c){if(!c){c=false}var b=new Object();this.client.addParam(b,"playlist",toParams(d));this.client.addParam(b,"updateStats",c);this.client.queueServiceActionCall("playlist","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"id",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("playlist","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.update=function(f,e,d,c){if(!c){c=false}var b=new Object();this.client.addParam(b,"id",e);this.client.addParam(b,"playlist",toParams(d));this.client.addParam(b,"updateStats",c);this.client.queueServiceActionCall("playlist","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPlaylistService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("playlist","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("playlist","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.execute=function(e,d,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"detailed",c);this.client.queueServiceActionCall("playlist","execute",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.executeFromContent=function(f,e,b,d){if(!d){d=""}var c=new Object();this.client.addParam(c,"playlistType",e);this.client.addParam(c,"playlistContent",b);this.client.addParam(c,"detailed",d);this.client.queueServiceActionCall("playlist","executeFromContent",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPlaylistService.prototype.executeFromFilters=function(j,f,b,e){if(!e){e=""}var d=new Object();for(var c in f){var g=f[c];this.client.addParam(d,"filters:"+c,toParams(g))}this.client.addParam(d,"totalResults",b);this.client.addParam(d,"detailed",e);this.client.queueServiceActionCall("playlist","executeFromFilters",d);if(!this.client.isMultiRequest()){this.client.doQueue(j)}};KalturaPlaylistService.prototype.getStatsFromContent=function(e,d,b){var c=new Object();this.client.addParam(c,"playlistType",d);this.client.addParam(c,"playlistContent",b);this.client.queueServiceActionCall("playlist","getStatsFromContent",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaReportService(b){this.init(b)}KalturaReportService.inheritsFrom(KalturaServiceBase);KalturaReportService.prototype.getGraphs=function(g,b,e,f,d){if(!f){f=""}if(!d){d=""}var c=new Object();this.client.addParam(c,"reportType",b);this.client.addParam(c,"reportInputFilter",toParams(e));this.client.addParam(c,"dimension",f);this.client.addParam(c,"objectIds",d);this.client.queueServiceActionCall("report","getGraphs",c);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaReportService.prototype.getTotal=function(f,b,e,d){if(!d){d=""}var c=new Object();this.client.addParam(c,"reportType",b);this.client.addParam(c,"reportInputFilter",toParams(e));this.client.addParam(c,"objectIds",d);this.client.queueServiceActionCall("report","getTotal",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaReportService.prototype.getTable=function(j,d,g,c,b,f){if(!b){b=""}if(!f){f=""}var e=new Object();this.client.addParam(e,"reportType",d);this.client.addParam(e,"reportInputFilter",toParams(g));this.client.addParam(e,"pager",toParams(c));this.client.addParam(e,"order",b);this.client.addParam(e,"objectIds",f);this.client.queueServiceActionCall("report","getTable",e);if(!this.client.isMultiRequest()){this.client.doQueue(j)}};KalturaReportService.prototype.getUrlForReportAsCsv=function(n,b,m,d,k,l,j,f,e,c){if(!j){j=""}if(!f){f=null}if(!e){e=""}if(!c){c=""}var g=new Object();this.client.addParam(g,"reportTitle",b);this.client.addParam(g,"reportText",m);this.client.addParam(g,"headers",d);this.client.addParam(g,"reportType",k);this.client.addParam(g,"reportInputFilter",toParams(l));this.client.addParam(g,"dimension",j);if(f!=null){this.client.addParam(g,"pager",toParams(f))}this.client.addParam(g,"order",e);this.client.addParam(g,"objectIds",c);this.client.queueServiceActionCall("report","getUrlForReportAsCsv",g);if(!this.client.isMultiRequest()){this.client.doQueue(n)}};function KalturaSearchService(b){this.init(b)}KalturaSearchService.inheritsFrom(KalturaServiceBase);KalturaSearchService.prototype.search=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"search",toParams(d));if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("search","search",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSearchService.prototype.getMediaInfo=function(d,b){var c=new Object();this.client.addParam(c,"searchResult",toParams(b));this.client.queueServiceActionCall("search","getMediaInfo",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSearchService.prototype.searchUrl=function(e,b,d){var c=new Object();this.client.addParam(c,"mediaType",b);this.client.addParam(c,"url",d);this.client.queueServiceActionCall("search","searchUrl",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSearchService.prototype.externalLogin=function(f,e,d,c){var b=new Object();this.client.addParam(b,"searchSource",e);this.client.addParam(b,"userName",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("search","externalLogin",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};function KalturaSessionService(b){this.init(b)}KalturaSessionService.inheritsFrom(KalturaServiceBase);KalturaSessionService.prototype.start=function(k,b,f,g,j,e,d){if(!f){f=""}if(!g){g=0}if(!j){j=-1}if(!e){e=86400}if(!d){d=""}var c=new Object();this.client.addParam(c,"secret",b);this.client.addParam(c,"userId",f);this.client.addParam(c,"type",g);this.client.addParam(c,"partnerId",j);this.client.addParam(c,"expiry",e);this.client.addParam(c,"privileges",d);this.client.queueServiceActionCall("session","start",c);if(!this.client.isMultiRequest()){this.client.doQueue(k)}};KalturaSessionService.prototype.startWidgetSession=function(e,d,c){if(!c){c=86400}var b=new Object();this.client.addParam(b,"widgetId",d);this.client.addParam(b,"expiry",c);this.client.queueServiceActionCall("session","startWidgetSession",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaStatsService(b){this.init(b)}KalturaStatsService.inheritsFrom(KalturaServiceBase);KalturaStatsService.prototype.collect=function(d,c){var b=new Object();this.client.addParam(b,"event",toParams(c));this.client.queueServiceActionCall("stats","collect",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaStatsService.prototype.kmcCollect=function(d,c){var b=new Object();this.client.addParam(b,"kmcEvent",toParams(c));this.client.queueServiceActionCall("stats","kmcCollect",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaStatsService.prototype.reportKceError=function(d,c){var b=new Object();this.client.addParam(b,"kalturaCEError",toParams(c));this.client.queueServiceActionCall("stats","reportKceError",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSyndicationFeedService(b){this.init(b)}KalturaSyndicationFeedService.inheritsFrom(KalturaServiceBase);KalturaSyndicationFeedService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"syndicationFeed",toParams(c));this.client.queueServiceActionCall("syndicationFeed","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("syndicationFeed","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"syndicationFeed",toParams(c));this.client.queueServiceActionCall("syndicationFeed","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSyndicationFeedService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("syndicationFeed","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("syndicationFeed","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSyndicationFeedService.prototype.getEntryCount=function(d,b){var c=new Object();this.client.addParam(c,"feedId",b);this.client.queueServiceActionCall("syndicationFeed","getEntryCount",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.requestConversion=function(d,b){var c=new Object();this.client.addParam(c,"feedId",b);this.client.queueServiceActionCall("syndicationFeed","requestConversion",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSystemService(b){this.init(b)}KalturaSystemService.inheritsFrom(KalturaServiceBase);KalturaSystemService.prototype.ping=function(c){var b=new Object();this.client.queueServiceActionCall("system","ping",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaUiConfService(b){this.init(b)}KalturaUiConfService.inheritsFrom(KalturaServiceBase);KalturaUiConfService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"uiConf",toParams(c));this.client.queueServiceActionCall("uiConf","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"uiConf",toParams(c));this.client.queueServiceActionCall("uiConf","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUiConfService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.listTemplates=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("uiConf","listTemplates",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUiConfService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("uiConf","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaUploadService(b){this.init(b)}KalturaUploadService.inheritsFrom(KalturaServiceBase);KalturaUploadService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("upload","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUploadService.prototype.getUploadedFileTokenByFileName=function(d,c){var b=new Object();this.client.addParam(b,"fileName",c);this.client.queueServiceActionCall("upload","getUploadedFileTokenByFileName",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaUserService(b){this.init(b)}KalturaUserService.inheritsFrom(KalturaServiceBase);KalturaUserService.prototype.add=function(d,b){var c=new Object();this.client.addParam(c,"user",toParams(b));this.client.queueServiceActionCall("user","add",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"userId",d);this.client.addParam(c,"user",toParams(b));this.client.queueServiceActionCall("user","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUserService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("user","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUserService.prototype.notifyBan=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","notifyBan",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaWidgetService(b){this.init(b)}KalturaWidgetService.inheritsFrom(KalturaServiceBase);KalturaWidgetService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaWidgetService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("widget","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("widget","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaXInternalService(b){this.init(b)}KalturaXInternalService.inheritsFrom(KalturaServiceBase);KalturaXInternalService.prototype.xAddBulkDownload=function(e,d,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"entryIds",d);this.client.addParam(b,"flavorParamsId",c);this.client.queueServiceActionCall("xInternal","xAddBulkDownload",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaSystemUserService(b){this.init(b)}KalturaSystemUserService.inheritsFrom(KalturaServiceBase);KalturaSystemUserService.prototype.verifyPassword=function(e,d,c){var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("systemUser","verifyPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.generateNewPassword=function(c){var b=new Object();this.client.queueServiceActionCall("systemUser","generateNewPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.setNewPassword=function(e,d,c){var b=new Object();this.client.addParam(b,"userId",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("systemUser","setNewPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"systemUser",toParams(c));this.client.queueServiceActionCall("systemUser","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("systemUser","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.getByEmail=function(d,c){var b=new Object();this.client.addParam(b,"email",c);this.client.queueServiceActionCall("systemUser","getByEmail",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"userId",d);this.client.addParam(b,"systemUser",toParams(c));this.client.queueServiceActionCall("systemUser","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("systemUser","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("systemUser","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaSystemPartnerService(b){this.init(b)}KalturaSystemPartnerService.inheritsFrom(KalturaServiceBase);KalturaSystemPartnerService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.getUsage=function(f,c,e,b){if(!c){c=null}if(!e){e=null}if(!b){b=null}var d=new Object();if(c!=null){this.client.addParam(d,"partnerFilter",toParams(c))}if(e!=null){this.client.addParam(d,"usageFilter",toParams(e))}if(b!=null){this.client.addParam(d,"pager",toParams(b))}this.client.queueServiceActionCall("systemPartner","getUsage",d);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaSystemPartnerService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("systemPartner","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.updateStatus=function(e,d,b){var c=new Object();this.client.addParam(c,"partnerId",d);this.client.addParam(c,"status",b);this.client.queueServiceActionCall("systemPartner","updateStatus",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.getAdminSession=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","getAdminSession",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.updateConfiguration=function(e,c,d){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.addParam(b,"configuration",toParams(d));this.client.queueServiceActionCall("systemPartner","updateConfiguration",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.getConfiguration=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","getConfiguration",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFileSyncService(b){this.init(b)}KalturaFileSyncService.inheritsFrom(KalturaServiceBase);KalturaFileSyncService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("fileSync","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaFlavorParamsOutputService(b){this.init(b)}KalturaFlavorParamsOutputService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsOutputService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("flavorParamsOutput","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaMediaInfoService(b){this.init(b)}KalturaMediaInfoService.inheritsFrom(KalturaServiceBase);KalturaMediaInfoService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("mediaInfo","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaEntryAdminService(b){this.init(b)}KalturaEntryAdminService.inheritsFrom(KalturaServiceBase);KalturaEntryAdminService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("entryAdmin","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};(function(){var b=function(){if(window.console&&console.log){console.log(Array.prototype.slice.call(arguments))}};tinymce.create("tinymce.plugins.Kaltura",{init:function(d,e){var c=this;var g=this;this._url=e;this.editor=d;this.entry_ids=[];d.onInit.add(function(){});function j(k){return/^mceItemFlash$/.test(k.className)}d.addCommand("mceKaltura",function(){b("button pressed");var k=function(m,l){if(m){b("We have a session",l);c.session_key=l;c.flashVars={uid:c.local_user,partnerId:c.partner_id,ks:l,afterAddEntry:"_onContributionWizardAddEntry",close:"_onContributionWizardClose",showCloseButton:true,Permissions:1};window._onContributionWizardAddEntry=function(n){c._onContributionWizardAddEntry(n)},window._onContributionWizardClose=function(){c._onContributionWizardClose()},this.entry_ids=[];c._createDialog();c.dialog.dialog("open")}else{alert("Session creation failed")}};c._requestKalturaSession(k);b("session requested")});d.addButton("kaltura",{title:"kaltura.kaltura_button_desc",image:e+"/images/interactive_video_button.gif",cmd:"mceKaltura"});d.onNodeChange.add(function(l,k,m){k.setActive("kaltura",m.nodeName=="IMG"&&j(m))});d.onInit.add(function(){if(d.settings.content_css!==false){d.dom.loadCSS(e+"/css/content.css")}if(d&&d.plugins.contextmenu){d.plugins.contextmenu.onContextMenu.add(function(l,k,n){if(n.nodeName=="IMG"&&/mceItemFlash/.test(n.className)){k.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});d.onBeforeSetContent.add(function(l,q){var n=g.newEmbedSnippet();var m=q.content;var k=n._objectsToSpans(m);q.content=k},g);d.onSetContent.add(function(){var k=$(d.getBody());k.find("span.mceItemEmbed,span.mceItemObject").each(function(){var r=$(this);if(r.is("span.mceItemEmbed")&&r.parent().is("span.mceItemObject")){return}var o=g.newEmbedSnippet();var n;if($.browser.msie){n=r[0].outerHTML}else{var q=$("<div />");q.append(r.clone());n=q[0].innerHTML;q.remove()}var m=o._spansToObjects(n);var l=$("<img />").attr("src",g.url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",m).attr("width",r.attr("width")).attr("height",r.attr("height"));l=$("<div />").append(l).html();r.replaceWith(l)});k.find("span.mceEndObject").remove()});function f(k,l){l=new RegExp(l+'="([^"]+)"',"g").exec(k);return l?d.dom.decode(l[1]):""}d.onPostProcess.add(function(k,l){l.content=l.content.replace(/<img[^>]+>/g,function(n){var m=f(n,"class");if(m=="mceMarker-embedmedia"){var o=g.newEmbedSnippet();o.setContent(f(n,"title"));o.setParms({width:f(n,"width"),height:f(n,"height")});n=o.getContent();o.wrapper.remove()}return n})})},newEmbedSnippet:function(){var d=function d(){};$.extend(d.prototype,{_objectsToSpans:function(e){e=e.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');e=e.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');e=e.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');e=e.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');e=e.replace(/<\/embed>/gi,"");e=e.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');e=e.replace(/<\/param>/gi,"");return e},_spansToObjects:function(e){e=e.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");e=e.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");e=e.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");e=e.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return e},setContent:function(k){this.wrapper=$("<div />");var m=this.wrapper;var j=this._objectsToSpans(k);m[0].innerHTML=j;this.root=m.children();var g=this.root;this.emtype=null;if(g.is("span.mceItemObject")){var f=g.find("span.mceItemEmbed");if(f){this.emtype="object+embed";this.inside=f;if(f.attr("mce_src")){f.removeAttr("mce_src")}}var l=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var e=[];$.each(l,function(n,q){var o=false;g.find("span.mceItemParam").each(function(r,s){a=$(s).attr("name");if(a==q||a==q.toLowerCase()){o=true;return false}});if(!o){if(g.attr(q)){e.push({k:q,v:g.attr(q)})}else{if(g.attr(q.toLowerCase())){e.push({k:q,v:g.attr(q.toLowerCase())})}else{if(q=="movie"){if(g.attr("resource")){e.push({k:q,v:g.attr("resource")})}}}}}});$.each(e,function(n,o){try{$('<span class="mceItemParam"></span>').attr("name",o.k).attr("value",o.v).prependTo(g)}catch(q){}})}if(g.attr("mce_src")){g.removeAttr("mce_src")}return this},getContent:function(){var e=this.wrapper.html();var f=this._spansToObjects(e);return f},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(e){if(this.emtype=="object+embed"){e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height);e.width&&this.inside.attr("width",e.width);e.height&&this.inside.attr("height",e.height)}else{e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height)}return this}});this.newEmbedSnippet=function c(){return new d()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},_requestKalturaSession:function(l){var e=this;if(this.session_key){l(true,this.session_key)}else{this.partner_id=this.editor.getParam("kaltura_partner_id");this.sub_partner_id=this.editor.getParam("kaltura_sub_partner_id");var d=this.editor.getParam("kaltura_user_secret","");var k=this.editor.getParam("kaltura_admin_secret","");var j=this.editor.getParam("kaltura_session_url","");this.local_user=this.editor.getParam("kaltura_local_user","ANONYMOUS");var j=this.editor.getParam("kaltura_session_url","");this.kcw_uiconf_id=this.editor.getParam("kaltura_kcw_uiconf_id","1000741");this.player_uiconf_id=this.editor.getParam("kaltura_player_uiconf_id","");this.player_cache_st=this.editor.getParam("kaltura_player_cache_st","");var g=true;if(j){b("Start server session");$.ajax({url:j,success:function(m){if(m.error){b("Ajax returned error",m);l(false)}else{l(true,m.result.ks)}},error:function(n,m,o){b("Ajax failed",n,m,o);l(false)}})}else{b("Start client session");var f=new KalturaConfiguration(Number(this.partner_id));var c=new KalturaClient(f);this.session=new KalturaSessionService(c);this.session.start(function(n,m){if(n){b("session created",m);e.session_key=m}l(n,m)},g&&k||d,e.local_user,g&&KalturaSessionType.ADMIN||KalturaSessionType.USER,e.partner_id,undefined,undefined)}}},_createDialog:function(){if(!this.dialog){this.dialog=$('<div id="tiny-kaltura-kcw"></div>');this.dialog.hide().appendTo("body");this.dialog.dialog({width:680,dialogClass:"tiny-kaltura-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var c=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");c.removeClass("ui-dialog-content").css("overflow","hidden");c.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");var d=new SWFObject("http://www.kaltura.com/kcw/ui_conf_id/"+this.kcw_uiconf_id,"kcw","680","360","9.0.0","#FFFFFF");d.addParam("allowScriptAccess","always");d.addParam("allowNetworking","all");d.addParam("wmode","opaque");$.each(this.flashVars,function(e,f){d.addVariable(e,f)});d.useExpressInstall("expressInstall.swf");d.write("tiny-kaltura-kcw")}},_onContributionWizardAddEntry:function(c){b(c.length+" media file/s was/were successfully uploaded");for(var d=0;d<c.length;d++){b("entries["+d+"]:EntryID = "+c[d].entryId);b("entries["+d+"]:",c[d]);this.entry_ids.push(c[d].entryId)}},_onContributionWizardClose:function(){var c=this;this.dialog.dialog("close");b("closed Kaltura Contribution Wizard");if(this.entry_ids.length==0){b("No entry.");return}b("Will insert videos #:",this.entry_ids.length);$.each(this.entry_ids,function(e){if(e>0){c.editor.execCommand("mceInsertContent",false,"<br>")}var d=this;b("Inserting entry id",d,e);c._insertMedia({entry_id:d})});this.editor.execCommand("mceRepaint");b("Success with insertion.")},createControl:function(d,c){return null},_makeKalturaMarkup:function(d){d.width=d.width||400;d.height=d.height||333;var c='<objectid="kaltura_player"name="kaltura_player"type="application/x-shockwave-flash"allowfullscreen="true"allownetworking="all"allowscriptaccess="always"xmlns:dc="http://purl.org/dc/terms/"xmlns:media="http://search.yahoo.com/searchmonkey/media/"rel="media:video"resource="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"data="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"height="'+d.height+'"width="'+d.width+'"><param name="allowFullScreen" value="true"><param name="allowNetworking" value="all"><param name="allowScriptAccess" value="always"><param name="bgcolor" value="#000000"><param name="flashVars" value="&amp;"><param name="movie" value="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"><a href="http://corp.kaltura.com">video platform</a><a href="http://corp.kaltura.com/video_platform/video_management">video management</a><a href="http://corp.kaltura.com/solutions/video_solution">video solutions</a><a href="http://corp.kaltura.com/video_platform/video_publishing">video player</a><a rel="media:thumbnail" href="http://cdnbakmi.kaltura.com/p/'+this.partner_id+"/sp/"+this.sub_partner_id+"/thumbnail/entry_id/"+d.entry_id+'/width/120/height/90/bgcolor/000000/type/2"></a><span property="media:width" content="'+d.width+'"></span><span property="media:height" content="'+d.height+'"></span><span property="media:type" content="application/x-shockwave-flash"></span></object>';return c},_insertMedia:function(d){var e=this._makeKalturaMarkup(d);var g=this.newEmbedSnippet();g.setContent(e);var f=g.getParms();var c=$("<img />").attr("src",this._url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",g.getContent()).attr("width",f.width).attr("height",f.height);h=$("<div />").append(c).html();b("Will insert:",h);this.editor.execCommand("mceInsertContent",false,h)},getInfo:function(){return{longname:"All in One Video Pack",author:"Kaltura",authorurl:"http://www.kaltura.com",infourl:"http://corp.kaltura.com",version:"1.0"}}});tinymce.PluginManager.add("kaltura",tinymce.plugins.Kaltura);tinymce.PluginManager.requireLangPack("kaltura")})();tinyMCE.addI18n("en.kaltura",{kaltura_button_desc:"Insert/edit Kaltura video"});(function(){var l=new Array();var c=new Array();var d=false;tinymce.create("tinymce.plugins.AdvImageScale",{init:function(s,t){s.onMouseDown.add(function(u,z){var v=tinyMCE.activeEditor.selection.getNode();if(v!=null&&v.nodeName=="IMG"){q(u,z.target)}return true});s.onMouseUp.add(function(u,z){var v=tinyMCE.activeEditor.selection.getNode();if(v!=null&&v.nodeName=="IMG"){setTimeout(function(){m(u,v)},100)}return true});s.onPreProcess.add(function(u,v){if(!v.set){return}tinymce.each(u.dom.select("img",v.node),function(z){m(u,z)})});s.onInit.add(function(u){u.selection.onSetContent.add(function(z,A){var v=z.getNode();tinymce.each(u.dom.select("img",v),function(B){if(B.id!="__mce_tmp"){m(u,B)}})})});if(s.getParam("advimagescale_reject_external_dragdrop",true)){s.onMouseDown.add(function(u){d=true});s.onMouseUp.add(function(u){d=false});s.onInit.add(function(u,v){tinymce.dom.Event.add(u.getBody().parentNode,"dragdrop",function(z){d=false})});var r=(tinymce.isIE)?"dragenter":"dragover";s.onInit.add(function(u,v){tinymce.dom.Event.add(u.getBody().parentNode,r,function(z){if(!d){return tinymce.dom.Event.cancel(z)}})})}},getInfo:function(){return{longname:"Advanced Image Resize Helper",author:"Marc Hodgins",authorurl:"http://www.hodginsmedia.com",infourl:"http://code.google.com/p/tinymce-plugin-advimagescale",version:"1.1.3"}}});tinymce.PluginManager.add("advimagescale",tinymce.plugins.AdvImageScale);function b(r,t){var u=r.dom;var s=u.getAttrib(t,"mce_advimageresize_id");if(!l[s]){l[s]=c[s]={width:u.getAttrib(t,"width",t.width),height:u.getAttrib(t,"height",t.height)}}return true}function q(r,t){var u=r.dom;var s=u.getAttrib(t,"mce_advimageresize_id");if(!s){var s=r.id+"_"+r.dom.uniqueId();u.setAttrib(t,"mce_advimageresize_id",s);b(r,t)}return s}function m(B,t,C){var u=B.dom;var v=q(B,t);var A=(u.getAttrib(t,"width")!=c[v].width||u.getAttrib(t,"height")!=c[v].height);if(!A){return}if(u.getAttrib(t,"mce_noresize")||u.hasClass(t,B.getParam("advimagescale_noresize_class","noresize"))||B.getParam("advimagescale_noresize_all")){u.setAttrib(t,"width",c[v].width);u.setAttrib(t,"height",c[v].height);if(tinymce.isGecko){f(B)}return}if(B.getParam("advimagescale_fix_border_glitch",true)){g(B,t);b(B,t)}var z=B.getParam("advimagescale_filter_src");if(z){var s=new RegExp(z);if(!t.src.match(s)){return}}var E=B.getParam("advimagescale_filter_class");if(E){if(!u.hasClass(t,E)){return}}var D={width:u.getAttrib(t,"width",t.width),height:u.getAttrib(t,"height",t.height)};if(B.getParam("advimagescale_maintain_aspect_ratio",true)){D=e(B,t,D.width,D.height)}D=k(B,t,D.width,D.height);var F=(u.getAttrib(t,"width",t.width)!=D.width||u.getAttrib(t,"height",t.height)!=D.height);if(F){u.setAttrib(t,"width",D.width);u.setAttrib(t,"height",D.height);if(tinymce.isGecko){f(B)}}if(B.getParam("advimagescale_append_to_url")){j(B,t,u.getAttrib(t,"width",t.width),u.getAttrib(t,"height",t.height))}if(c[v].width!=u.getAttrib(t,"width",t.width)||c[v].height!=u.getAttrib(t,"height",t.height)){if(B.getParam("advimagescale_resize_callback")){B.getParam("advimagescale_resize_callback")(B,t)}}c[v]={width:u.getAttrib(t,"width",t.width),height:u.getAttrib(t,"height",t.height)}}function g(B,r){var v=B.dom;var z=v.getAttrib(r,"mce_advimageresize_id");var s=v.getAttrib(r,"width",r.width);var t=v.getAttrib(r,"height",r.height);var C=false;if(s!=c[z].width){var A=0;A+=parseInt(v.getStyle(r,"borderLeftWidth","borderLeftWidth"));A+=parseInt(v.getStyle(r,"borderRightWidth","borderRightWidth"));if(A>0){v.setAttrib(r,"width",(s-A));C=true}}if(t!=c[z].height){var u=0;u+=parseInt(v.getStyle(r,"borderTopWidth","borderTopWidth"));u+=parseInt(v.getStyle(r,"borderBottomWidth","borderBottomWidth"));if(u>0){v.setAttrib(r,"height",(t-u));C=true}}if(C&&tinymce.isGecko){f(B)}}function f(r){r.execCommand("mceRepaint",false)}function j(s,u,r,t){var B=s.dom;var z=B.getAttrib(u,"src");var v=s.getParam("advimagescale_url_width_key","w");z=n(z,v,r);var A=s.getParam("advimagescale_url_height_key","h");z=n(z,A,t);if(z==B.getAttrib(u,"src")){return}if(s.getParam("advimagescale_loading_callback")){s.getParam("advimagescale_loading_callback")(u)}if(s.getParam("advimagescale_loaded_callback")){tinymce.dom.Event.add(u,"load",o,{el:u,ed:s})}B.setAttrib(u,"src",z)}function o(t){var s=this.el;var r=this.ed;var u=r.getParam("advimagescale_loaded_callback");u(s);tinymce.dom.Event.remove(s,"load",o)}function n(s,r,t){if(!s.match(/\?/)){s+="?"}if(!s.match(new RegExp("([?&])"+r+"="))){if(!s.match(/[&\?]$/)){s+="&"}s+=r+"="+escape(t)}else{s=s.replace(new RegExp("([?&])"+r+"=[^&]*"),"$1"+r+"="+escape(t))}return s}function e(B,u,E,A){var v=B.dom.getAttrib(u,"mce_advimageresize_id");var C=l[v].width/l[v].height;var t=c[v].width;var F=c[v].height;var z=Math.abs(t-E);var r=Math.abs(F-A);var s=Math.abs(z/t);var D=Math.abs(r/F);if(z||r){if(s>D){return{width:E,height:Math.round(E/C)}}else{return{width:Math.round(A*C),height:A}}}return{width:E,height:A}}function k(B,s,F,A){var z=B.dom.getAttrib(s,"mce_advimageresize_id");var r=B.getParam("advimagescale_max_width");var E=B.getParam("advimagescale_max_height");var v=B.getParam("advimagescale_min_width");var G=B.getParam("advimagescale_min_height");var u=B.getParam("advimagescale_maintain_aspect_ratio",true);var C=l[z].width;var t=l[z].height;var D=C/t;if(r&&F>r){F=r;A=u?Math.round(F/D):A}if(E&&A>E){A=E;F=u?Math.round(A*D):F}if(v&&F<v){F=v;A=u?Math.round(F/D):A}if(G&&A<G){A=G;F=u?Math.round(A*D):A}return{width:F,height:A}}})();(function(){tinymce.create("tinymce.plugins.wicked",{init:function(f,g){var j=this;j.editor=f;j.url=g;f.addCommand("isoAddWicked",j.isoAddWicked,j);f.addCommand("isoDelWicked",j.isoDelWicked,j);f.onNodeChange.add(function(l,k,o,m){j.handleNodeChange(l,k,o,m)});f.addButton("addwickedlink",{title:"wicked.addwicked_desc",cmd:"isoAddWicked",image:j.url+"/images/addwicked.gif"});f.addButton("delwickedlink",{title:"wicked.delwicked_desc",cmd:"isoDelWicked",image:j.url+"/images/delwicked.gif"})},getInfo:function c(){return{longname:"Wicked plugin",author:"Balazs Ree <ree@greenfinity.hu>",authorurl:"",infourl:"",version:"1.1"}},re_wikilink:/^\(\(.*?\)\)$/,handleNodeChange:function b(g,f,m,k){var j=g.selection;if(!j.isCollapsed()){var l=j.getContent();if(this.re_wikilink.test(l)){f.setDisabled("addwickedlink",true);f.setDisabled("delwickedlink",false)}else{f.setDisabled("addwickedlink",false);f.setDisabled("delwickedlink",true)}}else{f.setDisabled("addwickedlink",true);f.setDisabled("delwickedlink",true)}return true},isoAddWicked:function e(k,j,l){var f=this.editor;var g=f.selection;if(!g.isCollapsed()){var m=g.getContent();g.setContent("(("+m+"))")}},isoDelWicked:function d(k,j,l){var f=this.editor;var g=f.selection;if(!g.isCollapsed()){var m=g.getContent();if(this.re_wikilink.test(m)){g.setContent(m.slice(2,-2))}}}});tinymce.PluginManager.add("wicked",tinymce.plugins.wicked);tinymce.PluginManager.requireLangPack("wicked")})();tinyMCE.addI18n("en.wicked",{addwicked_desc:"Add Wiki link",delwicked_desc:"Remove Wiki link"});