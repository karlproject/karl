(function(e){var a=/^\s*|\s*$/g,b,d="B".replace(/A(.)|B/,"$1")==="$1";var c={majorVersion:"@@tinymce_major_version@@",minorVersion:"@@tinymce_minor_version@@",releaseDate:"@@tinymce_release_date@@",_init:function(){var s=this,q=document,o=navigator,g=o.userAgent,m,f,l,k,j,r;s.isOpera=e.opera&&opera.buildNumber;s.isWebKit=/WebKit/.test(g);s.isIE=!s.isWebKit&&!s.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(o.appName);s.isIE6=s.isIE&&/MSIE [56]/.test(g);s.isIE7=s.isIE&&/MSIE [7]/.test(g);s.isIE8=s.isIE&&/MSIE [8]/.test(g);s.isIE9=s.isIE&&/MSIE [9]/.test(g);s.isGecko=!s.isWebKit&&/Gecko/.test(g);s.isMac=g.indexOf("Mac")!=-1;s.isAir=/adobeair/i.test(g);s.isIDevice=/(iPad|iPhone)/.test(g);s.isIOS5=s.isIDevice&&g.match(/AppleWebKit\/(\d*)/)[1]>=534;if(e.tinyMCEPreInit){s.suffix=tinyMCEPreInit.suffix;s.baseURL=tinyMCEPreInit.base;s.query=tinyMCEPreInit.query;return}s.suffix="";f=q.getElementsByTagName("base");for(m=0;m<f.length;m++){r=f[m].href;if(r){if(/^https?:\/\/[^\/]+$/.test(r)){r+="/"}k=r?r.match(/.*\//)[0]:""}}function h(t){if(t.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(t.src)){if(/_(src|dev)\.js/g.test(t.src)){s.suffix="_src"}if((j=t.src.indexOf("?"))!=-1){s.query=t.src.substring(j+1)}s.baseURL=t.src.substring(0,t.src.lastIndexOf("/"));if(k&&s.baseURL.indexOf("://")==-1&&s.baseURL.indexOf("/")!==0){s.baseURL=k+s.baseURL}return s.baseURL}return null}f=q.getElementsByTagName("script");for(m=0;m<f.length;m++){if(h(f[m])){return}}l=q.getElementsByTagName("head")[0];if(l){f=l.getElementsByTagName("script");for(m=0;m<f.length;m++){if(h(f[m])){return}}}return},is:function(g,f){if(!f){return g!==b}if(f=="array"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},makeMap:function(f,j,h){var g;f=f||[];j=j||",";if(typeof(f)=="string"){f=f.split(j)}h=h||{};g=f.length;while(g--){h[f[g]]={}}return h},each:function(j,f,h){var k,g;if(!j){return 0}h=h||j;if(j.length!==b){for(k=0,g=j.length;k<g;k++){if(f.call(h,j[k],k,j)===false){return 0}}}else{for(k in j){if(j.hasOwnProperty(k)){if(f.call(h,j[k],k,j)===false){return 0}}}}return 1},map:function(g,h){var j=[];c.each(g,function(f){j.push(h(f))});return j},grep:function(g,h){var j=[];c.each(g,function(f){if(!h||h(f)){j.push(f)}});return j},inArray:function(g,h){var j,f;if(g){for(j=0,f=g.length;j<f;j++){if(g[j]===h){return j}}}return -1},extend:function(n,k){var j,f,h,g=arguments,m;for(j=1,f=g.length;j<f;j++){k=g[j];for(h in k){if(k.hasOwnProperty(h)){m=k[h];if(m!==b){n[h]=m}}}}return n},trim:function(f){return(f?""+f:"").replace(a,"")},create:function(q,f,k){var o=this,g,j,l,m,h,n=0;q=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(q);l=q[3].match(/(^|\.)(\w+)$/i)[2];j=o.createNS(q[3].replace(/\.\w+$/,""),k);if(j[l]){return}if(q[2]=="static"){j[l]=f;if(this.onCreate){this.onCreate(q[2],q[3],j[l])}return}if(!f[l]){f[l]=function(){};n=1}j[l]=f[l];o.extend(j[l].prototype,f);if(q[5]){g=o.resolve(q[5]).prototype;m=q[5].match(/\.(\w+)$/i)[1];h=j[l];if(n){j[l]=function(){return g[m].apply(this,arguments)}}else{j[l]=function(){this.parent=g[m];return h.apply(this,arguments)}}j[l].prototype[l]=j[l];o.each(g,function(r,s){j[l].prototype[s]=g[s]});o.each(f,function(r,s){if(g[s]){j[l].prototype[s]=function(){this.parent=g[s];return r.apply(this,arguments)}}else{if(s!=l){j[l].prototype[s]=r}}})}o.each(f["static"],function(r,s){j[l][s]=r});if(this.onCreate){this.onCreate(q[2],q[3],j[l].prototype)}},walk:function(j,h,k,g){g=g||this;if(j){if(k){j=j[k]}c.each(j,function(l,f){if(h.call(g,l,f,k)===false){return false}c.walk(l,h,k,g)})}},createNS:function(j,h){var g,f;h=h||e;j=j.split(".");for(g=0;g<j.length;g++){f=j[g];if(!h[f]){h[f]={}}h=h[f]}return h},resolve:function(j,h){var g,f;h=h||e;j=j.split(".");for(g=0,f=j.length;g<f;g++){h=h[j[g]];if(!h){break}}return h},addUnload:function(k,j){var h=this,g;g=function(){var f=h.unloads,m,q;if(f){for(q in f){m=f[q];if(m&&m.func){m.func.call(m.scope,1)}}if(e.detachEvent){e.detachEvent("onbeforeunload",l);e.detachEvent("onunload",g)}else{if(e.removeEventListener){e.removeEventListener("unload",g,false)}}h.unloads=m=f=w=g=0;if(e.CollectGarbage){CollectGarbage()}}};function l(){var m=document;function f(){m.detachEvent("onstop",f);if(g){g()}m=0}if(m.readyState=="interactive"){if(m){m.attachEvent("onstop",f)}e.setTimeout(function(){if(m){m.detachEvent("onstop",f)}},0)}}k={func:k,scope:j||this};if(!h.unloads){if(e.attachEvent){e.attachEvent("onunload",g);e.attachEvent("onbeforeunload",l)}else{if(e.addEventListener){e.addEventListener("unload",g,false)}}h.unloads=[k]}else{h.unloads.push(k)}return k},removeUnload:function(j){var g=this.unloads,h=null;c.each(g,function(k,f){if(k&&k.func==j){g.splice(f,1);h=j;return false}});return h},explode:function(f,g){if(!f||c.is(f,"array")){return f}return c.map(f.split(g||","),c.trim)},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf("?")==-1?"?":"&")+this.query;if(g.indexOf("#")==-1){return g+f}return g.replace("#",f+"#")},_replace:function(h,f,g){if(d){return g.replace(h,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===b){l=l.replace(new RegExp("\\$"+k,"g"),"")}else{l=l.replace(new RegExp("\\$"+k,"g"),j[k])}}return l})}return g.replace(h,f)}};c._init();e.tinymce=e.tinyMCE=c})(window);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:false,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(b,a){this.listeners.push({cb:b,scope:a||this.scope});return b},addToTop:function(d,b){var a=this,c={cb:d,scope:b||a.scope};if(a.inDispatch){a.listeners=[c].concat(a.listeners)}else{a.listeners.unshift(c)}return d},remove:function(c){var b=this.listeners,a=null;tinymce.each(b,function(e,d){if(c==e.cb){a=e;b.splice(d,1);return false}});return a},dispatch:function(){var a=this,e,b=arguments,c,d=a.listeners,f;a.inDispatch=true;for(c=0;c<d.length;c++){f=d[c];e=f.cb.apply(f.scope,b.length>0?b:[f.scope]);if(e===false){break}}a.inDispatch=false;return e}});(function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,j,d,c,h;e=tinymce.trim(e);g=f.settings=g||{};if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){h=g.base_uri?g.base_uri.path:new tinymce.util.URI(location.href).directory;e=((g.base_uri&&g.base_uri.protocol)||"http")+"://mce_host"+f.toAbsPath(h,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(b,k){var l=e[k];if(l){l=l.replace(/\(mce_at\)/g,"@@")}f[b]=l});c=g.base_uri;if(c){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host==="mce_host"){f.port=c.port}if(!f.host||f.host==="mce_host"){f.host=c.host}f.source=""}},setPath:function(c){var b=this;c=/^(.*?)\/?(\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source="";b.getURI()},toRelative:function(b){var d=this,f;if(b==="./"){return b}b=new tinymce.util.URI(b,{base_uri:d});if((b.host!="mce_host"&&d.host!=b.host&&b.host)||d.port!=b.port||d.protocol!=b.protocol){return b.getURI()}var c=d.getURI(),e=b.getURI();if(c==e||(c.charAt(c.length-1)=="/"&&c.substr(0,c.length-1)==e)){return c}f=d.toRelPath(d.path,b.path);if(b.query){f+="?"+b.query}if(b.anchor){f+="#"+b.anchor}return f},toAbsolute:function(b,c){b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d="",e,b;g=g.substring(0,g.lastIndexOf("/"));g=g.split("/");c=h.split("/");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f===1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+="../"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+="/"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\/$/.test(f)?"/":"";e=e.split("/");f=f.split("/");a(e,function(j){if(j){h.push(j)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length===0||f[c]==="."){continue}if(f[c]===".."){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join("/")}else{g=e.slice(0,c).join("/")+"/"+h.reverse().join("/")}if(g.indexOf("/")!==0){g="/"+g}if(d&&g.lastIndexOf("/")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c="";if(!d){if(b.protocol){c+=b.protocol+"://"}if(b.userInfo){c+=b.userInfo+"@"}if(b.host){c+=b.host}if(b.port){c+=":"+b.port}}if(b.path){c+=b.path}if(b.query){c+="?"+b.query}if(b.anchor){c+="#"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split("&"),function(e){e=e.split("=");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(k,b,g,f,j,c){var h="";a(b,function(e,d){h+=(!h?"":"&")+escape(d)+"="+escape(e)});this.set(k,h,g,f,j,c)},get:function(j){var h=document.cookie,g,f=j+"=",d;if(!h){return}d=h.indexOf("; "+f);if(d==-1){d=h.indexOf(f);if(d!==0){return null}}else{d+=2}g=h.indexOf(";",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(j,b,g,f,h,c){document.cookie=j+"="+escape(b)+((g)?"; expires="+g.toGMTString():"")+((f)?"; path="+escape(f):"")+((h)?"; domain="+h:"")+((c)?"; secure":"")},remove:function(c,e,d){var b=new Date();b.setTime(b.getTime()-1000);this.set(c,"",b,e,d)}})})();(function(){function serialize(o,quote){var i,v,t,name;quote=quote||'"';if(o==null){return"null"}t=typeof o;if(t=="string"){v="\bb\tt\nn\ff\rr\"\"''\\\\";return quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){if(quote==='"'&&a==="'"){return a}i=v.indexOf(b);if(i+1){return"\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+quote}if(t=="object"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v="[";i<o.length;i++){v+=(i>0?",":"")+serialize(o[i],quote)}return v+"]"}v="{";for(name in o){if(o.hasOwnProperty(name)){v+=typeof o[name]!="function"?(v.length>1?","+quote:quote)+name+quote+":"+serialize(o[name],quote):""}}return v+"}"}return""+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}})();tinymce.create("static tinymce.util.XHR",{send:function(g){var a,e,b=window,h=0;function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,""+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",a,g)}}a=null}else{b.setTimeout(f,10)}}g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||"";function d(j){a=0;try{a=new ActiveXObject(j)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d("Microsoft.XMLHTTP")||d("Msxml2.XMLHTTP");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?"POST":"GET"),g.url,g.async);if(g.content_type){a.setRequestHeader("Content-Type",g.content_type)}a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(g.data);if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(h,g){h=b.parse(h);if(typeof(h)=="undefined"){h={error:"JSON Parse error."}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){if(e){e.call(f.error_scope||f.scope,h,g)}};f.data=b.serialize({id:f.id||"c"+(this.count++),method:f.method,params:f.params});f.content_type="application/json";a.send(f)},"static":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(a){a.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey}}})(tinymce);tinymce.util.Quirks=function(d){var m=tinymce.VK,t=m.BACKSPACE,u=m.DELETE,q=d.dom,E=d.selection,s=d.settings;function c(I,H){try{d.getDoc().execCommand(I,false,H)}catch(G){}}function h(){function G(J){var H,L,I,K;H=E.getRng();L=q.getParent(H.startContainer,q.isBlock);if(J){L=q.getNext(L,q.isBlock)}if(L){I=L.firstChild;while(I&&I.nodeType==3&&I.nodeValue.length===0){I=I.nextSibling}if(I&&I.nodeName==="SPAN"){K=I.cloneNode(false)}}d.getDoc().execCommand(J?"ForwardDelete":"Delete",false,null);L=q.getParent(H.startContainer,q.isBlock);tinymce.each(q.select("span.Apple-style-span,font.Apple-style-span",L),function(M){var N=E.getBookmark();if(K){q.replace(K.cloneNode(false),M,true)}else{q.remove(M,true)}E.moveToBookmark(N)})}d.onKeyDown.add(function(H,J){var I;I=J.keyCode==u;if(!J.isDefaultPrevented()&&(I||J.keyCode==t)&&!m.modifierPressed(J)){J.preventDefault();G(I)}});d.addCommand("Delete",function(){G()})}function F(){function H(J,M){var I,L,K=M?"start":"end";I=J[K+"Container"];L=J[K+"Offset"];if(I.nodeType==1&&I.hasChildNodes()){I=I.childNodes[Math.min(M?L:(L>0?L-1:0),I.childNodes.length-1)]}return I}function G(L,P){var K,O,J,M,N=P?"start":"end",I;K=L[N+"Container"];O=L[N+"Offset"];J=q.getRoot();if(K.nodeType==1){I=O>=K.childNodes.length;K=H(L,P);if(K.nodeType==3){O=P&&!I?0:K.nodeValue.length}}if(K.nodeType==3&&((P&&O>0)||(!P&&O<K.nodeValue.length))){return false}while(K!==J){M=K.parentNode[P?"firstChild":"lastChild"];if(M.nodeName=="BR"){M=M[P?"nextSibling":"previousSibling"]||M}if(M!==K){return false}K=K.parentNode}return true}d.onKeyDown.addToTop(function(J,L){var I,K=L.keyCode;if(!L.isDefaultPrevented()&&(K==u||K==t)){I=E.getRng(true);if(G(I,true)&&G(I,false)&&(I.collapsed||q.findCommonAncestor(H(I,true),H(I))===q.getRoot())){J.setContent("");J.nodeChanged();L.preventDefault()}}})}function z(){if(!d.settings.content_editable){q.bind(d.getDoc(),"focusin",function(G){E.setRng(E.getRng())});q.bind(d.getDoc(),"mousedown",function(G){if(G.target==d.getDoc().documentElement){d.getWin().focus();E.setRng(E.getRng())}})}}function n(){d.onKeyDown.add(function(G,J){if(!J.isDefaultPrevented()&&J.keyCode===t){if(E.isCollapsed()&&E.getRng(true).startOffset===0){var I=E.getNode();var H=I.previousSibling;if(H&&H.nodeName&&H.nodeName.toLowerCase()==="hr"){q.remove(H);tinymce.dom.Event.cancel(J)}}}})}function b(){if(!Range.prototype.getClientRects){d.onMouseDown.add(function(H,I){if(I.target.nodeName==="HTML"){var G=H.getBody();G.blur();setTimeout(function(){G.focus()},0)}})}}function B(){d.onClick.add(function(G,H){H=H.target;if(/^(IMG|HR)$/.test(H.nodeName)){E.getSel().setBaseAndExtent(H,0,H,1)}if(H.nodeName=="A"&&q.hasClass(H,"mceItemAnchor")){E.select(H)}G.nodeChanged()})}function C(){function H(){var J=q.getAttribs(E.getStart().cloneNode(false));return function(){var K=E.getStart();if(K!==d.getBody()){q.setAttrib(K,"style",null);tinymce.each(J,function(L){K.setAttributeNode(L.cloneNode(true))})}}}function G(){return !E.isCollapsed()&&E.getStart()!=E.getEnd()}function I(J,K){K.preventDefault();return false}d.onKeyPress.add(function(J,L){var K;if((L.keyCode==8||L.keyCode==46)&&G()){K=H();J.getDoc().execCommand("delete",false,null);K();L.preventDefault();return false}});q.bind(d.getDoc(),"cut",function(K){var J;if(G()){J=H();d.onKeyUp.addToTop(I);setTimeout(function(){J();d.onKeyUp.remove(I)},0)}})}function j(){var H,G;q.bind(d.getDoc(),"selectionchange",function(){if(G){clearTimeout(G);G=0}G=window.setTimeout(function(){var I=E.getRng();if(!H||!tinymce.dom.RangeUtils.compareRanges(I,H)){d.nodeChanged();H=I}},50)})}function D(){document.body.setAttribute("role","application")}function A(){d.onKeyDown.add(function(G,I){if(!I.isDefaultPrevented()&&I.keyCode===t){if(E.isCollapsed()&&E.getRng(true).startOffset===0){var H=E.getNode().previousSibling;if(H&&H.nodeName&&H.nodeName.toLowerCase()==="table"){return tinymce.dom.Event.cancel(I)}}}})}function g(){var G=d.getDoc().documentMode;if(G&&G>7){return}c("RespectVisibilityInDesign",true);q.addClass(d.getBody(),"mceHideBrInPre");d.parser.addNodeFilter("pre",function(H,J){var K=H.length,M,I,N,L;while(K--){M=H[K].getAll("br");I=M.length;while(I--){N=M[I];L=N.prev;if(L&&L.type===3&&L.value.charAt(L.value-1)!="\n"){L.value+="\n"}else{N.parent.insert(new tinymce.html.Node("#text",3),N,true).value="\n"}}}});d.serializer.addNodeFilter("pre",function(H,J){var K=H.length,M,I,N,L;while(K--){M=H[K].getAll("br");I=M.length;while(I--){N=M[I];L=N.prev;if(L&&L.type==3){L.value=L.value.replace(/\r?\n$/,"")}}}})}function f(){q.bind(d.getBody(),"mouseup",function(I){var H,G=E.getNode();if(G.nodeName=="IMG"){if(H=q.getStyle(G,"width")){q.setAttrib(G,"width",H.replace(/[^0-9%]+/g,""));q.setStyle(G,"width","")}if(H=q.getStyle(G,"height")){q.setAttrib(G,"height",H.replace(/[^0-9%]+/g,""));q.setStyle(G,"height","")}}})}function r(){d.onKeyDown.add(function(M,N){var L,G,H,J,K,O,I;L=N.keyCode==u;if(!N.isDefaultPrevented()&&(L||N.keyCode==t)&&!m.modifierPressed(N)){G=E.getRng();H=G.startContainer;J=G.startOffset;I=G.collapsed;if(H.nodeType==3&&H.nodeValue.length>0&&((J===0&&!I)||(I&&J===(L?0:1)))){nonEmptyElements=M.schema.getNonEmptyElements();N.preventDefault();K=q.create("br",{id:"__tmp"});H.parentNode.insertBefore(K,H);M.getDoc().execCommand(L?"ForwardDelete":"Delete",false,null);H=E.getRng().startContainer;O=H.previousSibling;if(O&&O.nodeType==1&&!q.isBlock(O)&&q.isEmpty(O)&&!nonEmptyElements[O.nodeName.toLowerCase()]){q.remove(O)}q.remove("__tmp")}}})}function e(){d.onKeyDown.add(function(K,L){var I,H,M,G,J;if(L.isDefaultPrevented()||L.keyCode!=m.BACKSPACE){return}I=E.getRng();H=I.startContainer;M=I.startOffset;G=q.getRoot();J=H;if(!I.collapsed||M!==0){return}while(J&&J.parentNode&&J.parentNode.firstChild==J&&J.parentNode!=G){J=J.parentNode}if(J.tagName==="BLOCKQUOTE"){K.formatter.toggle("blockquote",null,J);I.setStart(H,0);I.setEnd(H,0);E.setRng(I);E.collapse(false)}})}function l(){function G(){d._refreshContentEditable();c("StyleWithCSS",false);c("enableInlineTableEditing",false);if(!s.object_resizing){c("enableObjectResizing",false)}}if(!s.readonly){d.onBeforeExecCommand.add(G);d.onMouseDown.add(G)}}function o(){function G(H,I){tinymce.each(q.select("a"),function(L){var J=L.parentNode,K=q.getRoot();if(J.lastChild===L){while(J&&!q.isBlock(J)){if(J.parentNode.lastChild!==J||J===K){return}J=J.parentNode}q.add(J,"br",{"data-mce-bogus":1})}})}d.onExecCommand.add(function(H,I){if(I==="CreateLink"){G(H)}});d.onSetContent.add(E.onSetContent.add(G))}function v(){if(s.forced_root_block){d.onInit.add(function(){c("DefaultParagraphSeparator",s.forced_root_block)})}}function a(){function G(I,H){if(!I||!H.initial){d.execCommand("mceRepaint")}}d.onUndo.add(G);d.onRedo.add(G);d.onSetContent.add(G)}function k(){d.onKeyDown.add(function(G,H){if(!H.isDefaultPrevented()&&H.keyCode==8&&E.getNode().nodeName=="IMG"){H.preventDefault();G.undoManager.beforeChange();q.remove(E.getNode());G.undoManager.add()}})}A();e();F();if(tinymce.isWebKit){r();h();z();B();v();if(tinymce.isIDevice){j()}}if(tinymce.isIE){n();D();g();f();k()}if(tinymce.isGecko){n();b();C();l();o();a()}};(function(k){var a,g,d,l=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,j={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};d={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function h(m){var n;n=document.createElement("div");n.innerHTML=m;return n.textContent||n.innerText||m}function e(n,r){var o,q,m,s={};if(n){n=n.split(",");r=r||10;for(o=0;o<n.length;o+=2){q=String.fromCharCode(parseInt(n[o],r));if(!g[q]){m="&"+n[o+1]+";";s[q]=m;s[m]=q}}return s}}a=e("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);k.html=k.html||{};k.html.Entities={encodeRaw:function(n,m){return n.replace(m?l:b,function(o){return g[o]||o})},encodeAllRaw:function(m){return(""+m).replace(f,function(n){return g[n]||n})},encodeNumeric:function(n,m){return n.replace(m?l:b,function(o){if(o.length>1){return"&#"+(((o.charCodeAt(0)-55296)*1024)+(o.charCodeAt(1)-56320)+65536)+";"}return g[o]||"&#"+o.charCodeAt(0)+";"})},encodeNamed:function(o,m,n){n=n||a;return o.replace(m?l:b,function(q){return g[q]||n[q]||q})},getEncodeFunc:function(m,q){var r=k.html.Entities;q=e(q)||a;function n(t,s){return t.replace(s?l:b,function(u){return g[u]||q[u]||"&#"+u.charCodeAt(0)+";"||u})}function o(t,s){return r.encodeNamed(t,s,q)}m=k.makeMap(m.replace(/\+/g,","));if(m.named&&m.numeric){return n}if(m.named){if(q){return o}return r.encodeNamed}if(m.numeric){return r.encodeNumeric}return r.encodeRaw},decode:function(m){return m.replace(c,function(o,n,q){if(n){q=parseInt(q,n.length===2?16:10);if(q>65535){q-=65536;return String.fromCharCode(55296+(q>>10),56320+(q&1023))}else{return j[q]||String.fromCharCode(q)}}return d[o]||a[o]||h(o)})}}})(tinymce);tinymce.html.Styles=function(d,f){var k=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,h=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,b=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,m=/rgb/,e,g,a={},j;d=d||{};j="\\\" \\' \\; \\: ; : \uFEFF".split(" ");for(g=0;g<j.length;g++){a[j[g]]="\uFEFF"+g;a["\uFEFF"+g]=j[g]}function c(o,t,s,n){function q(r){r=parseInt(r).toString(16);return r.length>1?r:"0"+r}return"#"+q(t)+q(s)+q(n)}return{toHex:function(n){return n.replace(k,c)},parse:function(u){var D={},s,o,B,t,A=d.url_converter,C=d.url_converter_scope||this;function r(H,K){var J,G,F,I;J=D[H+"-top"+K];if(!J){return}G=D[H+"-right"+K];if(J!=G){return}F=D[H+"-bottom"+K];if(G!=F){return}I=D[H+"-left"+K];if(F!=I){return}D[H+K]=I;delete D[H+"-top"+K];delete D[H+"-right"+K];delete D[H+"-bottom"+K];delete D[H+"-left"+K]}function z(G){var H=D[G],F;if(!H||H.indexOf(" ")<0){return}H=H.split(" ");F=H.length;while(F--){if(H[F]!==H[0]){return false}}D[G]=H[0];return true}function E(H,G,F,I){if(!z(G)){return}if(!z(F)){return}if(!z(I)){return}D[H]=D[G]+" "+D[F]+" "+D[I];delete D[G];delete D[F];delete D[I]}function v(F){t=true;return a[F]}function n(G,F){if(t){G=G.replace(/\uFEFF[0-9]/g,function(H){return a[H]})}if(!F){G=G.replace(/\\([\'\";:])/g,"$1")}return G}function q(G,F,J,I,K,H){K=K||H;if(K){K=n(K);return"'"+K.replace(/\'/g,"\\'")+"'"}F=n(F||J||I);if(A){F=A.call(C,F,"style")}return"url('"+F.replace(/\'/g,"\\'")+"')"}if(u){u=u.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(F){return F.replace(/[;:]/g,v)});while(s=b.exec(u)){o=s[1].replace(l,"").toLowerCase();B=s[2].replace(l,"");if(o&&B.length>0){if(o==="font-weight"&&B==="700"){B="bold"}else{if(o==="color"||o==="background-color"){B=B.toLowerCase()}}B=B.replace(k,c);B=B.replace(h,q);D[o]=t?n(B,true):B}b.lastIndex=s.index+s[0].length}r("border","");r("border","-width");r("border","-color");r("border","-style");r("padding","");r("margin","");E("border","border-width","border-style","border-color");if(D.border==="medium none"){delete D.border}}return D},serialize:function(r,t){var q="",o,s;function n(v){var B,z,u,A;B=f.styles[v];if(B){for(z=0,u=B.length;z<u;z++){v=B[z];A=r[v];if(A!==e&&A.length>0){q+=(q.length>0?" ":"")+v+": "+A+";"}}}}if(t&&f&&f.styles){n("*");n(t)}else{for(o in r){s=r[o];if(s!==e&&s.length>0){q+=(q.length>0?" ":"")+o+": "+s+";"}}}return q}}};(function(f){var a={},e=f.makeMap,g=f.each;function d(k,j){return k.split(j||",")}function h(n,m){var k,l={};function j(o){return o.replace(/[A-Z]+/g,function(q){return j(n[q])})}for(k in n){if(n.hasOwnProperty(k)){n[k]=j(n[k])}}j(m).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(s,q,o,r){o=d(o,"|");l[q]={attributes:e(o),attributesOrder:o,children:e(r,"|",{"#comment":{}})}});return l}function b(){var j=a.html5;if(!j){j=a.html5=h({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]")}return j}function c(){var j=a.html4;if(!j){j=a.html4=h({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")}return j}f.html.Schema=function(E){var z=this,u={},l={},k=[],H,C;var q,s,D,t,A,o,r={};function n(J,I,L){var K=E[J];if(!K){K=a[J];if(!K){K=e(I," ",e(I.toUpperCase()," "));K=f.extend(K,L);a[J]=K}}else{K=e(K,",",e(K.toUpperCase()," "))}return K}E=E||{};C=E.schema=="html5"?b():c();if(E.verify_html===false){E.valid_elements="*[*]"}if(E.valid_styles){H={};g(E.valid_styles,function(J,I){H[I]=f.explode(J)})}q=n("whitespace_elements","pre script style textarea");s=n("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");D=n("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source");t=n("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");o=n("non_empty_elements","td th iframe video audio object",D);A=n("block_elements","h1 h2 h3 h4 h5 h6 hr p div address pre form table tbody thead tfoot th tr td li ol ul caption blockquote center dl dt dd dir fieldset noscript menu isindex samp header footer article section hgroup aside nav figure option datalist select optgroup");function j(I){return new RegExp("^"+I.replace(/([?+*])/g,".$1")+"$")}function G(P){var O,K,ad,Z,ae,J,M,Y,ab,U,ac,ag,S,N,aa,I,W,L,af,ah,T,X,R=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,V=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Q=/[*?+]/;if(P){P=d(P);if(u["@"]){W=u["@"].attributes;L=u["@"].attributesOrder}for(O=0,K=P.length;O<K;O++){J=R.exec(P[O]);if(J){aa=J[1];U=J[2];I=J[3];ab=J[4];S={};N=[];M={attributes:S,attributesOrder:N};if(aa==="#"){M.paddEmpty=true}if(aa==="-"){M.removeEmpty=true}if(W){for(ah in W){S[ah]=W[ah]}N.push.apply(N,L)}if(ab){ab=d(ab,"|");for(ad=0,Z=ab.length;ad<Z;ad++){J=V.exec(ab[ad]);if(J){Y={};ag=J[1];ac=J[2].replace(/::/g,":");aa=J[3];X=J[4];if(ag==="!"){M.attributesRequired=M.attributesRequired||[];M.attributesRequired.push(ac);Y.required=true}if(ag==="-"){delete S[ac];N.splice(f.inArray(N,ac),1);continue}if(aa){if(aa==="="){M.attributesDefault=M.attributesDefault||[];M.attributesDefault.push({name:ac,value:X});Y.defaultValue=X}if(aa===":"){M.attributesForced=M.attributesForced||[];M.attributesForced.push({name:ac,value:X});Y.forcedValue=X}if(aa==="<"){Y.validValues=e(X,"?")}}if(Q.test(ac)){M.attributePatterns=M.attributePatterns||[];Y.pattern=j(ac);M.attributePatterns.push(Y)}else{if(!S[ac]){N.push(ac)}S[ac]=Y}}}}if(!W&&U=="@"){W=S;L=N}if(I){M.outputName=U;u[I]=M}if(Q.test(U)){M.pattern=j(U);k.push(M)}else{u[U]=M}}}}}function v(I){u={};k=[];G(I);g(C,function(K,J){l[J]=K.children})}function m(J){var I=/^(~)?(.+)$/;if(J){g(d(J),function(N){var L=I.exec(N),M=L[1]==="~",O=M?"span":"div",K=L[2];l[K]=l[O];r[K]=O;if(!M){A[K]={}}g(l,function(P,Q){if(P[O]){P[K]=P[O]}})})}}function B(J){var I=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(J){g(d(J),function(N){var M=I.exec(N),K,L;if(M){L=M[1];if(L){K=l[M[2]]}else{K=l[M[2]]={"#comment":{}}}K=l[M[2]];g(d(M[3],"|"),function(O){if(L==="-"){delete K[O]}else{K[O]={}}})}})}}function F(I){var K=u[I],J;if(K){return K}J=k.length;while(J--){K=k[J];if(K.pattern.test(I)){return K}}}if(!E.valid_elements){g(C,function(J,I){u[I]={attributes:J.attributes,attributesOrder:J.attributesOrder};l[I]=J.children});if(E.schema!="html5"){g(d("strong/b,em/i"),function(I){I=d(I,"/");u[I[1]].outputName=I[0]})}u.img.attributesDefault=[{name:"alt",value:""}];g(d("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(I){if(u[I]){u[I].removeEmpty=true}});g(d("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(I){u[I].paddEmpty=true})}else{v(E.valid_elements)}m(E.custom_elements);B(E.valid_children);G(E.extended_valid_elements);B("+ol[ul|ol],+ul[ul|ol]");if(E.invalid_elements){f.each(f.explode(E.invalid_elements),function(I){if(u[I]){delete u[I]}})}if(!F("span")){G("span[!data-mce-type|*]")}z.children=l;z.styles=H;z.getBoolAttrs=function(){return t};z.getBlockElements=function(){return A};z.getShortEndedElements=function(){return D};z.getSelfClosingElements=function(){return s};z.getNonEmptyElements=function(){return o};z.getWhiteSpaceElements=function(){return q};z.isValidChild=function(I,K){var J=l[I];return !!(J&&J[K])};z.isValid=function(J,I){var L,K,M=F(J);if(M){if(I){if(M.attributes[I]){return true}L=M.attributePatterns;if(L){K=L.length;while(K--){if(L[K].pattern.test(J)){return true}}}}else{return true}}return false};z.getElementRule=F;z.getCustomElements=function(){return r};z.addValidElements=G;z.setValidElements=v;z.addCustomElements=m;z.addValidChildren=B}})(tinymce);(function(a){a.html.SaxParser=function(c,e){var b=this,d=function(){};c=c||{};b.schema=e=e||new a.html.Schema();if(c.fix_self_closing!==false){c.fix_self_closing=true}a.each("comment cdata text start end pi doctype".split(" "),function(f){if(f){b[f]=c[f]||d}});b.parse=function(H){var n=this,g,J=0,L,E,D=[],Q,T,F,s,C,t,P,K,R,z,m,k,u,U,o,S,I,V,O,f,M,l,G,N,h,A=0,j=a.html.Entities.decode,B,r;function v(W){var Y,X;Y=D.length;while(Y--){if(D[Y].name===W){break}}if(Y>=0){for(X=D.length-1;X>=Y;X--){W=D[X];if(W.valid){n.end(W.name)}}D.length=Y}}function q(X,W,ab,aa,Z){var ac,Y;W=W.toLowerCase();ab=W in K?W:j(ab||aa||Z||"");if(z&&!C&&W.indexOf("data-")!==0){ac=S[W];if(!ac&&I){Y=I.length;while(Y--){ac=I[Y];if(ac.pattern.test(W)){break}}if(Y===-1){ac=null}}if(!ac){return}if(ac.validValues&&!(ab in ac.validValues)){return}}Q.map[W]=ab;Q.push({name:W,value:ab})}l=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");G=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g;N={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi};P=e.getShortEndedElements();M=c.self_closing_elements||e.getSelfClosingElements();K=e.getBoolAttrs();z=c.validate;t=c.remove_internals;B=c.fix_self_closing;r=a.isIE;o=/^:/;while(g=l.exec(H)){if(J<g.index){n.text(j(H.substr(J,g.index-J)))}if(L=g[6]){L=L.toLowerCase();if(r&&o.test(L)){L=L.substr(1)}v(L)}else{if(L=g[7]){L=L.toLowerCase();if(r&&o.test(L)){L=L.substr(1)}R=L in P;if(B&&M[L]&&D.length>0&&D[D.length-1].name===L){v(L)}if(!z||(m=e.getElementRule(L))){k=true;if(z){S=m.attributes;I=m.attributePatterns}if(U=g[8]){C=U.indexOf("data-mce-type")!==-1;if(C&&t){k=false}Q=[];Q.map={};U.replace(G,q)}else{Q=[];Q.map={}}if(z&&!C){V=m.attributesRequired;O=m.attributesDefault;f=m.attributesForced;if(f){T=f.length;while(T--){u=f[T];s=u.name;h=u.value;if(h==="{$uid}"){h="mce_"+A++}Q.map[s]=h;Q.push({name:s,value:h})}}if(O){T=O.length;while(T--){u=O[T];s=u.name;if(!(s in Q.map)){h=u.value;if(h==="{$uid}"){h="mce_"+A++}Q.map[s]=h;Q.push({name:s,value:h})}}}if(V){T=V.length;while(T--){if(V[T] in Q.map){break}}if(T===-1){k=false}}if(Q.map["data-mce-bogus"]){k=false}}if(k){n.start(L,Q,R)}}else{k=false}if(E=N[L]){E.lastIndex=J=g.index+g[0].length;if(g=E.exec(H)){if(k){F=H.substr(J,g.index-J)}J=g.index+g[0].length}else{F=H.substr(J);J=H.length}if(k&&F.length>0){n.text(F,true)}if(k){n.end(L)}l.lastIndex=J;continue}if(!R){if(!U||U.indexOf("/")!=U.length-1){D.push({name:L,valid:k})}else{if(k){n.end(L)}}}}else{if(L=g[1]){n.comment(L)}else{if(L=g[2]){n.cdata(L)}else{if(L=g[3]){n.doctype(L)}else{if(L=g[4]){n.pi(L,g[5])}}}}}}J=g.index+g[0].length}if(J<H.length){n.text(j(H.substr(J)))}for(T=D.length-1;T>=0;T--){L=D[T];if(L.valid){n.end(L.name)}}}}})(tinymce);(function(d){var c=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function a(l,m,k){var j,h,f=k?"lastChild":"firstChild",g=k?"prev":"next";if(l[f]){return l[f]}if(l!==m){j=l[g];if(j){return j}for(h=l.parent;h&&h!==m;h=h.parent){j=h[g];if(j){return j}}}}function b(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}d.extend(b.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(h,l){var f=this,g,j,k;if(typeof h!=="string"){for(j in h){f.attr(j,h[j])}return f}if(g=f.attributes){if(l!==k){if(l===null){if(h in g.map){delete g.map[h];j=g.length;while(j--){if(g[j].name===h){g=g.splice(j,1);return f}}}return f}if(h in g.map){j=g.length;while(j--){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}g.map[h]=l;return f}else{return g.map[h]}}},clone:function(){var g=this,n=new b(g.name,g.type),h,f,m,j,k;if(m=g.attributes){k=[];k.map={};for(h=0,f=m.length;h<f;h++){j=m[h];if(j.name!=="id"){k[k.length]={name:j.name,value:j.value};k.map[j.name]=j.value}}n.attributes=k}n.value=g.value;n.shortEnded=g.shortEnded;return n},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next;f.insert(h,f,true);h=g}f.remove()},remove:function(){var f=this,h=f.parent,g=f.next,j=f.prev;if(h){if(h.firstChild===f){h.firstChild=g;if(g){g.prev=null}}else{j.next=g}if(h.lastChild===f){h.lastChild=j;if(j){j.next=null}}else{g.prev=j}f.parent=f.next=f.prev=null}return f},append:function(h){var f=this,g;if(h.parent){h.remove()}g=f.lastChild;if(g){g.next=h;h.prev=g;f.lastChild=h}else{f.lastChild=f.firstChild=h}h.parent=f;return h},insert:function(h,f,j){var g;if(h.parent){h.remove()}g=f.parent||this;if(j){if(f===g.firstChild){g.firstChild=h}else{f.prev.next=h}h.prev=f.prev;h.next=f;f.prev=h}else{if(f===g.lastChild){g.lastChild=h}else{f.next.prev=h}h.next=f.next;h.prev=f;f.next=h}h.parent=g;return h},getAll:function(g){var f=this,h,j=[];for(h=f.firstChild;h;h=a(h,f)){if(h.name===g){j.push(h)}}return j},empty:function(){var g=this,f,h,j;if(g.firstChild){f=[];for(j=g.firstChild;j;j=a(j,g)){f.push(j)}h=f.length;while(h--){j=f[h];j.parent=j.firstChild=j.lastChild=j.next=j.prev=null}}g.firstChild=g.lastChild=null;return g},isEmpty:function(k){var f=this,j=f.firstChild,h,g;if(j){do{if(j.type===1){if(j.attributes.map["data-mce-bogus"]){continue}if(k[j.name]){return false}h=j.attributes.length;while(h--){g=j.attributes[h].name;if(g==="name"||g.indexOf("data-")===0){return false}}}if(j.type===8){return false}if((j.type===3&&!c.test(j.value))){return false}}while(j=a(j,f))}return true},walk:function(f){return a(this,null,f)}});d.extend(b,{create:function(g,f){var j,h;j=new b(g,e[g]||1);if(f){for(h in f){j.attr(h,f[h])}}return j}});d.html.Node=b})(tinymce);(function(b){var a=b.html.Node;b.html.DomParser=function(g,h){var f=this,e={},d=[],j={},c={};g=g||{};g.validate="validate" in g?g.validate:true;g.root_name=g.root_name||"body";f.schema=h=h||new b.html.Schema();function k(n){var q,r,B,A,D,o,s,m,v,z,l,u,C,t;u=b.makeMap("tr,td,th,tbody,thead,tfoot,table");l=h.getNonEmptyElements();for(q=0;q<n.length;q++){r=n[q];if(!r.parent){continue}A=[r];for(B=r.parent;B&&!h.isValidChild(B.name,r.name)&&!u[B.name];B=B.parent){A.push(B)}if(B&&A.length>1){A.reverse();D=o=f.filterNode(A[0].clone());for(v=0;v<A.length-1;v++){if(h.isValidChild(o.name,A[v].name)){s=f.filterNode(A[v].clone());o.append(s)}else{s=o}for(m=A[v].firstChild;m&&m!=A[v+1];){t=m.next;s.append(m);m=t}o=s}if(!D.isEmpty(l)){B.insert(D,A[0],true);B.insert(r,D)}else{B.insert(r,A[0],true)}B=A[0];if(B.isEmpty(l)||B.firstChild===B.lastChild&&B.firstChild.name==="br"){B.empty().remove()}}else{if(r.parent){if(r.name==="li"){C=r.prev;if(C&&(C.name==="ul"||C.name==="ul")){C.append(r);continue}C=r.next;if(C&&(C.name==="ul"||C.name==="ul")){C.insert(r,C.firstChild,true);continue}r.wrap(f.filterNode(new a("ul",1)));continue}if(h.isValidChild(r.parent.name,"div")&&h.isValidChild("div",r.name)){r.wrap(f.filterNode(new a("div",1)))}else{if(r.name==="style"||r.name==="script"){r.empty().remove()}else{r.unwrap()}}}}}}f.filterNode=function(n){var m,l,o;if(l in e){o=j[l];if(o){o.push(n)}else{j[l]=[n]}}m=d.length;while(m--){l=d[m].name;if(l in n.attributes.map){o=c[l];if(o){o.push(n)}else{c[l]=[n]}}}return n};f.addNodeFilter=function(l,m){b.each(b.explode(l),function(n){var o=e[n];if(!o){e[n]=o=[]}o.push(m)})};f.addAttributeFilter=function(l,m){b.each(b.explode(l),function(n){var o;for(o=0;o<d.length;o++){if(d[o].name===n){d[o].callbacks.push(m);return}}d.push({name:n,callbacks:[m]})})};f.parse=function(A,n){var o,N,F,E,H,G,B,t,J,R,D,q,I,Q=[],P,v,m,C,u,r,z,s;n=n||{};j={};c={};q=b.extend(b.makeMap("script,style,head,html,body,title,meta,param"),h.getBlockElements());z=h.getNonEmptyElements();r=h.children;D=g.validate;s="forced_root_block" in n?n.forced_root_block:g.forced_root_block;u=h.getWhiteSpaceElements();I=/^[ \t\r\n]+/;v=/[ \t\r\n]+$/;m=/[ \t\r\n]+/g;C=/^[ \t\r\n]+$/;function K(){var S=N.firstChild,l,T;while(S){l=S.next;if(S.type==3||(S.type==1&&S.name!=="p"&&!q[S.name]&&!S.attr("data-mce-type"))){if(!T){T=O(s,1);N.insert(T,S);T.append(S)}else{T.append(S)}}else{T=null}S=l}}function O(l,S){var T=new a(l,S),U;if(l in e){U=j[l];if(U){U.push(T)}else{j[l]=[T]}}return T}function M(T){var U,l,S;for(U=T.prev;U&&U.type===3;){l=U.value.replace(v,"");if(l.length>0){U.value=l;U=U.prev}else{S=U.prev;U.remove();U=S}}}function L(S){var T,l={};for(T in S){if(T!=="li"&&T!="p"){l[T]=S[T]}}return l}o=new b.html.SaxParser({validate:D,self_closing_elements:L(h.getSelfClosingElements()),cdata:function(l){F.append(O("#cdata",4)).value=l},text:function(T,l){var S;if(!P){T=T.replace(m," ");if(F.lastChild&&q[F.lastChild.name]){T=T.replace(I,"")}}if(T.length!==0){S=O("#text",3);S.raw=!!l;F.append(S).value=T}},comment:function(l){F.append(O("#comment",8)).value=l},pi:function(l,S){F.append(O(l,7)).value=S;M(F)},doctype:function(S){var l;l=F.append(O("#doctype",10));l.value=S;M(F)},start:function(l,aa,T){var Y,V,U,S,W,ab,Z,X;U=D?h.getElementRule(l):{};if(U){Y=O(U.outputName||l,1);Y.attributes=aa;Y.shortEnded=T;F.append(Y);X=r[F.name];if(X&&r[Y.name]&&!X[Y.name]){Q.push(Y)}V=d.length;while(V--){W=d[V].name;if(W in aa.map){J=c[W];if(J){J.push(Y)}else{c[W]=[Y]}}}if(q[l]){M(Y)}if(!T){F=Y}if(!P&&u[l]){P=true}}},end:function(l){var W,T,V,S,U;T=D?h.getElementRule(l):{};if(T){if(q[l]){if(!P){W=F.firstChild;if(W&&W.type===3){V=W.value.replace(I,"");if(V.length>0){W.value=V;W=W.next}else{S=W.next;W.remove();W=S}while(W&&W.type===3){V=W.value;S=W.next;if(V.length===0||C.test(V)){W.remove();W=S}W=S}}W=F.lastChild;if(W&&W.type===3){V=W.value.replace(v,"");if(V.length>0){W.value=V;W=W.prev}else{S=W.prev;W.remove();W=S}while(W&&W.type===3){V=W.value;S=W.prev;if(V.length===0||C.test(V)){W.remove();W=S}W=S}}}W=F.prev;if(W&&W.type===3){V=W.value.replace(I,"");if(V.length>0){W.value=V}else{W.remove()}}}if(P&&u[l]){P=false}if(T.removeEmpty||T.paddEmpty){if(F.isEmpty(z)){if(T.paddEmpty){F.empty().append(new a("#text","3")).value="\u00a0"}else{if(!F.attributes.map.name&&!F.attributes.map.id){U=F.parent;F.empty().remove();F=U;return}}}}F=F.parent}}},h);N=F=new a(n.context||g.root_name,11);o.parse(A);if(D&&Q.length){if(!n.context){k(Q)}else{n.invalid=true}}if(s&&N.name=="body"){K()}if(!n.invalid){for(R in j){J=e[R];E=j[R];B=E.length;while(B--){if(!E[B].parent){E.splice(B,1)}}for(H=0,G=J.length;H<G;H++){J[H](E,R,n)}}for(H=0,G=d.length;H<G;H++){J=d[H];if(J.name in c){E=c[J.name];B=E.length;while(B--){if(!E[B].parent){E.splice(B,1)}}for(B=0,t=J.callbacks.length;B<t;B++){J.callbacks[B](E,J.name,n)}}}}return N};if(g.remove_trailing_brs){f.addNodeFilter("br",function(o,n){var t,s=o.length,q,A=b.extend({},h.getBlockElements()),m=h.getNonEmptyElements(),v,u,r,z;A.body=1;for(t=0;t<s;t++){q=o[t];v=q.parent;if(A[q.parent.name]&&q===v.lastChild){r=q.prev;while(r){z=r.name;if(z!=="span"||r.attr("data-mce-type")!=="bookmark"){if(z!=="br"){break}if(z==="br"){q=null;break}}r=r.prev}if(q){q.remove();if(v.isEmpty(m)){elementRule=h.getElementRule(v.name);if(elementRule){if(elementRule.removeEmpty){v.remove()}else{if(elementRule.paddEmpty){v.empty().append(new b.html.Node("#text",3)).value="\u00a0"}}}}}}else{u=q;while(v.firstChild===u&&v.lastChild===u){u=v;if(A[v.name]){break}v=v.parent}if(u===v){textNode=new b.html.Node("#text",3);textNode.value="\u00a0";q.replace(textNode)}}}})}if(!g.allow_html_in_named_anchor){f.addAttributeFilter("id,name",function(l,m){var o=l.length,r,n,q,s;while(o--){s=l[o];if(s.name==="a"&&s.firstChild&&!s.attr("href")){q=s.parent;r=s.lastChild;do{n=r.prev;q.insert(r,s);r=n}while(r)}}})}}})(tinymce);tinymce.html.Writer=function(e){var c=[],a,b,d,f,g;e=e||{};a=e.indent;b=tinymce.makeMap(e.indent_before||"");d=tinymce.makeMap(e.indent_after||"");f=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities);g=e.element_format=="html";return{start:function(m,k,q){var n,j,h,o;if(a&&b[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!=="\n"){c.push("\n")}}c.push("<",m);if(k){for(n=0,j=k.length;n<j;n++){h=k[n];c.push(" ",h.name,'="',f(h.value,true),'"')}}if(!q||g){c[c.length]=">"}else{c[c.length]=" />"}if(q&&a&&d[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!=="\n"){c.push("\n")}}},end:function(h){var j;c.push("</",h,">");if(a&&d[h]&&c.length>0){j=c[c.length-1];if(j.length>0&&j!=="\n"){c.push("\n")}}},text:function(j,h){if(j.length>0){c[c.length]=h?j:f(j)}},cdata:function(h){c.push("<![CDATA[",h,"]]>")},comment:function(h){c.push("<!--",h,"-->")},pi:function(h,j){if(j){c.push("<?",h," ",j,"?>")}else{c.push("<?",h,"?>")}if(a){c.push("\n")}},doctype:function(h){c.push("<!DOCTYPE",h,">",a?"\n":"")},reset:function(){c.length=0},getContent:function(){return c.join("").replace(/\n$/,"")}}};(function(a){a.html.Serializer=function(c,d){var b=this,e=new a.html.Writer(c);c=c||{};c.validate="validate" in c?c.validate:true;b.schema=d=d||new a.html.Schema();b.writer=e;b.serialize=function(h){var g,j;j=c.validate;g={3:function(l,k){e.text(l.value,l.raw)},8:function(k){e.comment(k.value)},7:function(k){e.pi(k.name,k.value)},10:function(k){e.doctype(k.value)},4:function(k){e.cdata(k.value)},11:function(k){if((k=k.firstChild)){do{f(k)}while(k=k.next)}}};e.reset();function f(m){var v=g[m.type],k,q,u,t,r,z,o,n,s;if(!v){k=m.name;q=m.shortEnded;u=m.attributes;if(j&&u&&u.length>1){z=[];z.map={};s=d.getElementRule(m.name);for(o=0,n=s.attributesOrder.length;o<n;o++){t=s.attributesOrder[o];if(t in u.map){r=u.map[t];z.map[t]=r;z.push({name:t,value:r})}}for(o=0,n=u.length;o<n;o++){t=u[o].name;if(!(t in z.map)){r=u.map[t];z.map[t]=r;z.push({name:t,value:r})}}u=z}e.start(m.name,u,q);if(!q){if((m=m.firstChild)){do{f(m)}while(m=m.next)}e.end(k)}}else{v(m)}}if(h.type==1&&!c.inner){f(h)}else{g[11](h)}return e.getContent()}}})(tinymce);tinymce.dom={};(function(b,h){var g=!!document.addEventListener;function c(l,k,m,j){if(l.addEventListener){l.addEventListener(k,m,j||false)}else{if(l.attachEvent){l.attachEvent("on"+k,m)}}}function e(l,k,m,j){if(l.removeEventListener){l.removeEventListener(k,m,j||false)}else{if(l.detachEvent){l.detachEvent("on"+k,m)}}}function a(o,m){var j,l=m||{};function k(){return false}function n(){return true}for(j in o){if(j!=="layerX"&&j!=="layerY"){l[j]=o[j]}}if(!l.target){l.target=l.srcElement||document}l.preventDefault=function(){l.isDefaultPrevented=n;if(o){if(o.preventDefault){o.preventDefault()}else{o.returnValue=false}}};l.stopPropagation=function(){l.isPropagationStopped=n;if(o){if(o.stopPropagation){o.stopPropagation()}else{o.cancelBubble=true}}};l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=n;l.stopPropagation()};if(!l.isDefaultPrevented){l.isDefaultPrevented=k;l.isPropagationStopped=k;l.isImmediatePropagationStopped=k}return l}function d(n,o,m){var l=n.document,k={type:"ready"};function j(){if(!m.domLoaded){m.domLoaded=true;o(k)}}if(g){c(n,"DOMContentLoaded",j)}else{c(l,"readystatechange",function(){if(l.readyState==="complete"){e(l,"readystatechange",arguments.callee);j()}});if(l.documentElement.doScroll&&n===n.top){(function(){try{l.documentElement.doScroll("left")}catch(q){setTimeout(arguments.callee,0);return}j()})()}}c(n,"load",j)}function f(l){var s=this,r={},j,q,o,n,m;n="onmouseenter" in document.documentElement;o="onfocusin" in document.documentElement;m={mouseenter:"mouseover",mouseleave:"mouseout"};j=1;s.domLoaded=false;s.events=r;function k(v,B){var u,z,t,A;u=r[B][v.type];if(u){for(z=0,t=u.length;z<t;z++){A=u[z];if(A&&A.func.call(A.scope,v)===false){v.preventDefault()}if(v.isImmediatePropagationStopped()){return}}}}s.bind=function(B,E,H,I){var u,v,z,t,F,D,G,A=window;function C(J){k(a(J||A.event),u)}if(!B||B.nodeType===3||B.nodeType===8){return}if(!B[h]){u=j++;B[h]=u;r[u]={}}else{u=B[h];if(!r[u]){r[u]={}}}I=I||B;E=E.split(" ");z=E.length;while(z--){t=E[z];D=C;F=G=false;if(t==="DOMContentLoaded"){t="ready"}if((s.domLoaded||B.readyState=="complete")&&t==="ready"){s.domLoaded=true;H.call(I,a({type:t}));continue}if(!n){F=m[t];if(F){D=function(J){var L,K;L=J.currentTarget;K=J.relatedTarget;if(K&&L.contains){K=L.contains(K)}else{while(K&&K!==L){K=K.parentNode}}if(!K){J=a(J||A.event);J.type=J.type==="mouseout"?"mouseleave":"mouseenter";J.target=L;k(J,u)}}}}if(!o&&(t==="focusin"||t==="focusout")){G=true;F=t==="focusin"?"focus":"blur";D=function(J){J=a(J||A.event);J.type=J.type==="focus"?"focusin":"focusout";k(J,u)}}v=r[u][t];if(!v){r[u][t]=v=[{func:H,scope:I}];v.fakeName=F;v.capture=G;v.nativeHandler=D;if(!g){v.proxyHandler=l(u)}if(t==="ready"){d(B,D,s)}else{c(B,F||t,g?D:v.proxyHandler,G)}}else{v.push({func:H,scope:I})}}B=v=0;return H};s.unbind=function(B,D,E){var u,z,A,F,t,v;if(!B||B.nodeType===3||B.nodeType===8){return s}u=B[h];if(u){v=r[u];if(D){D=D.split(" ");A=D.length;while(A--){t=D[A];z=v[t];if(z){if(E){F=z.length;while(F--){if(z[F].func===E){z.splice(F,1)}}}if(!E||z.length===0){delete v[t];e(B,z.fakeName||t,g?z.nativeHandler:z.proxyHandler,z.capture)}}}}else{for(t in v){z=v[t];e(B,z.fakeName||t,g?z.nativeHandler:z.proxyHandler,z.capture)}v={}}for(t in v){return s}delete r[u];try{delete B[h]}catch(C){B[h]=null}}return s};s.fire=function(z,u,t){var A,v;if(!z||z.nodeType===3||z.nodeType===8){return s}v=a(null,t);v.type=u;do{A=z[h];if(A){k(v,A)}z=z.parentNode||z.ownerDocument||z.defaultView||z.parentWindow}while(z&&!v.isPropagationStopped());return s};s.clean=function(z){var u,t,v=s.unbind;if(!z||z.nodeType===3||z.nodeType===8){return s}if(z[h]){v(z)}if(!z.getElementsByTagName){z=z.document}if(z&&z.getElementsByTagName){v(z);t=z.getElementsByTagName("*");u=t.length;while(u--){z=t[u];if(z[h]){v(z)}}}return s};s.callNativeHandler=function(u,t){if(r){r[u][t.type].nativeHandler(t)}};s.destory=function(){r={}};s.add=function(A,u,z,v){if(typeof(A)==="string"){A=document.getElementById(A)}if(A&&A instanceof Array){var t=A;while(t--){s.add(A[t],u,z,v)}return}if(u==="init"){u="ready"}return s.bind(A,u instanceof Array?u.join(" "):u,z,v)};s.remove=function(A,u,z,v){if(!A){return s}if(typeof(A)==="string"){A=document.getElementById(A)}if(A instanceof Array){var t=A.length;while(t--){s.remove(A[t],u,z,v)}return s}return s.unbind(A,u instanceof Array?u.join(" "):u,z)};s.clear=function(t){if(typeof(t)==="string"){t=document.getElementById(t)}return s.clean(t)};s.cancel=function(t){if(t){s.prevent(t);s.stop(t)}return false};s.prevent=function(t){if(!t.preventDefault){t=a(t)}t.preventDefault();return false};s.stop=function(t){if(!t.stopPropagation){t=a(t)}t.stopPropagation();return false}}b.EventUtils=f;b.Event=new f(function(j){return function(k){tinymce.dom.Event.callNativeHandler(j,k)}});b.Event.bind(window,"ready",function(){});b=0})(tinymce.dom,"data-mce-expando");tinymce.dom.TreeWalker=function(a,c){var b=a;function d(j,f,e,k){var h,g;if(j){if(!k&&j[f]){return j[f]}if(j!=c){h=j[e];if(h){return h}for(g=j.parentNode;g&&g!=c;g=g.parentNode){h=g[e];if(h){return h}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,"firstChild","nextSibling",e))};this.prev=function(e){return(b=d(b,"lastChild","previousSibling",e))}};(function(e){var g=e.each,d=e.is,f=e.isWebKit,b=e.isIE,h=e.html.Entities,c=/^([a-z0-9],?)+$/i,a=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(q,m){var l=this,j,k,o;l.doc=q;l.win=window;l.files={};l.cssFlicker=false;l.counter=0;l.stdMode=!e.isIE||q.documentMode>=8;l.boxModel=!e.isIE||q.compatMode=="CSS1Compat"||l.stdMode;l.hasOuterHTML="outerHTML" in q.createElement("a");l.settings=m=e.extend({keep_values:false,hex_colors:1},m);l.schema=m.schema;l.styles=new e.html.Styles({url_converter:m.url_converter,url_converter_scope:m.url_converter_scope},m.schema);if(e.isIE6){try{q.execCommand("BackgroundImageCache",false,true)}catch(n){l.cssFlicker=true}}l.fixDoc(q);l.events=m.ownEvents?new e.dom.EventUtils(m.proxy):e.dom.Event;e.addUnload(l.destroy,l);o=m.schema?m.schema.getBlockElements():{};l.isBlock=function(s){var r=s.nodeType;if(r){return !!(r===1&&o[s.nodeName])}return !!o[s]}},fixDoc:function(l){var k=this.settings,j;if(b&&k.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(m){l.createElement(m)});for(j in k.schema.getCustomElements()){l.createElement(j)}}},clone:function(l,j){var k=this,n,m;if(!b||l.nodeType!==1||j){return l.cloneNode(j)}m=k.doc;if(!j){n=m.createElement(l.nodeName);g(k.getAttribs(l),function(o){k.setAttrib(n,o.nodeName,k.getAttrib(l,o.nodeName))});return n}return n.firstChild},getRoot:function(){var j=this,k=j.settings;return(k&&j.get(k.root_element))||j.doc.body},getViewPort:function(k){var l,j;k=!k?this.win:k;l=k.document;j=this.boxModel?l.documentElement:l.body;return{x:k.pageXOffset||j.scrollLeft,y:k.pageYOffset||j.scrollTop,w:k.innerWidth||j.clientWidth,h:k.innerHeight||j.clientHeight}},getRect:function(m){var l,j=this,k;m=j.get(m);l=j.getPos(m);k=j.getSize(m);return{x:l.x,y:l.y,w:k.w,h:k.h}},getSize:function(m){var k=this,j,l;m=k.get(m);j=k.getStyle(m,"width");l=k.getStyle(m,"height");if(j.indexOf("px")===-1){j=0}if(l.indexOf("px")===-1){l=0}return{w:parseInt(j,10)||m.offsetWidth||m.clientWidth,h:parseInt(l,10)||m.offsetHeight||m.clientHeight}},getParent:function(l,k,j){return this.getParents(l,k,j,false)},getParents:function(v,q,l,u){var k=this,j,m=k.settings,s=[];v=k.get(v);u=u===undefined;if(m.strict_root){l=l||k.getRoot()}if(d(q,"string")){j=q;if(q==="*"){q=function(o){return o.nodeType==1}}else{q=function(o){return k.is(o,j)}}}while(v){if(v==l||!v.nodeType||v.nodeType===9){break}if(!q||q(v)){if(u){s.push(v)}else{return v}}v=v.parentNode}return u?s:null},get:function(j){var k;if(j&&this.doc&&typeof(j)=="string"){k=j;j=this.doc.getElementById(j);if(j&&j.id!==k){return this.doc.getElementsByName(k)[1]}}return j},getNext:function(k,j){return this._findSib(k,j,"nextSibling")},getPrev:function(k,j){return this._findSib(k,j,"previousSibling")},select:function(l,k){var j=this;return e.dom.Sizzle(l,j.get(k)||j.get(j.settings.root_element)||j.doc,[])},is:function(l,j){var k;if(l.length===undefined){if(j==="*"){return l.nodeType==1}if(c.test(j)){j=j.toLowerCase().split(/,/);l=l.nodeName.toLowerCase();for(k=j.length-1;k>=0;k--){if(j[k]==l){return true}}return false}}return e.dom.Sizzle.matches(j,l.nodeType?[l]:l).length>0},add:function(m,q,j,l,o){var k=this;return this.run(m,function(s){var r,n;r=d(q,"string")?k.doc.createElement(q):q;k.setAttribs(r,j);if(l){if(l.nodeType){r.appendChild(l)}else{k.setHTML(r,l)}}return !o?s.appendChild(r):r})},create:function(l,j,k){return this.add(this.doc.createElement(l),l,j,k,1)},createHTML:function(s,j,q){var r="",m=this,l;r+="<"+s;for(l in j){if(j.hasOwnProperty(l)){r+=" "+l+'="'+m.encode(j[l])+'"'}}if(typeof(q)!="undefined"){return r+">"+q+"</"+s+">"}return r+" />"},remove:function(j,k){return this.run(j,function(m){var n,l=m.parentNode;if(!l){return null}if(k){while(n=m.firstChild){if(!e.isIE||n.nodeType!==3||n.nodeValue){l.insertBefore(n,m)}else{m.removeChild(n)}}}return l.removeChild(m)})},setStyle:function(m,j,k){var l=this;return l.run(m,function(q){var o,n;o=q.style;j=j.replace(/-(\D)/g,function(s,r){return r.toUpperCase()});if(l.pixelStyles.test(j)&&(e.is(k,"number")||/^[\-0-9\.]+$/.test(k))){k+="px"}switch(j){case"opacity":if(b){o.filter=k===""?"":"alpha(opacity="+(k*100)+")";if(!m.currentStyle||!m.currentStyle.hasLayout){o.display="inline-block"}}o[j]=o["-moz-opacity"]=o["-khtml-opacity"]=k||"";break;case"float":b?o.styleFloat=k:o.cssFloat=k;break;default:o[j]=k||""}if(l.settings.update_styles){l.setAttrib(q,"data-mce-style")}})},getStyle:function(m,j,l){m=this.get(m);if(!m){return}if(this.doc.defaultView&&l){j=j.replace(/[A-Z]/g,function(n){return"-"+n});try{return this.doc.defaultView.getComputedStyle(m,null).getPropertyValue(j)}catch(k){return null}}j=j.replace(/-(\D)/g,function(o,n){return n.toUpperCase()});if(j=="float"){j=b?"styleFloat":"cssFloat"}if(m.currentStyle&&l){return m.currentStyle[j]}return m.style?m.style[j]:undefined},setStyles:function(m,n){var k=this,l=k.settings,j;j=l.update_styles;l.update_styles=0;g(n,function(o,q){k.setStyle(m,q,o)});l.update_styles=j;if(l.update_styles){k.setAttrib(m,l.cssText)}},removeAllAttribs:function(j){return this.run(j,function(m){var l,k=m.attributes;for(l=k.length-1;l>=0;l--){m.removeAttributeNode(k.item(l))}})},setAttrib:function(l,m,j){var k=this;if(!l||!m){return}if(k.settings.strict){m=m.toLowerCase()}return this.run(l,function(r){var q=k.settings;var n=r.getAttribute(m);if(j!==null){switch(m){case"style":if(!d(j,"string")){g(j,function(s,t){k.setStyle(r,t,s)});return}if(q.keep_values){if(j&&!k._isRes(j)){r.setAttribute("data-mce-style",j,2)}else{r.removeAttribute("data-mce-style",2)}}r.style.cssText=j;break;case"class":r.className=j||"";break;case"src":case"href":if(q.keep_values){if(q.url_converter){j=q.url_converter.call(q.url_converter_scope||k,j,m,r)}k.setAttrib(r,"data-mce-"+m,j,2)}break;case"shape":r.setAttribute("data-mce-style",j);break}}if(d(j)&&j!==null&&j.length!==0){r.setAttribute(m,""+j,2)}else{r.removeAttribute(m,2)}if(tinyMCE.activeEditor&&n!=j){var o=tinyMCE.activeEditor;o.onSetAttrib.dispatch(o,r,m,j)}})},setAttribs:function(k,l){var j=this;return this.run(k,function(m){g(l,function(o,q){j.setAttrib(m,q,o)})})},getAttrib:function(o,q,l){var j,k=this,m;o=k.get(o);if(!o||o.nodeType!==1){return l===m?false:l}if(!d(l)){l=""}if(/^(src|href|style|coords|shape)$/.test(q)){j=o.getAttribute("data-mce-"+q);if(j){return j}}if(b&&k.props[q]){j=o[k.props[q]];j=j&&j.nodeValue?j.nodeValue:j}if(!j){j=o.getAttribute(q,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(q)){if(o[k.props[q]]===true&&j===""){return q}return j?q:""}if(o.nodeName==="FORM"&&o.getAttributeNode(q)){return o.getAttributeNode(q).nodeValue}if(q==="style"){j=j||o.style.cssText;if(j){j=k.serializeStyle(k.parseStyle(j),o.nodeName);if(k.settings.keep_values&&!k._isRes(j)){o.setAttribute("data-mce-style",j)}}}if(f&&q==="class"&&j){j=j.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(b){switch(q){case"rowspan":case"colspan":if(j===1){j=""}break;case"size":if(j==="+0"||j===20||j===0){j=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(j===0){j=""}break;case"hspace":if(j===-1){j=""}break;case"maxlength":case"tabindex":if(j===32768||j===2147483647||j==="32768"){j=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(j===65535){return q}return l;case"shape":j=j.toLowerCase();break;default:if(q.indexOf("on")===0&&j){j=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+j)}}}return(j!==m&&j!==null&&j!=="")?""+j:l},getPos:function(u,m){var k=this,j=0,s=0,o,q=k.doc,l;u=k.get(u);m=m||q.body;if(u){if(u.getBoundingClientRect){u=u.getBoundingClientRect();o=k.boxModel?q.documentElement:q.body;j=u.left+(q.documentElement.scrollLeft||q.body.scrollLeft)-o.clientTop;s=u.top+(q.documentElement.scrollTop||q.body.scrollTop)-o.clientLeft;return{x:j,y:s}}l=u;while(l&&l!=m&&l.nodeType){j+=l.offsetLeft||0;s+=l.offsetTop||0;l=l.offsetParent}l=u.parentNode;while(l&&l!=m&&l.nodeType){j-=l.scrollLeft||0;s-=l.scrollTop||0;l=l.parentNode}}return{x:j,y:s}},parseStyle:function(j){return this.styles.parse(j)},serializeStyle:function(k,j){return this.styles.serialize(k,j)},loadCSS:function(j){var l=this,m=l.doc,k;if(!j){j=""}k=m.getElementsByTagName("head")[0];g(j.split(","),function(n){var o;if(l.files[n]){return}l.files[n]=true;o=l.create("link",{rel:"stylesheet",href:e._addVer(n)});if(b&&m.documentMode&&m.recalc){o.onload=function(){if(m.recalc){m.recalc()}o.onload=null}}k.appendChild(o)})},addClass:function(j,k){return this.run(j,function(l){var m;if(!k){return 0}if(this.hasClass(l,k)){return l.className}m=this.removeClass(l,k);return l.className=(m!=""?(m+" "):"")+k})},removeClass:function(l,m){var j=this,k;return j.run(l,function(o){var n;if(j.hasClass(o,m)){if(!k){k=new RegExp("(^|\\s+)"+m+"(\\s+|$)","g")}n=o.className.replace(k," ");n=e.trim(n!=" "?n:"");o.className=n;if(!n){o.removeAttribute("class");o.removeAttribute("className")}return n}return o.className})},hasClass:function(k,j){k=this.get(k);if(!k||!j){return false}return(" "+k.className+" ").indexOf(" "+j+" ")!==-1},show:function(j){return this.setStyle(j,"display","block")},hide:function(j){return this.setStyle(j,"display","none")},isHidden:function(j){j=this.get(j);return !j||j.style.display=="none"||this.getStyle(j,"display")=="none"},uniqueId:function(j){return(!j?"mce_":j)+(this.counter++)},setHTML:function(l,k){var j=this;return j.run(l,function(n){if(b){while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML="<br />"+k;n.removeChild(n.firstChild)}catch(m){n=j.create("div");n.innerHTML="<br />"+k;g(n.childNodes,function(q,o){if(o){n.appendChild(q)}})}}else{n.innerHTML=k}return k})},getOuterHTML:function(l){var k,j=this;l=j.get(l);if(!l){return null}if(l.nodeType===1&&j.hasOuterHTML){return l.outerHTML}k=(l.ownerDocument||j.doc).createElement("body");k.appendChild(l.cloneNode(true));return k.innerHTML},setOuterHTML:function(m,k,n){var j=this;function l(q,o,s){var t,r;r=s.createElement("body");r.innerHTML=o;t=r.lastChild;while(t){j.insertAfter(t.cloneNode(true),q);t=t.previousSibling}j.remove(q)}return this.run(m,function(q){q=j.get(q);if(q.nodeType==1){n=n||q.ownerDocument||j.doc;if(b){try{if(b&&q.nodeType==1){q.outerHTML=k}else{l(q,k,n)}}catch(o){l(q,k,n)}}else{l(q,k,n)}}})},decode:h.decode,encode:h.encodeAllRaw,insertAfter:function(j,k){k=this.get(k);return this.run(j,function(m){var l,n;l=k.parentNode;n=k.nextSibling;if(n){l.insertBefore(m,n)}else{l.appendChild(m)}return m})},replace:function(q,m,j){var l=this;if(d(m,"array")){q=q.cloneNode(true)}return l.run(m,function(k){if(j){g(e.grep(k.childNodes),function(n){q.appendChild(n)})}return k.parentNode.replaceChild(q,k)})},rename:function(m,j){var l=this,k;if(m.nodeName!=j.toUpperCase()){k=l.create(j);g(l.getAttribs(m),function(n){l.setAttrib(k,n.nodeName,l.getAttrib(m,n.nodeName))});l.replace(k,m,1)}return k||m},findCommonAncestor:function(l,j){var m=l,k;while(m){k=j;while(k&&m!=k){k=k.parentNode}if(m==k){break}m=m.parentNode}if(!m&&l.ownerDocument){return l.ownerDocument.documentElement}return m},toHex:function(j){var l=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(j);function k(m){m=parseInt(m,10).toString(16);return m.length>1?m:"0"+m}if(l){j="#"+k(l[1])+k(l[2])+k(l[3]);return j}return j},getClasses:function(){var n=this,j=[],m,o={},q=n.settings.class_filter,l;if(n.classes){return n.classes}function r(t){g(t.imports,function(s){r(s)});g(t.cssRules||t.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){g(s.selectorText.split(","),function(u){u=u.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(u)||!/\.[\w\-]+$/.test(u)){return}l=u;u=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",u);if(q&&!(u=q(u,l))){return}if(!o[u]){j.push({"class":u});o[u]=1}})}break;case 3:r(s.styleSheet);break}})}try{g(n.doc.styleSheets,r)}catch(k){}if(j.length>0){n.classes=j}return j},run:function(m,l,k){var j=this,n;if(j.doc&&typeof(m)==="string"){m=j.get(m)}if(!m){return false}k=k||this;if(!m.nodeType&&(m.length||m.length===0)){n=[];g(m,function(q,o){if(q){if(typeof(q)=="string"){q=j.doc.getElementById(q)}n.push(l.call(k,q,o))}});return n}return l.call(k,m)},getAttribs:function(k){var j;k=this.get(k);if(!k){return[]}if(b){j=[];if(k.nodeName=="OBJECT"){return k.attributes}if(k.nodeName==="OPTION"&&this.getAttrib(k,"selected")){j.push({specified:1,nodeName:"selected"})}k.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(l){j.push({specified:1,nodeName:l})});return j}return k.attributes},isEmpty:function(m,k){var s=this,o,n,r,j,l,q=0;m=m.firstChild;if(m){j=new e.dom.TreeWalker(m,m.parentNode);k=k||s.schema?s.schema.getNonEmptyElements():null;do{r=m.nodeType;if(r===1){if(m.getAttribute("data-mce-bogus")){continue}l=m.nodeName.toLowerCase();if(k&&k[l]){if(l==="br"){q++;continue}return false}n=s.getAttribs(m);o=m.attributes.length;while(o--){l=m.attributes[o].nodeName;if(l==="name"||l==="data-mce-bookmark"){return false}}}if(r==8){return false}if((r===3&&!a.test(m.nodeValue))){return false}}while(m=j.next())}return q<=1},destroy:function(k){var j=this;j.win=j.doc=j.root=j.events=j.frag=null;if(!k){e.removeUnload(j.destroy)}},createRng:function(){var j=this.doc;return j.createRange?j.createRange():new e.dom.Range(this)},nodeIndex:function(n,o){var j=0,l,m,k;if(n){for(l=n.nodeType,n=n.previousSibling,m=n;n;n=n.previousSibling){k=n.nodeType;if(o&&k==3){if(k==l||!n.nodeValue.length){continue}}j++;l=k}}return j},split:function(n,m,s){var u=this,j=u.createRng(),o,l,q;function k(A){var v,t=A.childNodes,z=A.nodeType;function B(E){var D=E.previousSibling&&E.previousSibling.nodeName=="SPAN";var C=E.nextSibling&&E.nextSibling.nodeName=="SPAN";return D&&C}if(z==1&&A.getAttribute("data-mce-type")=="bookmark"){return}for(v=t.length-1;v>=0;v--){k(t[v])}if(z!=9){if(z==3&&A.nodeValue.length>0){var r=e.trim(A.nodeValue).length;if(!u.isBlock(A.parentNode)||r>0||r===0&&B(A)){return}}else{if(z==1){t=A.childNodes;if(t.length==1&&t[0]&&t[0].nodeType==1&&t[0].getAttribute("data-mce-type")=="bookmark"){A.parentNode.insertBefore(t[0],A)}if(t.length||/^(br|hr|input|img)$/i.test(A.nodeName)){return}}}u.remove(A)}return A}if(n&&m){j.setStart(n.parentNode,u.nodeIndex(n));j.setEnd(m.parentNode,u.nodeIndex(m));o=j.extractContents();j=u.createRng();j.setStart(m.parentNode,u.nodeIndex(m)+1);j.setEnd(n.parentNode,u.nodeIndex(n)+1);l=j.extractContents();q=n.parentNode;q.insertBefore(k(o),n);if(s){q.replaceChild(s,m)}else{q.insertBefore(m,n)}q.insertBefore(k(l),n);u.remove(n);return s||m}},bind:function(m,j,l,k){return this.events.add(m,j,l,k||this)},unbind:function(l,j,k){return this.events.remove(l,j,k)},fire:function(l,k,j){return this.events.fire(l,k,j)},getContentEditable:function(k){var j;if(k.nodeType!=1){return null}j=k.getAttribute("data-mce-contenteditable");if(j&&j!=="inherit"){return j}return k.contentEditable!=="inherit"?k.contentEditable:null},_findSib:function(m,j,k){var l=this,n=j;if(m){if(d(n,"string")){n=function(o){return l.is(o,j)}}for(m=m[k];m;m=m[k]){if(n(m)){return m}}}return null},_isRes:function(j){return/^(top|left|bottom|right|width|height)/i.test(j)||/;\s*(top|left|bottom|right|width|height)/i.test(j)}});e.DOM=new e.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var S=this,e=c.doc,Y=0,J=1,k=2,I=true,W=false,aa="startOffset",h="startContainer",U="endContainer",E="endOffset",l=tinymce.extend,o=c.nodeIndex;l(S,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:I,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:s,setEnd:v,setStartBefore:g,setStartAfter:N,setEndBefore:O,setEndAfter:z,collapse:F,selectNode:C,selectNodeContents:K,compareBoundaryPoints:A,deleteContents:r,extractContents:M,cloneContents:d,insertNode:H,surroundContents:R,cloneRange:P,toStringIE:X});function B(){return e.createDocumentFragment()}function s(ab,t){G(I,ab,t)}function v(ab,t){G(W,ab,t)}function g(t){s(t.parentNode,o(t))}function N(t){s(t.parentNode,o(t)+1)}function O(t){v(t.parentNode,o(t))}function z(t){v(t.parentNode,o(t)+1)}function F(t){if(t){S[U]=S[h];S[E]=S[aa]}else{S[h]=S[U];S[aa]=S[E]}S.collapsed=I}function C(t){g(t);z(t)}function K(t){s(t,0);v(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function A(ae,t){var ah=S[h],ac=S[aa],ag=S[U],ab=S[E],af=t.startContainer,aj=t.startOffset,ad=t.endContainer,ai=t.endOffset;if(ae===0){return L(ah,ac,af,aj)}if(ae===1){return L(ag,ab,af,aj)}if(ae===2){return L(ag,ab,ad,ai)}if(ae===3){return L(ah,ac,ad,ai)}}function r(){m(k)}function M(){return m(Y)}function d(){return m(J)}function H(ae){var ab=this[h],t=this[aa],ad,ac;if((ab.nodeType===3||ab.nodeType===4)&&ab.nodeValue){if(!t){ab.parentNode.insertBefore(ae,ab)}else{if(t>=ab.nodeValue.length){c.insertAfter(ae,ab)}else{ad=ab.splitText(t);ab.parentNode.insertBefore(ae,ad)}}}else{if(ab.childNodes.length>0){ac=ab.childNodes[t]}if(ac){ab.insertBefore(ae,ac)}else{ab.appendChild(ae)}}}function R(ab){var t=S.extractContents();S.insertNode(ab);ab.appendChild(t);S.selectNode(ab)}function P(){return l(new b(c),{startContainer:S[h],startOffset:S[aa],endContainer:S[U],endOffset:S[E],collapsed:S.collapsed,commonAncestorContainer:S.commonAncestorContainer})}function T(t,ab){var ac;if(t.nodeType==3){return t}if(ab<0){return t}ac=t.firstChild;while(ac&&ab>0){--ab;ac=ac.nextSibling}if(ac){return ac}return t}function n(){return(S[h]==S[U]&&S[aa]==S[E])}function L(ad,af,ab,ae){var ag,ac,t,ah,aj,ai;if(ad==ab){if(af==ae){return 0}if(af<ae){return -1}return 1}ag=ab;while(ag&&ag.parentNode!=ad){ag=ag.parentNode}if(ag){ac=0;t=ad.firstChild;while(t!=ag&&ac<af){ac++;t=t.nextSibling}if(af<=ac){return -1}return 1}ag=ad;while(ag&&ag.parentNode!=ab){ag=ag.parentNode}if(ag){ac=0;t=ab.firstChild;while(t!=ag&&ac<ae){ac++;t=t.nextSibling}if(ac<ae){return -1}return 1}ah=c.findCommonAncestor(ad,ab);aj=ad;while(aj&&aj.parentNode!=ah){aj=aj.parentNode}if(!aj){aj=ah}ai=ab;while(ai&&ai.parentNode!=ah){ai=ai.parentNode}if(!ai){ai=ah}if(aj==ai){return 0}t=ah.firstChild;while(t){if(t==aj){return -1}if(t==ai){return 1}t=t.nextSibling}}function G(ab,ae,ad){var t,ac;if(ab){S[h]=ae;S[aa]=ad}else{S[U]=ae;S[E]=ad}t=S[U];while(t.parentNode){t=t.parentNode}ac=S[h];while(ac.parentNode){ac=ac.parentNode}if(ac==t){if(L(S[h],S[aa],S[U],S[E])>0){S.collapse(ab)}}else{S.collapse(ab)}S.collapsed=n();S.commonAncestorContainer=c.findCommonAncestor(S[h],S[U])}function m(ah){var ag,ad=0,aj=0,ab,af,ac,ae,t,ai;if(S[h]==S[U]){return f(ah)}for(ag=S[U],ab=ag.parentNode;ab;ag=ab,ab=ab.parentNode){if(ab==S[h]){return u(ag,ah)}++ad}for(ag=S[h],ab=ag.parentNode;ab;ag=ab,ab=ab.parentNode){if(ab==S[U]){return Z(ag,ah)}++aj}af=aj-ad;ac=S[h];while(af>0){ac=ac.parentNode;af--}ae=S[U];while(af<0){ae=ae.parentNode;af++}for(t=ac.parentNode,ai=ae.parentNode;t!=ai;t=t.parentNode,ai=ai.parentNode){ac=t;ae=ai}return q(ac,ae,ah)}function f(ag){var ai,aj,t,ac,ad,ah,ae,ab,af;if(ag!=k){ai=B()}if(S[aa]==S[E]){return ai}if(S[h].nodeType==3){aj=S[h].nodeValue;t=aj.substring(S[aa],S[E]);if(ag!=J){ac=S[h];ab=S[aa];af=S[E]-S[aa];if(ab===0&&af>=ac.nodeValue.length-1){ac.parentNode.removeChild(ac)}else{ac.deleteData(ab,af)}S.collapse(I)}if(ag==k){return}if(t.length>0){ai.appendChild(e.createTextNode(t))}return ai}ac=T(S[h],S[aa]);ad=S[E]-S[aa];while(ac&&ad>0){ah=ac.nextSibling;ae=D(ac,ag);if(ai){ai.appendChild(ae)}--ad;ac=ah}if(ag!=J){S.collapse(I)}return ai}function u(ah,ae){var ag,af,ab,t,ad,ac;if(ae!=k){ag=B()}af=j(ah,ae);if(ag){ag.appendChild(af)}ab=o(ah);t=ab-S[aa];if(t<=0){if(ae!=J){S.setEndBefore(ah);S.collapse(W)}return ag}af=ah.previousSibling;while(t>0){ad=af.previousSibling;ac=D(af,ae);if(ag){ag.insertBefore(ac,ag.firstChild)}--t;af=ad}if(ae!=J){S.setEndBefore(ah);S.collapse(W)}return ag}function Z(af,ae){var ah,ab,ag,t,ad,ac;if(ae!=k){ah=B()}ag=V(af,ae);if(ah){ah.appendChild(ag)}ab=o(af);++ab;t=S[E]-ab;ag=af.nextSibling;while(ag&&t>0){ad=ag.nextSibling;ac=D(ag,ae);if(ah){ah.appendChild(ac)}--t;ag=ad}if(ae!=J){S.setStartAfter(af);S.collapse(I)}return ah}function q(af,t,ai){var ac,ak,ae,ag,ah,ab,aj,ad;if(ai!=k){ak=B()}ac=V(af,ai);if(ak){ak.appendChild(ac)}ae=af.parentNode;ag=o(af);ah=o(t);++ag;ab=ah-ag;aj=af.nextSibling;while(ab>0){ad=aj.nextSibling;ac=D(aj,ai);if(ak){ak.appendChild(ac)}aj=ad;--ab}ac=j(t,ai);if(ak){ak.appendChild(ac)}if(ai!=J){S.setStartAfter(af);S.collapse(I)}return ak}function j(ag,ah){var ac=T(S[U],S[E]-1),ai,af,ae,t,ab,ad=ac!=S[U];if(ac==ag){return Q(ac,ad,W,ah)}ai=ac.parentNode;af=Q(ai,W,W,ah);while(ai){while(ac){ae=ac.previousSibling;t=Q(ac,ad,W,ah);if(ah!=k){af.insertBefore(t,af.firstChild)}ad=I;ac=ae}if(ai==ag){return af}ac=ai.previousSibling;ai=ai.parentNode;ab=Q(ai,W,W,ah);if(ah!=k){ab.appendChild(af)}af=ab}}function V(ag,ah){var ad=T(S[h],S[aa]),ae=ad!=S[h],ai,af,ac,t,ab;if(ad==ag){return Q(ad,ae,I,ah)}ai=ad.parentNode;af=Q(ai,W,I,ah);while(ai){while(ad){ac=ad.nextSibling;t=Q(ad,ae,I,ah);if(ah!=k){af.appendChild(t)}ae=I;ad=ac}if(ai==ag){return af}ad=ai.nextSibling;ai=ai.parentNode;ab=Q(ai,W,I,ah);if(ah!=k){ab.appendChild(af)}af=ab}}function Q(t,ae,ah,ai){var ad,ac,af,ab,ag;if(ae){return D(t,ai)}if(t.nodeType==3){ad=t.nodeValue;if(ah){ab=S[aa];ac=ad.substring(ab);af=ad.substring(0,ab)}else{ab=S[E];ac=ad.substring(0,ab);af=ad.substring(ab)}if(ai!=J){t.nodeValue=af}if(ai==k){return}ag=c.clone(t,W);ag.nodeValue=ac;return ag}if(ai==k){return}return c.clone(t,W)}function D(ab,t){if(t!=k){return t==J?c.clone(ab,I):ab}ab.parentNode.removeChild(ab)}function X(){return c.create("body",null,d()).outerText}return S}a.Range=b;b.prototype.toString=function(){return this.toStringIE()}})(tinymce.dom);(function(){function a(d){var b=this,h=d.dom,c=true,f=false;function e(j,k){var l,v=0,s,o,n,m,q,t,r=-1,u;l=j.duplicate();l.collapse(k);u=l.parentElement();if(u.ownerDocument!==d.dom.doc){return}while(u.contentEditable==="false"){u=u.parentNode}if(!u.hasChildNodes()){return{node:u,inside:1}}n=u.children;s=n.length-1;while(v<=s){t=Math.floor((v+s)/2);m=n[t];l.moveToElementText(m);r=l.compareEndPoints(k?"StartToStart":"EndToEnd",j);if(r>0){s=t-1}else{if(r<0){v=t+1}else{return{node:m}}}}if(r<0){if(!m){l.moveToElementText(u);l.collapse(true);m=u;o=true}else{l.collapse(false)}q=0;while(l.compareEndPoints(k?"StartToStart":"StartToEnd",j)!==0){if(l.move("character",1)===0||u!=l.parentElement()){break}q++}}else{l.collapse(true);q=0;while(l.compareEndPoints(k?"StartToStart":"StartToEnd",j)!==0){if(l.move("character",-1)===0||u!=l.parentElement()){break}q++}}return{node:m,position:r,offset:q,inside:o}}function g(){var j=d.getRng(),t=h.createRng(),m,l,r,s,n,k;m=j.item?j.item(0):j.parentElement();if(m.ownerDocument!=h.doc){return t}l=d.isCollapsed();if(j.item){t.setStart(m.parentNode,h.nodeIndex(m));t.setEnd(t.startContainer,t.startOffset+1);return t}function q(E){var z=e(j,E),u,C,D=0,B,A,v;u=z.node;C=z.offset;if(z.inside&&!u.hasChildNodes()){t[E?"setStart":"setEnd"](u,0);return}if(C===A){t[E?"setStartBefore":"setEndAfter"](u);return}if(z.position<0){B=z.inside?u.firstChild:u.nextSibling;if(!B){t[E?"setStartAfter":"setEndAfter"](u);return}if(!C){if(B.nodeType==3){t[E?"setStart":"setEnd"](B,0)}else{t[E?"setStartBefore":"setEndBefore"](B)}return}while(B){v=B.nodeValue;D+=v.length;if(D>=C){u=B;D-=C;D=v.length-D;break}B=B.nextSibling}}else{B=u.previousSibling;if(!B){return t[E?"setStartBefore":"setEndBefore"](u)}if(!C){if(u.nodeType==3){t[E?"setStart":"setEnd"](B,u.nodeValue.length)}else{t[E?"setStartAfter":"setEndAfter"](B)}return}while(B){D+=B.nodeValue.length;if(D>=C){u=B;D-=C;break}B=B.previousSibling}}t[E?"setStart":"setEnd"](u,D)}try{q(true);if(!l){q()}}catch(o){if(o.number==-2147024809){n=b.getBookmark(2);r=j.duplicate();r.collapse(true);m=r.parentElement();if(!l){r=j.duplicate();r.collapse(false);s=r.parentElement();s.innerHTML=s.innerHTML}m.innerHTML=m.innerHTML;b.moveToBookmark(n);j=d.getRng();q(true);if(!l){q()}}else{throw o}}return t}this.getBookmark=function(n){var k=d.getRng(),q,j,m={};function o(z){var v,r,u,t,s=[];v=z.parentNode;r=h.getRoot().parentNode;while(v!=r&&v.nodeType!==9){u=v.children;t=u.length;while(t--){if(z===u[t]){s.push(t);break}}z=v;v=v.parentNode}return s}function l(s){var r;r=e(k,s);if(r){return{position:r.position,offset:r.offset,indexes:o(r.node),inside:r.inside}}}if(n===2){if(!k.item){m.start=l(true);if(!d.isCollapsed()){m.end=l()}}else{m.start={ctrl:true,indexes:o(k.item(0))}}}return m};this.moveToBookmark=function(l){var k,j=h.doc.body;function n(q){var t,s,o,r;t=h.getRoot();for(s=q.length-1;s>=0;s--){r=t.children;o=q[s];if(o<=r.length-1){t=r[o]}}return t}function m(t){var o=l[t?"start":"end"],s,r,q;if(o){s=o.position>0;r=j.createTextRange();r.moveToElementText(n(o.indexes));offset=o.offset;if(offset!==q){r.collapse(o.inside||s);r.moveStart("character",s?-offset:offset)}else{r.collapse(t)}k.setEndPoint(t?"StartToStart":"EndToStart",r);if(t){k.collapse(true)}}}if(l.start){if(l.start.ctrl){k=j.createControlRange();k.addElement(n(l.start.indexes));k.select()}else{k=j.createTextRange();m(true);m();k.select()}}};this.addRange=function(j){var o,m,l,r,v,s,u,t=d.dom.doc,n=t.body;function k(E){var A,D,z,C,B;z=h.create("a");A=E?l:v;D=E?r:s;C=o.duplicate();if(A==t||A==t.documentElement){A=n;D=0}if(A.nodeType==3){A.parentNode.insertBefore(z,A);C.moveToElementText(z);C.moveStart("character",D);h.remove(z);o.setEndPoint(E?"StartToStart":"EndToEnd",C)}else{B=A.childNodes;if(B.length){if(D>=B.length){h.insertAfter(z,B[B.length-1])}else{A.insertBefore(z,B[D])}C.moveToElementText(z)}else{if(A.canHaveHTML){A.innerHTML="<span>\uFEFF</span>";z=A.firstChild;C.moveToElementText(z);C.collapse(f)}}o.setEndPoint(E?"StartToStart":"EndToEnd",C);h.remove(z)}}l=j.startContainer;r=j.startOffset;v=j.endContainer;s=j.endOffset;o=n.createTextRange();if(l==v&&l.nodeType==1){if(r==s&&!l.hasChildNodes()){if(l.canHaveHTML){u=l.previousSibling;if(u&&!u.hasChildNodes()&&h.isBlock(u)){u.innerHTML="\uFEFF"}else{u=null}l.innerHTML="<span>\uFEFF</span><span>\uFEFF</span>";o.moveToElementText(l.lastChild);o.select();h.doc.selection.clear();l.innerHTML="";if(u){u.innerHTML=""}return}else{r=h.nodeIndex(l);l=l.parentNode}}if(r==s-1){try{m=n.createControlRange();m.addElement(l.childNodes[r]);m.select();return}catch(q){}}}k(true);k();o.select()};this.getRangeAt=g}tinymce.dom.TridentSelection=a})();(function(){var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j="sizcache",q=0,t=Object.prototype.toString,h=false,g=true,s=/\\/g,z=/\r\n/g,B=/\W/;[0,0].sort(function(){g=false;return 0});var d=function(G,e,J,K){J=J||[];e=e||document;var M=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!G||typeof G!=="string"){return J}var D,O,R,C,N,Q,P,I,F=true,E=d.isXML(e),H=[],L=G;do{o.exec("");D=o.exec(L);if(D){L=D[3];H.push(D[1]);if(D[2]){C=D[3];break}}}while(D);if(H.length>1&&k.exec(G)){if(H.length===2&&l.relative[H[0]]){O=u(H[0]+H[1],e,K)}else{O=l.relative[H[0]]?[e]:d(H.shift(),e);while(H.length){G=H.shift();if(l.relative[G]){G+=H.shift()}O=u(G,O,K)}}}else{if(!K&&H.length>1&&e.nodeType===9&&!E&&l.match.ID.test(H[0])&&!l.match.ID.test(H[H.length-1])){N=d.find(H.shift(),e,E);e=N.expr?d.filter(N.expr,N.set)[0]:N.set[0]}if(e){N=K?{expr:H.pop(),set:m(K)}:d.find(H.pop(),H.length===1&&(H[0]==="~"||H[0]==="+")&&e.parentNode?e.parentNode:e,E);O=N.expr?d.filter(N.expr,N.set):N.set;if(H.length>0){R=m(O)}else{F=false}while(H.length){Q=H.pop();P=Q;if(!l.relative[Q]){Q=""}else{P=H.pop()}if(P==null){P=e}l.relative[Q](R,P,E)}}else{R=H=[]}}if(!R){R=O}if(!R){d.error(Q||G)}if(t.call(R)==="[object Array]"){if(!F){J.push.apply(J,R)}else{if(e&&e.nodeType===1){for(I=0;R[I]!=null;I++){if(R[I]&&(R[I]===true||R[I].nodeType===1&&d.contains(e,R[I]))){J.push(O[I])}}}else{for(I=0;R[I]!=null;I++){if(R[I]&&R[I].nodeType===1){J.push(O[I])}}}}}else{m(R,J)}if(C){d(C,M,J,K);d.uniqueSort(J)}return J};d.uniqueSort=function(C){if(r){h=g;C.sort(r);if(h){for(var e=1;e<C.length;e++){if(C[e]===C[e-1]){C.splice(e--,1)}}}}return C};d.matches=function(e,C){return d(e,null,null,C)};d.matchesSelector=function(e,C){return d(C,null,null,[e]).length>0};d.find=function(I,e,J){var H,D,F,E,G,C;if(!I){return[]}for(D=0,F=l.order.length;D<F;D++){G=l.order[D];if((E=l.leftMatch[G].exec(I))){C=E[1];E.splice(1,1);if(C.substr(C.length-1)!=="\\"){E[1]=(E[1]||"").replace(s,"");H=l.find[G](E,e,J);if(H!=null){I=I.replace(l.match[G],"");break}}}}if(!H){H=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:H,expr:I}};d.filter=function(M,L,P,F){var H,e,K,R,O,C,E,G,N,D=M,Q=[],J=L,I=L&&L[0]&&d.isXML(L[0]);while(M&&L.length){for(K in l.filter){if((H=l.leftMatch[K].exec(M))!=null&&H[2]){C=l.filter[K];E=H[1];e=false;H.splice(1,1);if(E.substr(E.length-1)==="\\"){continue}if(J===Q){Q=[]}if(l.preFilter[K]){H=l.preFilter[K](H,J,P,Q,F,I);if(!H){e=R=true}else{if(H===true){continue}}}if(H){for(G=0;(O=J[G])!=null;G++){if(O){R=C(O,H,G,J);N=F^R;if(P&&R!=null){if(N){e=true}else{J[G]=false}}else{if(N){Q.push(O);e=true}}}}}if(R!==undefined){if(!P){J=Q}M=M.replace(l.match[K],"");if(!e){return[]}break}}}if(M===D){if(e==null){d.error(M)}else{break}}D=M}return J};d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var b=d.getText=function(F){var D,E,e=F.nodeType,C="";if(e){if(e===1||e===9||e===11){if(typeof F.textContent==="string"){return F.textContent}else{if(typeof F.innerText==="string"){return F.innerText.replace(z,"")}else{for(F=F.firstChild;F;F=F.nextSibling){C+=b(F)}}}}else{if(e===3||e===4){return F.nodeValue}}}else{for(D=0;(E=F[D]);D++){if(E.nodeType!==8){C+=b(E)}}}return C};var l=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(H,C){var E=typeof C==="string",G=E&&!B.test(C),I=E&&!G;if(G){C=C.toLowerCase()}for(var D=0,e=H.length,F;D<e;D++){if((F=H[D])){while((F=F.previousSibling)&&F.nodeType!==1){}H[D]=I||F&&F.nodeName.toLowerCase()===C?F||false:F===C}}if(I){d.filter(C,H,true)}},">":function(H,C){var G,F=typeof C==="string",D=0,e=H.length;if(F&&!B.test(C)){C=C.toLowerCase();for(;D<e;D++){G=H[D];if(G){var E=G.parentNode;H[D]=E.nodeName.toLowerCase()===C?E:false}}}else{for(;D<e;D++){G=H[D];if(G){H[D]=F?G.parentNode:G.parentNode===C}}if(F){d.filter(C,H,true)}}},"":function(E,C,G){var F,D=q++,e=v;if(typeof C==="string"&&!B.test(C)){C=C.toLowerCase();F=C;e=a}e("parentNode",C,D,E,F,G)},"~":function(E,C,G){var F,D=q++,e=v;if(typeof C==="string"&&!B.test(C)){C=C.toLowerCase();F=C;e=a}e("previousSibling",C,D,E,F,G)}},find:{ID:function(C,D,E){if(typeof D.getElementById!=="undefined"&&!E){var e=D.getElementById(C[1]);return e&&e.parentNode?[e]:[]}},NAME:function(D,G){if(typeof G.getElementsByName!=="undefined"){var C=[],F=G.getElementsByName(D[1]);for(var E=0,e=F.length;E<e;E++){if(F[E].getAttribute("name")===D[1]){C.push(F[E])}}return C.length===0?null:C}},TAG:function(e,C){if(typeof C.getElementsByTagName!=="undefined"){return C.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(E,C,D,e,H,I){E=" "+E[1].replace(s,"")+" ";if(I){return E}for(var F=0,G;(G=C[F])!=null;F++){if(G){if(H^(G.className&&(" "+G.className+" ").replace(/[\t\n\r]/g," ").indexOf(E)>=0)){if(!D){e.push(G)}}else{if(D){C[F]=false}}}}return false},ID:function(e){return e[1].replace(s,"")},TAG:function(C,e){return C[1].replace(s,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){d.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var C=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(C[1]+(C[2]||1))-0;e[3]=C[3]-0}else{if(e[2]){d.error(e[0])}}e[0]=q++;return e},ATTR:function(F,C,D,e,G,H){var E=F[1]=F[1].replace(s,"");if(!H&&l.attrMap[E]){F[1]=l.attrMap[E]}F[4]=(F[4]||F[5]||"").replace(s,"");if(F[2]==="~="){F[4]=" "+F[4]+" "}return F},PSEUDO:function(F,C,D,e,G){if(F[1]==="not"){if((o.exec(F[3])||"").length>1||/^\w/.test(F[3])){F[3]=d(F[3],null,null,C)}else{var E=d.filter(F[3],C,D,true^G);if(!D){e.push.apply(e,E)}return false}}else{if(l.match.POS.test(F[0])||l.match.CHILD.test(F[0])){return true}}return F},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(D,C,e){return !!d(e[3],D).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(D){var e=D.getAttribute("type"),C=D.type;return D.nodeName.toLowerCase()==="input"&&"text"===C&&(e===C||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(C){var e=C.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===C.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(C){var e=C.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===C.type},button:function(C){var e=C.nodeName.toLowerCase();return e==="input"&&"button"===C.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(C,e){return e===0},last:function(D,C,e,E){return C===E.length-1},even:function(C,e){return e%2===0},odd:function(C,e){return e%2===1},lt:function(D,C,e){return C<e[3]-0},gt:function(D,C,e){return C>e[3]-0},nth:function(D,C,e){return e[3]-0===C},eq:function(D,C,e){return e[3]-0===C}},filter:{PSEUDO:function(D,I,H,J){var e=I[1],C=l.filters[e];if(C){return C(D,H,I,J)}else{if(e==="contains"){return(D.textContent||D.innerText||b([D])||"").indexOf(I[3])>=0}else{if(e==="not"){var E=I[3];for(var G=0,F=E.length;G<F;G++){if(E[G]===D){return false}}return true}else{d.error(e)}}}},CHILD:function(D,F){var E,L,H,K,e,G,J,I=F[1],C=D;switch(I){case"only":case"first":while((C=C.previousSibling)){if(C.nodeType===1){return false}}if(I==="first"){return true}C=D;case"last":while((C=C.nextSibling)){if(C.nodeType===1){return false}}return true;case"nth":E=F[2];L=F[3];if(E===1&&L===0){return true}H=F[0];K=D.parentNode;if(K&&(K[j]!==H||!D.nodeIndex)){G=0;for(C=K.firstChild;C;C=C.nextSibling){if(C.nodeType===1){C.nodeIndex=++G}}K[j]=H}J=D.nodeIndex-L;if(E===0){return J===0}else{return(J%E===0&&J/E>=0)}}},ID:function(C,e){return C.nodeType===1&&C.getAttribute("id")===e},TAG:function(C,e){return(e==="*"&&C.nodeType===1)||!!C.nodeName&&C.nodeName.toLowerCase()===e},CLASS:function(C,e){return(" "+(C.className||C.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(G,E){var D=E[1],e=d.attr?d.attr(G,D):l.attrHandle[D]?l.attrHandle[D](G):G[D]!=null?G[D]:G.getAttribute(D),H=e+"",F=E[2],C=E[4];return e==null?F==="!=":!F&&d.attr?e!=null:F==="="?H===C:F==="*="?H.indexOf(C)>=0:F==="~="?(" "+H+" ").indexOf(C)>=0:!C?H&&e!==false:F==="!="?H!==C:F==="^="?H.indexOf(C)===0:F==="$="?H.substr(H.length-C.length)===C:F==="|="?H===C||H.substr(0,C.length+1)===C+"-":false},POS:function(F,C,D,G){var e=C[2],E=l.setFilters[e];if(E){return E(F,D,C,G)}}}};var k=l.match.POS,c=function(C,e){return"\\"+(e-0+1)};for(var f in l.match){l.match[f]=new RegExp(l.match[f].source+(/(?![^\[]*\])(?![^\(]*\))/.source));l.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[f].source.replace(/\\(\d+)/g,c))}l.match.globalPOS=k;var m=function(C,e){C=Array.prototype.slice.call(C,0);if(e){e.push.apply(e,C);return e}return C};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(A){m=function(F,E){var D=0,C=E||[];if(t.call(F)==="[object Array]"){Array.prototype.push.apply(C,F)}else{if(typeof F.length==="number"){for(var e=F.length;D<e;D++){C.push(F[D])}}else{for(;F[D];D++){C.push(F[D])}}}return C}}var r,n;if(document.documentElement.compareDocumentPosition){r=function(C,e){if(C===e){h=true;return 0}if(!C.compareDocumentPosition||!e.compareDocumentPosition){return C.compareDocumentPosition?-1:1}return C.compareDocumentPosition(e)&4?-1:1}}else{r=function(J,I){if(J===I){h=true;return 0}else{if(J.sourceIndex&&I.sourceIndex){return J.sourceIndex-I.sourceIndex}}var G,C,D=[],e=[],F=J.parentNode,H=I.parentNode,K=F;if(F===H){return n(J,I)}else{if(!F){return -1}else{if(!H){return 1}}}while(K){D.unshift(K);K=K.parentNode}K=H;while(K){e.unshift(K);K=K.parentNode}G=D.length;C=e.length;for(var E=0;E<G&&E<C;E++){if(D[E]!==e[E]){return n(D[E],e[E])}}return E===G?n(J,e[E],-1):n(D[E],I,1)};n=function(C,e,D){if(C===e){return D}var E=C.nextSibling;while(E){if(E===e){return -1}E=E.nextSibling}return 1}}(function(){var C=document.createElement("div"),D="script"+(new Date()).getTime(),e=document.documentElement;C.innerHTML="<a name='"+D+"'/>";e.insertBefore(C,e.firstChild);if(document.getElementById(D)){l.find.ID=function(F,G,H){if(typeof G.getElementById!=="undefined"&&!H){var E=G.getElementById(F[1]);return E?E.id===F[1]||typeof E.getAttributeNode!=="undefined"&&E.getAttributeNode("id").nodeValue===F[1]?[E]:undefined:[]}};l.filter.ID=function(G,E){var F=typeof G.getAttributeNode!=="undefined"&&G.getAttributeNode("id");return G.nodeType===1&&F&&F.nodeValue===E}}e.removeChild(C);e=C=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){l.find.TAG=function(C,G){var F=G.getElementsByTagName(C[1]);if(C[1]==="*"){var E=[];for(var D=0;F[D];D++){if(F[D].nodeType===1){E.push(F[D])}}F=E}return F}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){l.attrHandle.href=function(C){return C.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=d,E=document.createElement("div"),D="__sizzle__";E.innerHTML="<p class='TEST'></p>";if(E.querySelectorAll&&E.querySelectorAll(".TEST").length===0){return}d=function(P,G,K,O){G=G||document;if(!O&&!d.isXML(G)){var N=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(P);if(N&&(G.nodeType===1||G.nodeType===9)){if(N[1]){return m(G.getElementsByTagName(P),K)}else{if(N[2]&&l.find.CLASS&&G.getElementsByClassName){return m(G.getElementsByClassName(N[2]),K)}}}if(G.nodeType===9){if(P==="body"&&G.body){return m([G.body],K)}else{if(N&&N[3]){var J=G.getElementById(N[3]);if(J&&J.parentNode){if(J.id===N[3]){return m([J],K)}}else{return m([],K)}}}try{return m(G.querySelectorAll(P),K)}catch(L){}}else{if(G.nodeType===1&&G.nodeName.toLowerCase()!=="object"){var H=G,I=G.getAttribute("id"),F=I||D,R=G.parentNode,Q=/^\s*[+~]/.test(P);if(!I){G.setAttribute("id",F)}else{F=F.replace(/'/g,"\\$&")}if(Q&&R){G=G.parentNode}try{if(!Q||R){return m(G.querySelectorAll("[id='"+F+"'] "+P),K)}}catch(M){}finally{if(!I){H.removeAttribute("id")}}}}}return e(P,G,K,O)};for(var C in e){d[C]=e[C]}E=null})()}(function(){var e=document.documentElement,D=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(D){var F=!D.call(document.createElement("div"),"div"),C=false;try{D.call(document.documentElement,"[test!='']:sizzle")}catch(E){C=true}d.matchesSelector=function(H,J){J=J.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!d.isXML(H)){try{if(C||!l.match.PSEUDO.test(J)&&!/!=/.test(J)){var G=D.call(H,J);if(G||!F||H.document&&H.document.nodeType!==11){return G}}}catch(I){}}return d(J,null,null,[H]).length>0}}})();(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}l.order.splice(1,0,"CLASS");l.find.CLASS=function(C,D,E){if(typeof D.getElementsByClassName!=="undefined"&&!E){return D.getElementsByClassName(C[1])}};e=null})();function a(C,H,G,K,I,J){for(var E=0,D=K.length;E<D;E++){var e=K[E];if(e){var F=false;e=e[C];while(e){if(e[j]===G){F=K[e.sizset];break}if(e.nodeType===1&&!J){e[j]=G;e.sizset=E}if(e.nodeName.toLowerCase()===H){F=e;break}e=e[C]}K[E]=F}}}function v(C,H,G,K,I,J){for(var E=0,D=K.length;E<D;E++){var e=K[E];if(e){var F=false;e=e[C];while(e){if(e[j]===G){F=K[e.sizset];break}if(e.nodeType===1){if(!J){e[j]=G;e.sizset=E}if(typeof H!=="string"){if(e===H){F=true;break}}else{if(d.filter(H,[e]).length>0){F=e;break}}}e=e[C]}K[E]=F}}}if(document.documentElement.contains){d.contains=function(C,e){return C!==e&&(C.contains?C.contains(e):true)}}else{if(document.documentElement.compareDocumentPosition){d.contains=function(C,e){return !!(C.compareDocumentPosition(e)&16)}}else{d.contains=function(){return false}}}d.isXML=function(e){var C=(e?e.ownerDocument||e:0).documentElement;return C?C.nodeName!=="HTML":false};var u=function(D,e,H){var G,I=[],F="",J=e.nodeType?[e]:e;while((G=l.match.PSEUDO.exec(D))){F+=G[0];D=D.replace(l.match.PSEUDO,"")}D=l.relative[D]?D+"*":D;for(var E=0,C=J.length;E<C;E++){d(D,J[E],I,H)}return d.filter(F,I)};window.tinymce.dom.Sizzle=d})();(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(j,h,g){return a.dom.Event.add(b.id,j,h,g)},getXY:function(){return{x:parseInt(b.getStyle("left")),y:parseInt(b.getStyle("top"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle("width")||g.clientWidth),h:parseInt(b.getStyle("height")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,j){var h=b.getXY();b.moveTo(h.x+g,h.y+j)},resizeTo:function(g,j){b.setStyles({width:g,height:j})},resizeBy:function(g,k){var j=b.getSize();b.resizeTo(j.w+g,j.h+k)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||"";if(h.indexOf("get")===0||h.indexOf("has")===0||h.indexOf("is")===0){return}if(h=="remove"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),"iframe",{id:b.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});e.setStyle(g,"opacity",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle("left",1),top:b.getStyle("top",1),width:b.getStyle("width",1),height:b.getStyle("height",1),display:b.getStyle("display",1),zIndex:parseInt(b.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(d){function f(g){return g.replace(/[\n\r]+/g,"")}var c=d.is,b=d.isIE,e=d.each,a=d.dom.TreeWalker;d.create("tinymce.dom.Selection",{Selection:function(l,k,j,h){var g=this;g.dom=l;g.win=k;g.serializer=j;g.editor=h;e(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(m){g[m]=new d.util.Dispatcher(g)});if(!g.win.getSelection){g.tridentSel=new d.dom.TridentSelection(g)}if(d.isIE&&l.boxModel){this._fixIESelection()}d.addUnload(g.destroy,g)},setCursorLocation:function(j,k){var g=this;var h=g.dom.createRng();h.setStart(j,k);h.setEnd(j,k);g.setRng(h);g.collapse(false)},getContent:function(h){var g=this,j=g.getRng(),o=g.dom.create("body"),l=g.getSel(),k,m,q;h=h||{};k=m="";h.get=true;h.format=h.format||"html";h.forced_root_block="";g.onBeforeGetContent.dispatch(g,h);if(h.format=="text"){return g.isCollapsed()?"":(j.text||(l.toString?l.toString():""))}if(j.cloneContents){q=j.cloneContents();if(q){o.appendChild(q)}}else{if(c(j.item)||c(j.htmlText)){o.innerHTML="<br>"+(j.item?j.item(0).outerHTML:j.htmlText);o.removeChild(o.firstChild)}else{o.innerHTML=j.toString()}}if(/^\s/.test(o.innerHTML)){k=" "}if(/\s+$/.test(o.innerHTML)){m=" "}h.getInner=true;h.content=g.isCollapsed()?"":k+g.serializer.serialize(o,h)+m;g.onGetContent.dispatch(g,h);return h.content},setContent:function(h,k){var q=this,g=q.getRng(),l,m=q.win.document,o,n;k=k||{format:"html"};k.set=true;h=k.content=h;if(!k.no_events){q.onBeforeSetContent.dispatch(q,k)}h=k.content;if(g.insertNode){h+='<span id="__caret">_</span>';if(g.startContainer==m&&g.endContainer==m){m.body.innerHTML=h}else{g.deleteContents();if(m.body.childNodes.length===0){m.body.innerHTML=h}else{if(g.createContextualFragment){g.insertNode(g.createContextualFragment(h))}else{o=m.createDocumentFragment();n=m.createElement("div");o.appendChild(n);n.outerHTML=h;g.insertNode(o)}}}l=q.dom.get("__caret");g=m.createRange();g.setStartBefore(l);g.setEndBefore(l);q.setRng(g);q.dom.remove("__caret");try{q.setRng(g)}catch(j){}}else{if(g.item){m.execCommand("Delete",false,null);g=q.getRng()}if(/^\s+/.test(h)){g.pasteHTML('<span id="__mce_tmp">_</span>'+h);q.dom.remove("__mce_tmp")}else{g.pasteHTML(h)}}if(!k.no_events){q.onSetContent.dispatch(q,k)}},getStart:function(){var h=this.getRng(),j,g,l,k;if(h.duplicate||h.item){if(h.item){return h.item(0)}l=h.duplicate();l.collapse(1);j=l.parentElement();g=k=h.parentElement();while(k=k.parentNode){if(k==j){j=g;break}}return j}else{j=h.startContainer;if(j.nodeType==1&&j.hasChildNodes()){j=j.childNodes[Math.min(j.childNodes.length-1,h.startOffset)]}if(j&&j.nodeType==3){return j.parentNode}return j}},getEnd:function(){var h=this,j=h.getRng(),k,g;if(j.duplicate||j.item){if(j.item){return j.item(0)}j=j.duplicate();j.collapse(0);k=j.parentElement();if(k&&k.nodeName=="BODY"){return k.lastChild||k}return k}else{k=j.endContainer;g=j.endOffset;if(k.nodeType==1&&k.hasChildNodes()){k=k.childNodes[g>0?g-1:g]}if(k&&k.nodeType==3){return k.parentNode}return k}},getBookmark:function(v,A){var C=this,o=C.dom,h,l,k,q,j,r,s,n="\uFEFF",B;function g(D,E){var t=0;e(o.select(D),function(G,F){if(G==E){t=F}});return t}function z(t){function D(I){var E,H,G,F=I?"start":"end";E=t[F+"Container"];H=t[F+"Offset"];if(E.nodeType==1&&E.nodeName=="TR"){G=E.childNodes;E=G[Math.min(I?H:H-1,G.length-1)];if(E){H=I?0:E.childNodes.length;t["set"+(I?"Start":"End")](E,H)}}}D(true);D();return t}function m(){var D=C.getRng(true),t=o.getRoot(),E={};function F(I,N){var H=I[N?"startContainer":"endContainer"],M=I[N?"startOffset":"endOffset"],G=[],J,L,K=0;if(H.nodeType==3){if(A){for(J=H.previousSibling;J&&J.nodeType==3;J=J.previousSibling){M+=J.nodeValue.length}}G.push(M)}else{L=H.childNodes;if(M>=L.length&&L.length){K=1;M=Math.max(0,L.length-1)}G.push(C.dom.nodeIndex(L[M],A)+K)}for(;H&&H!=t;H=H.parentNode){G.push(C.dom.nodeIndex(H,A))}return G}E.start=F(D,true);if(!C.isCollapsed()){E.end=F(D)}return E}if(v==2){if(C.tridentSel){return C.tridentSel.getBookmark(v)}return m()}if(v){return{rng:C.getRng()}}h=C.getRng();k=o.uniqueId();q=tinyMCE.activeEditor.selection.isCollapsed();B="overflow:hidden;line-height:0px";if(h.duplicate||h.item){if(!h.item){l=h.duplicate();try{h.collapse();h.pasteHTML('<span data-mce-type="bookmark" id="'+k+'_start" style="'+B+'">'+n+"</span>");if(!q){l.collapse(false);h.moveToElementText(l.parentElement());if(h.compareEndPoints("StartToEnd",l)===0){l.move("character",-1)}l.pasteHTML('<span data-mce-type="bookmark" id="'+k+'_end" style="'+B+'">'+n+"</span>")}}catch(u){return null}}else{r=h.item(0);j=r.nodeName;return{name:j,index:g(j,r)}}}else{r=C.getNode();j=r.nodeName;if(j=="IMG"){return{name:j,index:g(j,r)}}l=z(h.cloneRange());if(!q){l.collapse(false);l.insertNode(o.create("span",{"data-mce-type":"bookmark",id:k+"_end",style:B},n))}h=z(h);h.collapse(true);h.insertNode(o.create("span",{"data-mce-type":"bookmark",id:k+"_start",style:B},n))}C.moveToBookmark({id:k,keep:1});return{id:k}},moveToBookmark:function(q){var v=this,n=v.dom,k,j,g,u,l,z,r,s;function h(E){var t=q[E?"start":"end"],B,C,D,A;if(t){D=t[0];for(C=u,B=t.length-1;B>=1;B--){A=C.childNodes;if(t[B]>A.length-1){return}C=A[t[B]]}if(C.nodeType===3){D=Math.min(t[0],C.nodeValue.length)}if(C.nodeType===1){D=Math.min(t[0],C.childNodes.length)}if(E){g.setStart(C,D)}else{g.setEnd(C,D)}}return true}function m(F){var A=n.get(q.id+"_"+F),E,t,C,D,B=q.keep;if(A){E=A.parentNode;if(F=="start"){if(!B){t=n.nodeIndex(A)}else{E=A.firstChild;t=1}l=z=E;r=s=t}else{if(!B){t=n.nodeIndex(A)}else{E=A.firstChild;t=1}z=E;s=t}if(!B){D=A.previousSibling;C=A.nextSibling;e(d.grep(A.childNodes),function(G){if(G.nodeType==3){G.nodeValue=G.nodeValue.replace(/\uFEFF/g,"")}});while(A=n.get(q.id+"_"+F)){n.remove(A,1)}if(D&&C&&D.nodeType==C.nodeType&&D.nodeType==3&&!d.isOpera){t=D.nodeValue.length;D.appendData(C.nodeValue);n.remove(C);if(F=="start"){l=z=D;r=s=t}else{z=D;s=t}}}}}function o(t){if(n.isBlock(t)&&!t.innerHTML&&!b){t.innerHTML='<br data-mce-bogus="1" />'}return t}if(q){if(q.start){g=n.createRng();u=n.getRoot();if(v.tridentSel){return v.tridentSel.moveToBookmark(q)}if(h(true)&&h()){v.setRng(g)}}else{if(q.id){m("start");m("end");if(l){g=n.createRng();g.setStart(o(l),r);g.setEnd(o(z),s);v.setRng(g)}}else{if(q.name){v.select(n.select(q.name)[q.index])}else{if(q.rng){v.setRng(q.rng)}}}}}},select:function(m,l){var k=this,n=k.dom,h=n.createRng(),g;function j(o,r){var q=new a(o,o);do{if(o.nodeType==3&&d.trim(o.nodeValue).length!==0){if(r){h.setStart(o,0)}else{h.setEnd(o,o.nodeValue.length)}return}if(o.nodeName=="BR"){if(r){h.setStartBefore(o)}else{h.setEndBefore(o)}return}}while(o=(r?q.next():q.prev()))}if(m){g=n.nodeIndex(m);h.setStart(m.parentNode,g);h.setEnd(m.parentNode,g+1);if(l){j(m,1);j(m)}k.setRng(h)}return m},isCollapsed:function(){var g=this,j=g.getRng(),h=g.getSel();if(!j||j.item){return false}if(j.compareEndPoints){return j.compareEndPoints("StartToEnd",j)===0}return !h||j.collapsed},collapse:function(g){var j=this,h=j.getRng(),k;if(h.item){k=h.item(0);h=j.win.document.body.createTextRange();h.moveToElementText(k)}h.collapse(!!g);j.setRng(h)},getSel:function(){var h=this,g=this.win;return g.getSelection?g.getSelection():g.document.selection},getRng:function(n){var h=this,k,g,m,l=h.win.document;if(n&&h.tridentSel){return h.tridentSel.getRangeAt(0)}try{if(k=h.getSel()){g=k.rangeCount>0?k.getRangeAt(0):(k.createRange?k.createRange():l.createRange())}}catch(j){}if(d.isIE&&g&&g.setStart&&l.selection.createRange().item){m=l.selection.createRange().item(0);g=l.createRange();g.setStartBefore(m);g.setEndAfter(m)}if(!g){g=l.createRange?l.createRange():l.body.createTextRange()}if(g.setStart&&g.startContainer.nodeType===9&&g.collapsed){m=h.dom.getRoot();g.setStart(m,0);g.setEnd(m,0)}if(h.selectedRange&&h.explicitRange){if(g.compareBoundaryPoints(g.START_TO_START,h.selectedRange)===0&&g.compareBoundaryPoints(g.END_TO_END,h.selectedRange)===0){g=h.explicitRange}else{h.selectedRange=null;h.explicitRange=null}}return g},setRng:function(l,g){var k,j=this;if(!j.tridentSel){k=j.getSel();if(k){j.explicitRange=l;try{k.removeAllRanges()}catch(h){}k.addRange(l);if(g===false&&k.extend){k.collapse(l.endContainer,l.endOffset);k.extend(l.startContainer,l.startOffset)}j.selectedRange=k.rangeCount>0?k.getRangeAt(0):null}}else{if(l.cloneRange){try{j.tridentSel.addRange(l);return}catch(h){}}try{l.select()}catch(h){}}},setNode:function(h){var g=this;g.setContent(g.dom.getOuterHTML(h));return h},getNode:function(){var j=this,h=j.getRng(),k=j.getSel(),n,m=h.startContainer,g=h.endContainer;function l(r,o){var q=r;while(r&&r.nodeType===3&&r.length===0){r=o?r.nextSibling:r.previousSibling}return r||q}if(!h){return j.dom.getRoot()}if(h.setStart){n=h.commonAncestorContainer;if(!h.collapsed){if(h.startContainer==h.endContainer){if(h.endOffset-h.startOffset<2){if(h.startContainer.hasChildNodes()){n=h.startContainer.childNodes[h.startOffset]}}}if(m.nodeType===3&&g.nodeType===3){if(m.length===h.startOffset){m=l(m.nextSibling,true)}else{m=m.parentNode}if(h.endOffset===0){g=l(g.previousSibling,false)}else{g=g.parentNode}if(m&&m===g){return m}}}if(n&&n.nodeType==3){return n.parentNode}return n}return h.item?h.item(0):h.parentElement()},getSelectedBlocks:function(r,h){var q=this,l=q.dom,o,m,j,k=[];o=l.getParent(r||q.getStart(),l.isBlock);m=l.getParent(h||q.getEnd(),l.isBlock);if(o){k.push(o)}if(o&&m&&o!=m){j=o;var g=new a(o,l.getRoot());while((j=g.next())&&j!=m){if(l.isBlock(j)){k.push(j)}}}if(m&&o!=m){k.push(m)}return k},isForward:function(){var j=this.dom,g=this.getSel(),k,h;if(!g||g.anchorNode==null||g.focusNode==null){return true}k=j.createRng();k.setStart(g.anchorNode,g.anchorOffset);k.collapse(true);h=j.createRng();h.setStart(g.focusNode,g.focusOffset);h.collapse(true);return k.compareBoundaryPoints(k.START_TO_START,h)<=0},normalize:function(){var h=this,g,n,m,k,j;function l(r){var q,t,o,u=h.dom,z=u.getRoot(),s,v,A;function C(D,E){var F=new a(D,u.getParent(D.parentNode,u.isBlock)||z);while(D=F[E?"prev":"next"]()){if(D.nodeName==="BR"){return true}}}function B(F,D){var G,E;D=D||q;G=new a(D,u.getParent(D.parentNode,u.isBlock)||z);while(s=G[F?"prev":"next"]()){if(s.nodeType===3&&s.nodeValue.length>0){q=s;t=F?s.nodeValue.length:0;n=true;return}if(u.isBlock(s)||v[s.nodeName.toLowerCase()]){return}E=s}if(m&&E){q=E;n=true;t=0}}q=g[(r?"start":"end")+"Container"];t=g[(r?"start":"end")+"Offset"];v=u.schema.getNonEmptyElements();if(q.nodeType===9){q=u.getRoot();t=0}if(q===z){if(r){s=q.childNodes[t>0?t-1:0];if(s){A=s.nodeName.toLowerCase();if(v[s.nodeName]||s.nodeName=="TABLE"){return}}}if(q.hasChildNodes()){q=q.childNodes[Math.min(!r&&t>0?t-1:t,q.childNodes.length-1)];t=0;if(q.hasChildNodes()&&!/TABLE/.test(q.nodeName)){s=q;o=new a(q,z);do{if(s.nodeType===3&&s.nodeValue.length>0){t=r?0:s.nodeValue.length;q=s;n=true;break}if(v[s.nodeName.toLowerCase()]){t=u.nodeIndex(s);q=s.parentNode;if(s.nodeName=="IMG"&&!r){t++}n=true;break}}while(s=(r?o.next():o.prev()))}}}if(m){if(q.nodeType===3&&t===0){B(true)}if(q.nodeType===1){s=q.childNodes[t];if(s&&s.nodeName==="BR"&&!C(s)&&!C(s,true)){B(true,q.childNodes[t])}}}if(r&&!m&&q.nodeType===3&&t===q.nodeValue.length){B(false)}if(n){g["set"+(r?"Start":"End")](q,t)}}if(d.isIE){return}g=h.getRng();m=g.collapsed;l(true);if(!m){l()}if(n){if(m){g.collapse(true)}h.setRng(g,h.isForward())}},selectorChanged:function(g,k){var h=this,j;if(!h.selectorChangedData){h.selectorChangedData={};j={};h.editor.onNodeChange.addToTop(function(m,l,q){var r=h.dom,n=r.getParents(q,null,r.getRoot()),o={};e(h.selectorChangedData,function(t,s){e(n,function(u){if(r.is(u,s)){if(!j[s]){e(t,function(v){v(true,{node:u,selector:s,parents:n})});j[s]=t}o[s]=t;return false}})});e(j,function(t,s){if(!o[s]){delete j[s];e(t,function(u){u(false,{node:q,selector:s,parents:n})})}})})}if(!h.selectorChangedData[g]){h.selectorChangedData[g]=[]}h.selectorChangedData[g].push(k);return h},destroy:function(h){var g=this;g.win=null;if(!h){d.removeUnload(g.destroy)}},_fixIESelection:function(){var h=this.dom,o=h.doc,j=o.body,l,q,g;function k(r,u){var s=j.createTextRange();try{s.moveToPoint(r,u)}catch(t){s=null}return s}function n(s){var r;if(s.button){r=k(s.x,s.y);if(r){if(r.compareEndPoints("StartToStart",q)>0){r.setEndPoint("StartToStart",q)}else{r.setEndPoint("EndToEnd",q)}r.select()}}else{m()}}function m(){var r=o.selection.createRange();if(q&&!r.item&&r.compareEndPoints("StartToEnd",r)===0){q.select()}h.unbind(o,"mouseup",m);h.unbind(o,"mousemove",n);q=l=0}o.documentElement.unselectable=true;h.bind(o,["mousedown","contextmenu"],function(r){if(r.target.nodeName==="HTML"){if(l){m()}g=o.documentElement;if(g.scrollHeight>g.clientHeight){return}l=1;q=k(r.x,r.y);if(q){h.bind(o,"mouseup",m);h.bind(o,"mousemove",n);h.win.focus();q.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(e,j,f){var h,b,d=a.isIE,g=a.each,c;if(!e.apply_source_formatting){e.indent=false}j=j||a.DOM;f=f||new a.html.Schema(e);e.entity_encoding=e.entity_encoding||"named";e.remove_trailing_brs="remove_trailing_brs" in e?e.remove_trailing_brs:true;h=new a.util.Dispatcher(self);b=new a.util.Dispatcher(self);c=new a.html.DomParser(e,f);c.addAttributeFilter("src,href,style",function(l,k){var q=l.length,m,s,o="data-mce-"+k,r=e.url_converter,t=e.url_converter_scope,n;while(q--){m=l[q];s=m.attributes.map[o];if(s!==n){m.attr(k,s.length>0?s:null);m.attr(o,null)}else{s=m.attributes.map[k];if(k==="style"){s=j.serializeStyle(j.parseStyle(s),m.name)}else{if(r){s=r.call(t,s,k,m.name)}}m.attr(k,s.length>0?s:null)}}});c.addAttributeFilter("class",function(k,l){var m=k.length,n,o;while(m--){n=k[m];o=n.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,"");n.attr("class",o.length>0?o:null)}});c.addAttributeFilter("data-mce-type",function(k,m,l){var n=k.length,o;while(n--){o=k[n];if(o.attributes.map["data-mce-type"]==="bookmark"&&!l.cleanup){o.remove()}}});c.addAttributeFilter("data-mce-expando",function(k,m,l){var n=k.length;while(n--){k[n].attr(m,null)}});c.addNodeFilter("script,style",function(l,m){var n=l.length,o,q;function k(r){return r.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(n--){o=l[n];q=o.firstChild?o.firstChild.value:"";if(m==="script"){o.attr("type",(o.attr("type")||"text/javascript").replace(/^mce\-/,""));if(q.length>0){o.firstChild.value="// <![CDATA[\n"+k(q)+"\n// ]]>"}}else{if(q.length>0){o.firstChild.value="<!--\n"+k(q)+"\n-->"}}}});c.addNodeFilter("#comment",function(k,l){var m=k.length,n;while(m--){n=k[m];if(n.value.indexOf("[CDATA[")===0){n.name="#cdata";n.type=4;n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(n.value.indexOf("mce:protected ")===0){n.name="#text";n.type=3;n.raw=true;n.value=unescape(n.value).substr(14)}}}});c.addNodeFilter("xml:namespace,input",function(k,l){var m=k.length,n;while(m--){n=k[m];if(n.type===7){n.remove()}else{if(n.type===1){if(l==="input"&&!("type" in n.attributes.map)){n.attr("type","text")}}}}});if(e.fix_list_elements){c.addNodeFilter("ul,ol",function(l,m){var n=l.length,o,k;while(n--){o=l[n];k=o.parent;if(k.name==="ul"||k.name==="ol"){if(o.prev&&o.prev.name==="li"){o.prev.append(o)}}}})}c.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(k,l){var m=k.length;while(m--){k[m].attr(l,null)}});return{schema:f,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,onPreProcess:h,onPostProcess:b,serialize:function(q,n){var m,r,l,k,o;if(d&&j.select("script,style,select,map").length>0){o=q.innerHTML;q=q.cloneNode(false);j.setHTML(q,o)}else{q=q.cloneNode(true)}m=q.ownerDocument.implementation;if(m.createHTMLDocument){r=m.createHTMLDocument("");g(q.nodeName=="BODY"?q.childNodes:[q],function(s){r.body.appendChild(r.importNode(s,true))});if(q.nodeName!="BODY"){q=r.body.firstChild}else{q=r.body}l=j.doc;j.doc=r}n=n||{};n.format=n.format||"html";if(!n.no_events){n.node=q;h.dispatch(self,n)}k=new a.html.Serializer(e,f);n.content=k.serialize(c.parse(a.trim(n.getInner?q.innerHTML:j.getOuterHTML(q)),n));if(!n.cleanup){n.content=n.content.replace(/\uFEFF|\u200B/g,"")}if(!n.no_events){b.dispatch(self,n)}if(l){j.doc=l}n.node=null;return n.content},addRules:function(k){f.addValidElements(k)},setRules:function(k){f.setValidElements(k)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(h){var c=0,l=1,j=2,m={},k=[],e={},d=[],g=0,f;function b(n,A){var B=this,s=a.DOM,v,q,u,o;function r(){s.remove(o);if(v){v.onreadystatechange=v.onload=v=null}A()}function z(){if(typeof(console)!=="undefined"&&console.log){console.log("Failed to load: "+n)}}o=s.uniqueId();if(a.isIE6){q=new a.util.URI(n);u=location;if(q.host==u.hostname&&q.port==u.port&&(q.protocol+":")==u.protocol&&q.protocol.toLowerCase()!="file"){a.util.XHR.send({url:a._addVer(q.getURI()),success:function(C){var t=s.create("script",{type:"text/javascript"});t.text=C;document.getElementsByTagName("head")[0].appendChild(t);s.remove(t);r()},error:z});return}}v=document.createElement("script");v.id=o;v.type="text/javascript";v.src=a._addVer(n);if(!a.isIE){v.onload=r}v.onerror=z;if(!a.isOpera){v.onreadystatechange=function(){var t=v.readyState;if(t=="complete"||t=="loaded"){r()}}}(document.getElementsByTagName("head")[0]||document.body).appendChild(v)}this.isDone=function(n){return m[n]==j};this.markDone=function(n){m[n]=j};this.add=this.load=function(n,s,o){var q,r=m[n];if(r==f){k.push(n);m[n]=c}if(s){if(!e[n]){e[n]=[]}e[n].push({func:s,scope:o||this})}};this.loadQueue=function(o,n){this.loadScripts(k,o,n)};this.loadScripts=function(n,s,r){var q;function o(t){a.each(e[t],function(u){u.func.call(u.scope)});e[t]=f}d.push({func:s,scope:r||this});q=function(){var t=a.grep(n);n.length=0;a.each(t,function(u){if(m[u]==j){o(u);return}if(m[u]!=l){m[u]=l;g++;b(u,function(){m[u]=j;g--;o(u);q()})}});if(!g){a.each(d,function(u){u.func.call(u.scope)});d.length=0}};q()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);(function(a){a.dom.RangeUtils=function(c){var b="\uFEFF";this.walk=function(d,u){var j=d.startContainer,m=d.startOffset,v=d.endContainer,n=d.endOffset,k,g,q,h,t,s,e;e=c.select("td.mceSelected,th.mceSelected");if(e.length>0){a.each(e,function(z){u([z])});return}function f(z){var A;A=z[0];if(A.nodeType===3&&A===j&&m>=A.nodeValue.length){z.splice(0,1)}A=z[z.length-1];if(n===0&&z.length>0&&A===v&&A.nodeType===3){z.splice(z.length-1,1)}return z}function r(B,A,z){var C=[];for(;B&&B!=z;B=B[A]){C.push(B)}return C}function o(A,z){do{if(A.parentNode==z){return A}A=A.parentNode}while(A)}function l(B,A,C){var z=C?"nextSibling":"previousSibling";for(h=B,t=h.parentNode;h&&h!=A;h=t){t=h.parentNode;s=r(h==B?h:h[z],z);if(s.length){if(!C){s.reverse()}u(f(s))}}}if(j.nodeType==1&&j.hasChildNodes()){j=j.childNodes[m]}if(v.nodeType==1&&v.hasChildNodes()){v=v.childNodes[Math.min(n-1,v.childNodes.length-1)]}if(j==v){return u(f([j]))}k=c.findCommonAncestor(j,v);for(h=j;h;h=h.parentNode){if(h===v){return l(j,k,true)}if(h===k){break}}for(h=v;h;h=h.parentNode){if(h===j){return l(v,k)}if(h===k){break}}g=o(j,k)||j;q=o(v,k)||v;l(j,g,true);s=r(g==j?g:g.nextSibling,"nextSibling",q==v?q.nextSibling:q);if(s.length){u(f(s))}l(v,q)};this.split=function(e){var h=e.startContainer,d=e.startOffset,j=e.endContainer,g=e.endOffset;function f(k,l){return k.splitText(l)}if(h==j&&h.nodeType==3){if(d>0&&d<h.nodeValue.length){j=f(h,d);h=j.previousSibling;if(g>d){g=g-d;h=j=f(j,g).previousSibling;g=j.nodeValue.length;d=0}else{g=0}}}else{if(h.nodeType==3&&d>0&&d<h.nodeValue.length){h=f(h,d);d=0}if(j.nodeType==3&&g>0&&g<j.nodeValue.length){j=f(j,g).previousSibling;g=j.nodeValue.length}}return{startContainer:h,startOffset:d,endContainer:j,endOffset:g}}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(b){var a=b.dom.Event,c=b.each;b.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(e,f){var s=this,o=e.root,n=e.items,q=e.enableUpDown,j=e.enableLeftRight||!e.enableUpDown,m=e.excludeFromTabOrder,l,h,r,d,g;f=f||b.DOM;l=function(t){g=t.target.id};h=function(t){f.setAttrib(t.target.id,"tabindex","-1")};d=function(t){var u=f.get(g);f.setAttrib(u,"tabindex","0");u.focus()};s.focus=function(){f.get(g).focus()};s.destroy=function(){c(n,function(u){var v=f.get(u.id);f.unbind(v,"focus",l);f.unbind(v,"blur",h)});var t=f.get(o);f.unbind(t,"focus",d);f.unbind(t,"keydown",r);n=f=o=s.focus=l=h=r=d=null;s.destroy=function(){}};s.moveFocus=function(A,u){var t=-1,z=s.controls,v;if(!g){return}c(n,function(C,B){if(C.id===g){t=B;return false}});t+=A;if(t<0){t=n.length-1}else{if(t>=n.length){t=0}}v=n[t];f.setAttrib(g,"tabindex","-1");f.setAttrib(v.id,"tabindex","0");f.get(v.id).focus();if(e.actOnFocus){e.onAction(v.id)}if(u){a.cancel(u)}};r=function(D){var A=37,z=39,C=38,E=40,t=27,v=14,u=13,B=32;switch(D.keyCode){case A:if(j){s.moveFocus(-1)}break;case z:if(j){s.moveFocus(1)}break;case C:if(q){s.moveFocus(-1)}break;case E:if(q){s.moveFocus(1)}break;case t:if(e.onCancel){e.onCancel();a.cancel(D)}break;case v:case u:case B:if(e.onAction){e.onAction(g);a.cancel(D)}break}};c(n,function(v,t){var u,z;if(!v.id){v.id=f.uniqueId("_mce_item_")}z=f.get(v.id);if(m){f.bind(z,"blur",h);u="-1"}else{u=(t===0?"0":"-1")}z.setAttribute("tabindex",u);f.bind(z,"focus",l)});if(n[0]){g=n[0].id}f.setAttrib(o,"tabindex","-1");var k=f.get(o);f.bind(k,"focus",d);f.bind(k,"keydown",r)}})})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create("tinymce.ui.Control",{Control:function(f,e,d){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix="";this.scope=e.scope||this;this.disabled=0;this.active=0;this.editor=d},setAriaProperty:function(f,e){var d=b.get(this.id+"_aria")||b.get(this.id);if(d){b.setAttrib(d,"aria-"+f,!!e)}},focus:function(){b.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty("disabled",d);this.setState("Disabled",d);this.setState("Enabled",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState("Active",d);this.active=d;this.setAriaProperty("pressed",d)}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(c,b,a){this.parent(c,b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(b,a){this.parent(b,a);this.classPrefix="mceSeparator";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.setAriaProperty("checked",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},"items",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},"items",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},"items",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(h,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g["class"]+=" mceNoIcons"}this.parent(h,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(k){var h=this,j=h.settings,g;k.container=k.container||j.container;k.parent=h;k.constrain=k.constrain||j.constrain;k["class"]=k["class"]||j["class"];k.vp_offset_x=k.vp_offset_x||j.vp_offset_x;k.vp_offset_y=k.vp_offset_y||j.vp_offset_y;k.keyboard_focus=j.keyboard_focus;g=new e.ui.DropMenu(k.id||c.uniqueId(),k);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var j=this,k=j.settings,g=c.get("menu_"+j.id+"_tbl"),m=c.get("menu_"+j.id+"_co"),h,l;h=k.max_width?Math.min(g.offsetWidth,k.max_width):g.offsetWidth;l=k.max_height?Math.min(g.offsetHeight,k.max_height):g.offsetHeight;if(!c.boxModel){j.element.setStyles({width:h+2,height:l+2})}else{j.element.setStyles({width:h,height:l})}if(k.max_width){c.setStyle(m,"width",h)}if(k.max_height){c.setStyle(m,"height",l);if(g.clientHeight<k.max_height){c.setStyle(m,"overflow","hidden")}}},showMenu:function(r,o,v){var B=this,C=B.settings,q,g=c.getViewPort(),z,m,A,u,j=2,l,k,n=B.classPrefix;B.collapse(1);if(B.isMenuVisible){return}if(!B.rendered){q=c.add(B.settings.container,B.renderNode());f(B.items,function(h){h.postRender()});B.element=new b("menu_"+B.id,{blocker:1,container:C.container})}else{q=c.get("menu_"+B.id)}if(!e.isOpera){c.setStyles(q,{left:-65535,top:-65535})}c.show(q);B.update();r+=C.offset_x||0;o+=C.offset_y||0;g.w-=4;g.h-=4;if(C.constrain){z=q.clientWidth-j;m=q.clientHeight-j;A=g.x+g.w;u=g.y+g.h;if((r+C.vp_offset_x+z)>A){r=v?v-z:Math.max(0,(A-C.vp_offset_x)-z)}if((o+C.vp_offset_y+m)>u){o=Math.max(0,(u-C.vp_offset_y)-m)}}c.setStyles(q,{left:r,top:o});B.element.update();B.isMenuVisible=1;B.mouseClickFunc=a.add(q,"click",function(s){var h;s=s.target;if(s&&(s=c.getParent(s,"tr"))&&!c.hasClass(s,n+"ItemSub")){h=B.items[s.id];if(h.isDisabled()){return}l=B;while(l){if(l.hideMenu){l.hideMenu()}l=l.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return false}});if(B.hasMenus()){B.mouseOverFunc=a.add(q,"mouseover",function(D){var h,t,s;D=D.target;if(D&&(D=c.getParent(D,"tr"))){h=B.items[D.id];if(B.lastMenu){B.lastMenu.collapse(1)}if(h.isDisabled()){return}if(D&&c.hasClass(D,n+"ItemSub")){t=c.getRect(D);h.showMenu((t.x+t.w-j),t.y-j,t.x);B.lastMenu=h;c.addClass(c.get(h.id).firstChild,n+"ItemActive")}}})}a.add(q,"keydown",B._keyHandler,B);B.onShowMenu.dispatch(B);if(C.keyboard_focus){B._setupKeyboardNav()}},hideMenu:function(k){var g=this,j=c.get("menu_"+g.id),h;if(!g.isMenuVisible){return}if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(j,"mouseover",g.mouseOverFunc);a.remove(j,"click",g.mouseClickFunc);a.remove(j,"keydown",g._keyHandler);c.hide(j);g.isMenuVisible=0;if(!k){g.collapse(1)}if(g.element){g.element.hide()}if(h=c.get(g.id)){c.removeClass(h.firstChild,g.classPrefix+"ItemActive")}g.onHideMenu.dispatch(g)},add:function(j){var g=this,h;j=g.parent(j);if(g.isRendered&&(h=c.get("menu_"+g.id))){g._add(c.select("tbody",h)[0],j)}return j},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=c.get("menu_"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(h,"mouseover",g.mouseOverFunc);a.remove(c.select("a",h),"focus",g.mouseOverFunc);a.remove(h,"click",g.mouseClickFunc);a.remove(h,"keydown",g._keyHandler);if(g.element){g.element.remove()}c.remove(h)},renderNode:function(){var j=this,k=j.settings,m,h,l,g;g=c.create("div",{role:"listbox",id:"menu_"+j.id,"class":k["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"});if(j.settings.parent){c.setAttrib(g,"aria-parent","menu_"+j.settings.parent.id)}l=c.add(g,"div",{role:"presentation",id:"menu_"+j.id+"_co","class":j.classPrefix+(k["class"]?" "+k["class"]:"")});j.element=new b("menu_"+j.id,{blocker:1,container:k.container});if(k.menu_line){c.add(l,"span",{"class":j.classPrefix+"Line"})}m=c.add(l,"table",{role:"presentation",id:"menu_"+j.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});h=c.add(m,"tbody");f(j.items,function(n){j._add(h,n)});j.rendered=true;return g},_setupKeyboardNav:function(){var j,h,g=this;j=c.get("menu_"+g.id);h=c.select("a[role=option]","menu_"+g.id);h.splice(0,0,j);g.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+g.id,items:h,onCancel:function(){g.hideMenu()},enableUpDown:true});j.focus()},_keyHandler:function(g){var h=this,j;switch(g.keyCode){case 37:if(h.settings.parent){h.hideMenu();h.settings.parent.focus();a.cancel(g)}break;case 39:if(h.mouseOverFunc){h.mouseOverFunc(g)}break}},_add:function(k,h){var j,t=h.settings,r,m,l,q=this.classPrefix,g;if(t.separator){m=c.add(k,"tr",{id:h.id,"class":q+"ItemSeparator"});c.add(m,"td",{"class":q+"ItemSeparator"});if(j=m.previousSibling){c.addClass(j,"mceLast")}return}j=m=c.add(k,"tr",{id:h.id,"class":q+"Item "+q+"ItemEnabled"});j=l=c.add(j,t.titleItem?"th":"td");j=r=c.add(j,"a",{id:h.id+"_aria",role:t.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});if(t.parent){c.setAttrib(r,"aria-haspopup","true");c.setAttrib(r,"aria-owns","menu_"+h.id)}c.addClass(l,t["class"]);g=c.add(j,"span",{"class":"mceIcon"+(t.icon?" mce_"+t.icon:"")});if(t.icon_src){c.add(g,"img",{src:t.icon_src})}j=c.add(j,t.element||"span",{"class":"mceText",title:h.settings.title},h.settings.title);if(h.settings.style){if(typeof h.settings.style=="function"){h.settings.style=h.settings.style()}c.setAttrib(j,"style",h.settings.style)}if(k.childNodes.length==1){c.addClass(m,"mceFirst")}if((j=m.previousSibling)&&c.hasClass(j,q+"ItemSeparator")){c.addClass(m,"mceFirst")}if(h.collapse){c.addClass(m,q+"ItemSub")}if(j=m.previousSibling){c.removeClass(j,"mceLast")}c.addClass(m,"mceLast")}})})(tinymce);(function(b){var a=b.DOM;b.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,d,c){this.parent(e,d,c);this.classPrefix="mceButton"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||"");d='<a role="button" id="'+this.id+'" href="javascript:;" class="'+f+" "+f+"Enabled "+e["class"]+(c?" "+f+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+a.encode(e.title)+'">';if(e.image&&!(this.editor&&this.editor.forcedHighContrastMode)){d+='<img class="mceIcon" src="'+e.image+'" alt="'+a.encode(e.title)+'" />'+c}else{d+='<span class="mceIcon '+e["class"]+'"></span>'+(c?'<span class="'+f+'Label">'+c+"</span>":"")}d+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+e.title+"</span>";d+="</a>";return d},postRender:function(){var d=this,e=d.settings,c;if(b.isIE&&d.editor){b.dom.Event.add(d.id,"mousedown",function(f){var g=d.editor.selection.getNode().nodeName;c=g==="IMG"?d.editor.selection.getBookmark():null})}b.dom.Event.add(d.id,"click",function(f){if(!d.isDisabled()){if(b.isIE&&d.editor&&c!==null){d.editor.selection.moveToBookmark(c)}return e.onclick.call(e.scope,f)}});b.dom.Event.add(d.id,"keyup",function(f){if(!d.isDisabled()&&f.keyCode==b.VK.SPACEBAR){return e.onclick.call(e.scope,f)}})}})})(tinymce);(function(e){var d=e.DOM,b=e.dom.Event,f=e.each,a=e.util.Dispatcher,c;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(k,j,g){var h=this;h.parent(k,j,g);h.items=[];h.onChange=new a(h);h.onPostRender=new a(h);h.onAdd=new a(h);h.onRenderMenu=new e.util.Dispatcher(this);h.classPrefix="mceListBox";h.marked={}},select:function(h){var g=this,k,j;g.marked={};if(h==c){return g.selectByIndex(-1)}if(h&&typeof(h)=="function"){j=h}else{j=function(l){return l==h}}if(h!=g.selectedValue){f(g.items,function(m,l){if(j(m.value)){k=1;g.selectByIndex(l);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(g){var j=this,k,l,h;j.marked={};if(g!=j.selectedIndex){k=d.get(j.id+"_text");h=d.get(j.id+"_voiceDesc");l=j.items[g];if(l){j.selectedValue=l.value;j.selectedIndex=g;d.setHTML(k,d.encode(l.title));d.setHTML(h,j.settings.title+" - "+l.title);d.removeClass(k,"mceTitle");d.setAttrib(j.id,"aria-valuenow",l.title)}else{d.setHTML(k,d.encode(j.settings.title));d.setHTML(h,d.encode(j.settings.title));d.addClass(k,"mceTitle");j.selectedValue=j.selectedIndex=null;d.setAttrib(j.id,"aria-valuenow",j.settings.title)}k=0}},mark:function(g){this.marked[g]=true},add:function(k,g,j){var h=this;j=j||{};j=e.extend(j,{title:k,value:g});h.items.push(j);h.onAdd.dispatch(h,j)},getLength:function(){return this.items.length},renderHTML:function(){var k="",g=this,j=g.settings,l=g.classPrefix;k='<span role="listbox" aria-haspopup="true" aria-labelledby="'+g.id+'_voiceDesc" aria-describedby="'+g.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+g.id+'" cellpadding="0" cellspacing="0" class="'+l+" "+l+"Enabled"+(j["class"]?(" "+j["class"]):"")+'"><tbody><tr>';k+="<td>"+d.createHTML("span",{id:g.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},g.settings.title);k+=d.createHTML("a",{id:g.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},d.encode(g.settings.title))+"</td>";k+="<td>"+d.createHTML("a",{id:g.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span></span>')+"</td>";k+="</tr></tbody></table></span>";return k},showMenu:function(){var h=this,k,j=d.get(this.id),g;if(h.isDisabled()||h.items.length===0){return}if(h.menu&&h.menu.isMenuVisible){return h.hideMenu()}if(!h.isMenuRendered){h.renderMenu();h.isMenuRendered=true}k=d.getPos(j);g=h.menu;g.settings.offset_x=k.x;g.settings.offset_y=k.y;g.settings.keyboard_focus=!e.isOpera;f(h.items,function(l){if(g.items[l.id]){g.items[l.id].setSelected(0)}});f(h.items,function(l){if(g.items[l.id]&&h.marked[l.value]){g.items[l.id].setSelected(1)}if(l.value===h.selectedValue){g.items[l.id].setSelected(1)}});g.showMenu(0,j.clientHeight);b.add(d.doc,"mousedown",h.hideMenu,h);d.addClass(h.id,h.classPrefix+"Selected")},hideMenu:function(h){var g=this;if(g.menu&&g.menu.isMenuVisible){d.removeClass(g.id,g.classPrefix+"Selected");if(h&&h.type=="mousedown"&&(h.target.id==g.id+"_text"||h.target.id==g.id+"_open")){return}if(!h||!d.getParent(h.target,".mceMenu")){d.removeClass(g.id,g.classPrefix+"Selected");b.remove(d.doc,"mousedown",g.hideMenu,g);g.menu.hideMenu()}}},renderMenu:function(){var h=this,g;g=h.settings.control_manager.createDropMenu(h.id+"_menu",{menu_line:1,"class":h.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150});g.onHideMenu.add(function(){h.hideMenu();h.focus()});g.add({title:h.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(h.settings.onselect("")!==false){h.select("")}}});f(h.items,function(j){if(j.value===c){g.add({title:j.title,role:"option","class":"mceMenuItemTitle",onclick:function(){if(h.settings.onselect("")!==false){h.select("")}}})}else{j.id=d.uniqueId();j.role="option";j.onclick=function(){if(h.settings.onselect(j.value)!==false){h.select(j.value)}};g.add(j)}});h.onRenderMenu.dispatch(h,g);h.menu=g},postRender:function(){var g=this,h=g.classPrefix;b.add(g.id,"click",g.showMenu,g);b.add(g.id,"keydown",function(j){if(j.keyCode==32){g.showMenu(j);b.cancel(j)}});b.add(g.id,"focus",function(){if(!g._focused){g.keyDownHandler=b.add(g.id,"keydown",function(j){if(j.keyCode==40){g.showMenu();b.cancel(j)}});g.keyPressHandler=b.add(g.id,"keypress",function(k){var j;if(k.keyCode==13){j=g.selectedValue;g.selectedValue=null;b.cancel(k);g.settings.onselect(j)}})}g._focused=1});b.add(g.id,"blur",function(){b.remove(g.id,"keydown",g.keyDownHandler);b.remove(g.id,"keypress",g.keyPressHandler);g._focused=0});if(e.isIE6||!d.boxModel){b.add(g.id,"mouseover",function(){if(!d.hasClass(g.id,h+"Disabled")){d.addClass(g.id,h+"Hover")}});b.add(g.id,"mouseout",function(){if(!d.hasClass(g.id,h+"Disabled")){d.removeClass(g.id,h+"Hover")}})}g.onPostRender.dispatch(g,d.get(g.id))},destroy:function(){this.parent();b.clear(this.id+"_text");b.clear(this.id+"_open")}})})(tinymce);(function(e){var d=e.DOM,b=e.dom.Event,f=e.each,a=e.util.Dispatcher,c;e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(h,g){this.parent(h,g);this.classPrefix="mceNativeListBox"},setDisabled:function(g){d.get(this.id).disabled=g;this.setAriaProperty("disabled",g)},isDisabled:function(){return d.get(this.id).disabled},select:function(h){var g=this,k,j;if(h==c){return g.selectByIndex(-1)}if(h&&typeof(h)=="function"){j=h}else{j=function(l){return l==h}}if(h!=g.selectedValue){f(g.items,function(m,l){if(j(m.value)){k=1;g.selectByIndex(l);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(g){d.get(this.id).selectedIndex=g+1;this.selectedValue=this.items[g]?this.items[g].value:null},add:function(l,h,g){var k,j=this;g=g||{};g.value=h;if(j.isRendered()){d.add(d.get(this.id),"option",g,l)}k={title:l,value:h,attribs:g};j.items.push(k);j.onAdd.dispatch(j,k)},getLength:function(){return this.items.length},renderHTML:function(){var j,g=this;j=d.createHTML("option",{value:""},"-- "+g.settings.title+" --");f(g.items,function(h){j+=d.createHTML("option",{value:h.value},h.title)});j=d.createHTML("select",{id:g.id,"class":"mceNativeListBox","aria-labelledby":g.id+"_aria"},j);j+=d.createHTML("span",{id:g.id+"_aria",style:"display: none"},g.settings.title);return j},postRender:function(){var h=this,j,k=true;h.rendered=true;function g(m){var l=h.items[m.target.selectedIndex-1];if(l&&(l=l.value)){h.onChange.dispatch(h,l);if(h.settings.onselect){h.settings.onselect(l)}}}b.add(h.id,"change",g);b.add(h.id,"keydown",function(m){var l;b.remove(h.id,"change",j);k=false;l=b.add(h.id,"blur",function(){if(k){return}k=true;b.add(h.id,"change",g);b.remove(h.id,"blur",l)});if(e.isWebKit&&(m.keyCode==37||m.keyCode==39)){return b.prevent(m)}if(m.keyCode==13||m.keyCode==32){g(m);return b.cancel(m)}});h.onPostRender.dispatch(h,d.get(h.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(g,f,e){this.parent(g,f,e);this.onRenderMenu=new c.util.Dispatcher(this);f.menu_container=f.menu_container||b.doc.body},showMenu:function(){var g=this,k,j,h=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}k=b.getPos(g.settings.menu_container);j=b.getPos(h);f=g.menu;f.settings.offset_x=j.x;f.settings.offset_y=j.y;f.settings.vp_offset_x=j.x;f.settings.vp_offset_y=j.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.firstChild.clientHeight);a.add(b.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&b.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+"_open"})){return}if(!g||!b.getParent(g.target,".mceMenu")){f.setState("Selected",0);a.remove(b.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,"click",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(g,f,e){this.parent(g,f,e);this.classPrefix="mceSplitButton"},renderHTML:function(){var j,f=this,g=f.settings,e;j="<tbody><tr>";if(g.image){e=b.createHTML("img ",{src:g.image,role:"presentation","class":"mceAction "+g["class"]})}else{e=b.createHTML("span",{"class":"mceAction "+g["class"]},"")}e+=b.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:f.id+"_voice",style:"display:none;"},g.title);j+="<td >"+b.createHTML("a",{role:"button",id:f.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";e=b.createHTML("span",{"class":"mceOpen "+g["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25BC</span>');j+="<td >"+b.createHTML("a",{role:"button",id:f.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";j+="</tr></tbody>";j=b.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+g["class"],cellpadding:"0",cellspacing:"0",title:g.title},j);return b.createHTML("div",{id:f.id,role:"button",tabindex:"0","aria-labelledby":f.id+"_voice","aria-haspopup":"true"},j)},postRender:function(){var e=this,g=e.settings,f;if(g.onclick){f=function(h){if(!e.isDisabled()){g.onclick(e.value);a.cancel(h)}};a.add(e.id+"_action","click",f);a.add(e.id,["click","keydown"],function(h){var l=32,n=14,j=13,k=38,m=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){f();a.cancel(h)}else{if(h.type==="click"||h.keyCode===m){e.showMenu();a.cancel(h)}}})}a.add(e.id+"_open","click",function(h){e.showMenu();a.cancel(h)});a.add([e.id,e.id+"_open"],"focus",function(){e._focused=1});a.add([e.id,e.id+"_open"],"blur",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,"mouseover",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.addClass(e.id,"mceSplitButtonHover")}});a.add(e.id,"mouseout",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.removeClass(e.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();a.clear(this.id+"_action");a.clear(this.id+"_open");a.clear(this.id)}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(j,h,f){var g=this;g.parent(j,h,f);g.settings=h=d.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},g.settings);g.onShowMenu=new d.util.Dispatcher(g);g.onHideMenu=new d.util.Dispatcher(g);g.value=h.default_color},showMenu:function(){var f=this,g,k,j,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}j=c.get(f.id);c.show(f.id+"_menu");c.addClass(j,"mceSplitButtonSelected");h=c.getPos(j);c.setStyles(f.id+"_menu",{left:h.x,top:h.y+j.firstChild.clientHeight,zIndex:200000});j=0;a.add(c.doc,"mousedown",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+"_menu","keydown",function(l){if(l.keyCode==27){f.hideMenu()}});c.select("a",f.id+"_menu")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(f.isMenuVisible){if(g&&g.type=="mousedown"&&c.getParent(g.target,function(h){return h.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceSplitButtonMenu")){c.removeClass(f.id,"mceSplitButtonSelected");a.remove(c.doc,"mousedown",f.hideMenu,f);a.remove(f.id+"_menu","keydown",f._keyHandler);c.hide(f.id+"_menu")}f.isMenuVisible=0;f.onHideMenu.dispatch()}},renderMenu:function(){var q=this,h,k=0,r=q.settings,g,j,l,o,f;o=c.add(r.menu_container,"div",{role:"listbox",id:q.id+"_menu","class":r.menu_class+" "+r["class"],style:"position:absolute;left:0;top:-1000px;"});h=c.add(o,"div",{"class":r["class"]+" mceSplitButtonMenu"});c.add(h,"span",{"class":"mceMenuLine"});g=c.add(h,"table",{role:"presentation","class":"mceColorSplitMenu"});j=c.add(g,"tbody");k=0;e(b(r.colors,"array")?r.colors:r.colors.split(","),function(n){n=n.replace(/^#/,"");if(!k--){l=c.add(j,"tr");k=r.grid_width-1}g=c.add(l,"td");var m={href:"javascript:;",style:{backgroundColor:"#"+n},title:q.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};if(!d.isIE){m.role="option"}g=c.add(g,"a",m);if(q.editor.forcedHighContrastMode){g=c.add(g,"canvas",{width:16,height:16,"aria-hidden":"true"});if(g.getContext&&(f=g.getContext("2d"))){f.fillStyle="#"+n;f.fillRect(0,0,16,16)}else{c.remove(g)}}});if(r.more_colors_func){g=c.add(j,"tr");g=c.add(g,"td",{colspan:r.grid_width,"class":"mceMoreColors"});g=c.add(g,"a",{role:"option",id:q.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},r.more_colors_title);a.add(g,"click",function(m){r.more_colors_func.call(r.more_colors_scope||this);return a.cancel(m)})}c.addClass(h,"mceColorSplitMenu");new d.ui.KeyboardNavigation({root:q.id+"_menu",items:c.select("a",q.id+"_menu"),onCancel:function(){q.hideMenu();q.focus()}});a.add(q.id+"_menu","mousedown",function(m){return a.cancel(m)});a.add(q.id+"_menu","click",function(m){var n;m=c.getParent(m.target,"a",j);if(m&&m.nodeName.toLowerCase()=="a"&&(n=m.getAttribute("data-mce-color"))){q.setColor(n)}return false});return o},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;c.setStyle(f.id+"_preview","backgroundColor",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+"_action","div",{id:g+"_preview","class":"mceColorPreview"});c.setStyle(f.id+"_preview","backgroundColor",f.value)},destroy:function(){this.parent();a.clear(this.id+"_menu");a.clear(this.id+"_more");c.remove(this.id+"_menu")}})})(tinymce);(function(b){var d=b.DOM,c=b.each,a=b.dom.Event;b.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var f=this,j=[],e=f.controls,k=b.each,g=f.settings;j.push('<div id="'+f.id+'" role="group" aria-labelledby="'+f.id+'_voice">');j.push("<span role='application'>");j.push('<span id="'+f.id+'_voice" class="mceVoiceLabel" style="display:none;">'+d.encode(g.name)+"</span>");k(e,function(h){j.push(h.renderHTML())});j.push("</span>");j.push("</div>");return j.join("")},focus:function(){var e=this;d.get(e.id).focus()},postRender:function(){var f=this,e=[];c(f.controls,function(g){c(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new b.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){if(b.isWebKit){d.get(f.editor.id+"_ifr").focus()}f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();a.clear(e.id)}})})(tinymce);(function(a){var c=a.DOM,b=a.each;a.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var m=this,f="",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j="mceToolbarStart";if(k.Button){j+=" mceToolbarStartButton"}else{if(k.SplitButton){j+=" mceToolbarStartSplitButton"}else{if(k.ListBox){j+=" mceToolbarStartListBox"}}}f+=c.createHTML("td",{"class":j},c.createHTML("span",null,"<!-- IE -->"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=c.createHTML("td",{"class":"mceToolbarEnd"},c.createHTML("span",null,"<!-- IE -->"))}}if(c.stdMode){f+='<td style="position: relative">'+k.renderHTML()+"</td>"}else{f+="<td>"+k.renderHTML()+"</td>"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=c.createHTML("td",{"class":"mceToolbarStart"},c.createHTML("span",null,"<!-- IE -->"))}}}j="mceToolbarEnd";if(k.Button){j+=" mceToolbarEndButton"}else{if(k.SplitButton){j+=" mceToolbarEndSplitButton"}else{if(k.ListBox){j+=" mceToolbarEndListBox"}}}f+=c.createHTML("td",{"class":j},c.createHTML("span",null,"<!-- IE -->"));return c.createHTML("table",{id:m.id,"class":"mceToolbar"+(n["class"]?" "+n["class"]:""),cellpadding:"0",cellspacing:"0",align:m.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+f+"</tr></tbody>")}})})(tinymce);(function(b){var a=b.util.Dispatcher,c=b.each;b.create("tinymce.AddOnManager",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){if(this.lookup[d]){return this.lookup[d].instance}else{return undefined}},dependencies:function(e){var d;if(this.lookup[e]){d=this.lookup[e].dependencies}return d||[]},requireLangPack:function(e){var d=b.settings;if(d&&d.language&&d.language_load!==false){b.ScriptLoader.add(this.urls[e]+"/langs/"+d.language+".js")}},add:function(f,e,d){this.items.push(e);this.lookup[f]={instance:e,dependencies:d};this.onAdd.dispatch(this,f,e);return e},createUrl:function(d,e){if(typeof e==="object"){return e}else{return{prefix:d.prefix,resource:e,suffix:d.suffix}}},addComponents:function(f,d){var e=this.urls[f];b.each(d,function(g){b.ScriptLoader.add(e+"/"+g)})},load:function(k,f,d,h){var g=this,e=f;function j(){var l=g.dependencies(k);b.each(l,function(n){var m=g.createUrl(f,n);g.load(m.resource,m,undefined,undefined)});if(d){if(h){d.call(h)}else{d.call(b.ScriptLoader)}}}if(g.urls[k]){return}if(typeof f==="object"){e=f.prefix+f.resource+f.suffix}if(e.indexOf("/")!==0&&e.indexOf("://")==-1){e=b.baseURL+"/"+e}g.urls[k]=e.substring(0,e.lastIndexOf("/"));if(g.lookup[k]){j()}else{b.ScriptLoader.add(e,j,h)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(k){var g=k.each,d=k.extend,l=k.DOM,j=k.dom.Event,f=k.ThemeManager,b=k.PluginManager,e=k.explode,h=k.util.Dispatcher,a,c=0;k.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(k.documentBaseURL)){k.documentBaseURL+="/"}k.baseURL=new k.util.URI(k.documentBaseURL).toAbsolute(k.baseURL);k.baseURI=new k.util.URI(k.baseURL);k.onBeforeUnload=new h(k);j.add(window,"beforeunload",function(m){k.onBeforeUnload.dispatch(k,m)});k.onAddEditor=new h(k);k.onRemoveEditor=new h(k);k.EditorManager=d(k,{editors:[],i18n:{},activeEditor:null,init:function(B){var A=this,q,o=k.ScriptLoader,z,m=[],v;function u(t){var s=t.id;if(!s){s=t.name;if(s&&!l.get(s)){s=t.name}else{s=l.uniqueId()}t.setAttribute("id",s)}return s}function n(D,E,t){var C=D[E];if(!C){return}if(k.is(C,"string")){t=C.replace(/\.\w+$/,"");t=t?k.resolve(t):0;C=k.resolve(C)}return C.apply(t||this,Array.prototype.slice.call(arguments,2))}function r(t,s){return s.constructor===RegExp?s.test(t.className):l.hasClass(t,s)}A.settings=B;j.bind(window,"ready",function(){var s,t;n(B,"onpageload");switch(B.mode){case"exact":s=B.elements||"";if(s.length>0){g(e(s),function(C){if(l.get(C)){v=new k.Editor(C,B);m.push(v);v.render(1)}else{g(document.forms,function(D){g(D.elements,function(E){if(E.name===C){C="mce_editor_"+c++;l.setAttrib(E,"id",C);v=new k.Editor(C,B);m.push(v);v.render(1)}})})}})}break;case"textareas":case"specific_textareas":g(l.select("textarea"),function(C){if(B.editor_deselector&&r(C,B.editor_deselector)){return}if(!B.editor_selector||r(C,B.editor_selector)){v=new k.Editor(u(C),B);m.push(v);v.render(1)}});break;default:if(B.types){g(B.types,function(C){g(l.select(C.selector),function(E){var D=new k.Editor(u(E),k.extend({},B,C));m.push(D);D.render(1)})})}else{if(B.selector){g(l.select(B.selector),function(D){var C=new k.Editor(u(D),B);m.push(C);C.render(1)})}}}if(B.oninit){s=t=0;g(m,function(C){t++;if(!C.initialized){C.onInit.add(function(){s++;if(s==t){n(B,"oninit")}})}else{s++}if(s==t){n(B,"oninit")}})}})},get:function(m){if(m===a){return this.editors}return this.editors[m]},getInstanceById:function(m){return this.get(m)},add:function(n){var m=this,o=m.editors;o[n.id]=n;o.push(n);m._setActive(n);m.onAddEditor.dispatch(m,n);return n},remove:function(o){var n=this,m,q=n.editors;if(!q[o.id]){return null}delete q[o.id];for(m=0;m<q.length;m++){if(q[m]==o){q.splice(m,1);break}}if(n.activeEditor==o){n._setActive(q[0])}o.destroy();n.onRemoveEditor.dispatch(n,o);return o},execCommand:function(z,r,q){var s=this,o=s.get(q),m;function n(){o.destroy();m.detachEvent("onunload",n);m=m.tinyMCE=m.tinymce=null}switch(z){case"mceFocus":o.focus();return true;case"mceAddEditor":case"mceAddControl":if(!s.get(q)){new k.Editor(q,s.settings).render()}return true;case"mceAddFrameControl":m=q.window;m.tinyMCE=tinyMCE;m.tinymce=k;k.DOM.doc=m.document;k.DOM.win=m;o=new k.Editor(q.element_id,q);o.render();if(k.isIE){m.attachEvent("onunload",n)}q.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(o){o.remove()}return true;case"mceToggleEditor":if(!o){s.execCommand("mceAddControl",0,q);return true}if(o.isHidden()){o.show()}else{o.hide()}return true}if(s.activeEditor){return s.activeEditor.execCommand(z,r,q)}return false},execInstanceCommand:function(r,q,o,n){var m=this.get(r);if(m){return m.execCommand(q,o,n)}return false},triggerSave:function(){g(this.editors,function(m){m.save()})},addI18n:function(q,r){var m,n=this.i18n;if(!k.is(q,"string")){g(q,function(t,s){g(t,function(v,u){g(v,function(A,z){if(u==="common"){n[s+"."+z]=A}else{n[s+"."+u+"."+z]=A}})})})}else{g(r,function(t,s){n[q+"."+s]=t})}},_setActive:function(m){this.selectedInstance=this.activeEditor=m}})})(tinymce);(function(l){var m=l.DOM,k=l.dom.Event,f=l.extend,j=l.each,a=l.isGecko,b=l.isIE,e=l.isWebKit,d=l.is,h=l.ThemeManager,c=l.PluginManager,g=l.explode;l.create("tinymce.Editor",{Editor:function(r,q){var n=this,o=true;n.settings=q=f({id:r,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:l.documentBaseURL,add_form_submit_trigger:o,submit_patch:o,add_unload_trigger:o,convert_urls:o,relative_urls:o,remove_script_host:o,table_inline_editing:false,object_resizing:o,accessibility_focus:o,doctype:l.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:o,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:o,directionality:"ltr",forced_root_block:"p",hidden_input:o,padd_empty_editor:o,render_ui:o,indentation:"30px",fix_table_elements:o,inline_styles:o,convert_fonts_to_spans:o,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:o,entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:o},q);n.id=n.editorId=r;n.isNotDirty=false;n.plugins={};n.documentBaseURI=new l.util.URI(q.document_base_url||l.documentBaseURL,{base_uri:tinyMCE.baseURI});n.baseURI=l.baseURI;n.contentCSS=[];n.setupEvents();n.execCommands={};n.queryStateCommands={};n.queryValueCommands={};n.execCallback("setup",n)},render:function(q){var r=this,u=r.settings,v=r.id,n=l.ScriptLoader;if(!k.domLoaded){k.add(window,"ready",function(){r.render()});return}tinyMCE.settings=u;if(!r.getElement()){return}if(l.isIDevice&&!l.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(r.getElement().nodeName)&&u.hidden_input&&m.getParent(v,"form")){m.insertAfter(m.create("input",{type:"hidden",name:v}),v)}if(!u.content_editable){r.orgVisibility=r.getElement().style.visibility;r.getElement().style.visibility="hidden"}if(l.WindowManager){r.windowManager=new l.WindowManager(r)}if(u.encoding=="xml"){r.onGetContent.add(function(s,t){if(t.save){t.content=m.encode(t.content)}})}if(u.add_form_submit_trigger){r.onSubmit.addToTop(function(){if(r.initialized){r.save();r.isNotDirty=1}})}if(u.add_unload_trigger){r._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(r.initialized&&!r.destroyed&&!r.isHidden()){r.save({format:"raw",no_events:true})}})}l.addUnload(r.destroy,r);if(u.submit_patch){r.onBeforeRenderUI.add(function(){var s=r.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){r.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){l.triggerSave();r.isNotDirty=1;return r.formElement._mceOldSubmit(r.formElement)}}s=null})}function o(){if(u.language&&u.language_load!==false){n.add(l.baseURL+"/langs/"+u.language+".js")}if(u.theme&&typeof u.theme!="function"&&u.theme.charAt(0)!="-"&&!h.urls[u.theme]){h.load(u.theme,"themes/"+u.theme+"/editor_template"+l.suffix+".js")}j(g(u.plugins),function(t){if(t&&!c.urls[t]){if(t.charAt(0)=="-"){t=t.substr(1,t.length);var s=c.dependencies(t);j(s,function(A){var z={prefix:"plugins/",resource:A,suffix:"/editor_plugin"+l.suffix+".js"};A=c.createUrl(z,A);c.load(A.resource,A)})}else{if(t=="safari"){return}c.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+l.suffix+".js"})}}});n.loadQueue(function(){if(!r.removed){r.init()}})}o()},init:function(){var v,K=this,L=K.settings,H,C,D,G=K.getElement(),r,q,I,A,F,J,B,z=[];l.add(K);L.aria_label=L.aria_label||m.getAttrib(G,"aria-label",K.getLang("aria.rich_text_area"));if(L.theme){if(typeof L.theme!="function"){L.theme=L.theme.replace(/-/,"");r=h.get(L.theme);K.theme=new r();if(K.theme.init){K.theme.init(K,h.urls[L.theme]||l.documentBaseURL.replace(/\/$/,""))}}else{K.theme=L.theme}}function E(s){var t=c.get(s),o=c.urls[s]||l.documentBaseURL.replace(/\/$/,""),n;if(t&&l.inArray(z,s)===-1){j(c.dependencies(s),function(u){E(u)});n=new t(K,o);K.plugins[s]=n;if(n.init){n.init(K,o);z.push(s)}}}j(g(L.plugins.replace(/\-/g,"")),E);if(L.popup_css!==false){if(L.popup_css){L.popup_css=K.documentBaseURI.toAbsolute(L.popup_css)}else{L.popup_css=K.baseURI.toAbsolute("themes/"+L.theme+"/skins/"+L.skin+"/dialog.css")}}if(L.popup_css_add){L.popup_css+=","+K.documentBaseURI.toAbsolute(L.popup_css_add)}K.controlManager=new l.ControlManager(K);K.onExecCommand.add(function(n,o){if(!/^(FontName|FontSize)$/.test(o)){K.nodeChanged()}});K.onBeforeRenderUI.dispatch(K,K.controlManager);if(L.render_ui&&K.theme){K.orgDisplay=G.style.display;if(typeof L.theme!="function"){H=L.width||G.style.width||G.offsetWidth;C=L.height||G.style.height||G.offsetHeight;D=L.min_height||100;J=/^[0-9\.]+(|px)$/i;if(J.test(""+H)){H=Math.max(parseInt(H,10)+(r.deltaWidth||0),100)}if(J.test(""+C)){C=Math.max(parseInt(C,10)+(r.deltaHeight||0),D)}r=K.theme.renderUI({targetNode:G,width:H,height:C,deltaWidth:L.delta_width,deltaHeight:L.delta_height});m.setStyles(r.sizeContainer||r.editorContainer,{width:H,height:C});C=(r.iframeHeight||C)+(typeof(C)=="number"?(r.deltaHeight||0):"");if(C<D){C=D}}else{r=L.theme(K,G);if(r.editorContainer.nodeType){r.editorContainer=r.editorContainer.id=r.editorContainer.id||K.id+"_parent"}if(r.iframeContainer.nodeType){r.iframeContainer=r.iframeContainer.id=r.iframeContainer.id||K.id+"_iframecontainer"}C=r.iframeHeight||G.offsetHeight;if(b){K.onInit.add(function(n){n.dom.bind(n.getBody(),"beforedeactivate keydown",function(){n.lastIERng=n.selection.getRng()})})}}K.editorContainer=r.editorContainer}if(L.content_css){j(g(L.content_css),function(n){K.contentCSS.push(K.documentBaseURI.toAbsolute(n))})}if(L.content_editable){G=v=r=null;return K.initContentBody()}if(document.domain&&location.hostname!=document.domain){l.relaxedDomain=document.domain}K.iframeHTML=L.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(L.document_base_url!=l.documentBaseURL){K.iframeHTML+='<base href="'+K.documentBaseURI.getURI()+'" />'}if(L.ie7_compat){K.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}else{K.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'}K.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(B=0;B<K.contentCSS.length;B++){K.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+K.contentCSS[B]+'" />'}K.contentCSS=[];A=L.body_id||"tinymce";if(A.indexOf("=")!=-1){A=K.getParam("body_id","","hash");A=A[K.id]||A}F=L.body_class||"";if(F.indexOf("=")!=-1){F=K.getParam("body_class","","hash");F=F[K.id]||""}K.iframeHTML+='</head><body id="'+A+'" class="mceContentBody '+F+'" onload="window.parent.tinyMCE.get(\''+K.id+"').onLoad.dispatch();\"><br></body></html>";if(l.relaxedDomain&&(b||(l.isOpera&&parseFloat(opera.version())<11))){I='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+K.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'}v=m.add(r.iframeContainer,"iframe",{id:K.id+"_ifr",src:I||'javascript:""',frameBorder:"0",allowTransparency:"true",title:L.aria_label,style:{width:"100%",height:C,display:"block"}});K.contentAreaContainer=r.iframeContainer;if(r.editorContainer){m.get(r.editorContainer).style.display=K.orgDisplay}G.style.visibility=K.orgVisibility;m.get(K.id).style.display="none";m.setAttrib(K.id,"aria-hidden",true);if(!l.relaxedDomain||!I){K.initContentBody()}G=v=r=null},initContentBody:function(){var o=this,r=o.settings,s=m.get(o.id),t=o.getDoc(),q,n;if((!b||!l.relaxedDomain)&&!r.content_editable){t.open();t.write(o.iframeHTML);t.close();if(l.relaxedDomain){t.domain=l.relaxedDomain}}if(r.content_editable){m.addClass(s,"mceContentBody");o.contentDocument=t=r.content_document||document;o.contentWindow=r.content_window||window;o.bodyElement=s;r.content_document=r.content_window=null}n=o.getBody();n.disabled=true;if(!r.readonly){n.contentEditable=o.getParam("content_editable_state",true)}n.disabled=false;o.schema=new l.html.Schema(r);o.dom=new l.dom.DOMUtils(t,{keep_values:true,url_converter:o.convertURL,url_converter_scope:o,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:true,root_element:r.content_editable?o.id:null,schema:o.schema});o.parser=new l.html.DomParser(r,o.schema);o.parser.addAttributeFilter("src,href,style",function(u,v){var z=u.length,B,D=o.dom,C,A;while(z--){B=u[z];C=B.attr(v);A="data-mce-"+v;if(!B.attributes.map[A]){if(v==="style"){B.attr(A,D.serializeStyle(D.parseStyle(C),B.name))}else{B.attr(A,o.convertURL(C,v,B.name))}}}});o.parser.addNodeFilter("script",function(u,v){var z=u.length,A;while(z--){A=u[z];A.attr("type","mce-"+(A.attr("type")||"text/javascript"))}});o.parser.addNodeFilter("#cdata",function(u,v){var z=u.length,A;while(z--){A=u[z];A.type=8;A.name="#comment";A.value="[CDATA["+A.value+"]]"}});o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(v,z){var A=v.length,B,u=o.schema.getNonEmptyElements();while(A--){B=v[A];if(B.isEmpty(u)){B.empty().append(new l.html.Node("br",1)).shortEnded=true}}});o.serializer=new l.dom.Serializer(r,o.dom,o.schema);o.selection=new l.dom.Selection(o.dom,o.getWin(),o.serializer,o);o.formatter=new l.Formatter(o);o.undoManager=new l.UndoManager(o);o.forceBlocks=new l.ForceBlocks(o);o.enterKey=new l.EnterKey(o);o.editorCommands=new l.EditorCommands(o);o.serializer.onPreProcess.add(function(u,v){return o.onPreProcess.dispatch(o,v,u)});o.serializer.onPostProcess.add(function(u,v){return o.onPostProcess.dispatch(o,v,u)});o.onPreInit.dispatch(o);if(!r.browser_spellcheck&&!r.gecko_spellcheck){t.body.spellcheck=false}if(!r.readonly){o.bindNativeEvents()}o.controlManager.onPostRender.dispatch(o,o.controlManager);o.onPostRender.dispatch(o);o.quirks=l.util.Quirks(o);if(r.directionality){n.dir=r.directionality}if(r.nowrap){n.style.whiteSpace="nowrap"}if(r.protect){o.onBeforeSetContent.add(function(u,v){j(r.protect,function(z){v.content=v.content.replace(z,function(A){return"<!--mce:protected "+escape(A)+"-->"})})})}o.onSetContent.add(function(){o.addVisual(o.getBody())});if(r.padd_empty_editor){o.onPostProcess.add(function(u,v){v.content=v.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}o.load({initial:true,format:"html"});o.startContent=o.getContent({format:"raw"});o.initialized=true;o.onInit.dispatch(o);o.execCallback("setupcontent_callback",o.id,n,t);o.execCallback("init_instance_callback",o);o.focus(true);o.nodeChanged({initial:true});j(o.contentCSS,function(u){o.dom.loadCSS(u)});if(r.auto_focus){setTimeout(function(){var u=l.get(r.auto_focus);u.selection.select(u.getBody(),1);u.selection.collapse(1);u.getBody().focus();u.getWin().focus()},100)}s=t=n=null},focus:function(r){var q,z=this,v=z.selection,s=z.settings.content_editable,o,t,u=z.getDoc(),n;if(!r){if(z.lastIERng){v.setRng(z.lastIERng)}o=v.getRng();if(o.item){t=o.item(0)}z._refreshContentEditable();if(!s){z.getWin().focus()}if(l.isGecko||s){n=z.getBody();if(n.setActive){n.setActive()}else{n.focus()}if(s){v.normalize()}}if(t&&t.ownerDocument==u){o=u.body.createControlRange();o.addElement(t);o.select()}}if(l.activeEditor!=z){if((q=l.activeEditor)!=null){q.onDeactivate.dispatch(q,z)}z.onActivate.dispatch(z,q)}l._setActive(z)},execCallback:function(u){var o=this,r=o.settings[u],q;if(!r){return}if(o.callbackLookup&&(q=o.callbackLookup[u])){r=q.func;q=q.scope}if(d(r,"string")){q=r.replace(/\.\w+$/,"");q=q?l.resolve(q):0;r=l.resolve(r);o.callbackLookup=o.callbackLookup||{};o.callbackLookup[u]={func:r,scope:q}}return r.apply(q||o,Array.prototype.slice.call(arguments,1))},translate:function(n){var q=this.settings.language||"en",o=l.i18n;if(!n){return""}return o[q+"."+n]||n.replace(/\{\#([^\}]+)\}/g,function(s,r){return o[q+"."+r]||"{#"+r+"}"})},getLang:function(q,o){return l.i18n[(this.settings.language||"en")+"."+q]||(d(o)?o:"{#"+q+"}")},getParam:function(z,s,q){var t=l.trim,r=d(this.settings[z])?this.settings[z]:s,u;if(q==="hash"){u={};if(d(r,"string")){j(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(n){n=n.split("=");if(n.length>1){u[t(n[0])]=t(n[1])}else{u[t(n[0])]=t(n)}})}else{u=r}return u}return r},nodeChanged:function(s){var n=this,q=n.selection,r;if(n.initialized){s=s||{};r=q.getStart()||n.getBody();r=b&&r.ownerDocument!=n.getDoc()?n.getBody():r;s.parents=[];n.dom.getParent(r,function(o){if(o.nodeName=="BODY"){return true}s.parents.push(o)});n.onNodeChange.dispatch(n,s?s.controlManager||n.controlManager:n.controlManager,r,q.isCollapsed(),s)}},addButton:function(o,q){var n=this;n.buttons=n.buttons||{};n.buttons[o]=q},addCommand:function(n,q,o){this.execCommands[n]={func:q,scope:o||this}},addQueryStateHandler:function(n,q,o){this.queryStateCommands[n]={func:q,scope:o||this}},addQueryValueHandler:function(n,q,o){this.queryValueCommands[n]={func:q,scope:o||this}},addShortcut:function(q,s,n,r){var o=this,u;if(o.settings.custom_shortcuts===false){return false}o.shortcuts=o.shortcuts||{};if(d(n,"string")){u=n;n=function(){o.execCommand(u,false,null)}}if(d(n,"object")){u=n;n=function(){o.execCommand(u[0],u[1],u[2])}}j(g(q),function(t){var v={func:n,scope:r||this,desc:o.translate(s),alt:false,ctrl:false,shift:false};j(g(t,"+"),function(z){switch(z){case"alt":case"ctrl":case"shift":v[z]=true;break;default:v.charCode=z.charCodeAt(0);v.keyCode=z.toUpperCase().charCodeAt(0)}});o.shortcuts[(v.ctrl?"ctrl":"")+","+(v.alt?"alt":"")+","+(v.shift?"shift":"")+","+v.keyCode]=v});return true},execCommand:function(z,v,B,n){var r=this,u=0,A,q;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(z)&&(!n||!n.skip_focus)){r.focus()}n=f({},n);r.onBeforeExecCommand.dispatch(r,z,v,B,n);if(n.terminate){return false}if(r.execCallback("execcommand_callback",r.id,r.selection.getNode(),z,v,B)){r.onExecCommand.dispatch(r,z,v,B,n);return true}if(A=r.execCommands[z]){q=A.func.call(A.scope,v,B);if(q!==true){r.onExecCommand.dispatch(r,z,v,B,n);return q}}j(r.plugins,function(o){if(o.execCommand&&o.execCommand(z,v,B)){r.onExecCommand.dispatch(r,z,v,B,n);u=1;return false}});if(u){return true}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(z,v,B)){r.onExecCommand.dispatch(r,z,v,B,n);return true}if(r.editorCommands.execCommand(z,v,B)){r.onExecCommand.dispatch(r,z,v,B,n);return true}r.getDoc().execCommand(z,v,B);r.onExecCommand.dispatch(r,z,v,B,n)},queryCommandState:function(u){var q=this,v,r;if(q._isHidden()){return}if(v=q.queryStateCommands[u]){r=v.func.call(v.scope);if(r!==true){return r}}v=q.editorCommands.queryCommandState(u);if(v!==-1){return v}try{return this.getDoc().queryCommandState(u)}catch(n){}},queryCommandValue:function(v){var q=this,u,r;if(q._isHidden()){return}if(u=q.queryValueCommands[v]){r=u.func.call(u.scope);if(r!==true){return r}}u=q.editorCommands.queryCommandValue(v);if(d(u)){return u}try{return this.getDoc().queryCommandValue(v)}catch(n){}},show:function(){var n=this;m.show(n.getContainer());m.hide(n.id);n.load()},hide:function(){var n=this,o=n.getDoc();if(b&&o){o.execCommand("SelectAll")}n.save();m.hide(n.getContainer());m.setStyle(n.id,"display",n.orgDisplay)},isHidden:function(){return !m.isHidden(this.id)},setProgressState:function(n,q,r){this.onSetProgressState.dispatch(this,n,q,r);return n},load:function(s){var n=this,r=n.getElement(),q;if(r){s=s||{};s.load=true;q=n.setContent(d(r.value)?r.value:r.innerHTML,s);s.element=r;if(!s.no_events){n.onLoadContent.dispatch(n,s)}s.element=r=null;return q}},save:function(u){var n=this,s=n.getElement(),q,r;if(!s||!n.initialized){return}u=u||{};u.save=true;u.element=s;q=u.content=n.getContent(u);if(!u.no_events){n.onSaveContent.dispatch(n,u)}q=u.content;if(!/TEXTAREA|INPUT/i.test(s.nodeName)){s.innerHTML=q;if(r=m.getParent(n.id,"form")){j(r.elements,function(o){if(o.name==n.id){o.value=q;return false}})}}else{s.value=q}u.element=s=null;return q},setContent:function(t,r){var q=this,o,n=q.getBody(),s;r=r||{};r.format=r.format||"html";r.set=true;r.content=t;if(!r.no_events){q.onBeforeSetContent.dispatch(q,r)}t=r.content;if(!l.isIE&&(t.length===0||/^\s+$/.test(t))){s=q.settings.forced_root_block;if(s){t="<"+s+'><br data-mce-bogus="1"></'+s+">"}else{t='<br data-mce-bogus="1">'}n.innerHTML=t;q.selection.select(n,true);q.selection.collapse(true);return}if(r.format!=="raw"){t=new l.html.Serializer({},q.schema).serialize(q.parser.parse(t))}r.content=l.trim(t);q.dom.setHTML(n,r.content);if(!r.no_events){q.onSetContent.dispatch(q,r)}if(!q.settings.content_editable||document.activeElement===q.getBody()){q.selection.normalize()}return r.content},getContent:function(o){var n=this,q;o=o||{};o.format=o.format||"html";o.get=true;o.getInner=true;if(!o.no_events){n.onBeforeGetContent.dispatch(n,o)}if(o.format=="raw"){q=n.getBody().innerHTML}else{q=n.serializer.serialize(n.getBody(),o)}o.content=l.trim(q);if(!o.no_events){n.onGetContent.dispatch(n,o)}return o.content},isDirty:function(){var n=this;return l.trim(n.startContent)!=l.trim(n.getContent({format:"raw",no_events:1}))&&!n.isNotDirty},getContainer:function(){var n=this;if(!n.container){n.container=m.get(n.editorContainer||n.id+"_parent")}return n.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return m.get(this.settings.content_element||this.id)},getWin:function(){var n=this,o;if(!n.contentWindow){o=m.get(n.id+"_ifr");if(o){n.contentWindow=o.contentWindow}}return n.contentWindow},getDoc:function(){var n=this,o;if(!n.contentDocument){o=n.getWin();if(o){n.contentDocument=o.document}}return n.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(q,o,s){var n=this,r=n.settings;if(r.urlconverter_callback){return n.execCallback("urlconverter_callback",q,s,true,o)}if(!r.convert_urls||(s&&s.nodeName=="LINK")||q.indexOf("file:")===0){return q}if(r.relative_urls){return n.documentBaseURI.toRelative(q)}q=n.documentBaseURI.toAbsolute(q,r.remove_script_host);return q},addVisual:function(s){var o=this,q=o.settings,r=o.dom,n;s=s||o.getBody();if(!d(o.hasVisual)){o.hasVisual=q.visual}j(r.select("table,a",s),function(u){var t;switch(u.nodeName){case"TABLE":n=q.visual_table_class||"mceItemTable";t=r.getAttrib(u,"border");if(!t||t=="0"){if(o.hasVisual){r.addClass(u,n)}else{r.removeClass(u,n)}}return;case"A":if(!u.href){t=r.getAttrib(u,"name")||u.id;n="mceItemAnchor";if(t){if(o.hasVisual){r.addClass(u,n)}else{r.removeClass(u,n)}}}return}});o.onVisualAid.dispatch(o,s,o.hasVisual)},remove:function(){var n=this,o=n.getContainer();if(!n.removed){n.removed=1;n.hide();if(!n.settings.content_editable){k.clear(n.getWin());k.clear(n.getDoc())}k.clear(n.getBody());k.clear(n.formElement);k.unbind(o);n.execCallback("remove_instance_callback",n);n.onRemove.dispatch(n);n.onExecCommand.listeners=[];l.remove(n);m.remove(o)}},destroy:function(o){var n=this;if(n.destroyed){return}if(a){k.unbind(n.getDoc());k.unbind(n.getWin());k.unbind(n.getBody())}if(!o){l.removeUnload(n.destroy);tinyMCE.onBeforeUnload.remove(n._beforeUnload);if(n.theme&&n.theme.destroy){n.theme.destroy()}n.controlManager.destroy();n.selection.destroy();n.dom.destroy()}if(n.formElement){n.formElement.submit=n.formElement._mceOldSubmit;n.formElement._mceOldSubmit=null}n.contentAreaContainer=n.formElement=n.container=n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null;if(n.selection){n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null}n.destroyed=1},_refreshContentEditable:function(){var o=this,n,q;if(o._isHidden()){n=o.getBody();q=n.parentNode;q.removeChild(n);q.appendChild(n);n.focus()}},_isHidden:function(){var n;if(!a){return 0}n=this.selection.getSel();return(!n||!n.rangeCount||n.rangeCount===0)}})})(tinymce);(function(a){var b=a.each;a.Editor.prototype.setupEvents=function(){var c=this,d=c.settings;b(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(e){c[e]=new a.util.Dispatcher(c)});if(d.cleanup_callback){c.onBeforeSetContent.add(function(e,f){f.content=e.execCallback("cleanup_callback","insert_to_editor",f.content,f)});c.onPreProcess.add(function(e,f){if(f.set){e.execCallback("cleanup_callback","insert_to_editor_dom",f.node,f)}if(f.get){e.execCallback("cleanup_callback","get_from_editor_dom",f.node,f)}});c.onPostProcess.add(function(e,f){if(f.set){f.content=e.execCallback("cleanup_callback","insert_to_editor",f.content,f)}if(f.get){f.content=e.execCallback("cleanup_callback","get_from_editor",f.content,f)}})}if(d.save_callback){c.onGetContent.add(function(e,f){if(f.save){f.content=e.execCallback("save_callback",e.id,f.content,e.getBody())}})}if(d.handle_event_callback){c.onEvent.add(function(f,g,h){if(c.execCallback("handle_event_callback",g,f,h)===false){Event.cancel(g)}})}if(d.handle_node_change_callback){c.onNodeChange.add(function(f,e,g){f.execCallback("handle_node_change_callback",f.id,g,-1,-1,true,f.selection.isCollapsed())})}if(d.save_callback){c.onSaveContent.add(function(e,g){var f=e.execCallback("save_callback",e.id,g.content,e.getBody());if(f){g.content=f}})}if(d.onchange_callback){c.onChange.add(function(f,e){f.execCallback("onchange_callback",f,e)})}};a.Editor.prototype.bindNativeEvents=function(){var l=this,f,d=l.settings,e=l.dom,h;h={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function c(m,n){var o=m.type;if(l.removed){return}if(l.onEvent.dispatch(l,m,n)!==false){l[h[m.fakeType||m.type]].dispatch(l,m,n)}}function j(m){l.focus(true)}function k(){l.selection.normalize();l.nodeChanged()}b(h,function(n,o){var m=d.content_editable?l.getBody():l.getDoc();switch(o){case"contextmenu":e.bind(m,o,c);break;case"paste":e.bind(l.getBody(),o,c);break;case"submit":case"reset":e.bind(l.getElement().form||a.DOM.getParent(l.id,"form"),o,c);break;default:e.bind(m,o,c)}});e.bind(d.content_editable?l.getBody():(a.isGecko?l.getDoc():l.getWin()),"focus",function(m){l.focus(true)});if(d.content_editable&&a.isOpera){e.bind(l.getBody(),"click",j);e.bind(l.getBody(),"keydown",j)}l.onMouseUp.add(k);l.onKeyUp.add(function(m,o){var n=o.keyCode;if((n>=33&&n<=36)||(n>=37&&n<=40)||n==13||n==45||n==46||n==8||(a.isMac&&(n==91||n==93))||o.ctrlKey){k()}});l.onReset.add(function(){l.setContent(l.startContent,{format:"raw"})});function g(n,m){if(n.altKey||n.ctrlKey||n.metaKey){b(l.shortcuts,function(o){var q=a.isMac?n.metaKey:n.ctrlKey;if(o.ctrl!=q||o.alt!=n.altKey||o.shift!=n.shiftKey){return}if(n.keyCode==o.keyCode||(n.charCode&&n.charCode==o.charCode)){n.preventDefault();if(m){o.func.call(o.scope)}return true}})}}l.onKeyUp.add(function(m,n){g(n)});l.onKeyPress.add(function(m,n){g(n)});l.onKeyDown.add(function(m,n){g(n,true)});if(a.isOpera){l.onClick.add(function(m,n){n.preventDefault()})}}})(tinymce);(function(d){var e=d.each,b,a=true,c=false;d.EditorCommands=function(o){var n=o.dom,r=o.selection,k={state:{},exec:{},value:{}},l=o.settings,s=o.formatter,q;function t(D,C,B){var A;D=D.toLowerCase();if(A=k.exec[D]){A(D,C,B);return a}return c}function m(B){var A;B=B.toLowerCase();if(A=k.state[B]){return A(B)}return -1}function h(B){var A;B=B.toLowerCase();if(A=k.value[B]){return A(B)}return c}function z(A,B){B=B||"exec";e(A,function(D,C){e(C.toLowerCase().split(","),function(E){k[B][E]=D})})}d.extend(this,{execCommand:t,queryCommandState:m,queryCommandValue:h,addCommands:z});function f(C,B,A){if(B===b){B=c}if(A===b){A=null}return o.getDoc().execCommand(C,B,A)}function v(A){return s.match(A)}function u(A,B){s.toggle(A,B?{value:B}:b)}function j(A){q=r.getBookmark(A)}function g(){r.moveToBookmark(q)}z({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(D){var C=o.getDoc(),A;try{f(D)}catch(B){A=a}if(A||!C.queryCommandSupported(D)){if(d.isGecko){o.windowManager.confirm(o.getLang("clipboard_msg"),function(E){if(E){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{o.windowManager.alert(o.getLang("clipboard_no_support"))}}},unlink:function(A){if(r.isCollapsed()){r.select(r.getNode())}f(A);r.collapse(c)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(A){var B=A.substring(7);e("left,center,right,full".split(","),function(C){if(B!=C){s.remove("align"+C)}});u("align"+B);t("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(C){var A,B;f(C);A=n.getParent(r.getNode(),"ol,ul");if(A){B=A.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(B.nodeName)){j();n.split(B,A);g()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(A){u(A)},"ForeColor,HiliteColor,FontName":function(C,B,A){u(C,A)},FontSize:function(D,C,B){var A,E;if(B>=1&&B<=7){E=d.explode(l.font_size_style_values);A=d.explode(l.font_size_classes);if(A){B=A[B-1]||B}else{B=E[B-1]||B}}u(D,B)},RemoveFormat:function(A){s.remove(A)},mceBlockQuote:function(A){u("blockquote")},FormatBlock:function(C,B,A){return u(A||"p")},mceCleanup:function(){var A=r.getBookmark();o.setContent(o.getContent({cleanup:a}),{cleanup:a});r.moveToBookmark(A)},mceRemoveNode:function(D,C,B){var A=B||r.getNode();if(A!=o.getBody()){j();o.dom.remove(A,a);g()}},mceSelectNodeDepth:function(D,C,B){var A=0;n.getParent(r.getNode(),function(E){if(E.nodeType==1&&A++==B){r.select(E);return c}},o.getBody())},mceSelectNode:function(C,B,A){r.select(A)},mceInsertContent:function(F,M,O){var C,N,I,D,J,K,H,G,P,B,E,Q,A,L;C=o.parser;N=new d.html.Serializer({},o.schema);A='<span id="mce_marker" data-mce-type="bookmark">\uFEFF</span>';K={content:O,format:"html"};r.onBeforeSetContent.dispatch(r,K);O=K.content;if(O.indexOf("{$caret}")==-1){O+="{$caret}"}O=O.replace(/\{\$caret\}/,A);if(!r.isCollapsed()){o.getDoc().execCommand("Delete",false,null)}I=r.getNode();K={context:I.nodeName.toLowerCase()};J=C.parse(O,K);E=J.lastChild;if(E.attr("id")=="mce_marker"){H=E;for(E=E.prev;E;E=E.walk(true)){if(E.type==3||!n.isBlock(E.name)){E.parent.insert(H,E,E.name==="br");break}}}if(!K.invalid){O=N.serialize(J);E=I.firstChild;Q=I.lastChild;if(!E||(E===Q&&E.nodeName==="BR")){n.setHTML(I,O)}else{r.setContent(O)}}else{r.setContent(A);I=o.selection.getNode();D=o.getBody();if(I.nodeType==9){I=E=D}else{E=I}while(E!==D){I=E;E=E.parentNode}O=I==D?D.innerHTML:n.getOuterHTML(I);O=N.serialize(C.parse(O.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return N.serialize(J)})));if(I==D){n.setHTML(D,O)}else{n.setOuterHTML(I,O)}}H=n.get("mce_marker");G=n.getRect(H);P=n.getViewPort(o.getWin());if((G.y+G.h>P.y+P.h||G.y<P.y)||(G.x>P.x+P.w||G.x<P.x)){L=d.isIE?o.getDoc().documentElement:o.getBody();L.scrollLeft=G.x;L.scrollTop=G.y-P.h+25}B=n.createRng();E=H.previousSibling;if(E&&E.nodeType==3){B.setStart(E,E.nodeValue.length)}else{B.setStartBefore(H);B.setEndBefore(H)}n.remove(H);r.setRng(B);r.onSetContent.dispatch(r,K);o.addVisual()},mceInsertRawHTML:function(C,B,A){r.setContent("tiny_mce_marker");o.setContent(o.getContent().replace(/tiny_mce_marker/g,function(){return A}))},mceSetContent:function(C,B,A){o.setContent(A)},"Indent,Outdent":function(D){var B,A,C;B=l.indentation;A=/[a-z%]+$/i.exec(B);B=parseInt(B);if(!m("InsertUnorderedList")&&!m("InsertOrderedList")){if(!l.forced_root_block&&!n.getParent(r.getNode(),n.isBlock)){s.apply("div")}e(r.getSelectedBlocks(),function(E){if(D=="outdent"){C=Math.max(0,parseInt(E.style.paddingLeft||0)-B);n.setStyle(E,"paddingLeft",C?C+A:"")}else{n.setStyle(E,"paddingLeft",(parseInt(E.style.paddingLeft||0)+B)+A)}})}else{f(D)}},mceRepaint:function(){var B;if(d.isGecko){try{j(a);if(r.getSel()){r.getSel().selectAllChildren(o.getBody())}r.collapse(a);g()}catch(A){}}},mceToggleFormat:function(C,B,A){s.toggle(A)},InsertHorizontalRule:function(){o.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual;o.addVisual()},mceReplaceContent:function(C,B,A){o.execCommand("mceInsertContent",false,A.replace(/\{\$selection\}/g,r.getContent({format:"text"})))},mceInsertLink:function(D,C,B){var A;if(typeof(B)=="string"){B={href:B}}A=n.getParent(r.getNode(),"a");B.href=B.href.replace(" ","%20");if(!A||!B.href){s.remove("link")}if(B.href){s.apply("link",B,A)}},selectAll:function(){var B=n.getRoot(),A=n.createRng();A.setStart(B,0);A.setEnd(B,B.childNodes.length);o.selection.setRng(A)}});z({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(D){var B="align"+D.substring(7);var A=r.isCollapsed()?[n.getParent(r.getNode(),n.isBlock)]:r.getSelectedBlocks();var C=d.map(A,function(E){return !!s.matchNode(E,B)});return d.inArray(C,a)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(A){return v(A)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var A;if(l.inline_styles){if((A=n.getParent(r.getStart(),n.isBlock))&&parseInt(A.style.paddingLeft)>0){return a}if((A=n.getParent(r.getEnd(),n.isBlock))&&parseInt(A.style.paddingLeft)>0){return a}}return m("InsertUnorderedList")||m("InsertOrderedList")||(!l.inline_styles&&!!n.getParent(r.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(A){return n.getParent(r.getNode(),A=="insertunorderedlist"?"UL":"OL")}},"state");z({"FontSize,FontName":function(C){var B=0,A;if(A=n.getParent(r.getNode(),"span")){if(C=="fontsize"){B=A.style.fontSize}else{B=A.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return B}},"value");z({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(h){var m,j=0,e=[],g,l,k,f;function c(){return b.trim(h.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function d(){m.typing=false;m.add()}onBeforeAdd=new a(m);l=new a(m);k=new a(m);f=new a(m);l.add(function(n,o){if(n.hasUndo()){return h.onChange.dispatch(h,o,n)}});k.add(function(n,o){return h.onUndo.dispatch(h,o,n)});f.add(function(n,o){return h.onRedo.dispatch(h,o,n)});h.onInit.add(function(){m.add()});h.onBeforeExecCommand.add(function(n,r,q,s,o){if(r!="Undo"&&r!="Redo"&&r!="mceRepaint"&&(!o||!o.skip_undo)){m.beforeChange()}});h.onExecCommand.add(function(n,r,q,s,o){if(r!="Undo"&&r!="Redo"&&r!="mceRepaint"&&(!o||!o.skip_undo)){m.add()}});h.onSaveContent.add(d);h.dom.bind(h.dom.getRoot(),"dragend",d);h.dom.bind(h.getDoc(),b.isGecko?"blur":"focusout",function(n){if(!h.removed&&m.typing){d()}});h.onKeyUp.add(function(n,q){var o=q.keyCode;if((o>=33&&o<=36)||(o>=37&&o<=40)||o==45||o==13||q.ctrlKey){d()}});h.onKeyDown.add(function(n,q){var o=q.keyCode;if((o>=33&&o<=36)||(o>=37&&o<=40)||o==45){if(m.typing){d()}return}if((o<16||o>20)&&o!=224&&o!=91&&!m.typing){m.beforeChange();m.typing=true;m.add()}});h.onMouseDown.add(function(n,o){if(m.typing){d()}});h.addShortcut("ctrl+z","undo_desc","Undo");h.addShortcut("ctrl+y","redo_desc","Redo");m={data:e,typing:false,onBeforeAdd:onBeforeAdd,onAdd:l,onUndo:k,onRedo:f,beforeChange:function(){g=h.selection.getBookmark(2,true)},add:function(r){var n,o=h.settings,q;r=r||{};r.content=c();m.onBeforeAdd.dispatch(m,r);q=e[j];if(q&&q.content==r.content){return null}if(e[j]){e[j].beforeBookmark=g}if(o.custom_undo_redo_levels){if(e.length>o.custom_undo_redo_levels){for(n=0;n<e.length-1;n++){e[n]=e[n+1]}e.length--;j=e.length}}r.bookmark=h.selection.getBookmark(2,true);if(j<e.length-1){e.length=j+1}e.push(r);j=e.length-1;m.onAdd.dispatch(m,r);h.isNotDirty=0;return r},undo:function(){var o,n;if(m.typing){m.add();m.typing=false}if(j>0){o=e[--j];h.setContent(o.content,{format:"raw"});h.selection.moveToBookmark(o.beforeBookmark);m.onUndo.dispatch(m,o)}return o},redo:function(){var n;if(j<e.length-1){n=e[++j];h.setContent(n.content,{format:"raw"});h.selection.moveToBookmark(n.bookmark);m.onRedo.dispatch(m,n)}return n},clear:function(){e=[];j=0;m.typing=false},hasUndo:function(){return j>0||this.typing},hasRedo:function(){return j<e.length-1&&!this.typing}};return m}})(tinymce);tinymce.ForceBlocks=function(c){var b=c.settings,e=c.dom,a=c.selection,d=c.schema.getBlockElements();function f(){var k=a.getStart(),h=c.getBody(),g,l,q,t,s,j,m,n=-16777215,r;if(!k||k.nodeType!==1||!b.forced_root_block){return}while(k&&k!=h){if(d[k.nodeName]){return}k=k.parentNode}g=a.getRng();if(g.setStart){l=g.startContainer;q=g.startOffset;t=g.endContainer;s=g.endOffset}else{if(g.item){k=g.item(0);g=c.getDoc().body.createTextRange();g.moveToElementText(k)}tmpRng=g.duplicate();tmpRng.collapse(true);q=tmpRng.move("character",n)*-1;if(!tmpRng.collapsed){tmpRng=g.duplicate();tmpRng.collapse(false);s=(tmpRng.move("character",n)*-1)-q}}k=h.firstChild;while(k){if(k.nodeType===3||(k.nodeType==1&&!d[k.nodeName])){if(!j){j=e.create(b.forced_root_block);k.parentNode.insertBefore(j,k);r=true}m=k;k=k.nextSibling;j.appendChild(m)}else{j=null;k=k.nextSibling}}if(g.setStart){g.setStart(l,q);g.setEnd(t,s);a.setRng(g)}else{try{g=c.getDoc().body.createTextRange();g.moveToElementText(h);g.collapse(true);g.moveStart("character",q);if(s>0){g.moveEnd("character",s)}g.select()}catch(o){}}if(r){c.nodeChanged()}}if(b.forced_root_block){c.onKeyUp.add(f);c.onNodeChange.add(f)}};(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create("tinymce.ControlManager",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new c.util.Dispatcher(h);h.onPostRender=new c.util.Dispatcher(h);h.prefix=j.prefix||f.id+"_";h._cls={};h.onPostRender.add(function(){d(h.controls,function(k){k.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(j){var o,k,g,h=this,m=h.editor,n,f;if(!h.controlFactories){h.controlFactories=[];d(m.plugins,function(l){if(l.createControl){h.controlFactories.push(l)}})}n=h.controlFactories;for(k=0,g=n.length;k<g;k++){o=n[k].createControl(j,h);if(o){return h.add(o)}}if(j==="|"||j==="separator"){return h.createSeparator()}if(m.buttons&&(o=m.buttons[j])){return h.createButton(j,o)}return h.add(o)},createDropMenu:function(f,o,h){var n=this,j=n.editor,k,g,l,m;o=e({"class":"mceDropDown",constrain:j.settings.constrain_menus},o);o["class"]=o["class"]+" "+j.getParam("skin")+"Skin";if(l=j.getParam("skin_variant")){o["class"]+=" "+j.getParam("skin")+"Skin"+l.substring(0,1).toUpperCase()+l.substring(1)}o["class"]+=j.settings.directionality=="rtl"?" mceRtl":"";f=n.prefix+f;m=h||n._cls.dropmenu||c.ui.DropMenu;k=n.controls[f]=new m(f,o);k.onAddItem.add(function(t,r){var q=r.settings;q.title=j.getLang(q.title,q.title);if(!q.onclick){q.onclick=function(s){if(q.cmd){j.execCommand(q.cmd,q.ui||false,q.value)}}}});j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return n.add(k)},createListBox:function(f,o,h){var m=this,k=m.editor,j,l,n;if(m.get(f)){return null}o.title=k.translate(o.title);o.scope=o.scope||k;if(!o.onselect){o.onselect=function(q){k.execCommand(o.cmd,o.ui||false,q||o.value)}}o=e({title:o.title,"class":"mce_"+f,scope:o.scope,control_manager:m},o);f=m.prefix+f;function g(q){return q.settings.use_accessible_selects&&!c.isGecko}if(k.settings.use_native_selects||g(k)){l=new c.ui.NativeListBox(f,o)}else{n=h||m._cls.listbox||c.ui.ListBox;l=new n(f,o,k)}m.controls[f]=l;if(c.isWebKit){l.onPostRender.add(function(r,q){a.add(q,"mousedown",function(){k.bookmark=k.selection.getBookmark(1)});a.add(q,"focus",function(){k.selection.moveToBookmark(k.bookmark);k.bookmark=null})})}if(l.hideMenu){k.onMouseDown.add(l.hideMenu,l)}return m.add(l)},createButton:function(n,j,m){var h=this,g=h.editor,k,l,f;if(h.get(n)){return null}j.title=g.translate(j.title);j.label=g.translate(j.label);j.scope=j.scope||g;if(!j.onclick&&!j.menu_button){j.onclick=function(){g.execCommand(j.cmd,j.ui||false,j.value)}}j=e({title:j.title,"class":"mce_"+n,unavailable_prefix:g.getLang("unavailable",""),scope:j.scope,control_manager:h},j);n=h.prefix+n;if(j.menu_button){f=m||h._cls.menubutton||c.ui.MenuButton;l=new f(n,j,g);g.onMouseDown.add(l.hideMenu,l)}else{f=h._cls.button||c.ui.Button;l=new f(n,j,g)}return h.add(l)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(n,j,m){var h=this,g=h.editor,k,l,f;if(h.get(n)){return null}j.title=g.translate(j.title);j.scope=j.scope||g;if(!j.onclick){j.onclick=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}if(!j.onselect){j.onselect=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}j=e({title:j.title,"class":"mce_"+n,scope:j.scope,control_manager:h},j);n=h.prefix+n;f=m||h._cls.splitbutton||c.ui.SplitButton;l=h.add(new f(n,j,g));g.onMouseDown.add(l.hideMenu,l);return l},createColorSplitButton:function(f,o,h){var m=this,k=m.editor,j,l,n,g;if(m.get(f)){return null}o.title=k.translate(o.title);o.scope=o.scope||k;if(!o.onclick){o.onclick=function(q){if(c.isIE){g=k.selection.getBookmark(1)}k.execCommand(o.cmd,o.ui||false,q||o.value)}}if(!o.onselect){o.onselect=function(q){k.execCommand(o.cmd,o.ui||false,q||o.value)}}o=e({title:o.title,"class":"mce_"+f,menu_class:k.getParam("skin")+"Skin",scope:o.scope,more_colors_title:k.getLang("more_colors")},o);f=m.prefix+f;n=h||m._cls.colorsplitbutton||c.ui.ColorSplitButton;l=new n(f,o,k);k.onMouseDown.add(l.hideMenu,l);k.onRemove.add(function(){l.destroy()});if(c.isIE){l.onShowMenu.add(function(){k.focus();g=k.selection.getBookmark(1)});l.onHideMenu.add(function(){if(g){k.selection.moveToBookmark(g);g=0}})}return m.add(l)},createToolbar:function(l,h,k){var j,g=this,f;l=g.prefix+l;f=k||g._cls.toolbar||c.ui.Toolbar;j=new f(l,h,g.editor);if(g.get(l)){return null}return g.add(j)},createToolbarGroup:function(l,h,k){var j,g=this,f;l=g.prefix+l;f=k||this._cls.toolbarGroup||c.ui.ToolbarGroup;j=new f(l,h,g.editor);if(g.get(l)){return null}return g.add(j)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create("tinymce.WindowManager",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(A,h){var z=this,l="",o,n,j=z.editor.settings.dialog_type=="modal",r,q,k,g=d.DOM.getViewPort(),v;A=A||{};h=h||{};q=b?g.w:screen.width;k=b?g.h:screen.height;A.name=A.name||"mc_"+new Date().getTime();A.width=parseInt(A.width||320);A.height=parseInt(A.height||240);A.resizable=true;A.left=A.left||parseInt(q/2)-(A.width/2);A.top=A.top||parseInt(k/2)-(A.height/2);h.inline=false;h.mce_width=A.width;h.mce_height=A.height;h.mce_auto_focus=A.auto_focus;if(j){if(c){A.center=true;A.help=false;A.dialogWidth=A.width+"px";A.dialogHeight=A.height+"px";A.scroll=A.scrollbars||false}}e(A,function(s,f){if(d.is(s,"boolean")){s=s?"yes":"no"}if(!/^(name|url)$/.test(f)){if(c&&j){l+=(l?";":"")+f+":"+s}else{l+=(l?",":"")+f+"="+s}}});z.features=A;z.params=h;z.onOpen.dispatch(z,A,h);v=A.url||A.file;v=d._addVer(v);try{if(c&&j){r=1;window.showModalDialog(v,window,l)}else{r=window.open(v,A.name,l)}}catch(m){}if(!r){alert(z.editor.getLang("popup_blocked"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(j,h,g,n,m,l){var k=d.resolve(j);return new k(h,g,n,m,l)},confirm:function(h,f,j,g){g=g||window;f.call(j||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,k,g){var j=this;g=g||window;g.alert(j._decode(j.editor.getLang(h,h)));if(f){f.call(k||j)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\n/g,"\n")}})}(tinymce));(function(a){a.Formatter=function(ae){var U={},X=a.each,c=ae.dom,t=ae.selection,v=a.dom.TreeWalker,R=new a.dom.RangeUtils(c),d=ae.schema.isValidChild,L=c.isBlock,n=ae.settings.forced_root_block,u=c.nodeIndex,K=a.isGecko?"\u200B":"\uFEFF",e=/^(src|href|style)$/,ab=false,G=true,T,H,B=c.getContentEditable;function E(af){return af instanceof Array}function o(ag,af){return c.getParents(ag,af,c.getRoot())}function b(af){return af.nodeType===1&&af.id==="_mce_caret"}function k(){m({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(af){return true},onformat:function(ah,af,ag){X(ag,function(aj,ai){c.setAttrib(ah,ai,aj)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});X("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(af){m(af,{block:af,remove:"all"})});m(ae.settings.formats)}function aa(){ae.addShortcut("ctrl+b","bold_desc","Bold");ae.addShortcut("ctrl+i","italic_desc","Italic");ae.addShortcut("ctrl+u","underline_desc","Underline");for(var af=1;af<=6;af++){ae.addShortcut("ctrl+"+af,"",["FormatBlock",false,"h"+af])}ae.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);ae.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);ae.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function Z(af){return af?U[af]:U}function m(af,ag){if(af){if(typeof(af)!=="string"){X(af,function(ai,ah){m(ah,ai)})}else{ag=ag.length?ag:[ag];X(ag,function(ah){if(ah.deep===H){ah.deep=!ah.selector}if(ah.split===H){ah.split=!ah.selector||ah.inline}if(ah.remove===H&&ah.selector&&!ah.inline){ah.remove="none"}if(ah.selector&&ah.inline){ah.mixed=true;ah.block_expand=true}if(typeof(ah.classes)==="string"){ah.classes=ah.classes.split(/\s+/)}});U[af]=ag}}}var j=function(ag){var af;ae.dom.getParent(ag,function(ah){af=ae.dom.getStyle(ah,"text-decoration");return af&&af!=="none"});return af};var P=function(af){var ag;if(af.nodeType===1&&af.parentNode&&af.parentNode.nodeType===1){ag=j(af.parentNode);if(ae.dom.getStyle(af,"color")&&ag){ae.dom.setStyle(af,"text-decoration",ag)}else{if(ae.dom.getStyle(af,"textdecoration")===ag){ae.dom.setStyle(af,"text-decoration",null)}}}};function ac(ai,ap,ak){var al=Z(ai),aq=al[0],ao,ag,an,am=t.isCollapsed();function af(av,au){au=au||aq;if(av){if(au.onformat){au.onformat(av,au,ap,ak)}X(au.styles,function(ax,aw){c.setStyle(av,aw,s(ax,ap))});X(au.attributes,function(ax,aw){c.setAttrib(av,aw,s(ax,ap))});X(au.classes,function(aw){aw=s(aw,ap);if(!c.hasClass(av,aw)){c.addClass(av,aw)}})}}function aj(){function aw(aC,aA){var aB=new v(aA);for(ak=aB.current();ak;ak=aB.prev()){if(ak.childNodes.length>1||ak==aC||ak.tagName=="BR"){return ak}}}var av=ae.selection.getRng();var az=av.startContainer;var au=av.endContainer;if(az!=au&&av.endOffset===0){var ay=aw(az,au);var ax=ay.nodeType==3?ay.length:ay.childNodes.length;av.setEnd(ay,ax)}return av}function ah(ax,aC,aA,az,av){var au=[],aw=-1,aB,aE=-1,ay=-1,aD;X(ax.childNodes,function(aG,aF){if(aG.nodeName==="UL"||aG.nodeName==="OL"){aw=aF;aB=aG;return false}});X(ax.childNodes,function(aG,aF){if(aG.nodeName==="SPAN"&&c.getAttrib(aG,"data-mce-type")=="bookmark"){if(aG.id==aC.id+"_start"){aE=aF}else{if(aG.id==aC.id+"_end"){ay=aF}}}});if(aw<=0||(aE<aw&&ay>aw)){X(a.grep(ax.childNodes),av);return 0}else{aD=c.clone(aA,ab);X(a.grep(ax.childNodes),function(aG,aF){if((aE<aw&&aF<aw)||(aE>aw&&aF>aw)){au.push(aG);aG.parentNode.removeChild(aG)}});if(aE<aw){ax.insertBefore(aD,aB)}else{if(aE>aw){ax.insertBefore(aD,aB.nextSibling)}}az.push(aD);X(au,function(aF){aD.appendChild(aF)});return aD}}function ar(av,ax,aA){var au=[],az,aw,ay=true;az=aq.inline||aq.block;aw=c.create(az);af(aw);R.walk(av,function(aB){var aC;function aD(aE){var aJ,aH,aF,aG,aI;aI=ay;aJ=aE.nodeName.toLowerCase();aH=aE.parentNode.nodeName.toLowerCase();if(aE.nodeType===1&&B(aE)){aI=ay;ay=B(aE)==="true";aG=true}if(g(aJ,"br")){aC=0;if(aq.block){c.remove(aE)}return}if(aq.wrapper&&C(aE,ai,ap)){aC=0;return}if(ay&&!aG&&aq.block&&!aq.wrapper&&M(aJ)){aE=c.rename(aE,az);af(aE);au.push(aE);aC=0;return}if(aq.selector){X(al,function(aK){if("collapsed" in aK&&aK.collapsed!==am){return}if(c.is(aE,aK.selector)&&!b(aE)){af(aE,aK);aF=true}});if(!aq.inline||aF){aC=0;return}}if(ay&&!aG&&d(az,aJ)&&d(aH,az)&&!(!aA&&aE.nodeType===3&&aE.nodeValue.length===1&&aE.nodeValue.charCodeAt(0)===65279)&&!b(aE)){if(!aC){aC=c.clone(aw,ab);aE.parentNode.insertBefore(aC,aE);au.push(aC)}aC.appendChild(aE)}else{if(aJ=="li"&&ax){aC=ah(aE,ax,aw,au,aD)}else{aC=0;X(a.grep(aE.childNodes),aD);if(aG){ay=aI}aC=0}}}X(aB,aD)});if(aq.wrap_links===false){X(au,function(aB){function aC(aG){var aF,aE,aD;if(aG.nodeName==="A"){aE=c.clone(aw,ab);au.push(aE);aD=a.grep(aG.childNodes);for(aF=0;aF<aD.length;aF++){aE.appendChild(aD[aF])}aG.appendChild(aE)}X(a.grep(aG.childNodes),aC)}aC(aB)})}X(au,function(aD){var aB;function aE(aG){var aF=0;X(aG.childNodes,function(aH){if(!f(aH)&&!O(aH)){aF++}});return aF}function aC(aF){var aH,aG;X(aF.childNodes,function(aI){if(aI.nodeType==1&&!O(aI)&&!b(aI)){aH=aI;return ab}});if(aH&&h(aH,aq)){aG=c.clone(aH,ab);af(aG);c.replace(aG,aF,G);c.remove(aH,1)}return aG||aF}aB=aE(aD);if((au.length>1||!L(aD))&&aB===0){c.remove(aD,1);return}if(aq.inline||aq.wrapper){if(!aq.exact&&aB===1){aD=aC(aD)}X(al,function(aF){X(c.select(aF.inline,aD),function(aH){var aG;if(aF.wrap_links===false){aG=aH.parentNode;do{if(aG.nodeName==="A"){return}}while(aG=aG.parentNode)}ad(aF,ap,aH,aF.exact?aH:null)})});if(C(aD.parentNode,ai,ap)){c.remove(aD,1);aD=0;return G}if(aq.merge_with_parents){c.getParent(aD.parentNode,function(aF){if(C(aF,ai,ap)){c.remove(aD,1);aD=0;return G}})}if(aD&&aq.merge_siblings!==false){aD=z(I(aD),aD);aD=z(aD,I(aD,G))}}})}if(aq){if(ak){if(ak.nodeType){ag=c.createRng();ag.setStartBefore(ak);ag.setEndAfter(ak);ar(r(ag,al),null,true)}else{ar(ak,null,true)}}else{if(!am||!aq.inline||c.select("td.mceSelected,th.mceSelected").length){var at=ae.selection.getNode();if(!n&&al[0].defaultBlock&&!c.getParent(at,c.isBlock)){ac(al[0].defaultBlock)}ae.selection.setRng(aj());ao=t.getBookmark();ar(r(t.getRng(G),al),ao);if(aq.styles&&(aq.styles.color||aq.styles.textDecoration)){a.walk(at,P,"childNodes");P(at)}t.moveToBookmark(ao);V(t.getRng(G));ae.nodeChanged()}else{Y("apply",ai,ap)}}}}function F(ah,aq,aj){var ak=Z(ah),at=ak[0],ao,an,ag,ap=true;function ai(az){var ay,ax,aw,av,aB,aA;if(az.nodeType===1&&B(az)){aB=ap;ap=B(az)==="true";aA=true}ay=a.grep(az.childNodes);if(ap&&!aA){for(ax=0,aw=ak.length;ax<aw;ax++){if(ad(ak[ax],aq,az,az)){break}}}if(at.deep){if(ay.length){for(ax=0,aw=ay.length;ax<aw;ax++){ai(ay[ax])}if(aA){ap=aB}}}}function al(av){var aw;X(o(av.parentNode).reverse(),function(ax){var ay;if(!aw&&ax.id!="_start"&&ax.id!="_end"){ay=C(ax,ah,aq);if(ay&&ay.split!==false){aw=ax}}});return aw}function af(ay,av,aA,aD){var aE,aC,aB,ax,az,aw;if(ay){aw=ay.parentNode;for(aE=av.parentNode;aE&&aE!=aw;aE=aE.parentNode){aC=c.clone(aE,ab);for(az=0;az<ak.length;az++){if(ad(ak[az],aq,aC,aC)){aC=0;break}}if(aC){if(aB){aC.appendChild(aB)}if(!ax){ax=aC}aB=aC}}if(aD&&(!at.mixed||!L(ay))){av=c.split(ay,av)}if(aB){aA.parentNode.insertBefore(aB,aA);ax.appendChild(aA)}}return av}function ar(av){return af(al(av),av,av,true)}function am(ax){var aw=c.get(ax?"_start":"_end"),av=aw[ax?"firstChild":"lastChild"];if(O(av)){av=av[ax?"firstChild":"lastChild"]}c.remove(aw,true);return av}function au(av){var ax,ay,aw;av=r(av,ak,G);if(at.split){ax=Q(av,G);ay=Q(av);if(ax!=ay){if(/^(TR|TD)$/.test(ax.nodeName)&&ax.firstChild){ax=(ax.nodeName=="TD"?ax.firstChild:ax.firstChild.firstChild)||ax}ax=W(ax,"span",{id:"_start","data-mce-type":"bookmark"});ay=W(ay,"span",{id:"_end","data-mce-type":"bookmark"});ar(ax);ar(ay);ax=am(G);ay=am()}else{ax=ay=ar(ax)}av.startContainer=ax.parentNode;av.startOffset=u(ax);av.endContainer=ay.parentNode;av.endOffset=u(ay)+1}R.walk(av,function(az){X(az,function(aA){ai(aA);if(aA.nodeType===1&&ae.dom.getStyle(aA,"text-decoration")==="underline"&&aA.parentNode&&j(aA.parentNode)==="underline"){ad({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aA)}})})}if(aj){if(aj.nodeType){ag=c.createRng();ag.setStartBefore(aj);ag.setEndAfter(aj);au(ag)}else{au(aj)}return}if(!t.isCollapsed()||!at.inline||c.select("td.mceSelected,th.mceSelected").length){ao=t.getBookmark();au(t.getRng(G));t.moveToBookmark(ao);if(at.inline&&l(ah,aq,t.getStart())){V(t.getRng(true))}ae.nodeChanged()}else{Y("remove",ah,aq)}}function J(ag,ai,ah){var af=Z(ag);if(l(ag,ai,ah)&&(!("toggle" in af[0])||af[0].toggle)){F(ag,ai,ah)}else{ac(ag,ai,ah)}}function C(ag,af,al,aj){var ah=Z(af),am,ak,ai;function an(ar,au,av){var aq,at,ao=au[av],ap;if(au.onmatch){return au.onmatch(ar,au,av)}if(ao){if(ao.length===H){for(aq in ao){if(ao.hasOwnProperty(aq)){if(av==="attributes"){at=c.getAttrib(ar,aq)}else{at=S(ar,aq)}if(aj&&!at&&!au.exact){return}if((!aj||au.exact)&&!g(at,s(ao[aq],al))){return}}}}else{for(ap=0;ap<ao.length;ap++){if(av==="attributes"?c.getAttrib(ar,ao[ap]):S(ar,ao[ap])){return au}}}}return au}if(ah&&ag){for(ak=0;ak<ah.length;ak++){am=ah[ak];if(h(ag,am)&&an(ag,am,"attributes")&&an(ag,am,"styles")){if(ai=am.classes){for(ak=0;ak<ai.length;ak++){if(!c.hasClass(ag,ai[ak])){return}}}return am}}}}function l(ah,aj,ai){var ag;function af(ak){ak=c.getParent(ak,function(al){return !!C(al,ah,aj,true)});return C(ak,ah,aj)}if(ai){return af(ai)}ai=t.getNode();if(af(ai)){return G}ag=t.getStart();if(ag!=ai){if(af(ag)){return G}}return ab}function A(am,al){var aj,ak=[],ai={},ah,ag,af;aj=t.getStart();c.getParent(aj,function(ap){var ao,an;for(ao=0;ao<am.length;ao++){an=am[ao];if(!ai[an]&&C(ap,an,al)){ai[an]=true;ak.push(an)}}},c.getRoot());return ak}function D(aj){var al=Z(aj),ai,ah,ak,ag,af;if(al){ai=t.getStart();ah=o(ai);for(ag=al.length-1;ag>=0;ag--){af=al[ag].selector;if(!af){return G}for(ak=ah.length-1;ak>=0;ak--){if(c.is(ah[ak],af)){return G}}}}return ab}function N(af,ah){var ag;if(!T){T={};ag={};ae.onNodeChange.addToTop(function(aj,ai,al){var ak=o(al),am={};X(T,function(an,ao){X(ak,function(ap){if(C(ap,ao,{},true)){if(!ag[ao]){X(an,function(aq){aq(true,{node:ap,format:ao,parents:ak})});ag[ao]=an}am[ao]=an;return false}})});X(ag,function(an,ao){if(!am[ao]){delete ag[ao];X(an,function(ap){ap(false,{node:al,format:ao,parents:ak})})}})})}X(af.split(","),function(ai){if(!T[ai]){T[ai]=[]}T[ai].push(ah)});return this}a.extend(this,{get:Z,register:m,apply:ac,remove:F,toggle:J,match:l,matchAll:A,matchNode:C,canApply:D,formatChanged:N});k();aa();function h(af,ag){if(g(af,ag.inline)){return G}if(g(af,ag.block)){return G}if(ag.selector){return c.is(af,ag.selector)}}function g(ag,af){ag=ag||"";af=af||"";ag=""+(ag.nodeName||ag);af=""+(af.nodeName||af);return ag.toLowerCase()==af.toLowerCase()}function S(ag,af){var ah=c.getStyle(ag,af);if(af=="color"||af=="backgroundColor"){ah=c.toHex(ah)}if(af=="fontWeight"&&ah==700){ah="bold"}return""+ah}function s(af,ag){if(typeof(af)!="string"){af=af(ag)}else{if(ag){af=af.replace(/%(\w+)/g,function(ai,ah){return ag[ah]||ai})}}return af}function f(af){return af&&af.nodeType===3&&/^([\t \r\n]+|)$/.test(af.nodeValue)}function W(ah,ag,af){var ai=c.create(ag,af);ah.parentNode.insertBefore(ai,ah);ai.appendChild(ah);return ai}function r(af,aq,ai){var au,ar,al,ap,ah=af.startContainer,am=af.startOffset,aw=af.endContainer,ao=af.endOffset;function at(aD){var ay,aB,aC,aA,az,ax;ay=aB=aD?ah:aw;az=aD?"previousSibling":"nextSibling";ax=c.getRoot();if(ay.nodeType==3&&!f(ay)){if(aD?am>0:ao<ay.nodeValue.length){return ay}}for(;;){if(!aq[0].block_expand&&L(aB)){return aB}for(aA=aB[az];aA;aA=aA[az]){if(!O(aA)&&!f(aA)){return aB}}if(aB.parentNode==ax){ay=aB;break}aB=aB.parentNode}return ay}function ak(ax,ay){if(ay===H){ay=ax.nodeType===3?ax.length:ax.childNodes.length}while(ax&&ax.hasChildNodes()){ax=ax.childNodes[ay];if(ax){ay=ax.nodeType===3?ax.length:ax.childNodes.length}}return{node:ax,offset:ay}}if(ah.nodeType==1&&ah.hasChildNodes()){ar=ah.childNodes.length-1;ah=ah.childNodes[am>ar?ar:am];if(ah.nodeType==3){am=0}}if(aw.nodeType==1&&aw.hasChildNodes()){ar=aw.childNodes.length-1;aw=aw.childNodes[ao>ar?ar:ao-1];if(aw.nodeType==3){ao=aw.nodeValue.length}}function av(ay){var ax=ay;while(ax){if(ax.nodeType===1&&B(ax)){return B(ax)==="false"?ax:ay}ax=ax.parentNode}return ay}function an(ay,aC,aE){var aB,az,aD,ax;function aA(aG,aI){var aJ,aF,aH=aG.nodeValue;if(typeof(aI)=="undefined"){aI=aE?aH.length:0}if(aE){aJ=aH.lastIndexOf(" ",aI);aF=aH.lastIndexOf("\u00a0",aI);aJ=aJ>aF?aJ:aF;if(aJ!==-1&&!ai){aJ++}}else{aJ=aH.indexOf(" ",aI);aF=aH.indexOf("\u00a0",aI);aJ=aJ!==-1&&(aF===-1||aJ<aF)?aJ:aF}return aJ}if(ay.nodeType===3){aD=aA(ay,aC);if(aD!==-1){return{container:ay,offset:aD}}ax=ay}aB=new v(ay,c.getParent(ay,L)||ae.getBody());while(az=aB[aE?"prev":"next"]()){if(az.nodeType===3){ax=az;aD=aA(az);if(aD!==-1){return{container:az,offset:aD}}}else{if(L(az)){break}}}if(ax){if(aE){aC=0}else{aC=ax.length}return{container:ax,offset:aC}}}function aj(ay,ax){var az,aA,aC,aB;if(ay.nodeType==3&&ay.nodeValue.length===0&&ay[ax]){ay=ay[ax]}az=o(ay);for(aA=0;aA<az.length;aA++){for(aC=0;aC<aq.length;aC++){aB=aq[aC];if("collapsed" in aB&&aB.collapsed!==af.collapsed){continue}if(c.is(az[aA],aB.selector)){return az[aA]}}}return ay}function ag(ay,ax,aA){var az;if(!aq[0].wrapper){az=c.getParent(ay,aq[0].block)}if(!az){az=c.getParent(ay.nodeType==3?ay.parentNode:ay,L)}if(az&&aq[0].wrapper){az=o(az,"ul,ol").reverse()[0]||az}if(!az){az=ay;while(az[ax]&&!L(az[ax])){az=az[ax];if(g(az,"br")){break}}}return az||ay}ah=av(ah);aw=av(aw);if(O(ah.parentNode)||O(ah)){ah=O(ah)?ah:ah.parentNode;ah=ah.nextSibling||ah;if(ah.nodeType==3){am=0}}if(O(aw.parentNode)||O(aw)){aw=O(aw)?aw:aw.parentNode;aw=aw.previousSibling||aw;if(aw.nodeType==3){ao=aw.length}}if(aq[0].inline){if(af.collapsed){ap=an(ah,am,true);if(ap){ah=ap.container;am=ap.offset}ap=an(aw,ao);if(ap){aw=ap.container;ao=ap.offset}}al=ak(aw,ao);if(al.node){while(al.node&&al.offset===0&&al.node.previousSibling){al=ak(al.node.previousSibling)}if(al.node&&al.offset>0&&al.node.nodeType===3&&al.node.nodeValue.charAt(al.offset-1)===" "){if(al.offset>1){aw=al.node;aw.splitText(al.offset-1)}}}}if(aq[0].inline||aq[0].block_expand){if(!aq[0].inline||(ah.nodeType!=3||am===0)){ah=at(true)}if(!aq[0].inline||(aw.nodeType!=3||ao===aw.nodeValue.length)){aw=at()}}if(aq[0].selector&&aq[0].expand!==ab&&!aq[0].inline){ah=aj(ah,"previousSibling");aw=aj(aw,"nextSibling")}if(aq[0].block||aq[0].selector){ah=ag(ah,"previousSibling");aw=ag(aw,"nextSibling");if(aq[0].block){if(!L(ah)){ah=at(true)}if(!L(aw)){aw=at()}}}if(ah.nodeType==1){am=u(ah);ah=ah.parentNode}if(aw.nodeType==1){ao=u(aw)+1;aw=aw.parentNode}return{startContainer:ah,startOffset:am,endContainer:aw,endOffset:ao}}function ad(al,ak,ai,af){var ah,ag,aj;if(!h(ai,al)){return ab}if(al.remove!="all"){X(al.styles,function(an,am){an=s(an,ak);if(typeof(am)==="number"){am=an;af=0}if(!af||g(S(af,am),an)){c.setStyle(ai,am,"")}aj=1});if(aj&&c.getAttrib(ai,"style")==""){ai.removeAttribute("style");ai.removeAttribute("data-mce-style")}X(al.attributes,function(ao,am){var an;ao=s(ao,ak);if(typeof(am)==="number"){am=ao;af=0}if(!af||g(c.getAttrib(af,am),ao)){if(am=="class"){ao=c.getAttrib(ai,am);if(ao){an="";X(ao.split(/\s+/),function(ap){if(/mce\w+/.test(ap)){an+=(an?" ":"")+ap}});if(an){c.setAttrib(ai,am,an);return}}}if(am=="class"){ai.removeAttribute("className")}if(e.test(am)){ai.removeAttribute("data-mce-"+am)}ai.removeAttribute(am)}});X(al.classes,function(am){am=s(am,ak);if(!af||c.hasClass(af,am)){c.removeClass(ai,am)}});ag=c.getAttribs(ai);for(ah=0;ah<ag.length;ah++){if(ag[ah].nodeName.indexOf("_")!==0){return ab}}}if(al.remove!="none"){q(ai,al);return G}}function q(ah,ai){var af=ah.parentNode,ag;function aj(al,ak,am){al=I(al,ak,am);return !al||(al.nodeName=="BR"||L(al))}if(ai.block){if(!n){if(L(ah)&&!L(af)){if(!aj(ah,ab)&&!aj(ah.firstChild,G,1)){ah.insertBefore(c.create("br"),ah.firstChild)}if(!aj(ah,G)&&!aj(ah.lastChild,ab,1)){ah.appendChild(c.create("br"))}}}else{if(af==c.getRoot()){if(!ai.list_block||!g(ah,ai.list_block)){X(a.grep(ah.childNodes),function(ak){if(d(n,ak.nodeName.toLowerCase())){if(!ag){ag=W(ak,n)}else{ag.appendChild(ak)}}else{ag=0}})}}}}if(ai.selector&&ai.inline&&!g(ai.inline,ah)){return}c.remove(ah,1)}function I(ag,af,ah){if(ag){af=af?"nextSibling":"previousSibling";for(ag=ah?ag:ag[af];ag;ag=ag[af]){if(ag.nodeType==1||!f(ag)){return ag}}}}function O(af){return af&&af.nodeType==1&&af.getAttribute("data-mce-type")=="bookmark"}function z(aj,ai){var af,ah,ag;function al(ao,an){if(ao.nodeName!=an.nodeName){return ab}function am(aq){var ar={};X(c.getAttribs(aq),function(at){var au=at.nodeName.toLowerCase();if(au.indexOf("_")!==0&&au!=="style"){ar[au]=c.getAttrib(aq,au)}});return ar}function ap(au,at){var ar,aq;for(aq in au){if(au.hasOwnProperty(aq)){ar=at[aq];if(ar===H){return ab}if(au[aq]!=ar){return ab}delete at[aq]}}for(aq in at){if(at.hasOwnProperty(aq)){return ab}}return G}if(!ap(am(ao),am(an))){return ab}if(!ap(c.parseStyle(c.getAttrib(ao,"style")),c.parseStyle(c.getAttrib(an,"style")))){return ab}return G}function ak(an,am){for(ah=an;ah;ah=ah[am]){if(ah.nodeType==3&&ah.nodeValue.length!==0){return an}if(ah.nodeType==1&&!O(ah)){return ah}}return an}if(aj&&ai){aj=ak(aj,"previousSibling");ai=ak(ai,"nextSibling");if(al(aj,ai)){for(ah=aj.nextSibling;ah&&ah!=ai;){ag=ah;ah=ah.nextSibling;aj.appendChild(ag)}c.remove(ai);X(a.grep(ai.childNodes),function(am){aj.appendChild(am)});return aj}}return ai}function M(af){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(af)}function Q(ag,ak){var af,aj,ah,ai;af=ag[ak?"startContainer":"endContainer"];aj=ag[ak?"startOffset":"endOffset"];if(af.nodeType==1){ah=af.childNodes.length-1;if(!ak&&aj){aj--}af=af.childNodes[aj>ah?ah:aj]}if(af.nodeType===3&&ak&&aj>=af.nodeValue.length){af=new v(af,ae.getBody()).next()||af}if(af.nodeType===3&&!ak&&aj===0){af=new v(af,ae.getBody()).prev()||af}return af}function Y(ao,af,am){var ap="_mce_caret",ag=ae.settings.caret_debug;function ah(au){var at=c.create("span",{id:ap,"data-mce-bogus":true,style:ag?"color:red":""});if(au){at.appendChild(ae.getDoc().createTextNode(K))}return at}function an(au,at){while(au){if((au.nodeType===3&&au.nodeValue!==K)||au.childNodes.length>1){return false}if(at&&au.nodeType===1){at.push(au)}au=au.firstChild}return true}function ak(at){while(at){if(at.id===ap){return at}at=at.parentNode}}function aj(at){var au;if(at){au=new v(at,at);for(at=au.current();at;at=au.next()){if(at.nodeType===3){return at}}}}function ai(av,au){var aw,at;if(!av){av=ak(t.getStart());if(!av){while(av=c.get(ap)){ai(av,false)}}}else{at=t.getRng(true);if(an(av)){if(au!==false){at.setStartBefore(av);at.setEndBefore(av)}c.remove(av)}else{aw=aj(av);if(aw.nodeValue.charAt(0)===K){aw=aw.deleteData(0,1)}c.remove(av,1)}t.setRng(at)}}function al(){var av,at,az,ay,aw,au,ax;av=t.getRng(true);ay=av.startOffset;au=av.startContainer;ax=au.nodeValue;at=ak(t.getStart());if(at){az=aj(at)}if(ax&&ay>0&&ay<ax.length&&/\w/.test(ax.charAt(ay))&&/\w/.test(ax.charAt(ay-1))){aw=t.getBookmark();av.collapse(true);av=r(av,Z(af));av=R.split(av);ac(af,am,av);t.moveToBookmark(aw)}else{if(!at||az.nodeValue!==K){at=ah(true);az=at.firstChild;av.insertNode(at);ay=1;ac(af,am,at)}else{ac(af,am,at)}t.setCursorLocation(az,ay)}}function aq(){var at=t.getRng(true),au,aw,az,ay,av,aC,aB=[],ax,aA;au=at.startContainer;aw=at.startOffset;av=au;if(au.nodeType==3){if(aw!=au.nodeValue.length||au.nodeValue===K){ay=true}av=av.parentNode}while(av){if(C(av,af,am)){aC=av;break}if(av.nextSibling){ay=true}aB.push(av);av=av.parentNode}if(!aC){return}if(ay){az=t.getBookmark();at.collapse(true);at=r(at,Z(af),true);at=R.split(at);F(af,am,at);t.moveToBookmark(az)}else{aA=ah();av=aA;for(ax=aB.length-1;ax>=0;ax--){av.appendChild(c.clone(aB[ax],false));av=av.firstChild}av.appendChild(c.doc.createTextNode(K));av=av.firstChild;c.insertAfter(aA,aC);t.setCursorLocation(av,1)}}function ar(){var au,at,av;at=ak(t.getStart());if(at&&!c.isEmpty(at)){a.walk(at,function(aw){if(aw.nodeType==1&&aw.id!==ap&&!c.isEmpty(aw)){c.setAttrib(aw,"data-mce-bogus",null)}},"childNodes")}}if(!self._hasCaretEvents){ae.onBeforeGetContent.addToTop(function(){var at=[],au;if(an(ak(t.getStart()),at)){au=at.length;while(au--){c.setAttrib(at[au],"data-mce-bogus","1")}}});a.each("onMouseUp onKeyUp".split(" "),function(at){ae[at].addToTop(function(){ai();ar()})});ae.onKeyDown.addToTop(function(at,av){var au=av.keyCode;if(au==8||au==37||au==39){ai(ak(t.getStart()))}ar()});t.onSetContent.add(ar);self._hasCaretEvents=true}if(ao=="apply"){al()}else{aq()}}function V(ag){var af=ag.startContainer,am=ag.startOffset,ai,al,ak,ah,aj;if(af.nodeType==3&&am>=af.nodeValue.length){am=u(af);af=af.parentNode;ai=true}if(af.nodeType==1){ah=af.childNodes;af=ah[Math.min(am,ah.length-1)];al=new v(af,c.getParent(af,c.isBlock));if(am>ah.length-1||ai){al.next()}for(ak=al.current();ak;ak=al.next()){if(ak.nodeType==3&&!f(ak)){aj=c.create("a",null,K);ak.parentNode.insertBefore(aj,ak);ag.setStart(ak,0);t.setRng(ag);c.remove(aj);return}}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,h,g,c=a.settings;function b(k,j){e.each(j,function(m,l){if(m){g.setStyle(k,l,m)}});g.rename(k,"span")}function f(j,k){g=j.dom;if(c.convert_fonts_to_spans){e.each(g.select("font,u,strike",k.node),function(l){d[l.nodeName.toLowerCase()](a.dom,l)})}}if(c.inline_styles){h=e.explode(c.font_size_legacy_values);d={font:function(k,j){b(j,{backgroundColor:j.style.backgroundColor,color:j.color,fontFamily:j.face,fontSize:h[parseInt(j.size,10)-1]})},u:function(k,j){b(j,{textDecoration:"underline"})},strike:function(k,j){b(j,{textDecoration:"line-through"})}};a.onPreProcess.add(f);a.onSetContent.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});(function(b){var a=b.dom.TreeWalker;b.EnterKey=function(e){var h=e.dom,d=e.selection,c=e.settings,g=e.undoManager;function f(C){var z=d.getRng(true),G,j,B,v,q,L,o,k,m,u,I,A,D;function F(M){return M&&h.isBlock(M)&&!/^(TD|TH|CAPTION)$/.test(M.nodeName)&&!/^(fixed|absolute)/i.test(M.style.position)&&h.getContentEditable(M)!=="true"}function n(N){var S,Q,M,T,R,P=N,O;M=h.createRng();if(N.hasChildNodes()){S=new a(N,N);while(Q=S.current()){if(Q.nodeType==3){M.setStart(Q,0);M.setEnd(Q,0);break}if(/^(BR|IMG)$/.test(Q.nodeName)){M.setStartBefore(Q);M.setEndBefore(Q);break}P=Q;Q=S.next()}if(!Q){M.setStart(P,0);M.setEnd(P,0)}}else{if(N.nodeName=="BR"){if(N.nextSibling&&h.isBlock(N.nextSibling)){if(!L||L<9){O=h.create("br");N.parentNode.insertBefore(O,N)}M.setStartBefore(N);M.setEndBefore(N)}else{M.setStartAfter(N);M.setEndAfter(N)}}else{M.setStart(N,0);M.setEnd(N,0)}}d.setRng(M);h.remove(O);R=h.getViewPort(e.getWin());T=h.getPos(N).y;if(T<R.y||T+25>R.y+R.h){e.getWin().scrollTo(0,T<R.y?T:T-R.h+25)}}function s(N){var O=B,Q,P,M;Q=N||u=="TABLE"?h.create(N||A):q.cloneNode(false);M=Q;if(c.keep_styles!==false){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(O.nodeName)){P=O.cloneNode(false);h.setAttrib(P,"id","");if(Q.hasChildNodes()){P.appendChild(Q.firstChild);Q.appendChild(P)}else{M=P;Q.appendChild(P)}}}while(O=O.parentNode)}if(!b.isIE){M.innerHTML="<br>"}return Q}function r(P){var O,N,M;if(B.nodeType==3&&(P?v>0:v<B.nodeValue.length)){return false}if(B.parentNode==q&&D&&!P){return true}if(B.nodeName==="TABLE"||(B.previousSibling&&B.previousSibling.nodeName=="TABLE")){return(D&&!P)||(!D&&P)}O=new a(B,q);while(N=(P?O.prev():O.next())){if(N.nodeType===1){if(N.getAttribute("data-mce-bogus")){continue}M=N.nodeName.toLowerCase();if(M==="IMG"){return false}}else{if(N.nodeType===3&&!/^[ \t\r\n]*$/.test(N.nodeValue)){return false}}}return true}function l(M,S){var T,R,O,Q,P,N=A||"P";R=h.getParent(M,h.isBlock);if(!R||!F(R)){R=R||j;if(!R.hasChildNodes()){T=h.create(N);R.appendChild(T);z.setStart(T,0);z.setEnd(T,0);return T}Q=M;while(Q.parentNode!=R){Q=Q.parentNode}while(Q&&!h.isBlock(Q)){O=Q;Q=Q.previousSibling}if(O){T=h.create(N);O.parentNode.insertBefore(T,O);Q=O;while(Q&&!h.isBlock(Q)){P=Q.nextSibling;T.appendChild(Q);Q=P}z.setStart(M,S);z.setEnd(M,S)}}return M}function H(){function M(O){var N=m[O?"firstChild":"lastChild"];while(N){if(N.nodeType==1){break}N=N[O?"nextSibling":"previousSibling"]}return N===q}o=A?s(A):h.create("BR");if(M(true)&&M()){h.replace(o,m)}else{if(M(true)){m.parentNode.insertBefore(o,m)}else{if(M()){h.insertAfter(o,m)}else{G=z.cloneRange();G.setStartAfter(q);G.setEndAfter(m);k=G.extractContents();h.insertAfter(k,m);h.insertAfter(o,m)}}}h.remove(q);n(o);g.add()}function E(){var N=new a(B,q),M;while(M=N.current()){if(M.nodeName=="BR"){return true}M=N.next()}}function K(){var N,M;if(B&&B.nodeType==3&&v>=B.nodeValue.length){if(!b.isIE&&!E()){N=h.create("br");z.insertNode(N);z.setStartAfter(N);z.setEndAfter(N);M=true}}N=h.create("br");z.insertNode(N);if(b.isIE&&u=="PRE"&&(!L||L<8)){N.parentNode.insertBefore(h.doc.createTextNode("\r"),N)}if(!M){z.setStartAfter(N);z.setEndAfter(N)}else{z.setStartBefore(N);z.setEndBefore(N)}d.setRng(z);g.add()}function t(M){do{if(M.nodeType===3){M.nodeValue=M.nodeValue.replace(/^[\r\n]+/,"")}M=M.firstChild}while(M)}function J(O){var M=h.getRoot(),N,P;N=O;while(N!==M&&h.getContentEditable(N)!=="false"){if(h.getContentEditable(N)==="true"){P=N}N=N.parentNode}return N!==M?P:M}if(!z.collapsed){e.execCommand("Delete");return}if(C.isDefaultPrevented()){return}B=z.startContainer;v=z.startOffset;A=c.forced_root_block;A=A?A.toUpperCase():"";L=h.doc.documentMode;if(B.nodeType==1&&B.hasChildNodes()){D=v>B.childNodes.length-1;B=B.childNodes[Math.min(v,B.childNodes.length-1)]||B;v=0}j=J(B);if(!j){return}g.beforeChange();if(!h.isBlock(j)&&j!=h.getRoot()){if(!A||C.shiftKey){K()}return}if((A&&!C.shiftKey)||(!A&&C.shiftKey)){B=l(B,v)}q=h.getParent(B,h.isBlock);m=q?h.getParent(q.parentNode,h.isBlock):null;u=q?q.nodeName.toUpperCase():"";I=m?m.nodeName.toUpperCase():"";if(u=="LI"&&h.isEmpty(q)){if(/^(UL|OL|LI)$/.test(m.parentNode.nodeName)){return false}H();return}if(u=="PRE"&&c.br_in_pre!==false){if(!C.shiftKey){K();return}}else{if((!A&&!C.shiftKey&&u!="LI")||(A&&C.shiftKey)){K();return}}A=A||"P";if(r()){if(/^(H[1-6]|PRE)$/.test(u)&&I!="HGROUP"){o=s(A)}else{o=s()}if(c.end_container_on_empty_block&&F(m)&&h.isEmpty(q)){o=h.split(m,q)}else{h.insertAfter(o,q)}}else{if(r(true)){o=q.parentNode.insertBefore(s(),q)}else{G=z.cloneRange();G.setEndAfter(q);k=G.extractContents();t(k);o=k.firstChild;h.insertAfter(k,q)}}h.setAttrib(o,"id","");n(o);g.add()}e.onKeyDown.add(function(k,j){if(j.keyCode==13){if(f(j)!==false){j.preventDefault()}}})}})(tinymce);tinyMCE.addI18n({en:{common:{more_colors:"More Colors...",invalid_data:"Error: Invalid values entered, these are marked in red.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",not_set:"-- Not Set --",class_name:"Class",browse:"Browse",close:"Close",cancel:"Cancel",update:"Update",insert:"Insert",apply:"Apply",edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",invalid_data_number:"{#field} must be a number",invalid_data_min:"{#field} must be a number greater than {#min}",invalid_data_size:"{#field} must be a number or percentage",value:"(value)"},contextmenu:{full:"Full",right:"Right",center:"Center",left:"Left",align:"Alignment"},insertdatetime:{day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",inserttime_desc:"Insert Time",insertdate_desc:"Insert Date",time_fmt:"%H:%M:%S",date_fmt:"%Y-%m-%d"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{rtl_desc:"Direction Right to Left",ltr_desc:"Direction Left to Right"},layer:{content:"New layer...",absolute_desc:"Toggle Absolute Positioning",backward_desc:"Move Backward",forward_desc:"Move Forward",insertlayer_desc:"Insert New Layer"},save:{save_desc:"Save",cancel_desc:"Cancel All Changes"},nonbreaking:{nonbreaking_desc:"Insert Non-Breaking Space Character"},iespell:{download:"ieSpell not detected. Do you want to install it now?",iespell_desc:"Check Spelling"},advhr:{delta_height:"",delta_width:"",advhr_desc:"Insert Horizontal Line"},emotions:{delta_height:"",delta_width:"",emotions_desc:"Emotions"},searchreplace:{replace_desc:"Find/Replace",delta_width:"",delta_height:"",search_desc:"Find"},advimage:{delta_width:"",image_desc:"Insert/Edit Image",delta_height:""},advlink:{delta_height:"",delta_width:"",link_desc:"Insert/Edit Link"},xhtmlxtras:{attribs_delta_height:"",attribs_delta_width:"",ins_delta_height:"",ins_delta_width:"",del_delta_height:"",del_delta_width:"",acronym_delta_height:"",acronym_delta_width:"",abbr_delta_height:"",abbr_delta_width:"",cite_delta_height:"",cite_delta_width:"",attribs_desc:"Insert/Edit Attributes",ins_desc:"Insertion",del_desc:"Deletion",acronym_desc:"Acronym",abbr_desc:"Abbreviation",cite_desc:"Citation"},style:{delta_height:"",delta_width:"",desc:"Edit CSS Style"},paste:{plaintext_mode_stick:"Paste is now in plain text mode. Click again to toggle back to regular paste mode.",plaintext_mode:"Paste is now in plain text mode. Click again to toggle back to regular paste mode. After you paste something you will be returned to regular paste mode.",selectall_desc:"Select All",paste_word_desc:"Paste from Word",paste_text_desc:"Paste as Plain Text"},paste_dlg:{word_title:"Use Ctrl+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep Linebreaks",text_title:"Use Ctrl+V on your keyboard to paste the text into the window."},table:{merge_cells_delta_height:"",merge_cells_delta_width:"",table_delta_height:"",table_delta_width:"",cellprops_delta_height:"",cellprops_delta_width:"",rowprops_delta_height:"",rowprops_delta_width:"",cell:"Cell",col:"Column",row:"Row",del:"Delete Table",copy_row_desc:"Copy Table Row",cut_row_desc:"Cut Table Row",paste_row_after_desc:"Paste Table Row After",paste_row_before_desc:"Paste Table Row Before",props_desc:"Table Properties",cell_desc:"Table Cell Properties",row_desc:"Table Row Properties",merge_cells_desc:"Merge Table Cells",split_cells_desc:"Split Merged Table Cells",delete_col_desc:"Delete Column",col_after_desc:"Insert Column After",col_before_desc:"Insert Column Before",delete_row_desc:"Delete Row",row_after_desc:"Insert Row After",row_before_desc:"Insert Row Before",desc:"Insert/Edit Table"},autosave:{warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?",restore_content:"Restore auto-saved content.",unload_msg:"The changes you made will be lost if you navigate away from this page."},fullscreen:{desc:"Toggle Full Screen Mode"},media:{delta_height:"",delta_width:"",edit:"Edit Embedded Media",desc:"Insert/Edit Embedded Media"},fullpage:{desc:"Document Properties",delta_width:"",delta_height:""},template:{desc:"Insert Predefined Template Content"},visualchars:{desc:"Show/Hide Visual Control Characters"},spellchecker:{desc:"Toggle Spell Checker",menu:"Spell Checker Settings",ignore_word:"Ignore Word",ignore_words:"Ignore All",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No Suggestions",no_mpell:"No misspellings found.",learn_word:"Learn word"},pagebreak:{desc:"Insert Page Break for Printing"},advlist:{types:"Types",def:"Default",lower_alpha:"Lower Alpha",lower_greek:"Lower Greek",lower_roman:"Lower Roman",upper_alpha:"Upper Alpha",upper_roman:"Upper Roman",circle:"Circle",disc:"Disc",square:"Square"},colors:{"333300":"Dark olive","993300":"Burnt orange","000000":"Black","003300":"Dark green","003366":"Dark azure","000080":"Navy Blue","333399":"Indigo","333333":"Very dark gray","800000":"Maroon",FF6600:"Orange","808000":"Olive","008000":"Green","008080":"Teal","0000FF":"Blue","666699":"Grayish blue","808080":"Gray",FF0000:"Red",FF9900:"Amber","99CC00":"Yellow green","339966":"Sea green","33CCCC":"Turquoise","3366FF":"Royal blue","800080":"Purple","999999":"Medium gray",FF00FF:"Magenta",FFCC00:"Gold",FFFF00:"Yellow","00FF00":"Lime","00FFFF":"Aqua","00CCFF":"Sky blue","993366":"Brown",C0C0C0:"Silver",FF99CC:"Pink",FFCC99:"Peach",FFFF99:"Light yellow",CCFFCC:"Pale green",CCFFFF:"Pale cyan","99CCFF":"Light sky blue",CC99FF:"Plum",FFFFFF:"White"},aria:{rich_text_area:"Rich Text Area"},wordcount:{words:"Words:"},visualblocks:{desc:"Show/hide block elements"}}});(function(){var c=tinymce.each,a={paste_auto_cleanup_on_paste:true,paste_enable_default_filters:true,paste_block_drop:false,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:false,paste_remove_styles:false,paste_remove_styles_if_webkit:true,paste_convert_middot_lists:true,paste_convert_headers_to_strong:false,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:false,paste_text_sticky:false,paste_text_sticky_default:false,paste_text_notifyalways:false,paste_text_linebreaktype:"combined",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};function b(d,e){return d.getParam(e,a[e])}tinymce.create("tinymce.plugins.PastePlugin",{init:function(d,e){var f=this;f.editor=d;f.url=e;f.onPreProcess=new tinymce.util.Dispatcher(f);f.onPostProcess=new tinymce.util.Dispatcher(f);f.onPreProcess.add(f._preProcess);f.onPostProcess.add(f._postProcess);f.onPreProcess.add(function(j,k){d.execCallback("paste_preprocess",j,k)});f.onPostProcess.add(function(j,k){d.execCallback("paste_postprocess",j,k)});d.onKeyDown.addToTop(function(j,k){if(((tinymce.isMac?k.metaKey:k.ctrlKey)&&k.keyCode==86)||(k.shiftKey&&k.keyCode==45)){return false}});d.pasteAsPlainText=b(d,"paste_text_sticky_default");function h(m,k){var l=d.dom,j;f.onPreProcess.dispatch(f,m);m.node=l.create("div",0,m.content);if(tinymce.isGecko){j=d.selection.getRng(true);if(j.startContainer==j.endContainer&&j.startContainer.nodeType==3){if(m.node.childNodes.length===1&&/^(p|h[1-6]|pre)$/i.test(m.node.firstChild.nodeName)&&m.content.indexOf("__MCE_ITEM__")===-1){l.remove(m.node.firstChild,true)}}}f.onPostProcess.dispatch(f,m);m.content=d.serializer.serialize(m.node,{getInner:1,forced_root_block:""});if((!k)&&(d.pasteAsPlainText)){f._insertPlainText(m.content);if(!b(d,"paste_text_sticky")){d.pasteAsPlainText=false;d.controlManager.setActive("pastetext",false)}}else{f._insert(m.content)}}d.addCommand("mceInsertClipboardContent",function(j,k){h(k,true)});if(!b(d,"paste_text_use_dialog")){d.addCommand("mcePasteText",function(k,j){var l=tinymce.util.Cookie;d.pasteAsPlainText=!d.pasteAsPlainText;d.controlManager.setActive("pastetext",d.pasteAsPlainText);if((d.pasteAsPlainText)&&(!l.get("tinymcePasteText"))){if(b(d,"paste_text_sticky")){d.windowManager.alert(d.translate("paste.plaintext_mode_sticky"))}else{d.windowManager.alert(d.translate("paste.plaintext_mode"))}if(!b(d,"paste_text_notifyalways")){l.set("tinymcePasteText","1",new Date(new Date().getFullYear()+1,12,31))}}})}d.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"});d.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"});function g(u){var m,r,k,v,l=d.selection,q=d.dom,s=d.getBody(),j,t;if(u.clipboardData||q.doc.dataTransfer){t=(u.clipboardData||q.doc.dataTransfer).getData("Text");if(d.pasteAsPlainText){u.preventDefault();h({content:q.encode(t).replace(/\r?\n/g,"<br />")});return}}if(q.get("_mcePaste")){return}m=q.add(s,"div",{id:"_mcePaste","class":"mcePaste","data-mce-bogus":"1"},"\uFEFF\uFEFF");if(s!=d.getDoc().body){j=q.getPos(d.selection.getStart(),s).y}else{j=s.scrollTop+q.getViewPort(d.getWin()).y}q.setStyles(m,{position:"absolute",left:tinymce.isGecko?-40:0,top:j-25,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){v=l.getRng();k=q.doc.body.createTextRange();k.moveToElementText(m);k.execCommand("Paste");q.remove(m);if(m.innerHTML==="\uFEFF\uFEFF"){d.execCommand("mcePasteWord");u.preventDefault();return}l.setRng(v);l.setContent("");setTimeout(function(){h({content:m.innerHTML})},0);return tinymce.dom.Event.cancel(u)}else{function o(n){n.preventDefault()}q.bind(d.getDoc(),"mousedown",o);q.bind(d.getDoc(),"keydown",o);r=d.selection.getRng();m=m.firstChild;k=d.getDoc().createRange();k.setStart(m,0);k.setEnd(m,2);l.setRng(k);window.setTimeout(function(){var z="",n;if(!q.select("div.mcePaste > div.mcePaste").length){n=q.select("div.mcePaste");c(n,function(B){var A=B.firstChild;if(A&&A.nodeName=="DIV"&&A.style.marginTop&&A.style.backgroundColor){q.remove(A,1)}c(q.select("span.Apple-style-span",B),function(C){q.remove(C,1)});c(q.select("br[data-mce-bogus]",B),function(C){q.remove(C)});if(B.parentNode.className!="mcePaste"){z+=B.innerHTML}})}else{z="<p>"+q.encode(t).replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br />")+"</p>"}c(q.select("div.mcePaste"),function(A){q.remove(A)});if(r){l.setRng(r)}h({content:z});q.unbind(d.getDoc(),"mousedown",o);q.unbind(d.getDoc(),"keydown",o)},0)}}if(b(d,"paste_auto_cleanup_on_paste")){if(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)){d.onKeyDown.addToTop(function(j,k){if(((tinymce.isMac?k.metaKey:k.ctrlKey)&&k.keyCode==86)||(k.shiftKey&&k.keyCode==45)){g(k)}})}else{d.onPaste.addToTop(function(j,k){return g(k)})}}d.onInit.add(function(){d.controlManager.setActive("pastetext",d.pasteAsPlainText);if(b(d,"paste_block_drop")){d.dom.bind(d.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(j){j.preventDefault();j.stopPropagation();return false})}});f._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(g,e){var l=this.editor,k=e.content,r=tinymce.grep,q=tinymce.explode,f=tinymce.trim,m,j;function d(h){c(h,function(o){if(o.constructor==RegExp){k=k.replace(o,"")}else{k=k.replace(o[0],o[1])}})}if(l.settings.paste_enable_default_filters==false){return}if(tinymce.isIE&&document.documentMode>=9&&/<(h[1-6r]|p|div|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|blockquote|center|dl|dt|dd|dir|fieldset)/.test(e.content)){d([[/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6r]|p|div|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|blockquote|center|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1"]]);d([[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(k)||e.wordContent){e.wordContent=true;d([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]);if(b(l,"paste_convert_headers_to_strong")){k=k.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")}if(b(l,"paste_convert_middot_lists")){d([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"],[/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1__MCE_ITEM__"]])}d([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"]]);do{m=k.length;k=k.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1")}while(m!=k.length);if(b(l,"paste_retain_style_properties").replace(/^none$/i,"").length==0){k=k.replace(/<\/?span[^>]*>/gi,"")}else{d([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(o,h){return(h.length>0)?h.replace(/./," ").slice(Math.floor(h.length/2)).split("").join("\u00a0"):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(v,h,u){var z=[],o=0,t=q(f(u).replace(/&quot;/gi,"'"),";");c(t,function(s){var A,C,D=q(s,":");function B(E){return E+((E!=="0")&&(/\d$/.test(E)))?"px":""}if(D.length==2){A=D[0].toLowerCase();C=D[1].toLowerCase();switch(A){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":z[o++]=A.replace(/^mso-|-alt$/g,"")+":"+B(C);return;case"horiz-align":z[o++]="text-align:"+C;return;case"vert-align":z[o++]="vertical-align:"+C;return;case"font-color":case"mso-foreground":z[o++]="color:"+C;return;case"mso-background":case"mso-highlight":z[o++]="background:"+C;return;case"mso-default-height":z[o++]="min-height:"+B(C);return;case"mso-default-width":z[o++]="min-width:"+B(C);return;case"mso-padding-between-alt":z[o++]="border-collapse:separate;border-spacing:"+B(C);return;case"text-line-through":if((C=="single")||(C=="double")){z[o++]="text-decoration:line-through"}return;case"mso-zero-height":if(C=="yes"){z[o++]="display:none"}return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(A)){return}z[o++]=A+":"+D[1]}});if(o>0){return h+' style="'+z.join(";")+'"'}else{return h}}]])}}if(b(l,"paste_convert_headers_to_strong")){d([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]])}d([[/Version:[\d.]+\nStartHTML:\d+\nEndHTML:\d+\nStartFragment:\d+\nEndFragment:\d+/gi,""]]);j=b(l,"paste_strip_class_attributes");if(j!=="none"){function n(s,o){if(j==="all"){return""}var h=r(q(o.replace(/^(["'])(.*)\1$/,"$2")," "),function(t){return(/^(?!mso)/i.test(t))});return h.length?' class="'+h.join(" ")+'"':""}k=k.replace(/ class="([^"]+)"/gi,n);k=k.replace(/ class=([\-\w]+)/gi,n)}if(b(l,"paste_remove_spans")){k=k.replace(/<\/?span[^>]*>/gi,"")}e.content=k},_postProcess:function(g,j){var f=this,e=f.editor,h=e.dom,d;if(e.settings.paste_enable_default_filters==false){return}if(j.wordContent){c(h.select("a",j.node),function(k){if(!k.href||k.href.indexOf("#_Toc")!=-1){h.remove(k,1)}});if(b(e,"paste_convert_middot_lists")){f._convertLists(g,j)}d=b(e,"paste_retain_style_properties");if((tinymce.is(d,"string"))&&(d!=="all")&&(d!=="*")){d=tinymce.explode(d.replace(/^none$/i,""));c(h.select("*",j.node),function(n){var o={},l=0,m,q,k;if(d){for(m=0;m<d.length;m++){q=d[m];k=h.getStyle(n,q);if(k){o[q]=k;l++}}}h.setAttrib(n,"style","");if(d&&l>0){h.setStyles(n,o)}else{if(n.nodeName=="SPAN"&&!n.className){h.remove(n,true)}}})}}if(b(e,"paste_remove_styles")||(b(e,"paste_remove_styles_if_webkit")&&tinymce.isWebKit)){c(h.select("*[style]",j.node),function(k){k.removeAttribute("style");k.removeAttribute("data-mce-style")})}else{if(tinymce.isWebKit){c(h.select("*",j.node),function(k){k.removeAttribute("data-mce-style")})}}},_convertLists:function(g,e){var j=g.editor.dom,h,m,d=-1,f,n=[],l,k;c(j.select("p",e.node),function(u){var r,v="",t,s,o,q;for(r=u.firstChild;r&&r.nodeType==3;r=r.nextSibling){v+=r.nodeValue}v=u.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"\u00a0");if(/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o\u25CF]\s*\u00a0*/.test(v)){t="ul"}if(/^__MCE_ITEM__\s*\w+\.\s*\u00a0+/.test(v)){t="ol"}if(t){f=parseFloat(u.style.marginLeft||0);if(f>d){n.push(f)}if(!h||t!=l){h=j.create(t);j.insertAfter(h,u)}else{if(f>d){h=m.appendChild(j.create(t))}else{if(f<d){o=tinymce.inArray(n,f);q=j.getParents(h.parentNode,t);h=q[q.length-1-o]||h}}}c(j.select("span",u),function(A){var z=A.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");if(t=="ul"&&/^__MCE_ITEM__[\u2022\u00b7\u00a7\u00d8o\u25CF]/.test(z)){j.remove(A)}else{if(/^__MCE_ITEM__[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(z)){j.remove(A)}}});s=u.innerHTML;if(t=="ul"){s=u.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o\u25CF]\s*(&nbsp;|\u00a0)+\s*/,"")}else{s=u.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,"")}m=h.appendChild(j.create("li",0,s));j.remove(u);d=f;l=t}else{h=d=0}});k=e.node.innerHTML;if(k.indexOf("__MCE_ITEM__")!=-1){e.node.innerHTML=k.replace(/__MCE_ITEM__/g,"")}},_insert:function(f,d){var e=this.editor,g=e.selection.getRng();if(!e.selection.isCollapsed()&&g.startContainer!=g.endContainer){e.getDoc().execCommand("Delete",false,null)}e.execCommand("mceInsertContent",false,f,{skip_undo:d})},_insertPlainText:function(g){var d=this.editor,e=b(d,"paste_text_linebreaktype"),j=b(d,"paste_text_replacements"),f=tinymce.is;function h(k){c(k,function(l){if(l.constructor==RegExp){g=g.replace(l,"")}else{g=g.replace(l[0],l[1])}})}if((typeof(g)==="string")&&(g.length>0)){if(/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(g)){h([/[\n\r]+/g])}else{h([/\r+/g])}h([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"]]);g=d.dom.decode(tinymce.html.Entities.encodeRaw(g));if(f(j,"array")){h(j)}else{if(f(j,"string")){h(new RegExp(j,"gi"))}}if(e=="none"){h([[/\n+/g," "]])}else{if(e=="br"){h([[/\n/g,"<br />"]])}else{if(e=="p"){h([[/\n+/g,"</p><p>"],[/^(.*<\/p>)(<p>)$/,"<p>$1"]])}else{h([[/\n\n/g,"</p><p>"],[/^(.*<\/p>)(<p>)$/,"<p>$1"],[/\n/g,"<br />"]])}}}d.execCommand("mceInsertContent",false,g)}},_legacySupport:function(){var e=this,d=e.editor;d.addCommand("mcePasteWord",function(){d.windowManager.open({file:e.url+"/pasteword.htm",width:parseInt(b(d,"paste_dialog_width")),height:parseInt(b(d,"paste_dialog_height")),inline:1})});if(b(d,"paste_text_use_dialog")){d.addCommand("mcePasteText",function(){d.windowManager.open({file:e.url+"/pastetext.htm",width:parseInt(b(d,"paste_dialog_width")),height:parseInt(b(d,"paste_dialog_height")),inline:1})})}d.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}});tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)})();(function(){var a=tinymce.util.JSONRequest,c=tinymce.each,b=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(e,f){var g=this,d;g.url=f;g.editor=e;g.rpcUrl=e.getParam("spellchecker_rpc_url","{backend}");if(g.rpcUrl=="{backend}"){if(tinymce.isIE){return}g.hasSupport=true;e.onContextMenu.addToTop(function(h,j){if(g.active){return false}})}e.addCommand("mceSpellCheck",function(){if(g.rpcUrl=="{backend}"){g.editor.getBody().spellcheck=g.active=!g.active;return}if(!g.active){e.setProgressState(1);g._sendRPC("checkWords",[g.selectedLang,g._getWords()],function(h){if(h.length>0){g.active=1;g._markWords(h);e.setProgressState(0);e.nodeChanged()}else{e.setProgressState(0);if(e.getParam("spellchecker_report_no_misspellings",true)){e.windowManager.alert("spellchecker.no_mpell")}}})}else{g._done()}});if(e.settings.content_css!==false){e.contentCSS.push(f+"/css/content.css")}e.onClick.add(g._showMenu,g);e.onContextMenu.add(g._showMenu,g);e.onBeforeGetContent.add(function(){if(g.active){g._removeWords()}});e.onNodeChange.add(function(j,h){h.setActive("spellchecker",g.active)});e.onSetContent.add(function(){g._done()});e.onBeforeGetContent.add(function(){g._done()});e.onBeforeExecCommand.add(function(h,j){if(j=="mceFullScreen"){g._done()}});g.languages={};c(e.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(j,h){if(h.indexOf("+")===0){h=h.substring(1);g.selectedLang=j}g.languages[h]=j})},createControl:function(h,d){var f=this,g,e=f.editor;if(h=="spellchecker"){if(f.rpcUrl=="{backend}"){if(f.hasSupport){g=d.createButton(h,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:f})}return g}g=d.createSplitButton(h,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:f});g.onRenderMenu.add(function(k,j){j.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1);c(f.languages,function(n,m){var q={icon:1},l;q.onclick=function(){if(n==f.selectedLang){return}l.setSelected(1);f.selectedItem.setSelected(0);f.selectedItem=l;f.selectedLang=n};q.title=m;l=j.add(q);l.setSelected(n==f.selectedLang);if(n==f.selectedLang){f.selectedItem=l}})});return g}},_walk:function(j,g){var h=this.editor.getDoc(),e;if(h.createTreeWalker){e=h.createTreeWalker(j,NodeFilter.SHOW_TEXT,null,false);while((j=e.nextNode())!=null){g.call(this,j)}}else{tinymce.walk(j,g,"childNodes")}},_getSeparators:function(){var e="",d,f=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}����������������\u201d\u201c');for(d=0;d<f.length;d++){e+="\\"+f.charAt(d)}return e},_getWords:function(){var e=this.editor,g=[],d="",f={},h=[];this._walk(e.getBody(),function(j){if(j.nodeType==3){d+=j.nodeValue+" "}});if(e.getParam("spellchecker_word_pattern")){h=d.match("("+e.getParam("spellchecker_word_pattern")+")","gi")}else{d=d.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," ");d=tinymce.trim(d.replace(/(\s+)/g," "));h=d.split(" ")}c(h,function(j){if(!f[j]){g.push(j);f[j]=1}});return g},_removeWords:function(d){var e=this.editor,h=e.dom,g=e.selection,f=g.getRng(true);c(h.select("span").reverse(),function(j){if(j&&(h.hasClass(j,"mceItemHiddenSpellWord")||h.hasClass(j,"mceItemHidden"))){if(!d||h.decode(j.innerHTML)==d){h.remove(j,1)}}});g.setRng(f)},_markWords:function(m){var h=this.editor,g=h.dom,k=h.getDoc(),j=h.selection,d=j.getRng(true),e=[],l=m.join("|"),n=this._getSeparators(),f=new RegExp("(^|["+n+"])("+l+")(?=["+n+"]|$)","g");this._walk(h.getBody(),function(o){if(o.nodeType==3){e.push(o)}});c(e,function(u){var s,r,o,t,q=u.nodeValue;if(f.test(q)){q=g.encode(q);r=g.create("span",{"class":"mceItemHidden"});if(tinymce.isIE){q=q.replace(f,"$1<mcespell>$2</mcespell>");while((t=q.indexOf("<mcespell>"))!=-1){o=q.substring(0,t);if(o.length){s=k.createTextNode(g.decode(o));r.appendChild(s)}q=q.substring(t+10);t=q.indexOf("</mcespell>");o=q.substring(0,t);q=q.substring(t+11);r.appendChild(g.create("span",{"class":"mceItemHiddenSpellWord"},o))}if(q.length){s=k.createTextNode(g.decode(q));r.appendChild(s)}}else{r.innerHTML=q.replace(f,'$1<span class="mceItemHiddenSpellWord">$2</span>')}g.replace(r,u)}});j.setRng(d)},_showMenu:function(h,k){var j=this,h=j.editor,d=j._menu,n,l=h.dom,g=l.getViewPort(h.getWin()),f=k.target;k=0;if(!d){d=h.controlManager.createDropMenu("spellcheckermenu",{"class":"mceNoIcons"});j._menu=d}if(l.hasClass(f,"mceItemHiddenSpellWord")){d.removeAll();d.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1);j._sendRPC("getSuggestions",[j.selectedLang,l.decode(f.innerHTML)],function(m){var e;d.removeAll();if(m.length>0){d.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1);c(m,function(o){d.add({title:o,onclick:function(){l.replace(h.getDoc().createTextNode(o),f);j._checkDone()}})});d.addSeparator()}else{d.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1)}if(h.getParam("show_ignore_words",true)){e=j.editor.getParam("spellchecker_enable_ignore_rpc","");d.add({title:"spellchecker.ignore_word",onclick:function(){var o=f.innerHTML;l.remove(f,1);j._checkDone();if(e){h.setProgressState(1);j._sendRPC("ignoreWord",[j.selectedLang,o],function(q){h.setProgressState(0)})}}});d.add({title:"spellchecker.ignore_words",onclick:function(){var o=f.innerHTML;j._removeWords(l.decode(o));j._checkDone();if(e){h.setProgressState(1);j._sendRPC("ignoreWords",[j.selectedLang,o],function(q){h.setProgressState(0)})}}})}if(j.editor.getParam("spellchecker_enable_learn_rpc")){d.add({title:"spellchecker.learn_word",onclick:function(){var o=f.innerHTML;l.remove(f,1);j._checkDone();h.setProgressState(1);j._sendRPC("learnWord",[j.selectedLang,o],function(q){h.setProgressState(0)})}})}d.update()});n=b.getPos(h.getContentAreaContainer());d.settings.offset_x=n.x;d.settings.offset_y=n.y;h.selection.select(f);n=l.getPos(f);d.showMenu(n.x,n.y+f.offsetHeight-g.y);return tinymce.dom.Event.cancel(k)}else{d.hideMenu()}},_checkDone:function(){var e=this,d=e.editor,g=d.dom,f;c(g.select("span"),function(h){if(h&&g.hasClass(h,"mceItemHiddenSpellWord")){f=true;return false}});if(!f){e._done()}},_done:function(){var d=this,e=d.active;if(d.active){d.active=0;d._removeWords();if(d._menu){d._menu.hideMenu()}if(e){d.editor.nodeChanged()}}},_sendRPC:function(e,g,d){var f=this;a.sendRPC({url:f.rpcUrl,method:e,params:g,success:d,error:function(j,h){f.editor.setProgressState(0);f.editor.windowManager.alert(j.errstr||("Error response: "+h.responseText))}})}});tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)})();(function(){var a=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(b,c){var d=this;d.editor=b;function e(g){var f=[];a(g.split(/,/),function(h){f.push({title:"advlist."+(h=="default"?"def":h.replace(/-/g,"_")),styles:{listStyleType:h=="default"?"":h}})});return f}d.numlist=b.getParam("advlist_number_styles")||e("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");d.bullist=b.getParam("advlist_bullet_styles")||e("default,circle,disc,square");if(tinymce.isIE&&/MSIE [2-7]/.test(navigator.userAgent)){d.isIE7=true}},createControl:function(d,b){var f=this,e,j,g=f.editor;if(d=="numlist"||d=="bullist"){if(f[d][0].title=="advlist.def"){j=f[d][0]}function c(k,m){var l=true;a(m.styles,function(o,n){if(g.dom.getStyle(k,n)!=o){l=false;return false}});return l}function h(){var l,m=g.dom,k=g.selection;l=m.getParent(k.getNode(),"ol,ul");if(!l||l.nodeName==(d=="bullist"?"OL":"UL")||c(l,j)){g.execCommand(d=="bullist"?"InsertUnorderedList":"InsertOrderedList")}if(j){l=m.getParent(k.getNode(),"ol,ul");if(l){m.setStyles(l,j.styles);l.removeAttribute("data-mce-style")}}g.focus()}e=b.createSplitButton(d,{title:"advanced."+d+"_desc","class":"mce_"+d,onclick:function(){h()}});e.onRenderMenu.add(function(k,l){l.onHideMenu.add(function(){if(f.bookmark){g.selection.moveToBookmark(f.bookmark);f.bookmark=0}});l.onShowMenu.add(function(){var o=g.dom,n=o.getParent(g.selection.getNode(),"ol,ul"),m;if(n||j){m=f[d];a(l.items,function(q){var r=true;q.setSelected(0);if(n&&!q.isDisabled()){a(m,function(s){if(s.id==q.id){if(!c(n,s)){r=false;return false}}});if(r){q.setSelected(1)}}});if(!n){l.items[j.id].setSelected(1)}}g.focus();if(tinymce.isIE){f.bookmark=g.selection.getBookmark(1)}});l.add({id:g.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle",titleItem:true}).setDisabled(1);a(f[d],function(m){if(f.isIE7&&m.styles.listStyleType=="lower-greek"){return}m.id=g.dom.uniqueId();l.add({id:m.id,title:m.title,onclick:function(){j=m;h()}})})});return e}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();(function(){var e=tinymce.each,t=tinymce.dom.Event,g;function r(v,u){while(v&&(v.nodeType===8||(v.nodeType===3&&/^[ \t\n\r]*$/.test(v.nodeValue)))){v=u(v)}return v}function b(u){return r(u,function(v){return v.previousSibling})}function j(u){return r(u,function(v){return v.nextSibling})}function d(u,z,v){return u.dom.getParent(z,function(A){return tinymce.inArray(v,A)!==-1})}function o(u){return u&&(u.tagName==="OL"||u.tagName==="UL")}function c(z,A){var v,B,u;v=b(z.lastChild);while(o(v)){B=v;v=b(B.previousSibling)}if(B){u=A.create("li",{style:"list-style-type: none;"});A.split(z,B);A.insertAfter(u,B);u.appendChild(B);u.appendChild(B);z=u.previousSibling}return z}function n(v,u,z){v=a(v,u,z);return q(v,u,z)}function a(z,u,A){var v=b(z.previousSibling);if(v){return h(v,z,u?v:false,A)}else{return z}}function q(z,v,A){var u=j(z.nextSibling);if(u){return h(z,u,v?u:false,A)}else{return z}}function h(z,u,v,A){if(m(z,u,!!v,A)){return f(z,u,v)}else{if(z&&z.tagName==="LI"&&o(u)){z.appendChild(u)}}return u}function m(z,v,u,A){if(!z||!v){return false}else{if(z.tagName==="LI"&&v.tagName==="LI"){return v.style.listStyleType==="none"||k(v)}else{if(o(z)){return(z.tagName===v.tagName&&(u||z.style.listStyleType===v.style.listStyleType))||s(v)}else{return A&&z.tagName==="P"&&v.tagName==="P"}}}}function s(v){var u=j(v.firstChild),z=b(v.lastChild);return u&&z&&o(v)&&u===z&&(o(u)||u.style.listStyleType==="none"||k(u))}function k(z){var v=j(z.firstChild),u=b(z.lastChild);return v&&u&&v===u&&o(v)}function f(B,A,u){var z=b(B.lastChild),v=j(A.firstChild);if(B.tagName==="P"){B.appendChild(B.ownerDocument.createElement("br"))}while(A.firstChild){B.appendChild(A.firstChild)}if(u){B.style.listStyleType=u.style.listStyleType}A.parentNode.removeChild(A);h(z,v,false);return B}function l(v,z){var u;if(!z.is(v,"li,ol,ul")){u=z.getParent(v,"li");if(u){v=u}}return v}tinymce.create("tinymce.plugins.Lists",{init:function(D){var A="TABBING";var u="EMPTY";var O="ESCAPE";var E="PARAGRAPH";var S="UNKNOWN";var C=S;function J(Z){return Z.keyCode===tinymce.VK.TAB&&!(Z.altKey||Z.ctrlKey)&&(D.queryCommandState("InsertUnorderedList")||D.queryCommandState("InsertOrderedList"))}function B(){var Z=G();var ab=Z.parentNode.parentNode;var aa=Z.parentNode.lastChild===Z;return aa&&!v(ab)&&U(Z)}function v(Z){if(o(Z)){return Z.parentNode&&Z.parentNode.tagName==="LI"}else{return Z.tagName==="LI"}}function K(){return D.selection.isCollapsed()&&U(G())}function G(){var Z=D.selection.getStart();return((Z.tagName=="BR"||Z.tagName=="")&&Z.parentNode.tagName=="LI")?Z.parentNode:Z}function U(Z){var aa=Z.childNodes.length;if(Z.tagName==="LI"){return aa==0?true:aa==1&&(Z.firstChild.tagName==""||Z.firstChild.tagName=="BR"||M(Z))}return false}function M(Z){var aa=tinymce.grep(Z.parentNode.childNodes,function(ad){return ad.tagName=="LI"});var ab=Z==aa[aa.length-1];var ac=Z.firstChild;return tinymce.isIE9&&ab&&(ac.nodeValue==String.fromCharCode(160)||ac.nodeValue==String.fromCharCode(32))}function Y(Z){return Z.keyCode===tinymce.VK.ENTER}function F(Z){return Y(Z)&&!Z.shiftKey}function R(Z){if(J(Z)){return A}else{if(F(Z)&&B()){return S}else{if(F(Z)&&K()){return u}else{return S}}}}function I(Z,aa){if(C==A||C==u||tinymce.isGecko&&C==O){t.cancel(aa)}}function H(){var Z=D.selection.getRng(true);var aa=Z.startContainer;if(aa.nodeType==3){var ab=aa.nodeValue;if(tinymce.isIE9&&ab.length>1&&ab.charCodeAt(ab.length-1)==32){return(Z.endOffset==ab.length-1)}else{return(Z.endOffset==ab.length)}}else{if(aa.nodeType==1){return Z.endOffset==aa.childNodes.length}}return false}function N(){var ab=D.selection.getNode();var aa="h1,h2,h3,h4,h5,h6,p,div";var Z=D.dom.is(ab,aa)&&ab.parentNode.tagName==="LI"&&ab.parentNode.lastChild===ab;return D.selection.isCollapsed()&&Z&&H()}function P(ab,ad){if(F(ad)&&N()){var ac=ab.selection.getNode();var aa=ab.dom.create("li");var Z=ab.dom.getParent(ac,"li");ab.dom.insertAfter(aa,Z);if(tinymce.isIE6||tinymce.isIE7||tinyMCE.isIE8){ab.selection.setCursorLocation(aa,1)}else{ab.selection.setCursorLocation(aa,0)}ad.preventDefault()}}function z(ac,ae){var ah;if(!tinymce.isGecko){return}var aa=ac.selection.getStart();if(ae.keyCode!=tinymce.VK.BACKSPACE||aa.tagName!=="IMG"){return}function ab(al){var am=al.firstChild;var ak=null;do{if(!am){break}if(am.tagName==="LI"){ak=am}}while(am=am.nextSibling);return ak}function aj(al,ak){while(al.childNodes.length>0){ak.appendChild(al.childNodes[0])}}ah=aa.parentNode.previousSibling;if(!ah){return}var af;if(ah.tagName==="UL"||ah.tagName==="OL"){af=ah}else{if(ah.previousSibling&&(ah.previousSibling.tagName==="UL"||ah.previousSibling.tagName==="OL")){af=ah.previousSibling}else{return}}var ai=ab(af);var Z=ac.dom.createRng();Z.setStart(ai,1);Z.setEnd(ai,1);ac.selection.setRng(Z);ac.selection.collapse(true);var ad=ac.selection.getBookmark();var ag=aa.parentNode.cloneNode(true);if(ag.tagName==="P"||ag.tagName==="DIV"){aj(ag,ai)}else{ai.appendChild(ag)}aa.parentNode.parentNode.removeChild(aa.parentNode);ac.selection.moveToBookmark(ad)}function L(Z){var aa=D.dom.getParent(Z,"ol,ul");if(aa!=null){var ab=aa.lastChild;D.selection.setCursorLocation(ab,0)}}this.ed=D;D.addCommand("Indent",this.indent,this);D.addCommand("Outdent",this.outdent,this);D.addCommand("InsertUnorderedList",function(){this.applyList("UL","OL")},this);D.addCommand("InsertOrderedList",function(){this.applyList("OL","UL")},this);D.onInit.add(function(){D.editorCommands.addCommands({outdent:function(){var aa=D.selection,ab=D.dom;function Z(ac){ac=ab.getParent(ac,ab.isBlock);return ac&&(parseInt(D.dom.getStyle(ac,"margin-left")||0,10)+parseInt(D.dom.getStyle(ac,"padding-left")||0,10))>0}return Z(aa.getStart())||Z(aa.getEnd())||D.queryCommandState("InsertOrderedList")||D.queryCommandState("InsertUnorderedList")}},"state")});D.onKeyUp.add(function(aa,ab){if(C==A){aa.execCommand(ab.shiftKey?"Outdent":"Indent",true,null);C=S;return t.cancel(ab)}else{if(C==u){var Z=G();var ad=aa.settings.list_outdent_on_enter===true||ab.shiftKey;aa.execCommand(ad?"Outdent":"Indent",true,null);if(tinymce.isIE){L(Z)}return t.cancel(ab)}else{if(C==O){if(tinymce.isIE6||tinymce.isIE7||tinymce.isIE8){var ac=aa.getDoc().createTextNode("\uFEFF");aa.selection.getNode().appendChild(ac)}else{if(tinymce.isIE9||tinymce.isGecko){aa.execCommand("Outdent");return t.cancel(ab)}}}}}});function Q(aa,Z){var ab=D.getDoc().createTextNode("\uFEFF");aa.insertBefore(ab,Z);D.selection.setCursorLocation(ab,0);D.execCommand("mceRepaint")}function W(aa,ac){if(Y(ac)){var Z=G();if(Z){var ab=Z.parentNode;var ad=ab&&ab.parentNode;if(ad&&ad.nodeName=="LI"&&ad.firstChild==ab&&Z==ab.firstChild){Q(ad,ab)}}}}function X(aa,ac){if(Y(ac)){var Z=G();if(aa.dom.select("ul li",Z).length===1){var ab=Z.firstChild;Q(Z,ab)}}}function V(aa,ae){function ab(ai,af){var ah=[];var aj=new tinymce.dom.TreeWalker(af,ai);for(var ag=aj.current();ag;ag=aj.next()){if(aa.dom.is(ag,"ol,ul,li")){ah.push(ag)}}return ah}if(ae.keyCode==tinymce.VK.BACKSPACE){var Z=G();if(Z){var ad=aa.dom.getParent(Z,"ol,ul");if(ad&&ad.firstChild===Z){var ac=ab(ad,Z);aa.execCommand("Outdent",false,ac);aa.undoManager.add();return t.cancel(ae)}}}}function T(aa,ac){var Z=G();if(ac.keyCode===tinymce.VK.BACKSPACE&&aa.dom.is(Z,"li")&&Z.parentNode.firstChild!==Z){if(aa.dom.select("ul,ol",Z).length===1){var ae=Z.previousSibling;aa.dom.remove(aa.dom.select("br",Z));aa.dom.remove(Z,true);var ab=tinymce.grep(ae.childNodes,function(af){return af.nodeType===3});if(ab.length===1){var ad=ab[0];aa.selection.setCursorLocation(ad,ad.length)}aa.undoManager.add();return t.cancel(ac)}}}D.onKeyDown.add(function(Z,aa){C=R(aa)});D.onKeyDown.add(I);D.onKeyDown.add(z);D.onKeyDown.add(P);if(tinymce.isGecko){D.onKeyUp.add(W)}if(tinymce.isIE8){D.onKeyUp.add(X)}if(tinymce.isGecko||tinymce.isWebKit){D.onKeyDown.add(V)}if(tinymce.isWebKit){D.onKeyDown.add(T)}},applyList:function(C,z){var G=this,D=G.ed,M=D.dom,u=[],L=false,v=false,A=false,F,K=D.selection.getSelectedBlocks();function I(P){if(P&&P.tagName==="BR"){M.remove(P)}}function J(R){var S=M.create(C),P;function Q(T){if(T.style.marginLeft||T.style.paddingLeft){G.adjustPaddingFunction(false)(T)}}if(R.tagName==="LI"){}else{if(R.tagName==="P"||R.tagName==="DIV"||R.tagName==="BODY"){O(R,function(U,T){N(U,T,R.tagName==="BODY"?null:U.parentNode);P=U.parentNode;Q(P);I(T)});if(P){if(P.tagName==="LI"&&(R.tagName==="P"||K.length>1)){M.split(P.parentNode.parentNode,P.parentNode)}n(P.parentNode,true)}return}else{P=M.create("li");M.insertAfter(P,R);P.appendChild(R);Q(R);R=P}}M.insertAfter(S,R);S.appendChild(R);n(S,true);u.push(R)}function N(U,Q,S){var P,T=U,R;while(!M.isBlock(U.parentNode)&&U.parentNode!==M.getRoot()){U=M.split(U.parentNode,U.previousSibling);U=U.nextSibling;T=U}if(S){P=S.cloneNode(true);U.parentNode.insertBefore(P,U);while(P.firstChild){M.remove(P.firstChild)}P=M.rename(P,"li")}else{P=M.create("li");U.parentNode.insertBefore(P,U)}while(T&&T!=Q){R=T.nextSibling;P.appendChild(T);T=R}if(P.childNodes.length===0){P.innerHTML='<br _mce_bogus="1" />'}J(P)}function O(V,Y){var S,W,T=3,Q=1,P="br,ul,ol,p,div,h1,h2,h3,h4,h5,h6,table,blockquote,address,pre,form,center,dl";function U(ac,Z){var aa=M.createRng(),ab;g.keep=true;D.selection.moveToBookmark(g);g.keep=false;ab=D.selection.getRng(true);if(!Z){Z=ac.parentNode.lastChild}aa.setStartBefore(ac);aa.setEndAfter(Z);return !(aa.compareBoundaryPoints(T,ab)>0||aa.compareBoundaryPoints(Q,ab)<=0)}function X(Z){if(Z.nextSibling){return Z.nextSibling}if(!M.isBlock(Z.parentNode)&&Z.parentNode!==M.getRoot()){return X(Z.parentNode)}}S=V.firstChild;var R=false;e(M.select(P,V),function(Z){if(Z.hasAttribute&&Z.hasAttribute("_mce_bogus")){return true}if(U(S,Z)){M.addClass(Z,"_mce_tagged_br");S=X(Z)}});R=(S&&U(S,undefined));S=V.firstChild;e(M.select(P,V),function(aa){var Z=X(aa);if(aa.hasAttribute&&aa.hasAttribute("_mce_bogus")){return true}if(M.hasClass(aa,"_mce_tagged_br")){Y(S,aa,W);W=null}else{W=aa}S=Z});if(R){Y(S,undefined,W)}}function H(P){O(P,function(R,Q,S){N(R,Q);I(Q);I(S)})}function E(P){if(tinymce.inArray(u,P)!==-1){return}if(P.parentNode.tagName===z){M.split(P.parentNode,P);J(P);q(P.parentNode,false)}u.push(P)}function B(R){var T,S,Q,P;if(tinymce.inArray(u,R)!==-1){return}R=c(R,M);while(M.is(R.parentNode,"ol,ul,li")){M.split(R.parentNode,R)}u.push(R);R=M.rename(R,"p");Q=n(R,false,D.settings.force_br_newlines);if(Q===R){T=R.firstChild;while(T){if(M.isBlock(T)){T=M.split(T.parentNode,T);P=true;S=T.nextSibling&&T.nextSibling.firstChild}else{S=T.nextSibling;if(P&&T.tagName==="BR"){M.remove(T)}P=false}T=S}}}e(K,function(P){P=l(P,M);if(P.tagName===z||(P.tagName==="LI"&&P.parentNode.tagName===z)){v=true}else{if(P.tagName===C||(P.tagName==="LI"&&P.parentNode.tagName===C)){L=true}else{A=true}}});if(A&&!L||v||K.length===0){F={LI:E,H1:J,H2:J,H3:J,H4:J,H5:J,H6:J,P:J,BODY:J,DIV:K.length>1?J:H,defaultAction:H,elements:this.selectedBlocks()}}else{F={defaultAction:B,elements:this.selectedBlocks()}}this.process(F)},indent:function(){var z=this.ed,B=z.dom,C=[];function u(E){var D=B.create("li",{style:"list-style-type: none;"});B.insertAfter(D,E);return D}function v(G){var D=u(G),I=B.getParent(G,"ol,ul"),H=I.tagName,J=B.getStyle(I,"list-style-type"),F={},E;if(J!==""){F.style="list-style-type: "+J+";"}E=B.create(H,F);D.appendChild(E);return E}function A(E){if(!d(z,E,C)){E=c(E,B);var D=v(E);D.appendChild(E);n(D.parentNode,false);n(D,false);C.push(E)}}this.process({LI:A,defaultAction:this.adjustPaddingFunction(true),elements:this.selectedBlocks()})},outdent:function(C,B){var A=this,v=A.ed,D=v.dom,u=[];function E(F){var H,G,I;if(!d(v,F,u)){if(D.getStyle(F,"margin-left")!==""||D.getStyle(F,"padding-left")!==""){return A.adjustPaddingFunction(false)(F)}I=D.getStyle(F,"text-align",true);if(I==="center"||I==="right"){D.setStyle(F,"text-align","left");return}F=c(F,D);H=F.parentNode;G=F.parentNode.parentNode;if(G.tagName==="P"){D.split(G,F.parentNode)}else{D.split(H,F);if(G.tagName==="LI"){D.split(G,F)}else{if(!D.is(G,"ol,ul")){D.rename(F,"p")}}}u.push(F)}}var z=B&&tinymce.is(B,"array")?B:this.selectedBlocks();this.process({LI:E,defaultAction:this.adjustPaddingFunction(false),elements:z});e(u,n)},process:function(B){var I=this,z=I.ed.selection,C=I.ed.dom,H,u;function E(L){var K=tinymce.grep(L.childNodes,function(M){return !(M.nodeName==="BR"||M.nodeName==="SPAN"&&C.getAttrib(M,"data-mce-type")=="bookmark"||M.nodeType==3&&(M.nodeValue==String.fromCharCode(160)||M.nodeValue==""))});return K.length===0}function A(K){C.removeClass(K,"_mce_act_on");if(!K||K.nodeType!==1||H.length>1&&E(K)){return}K=l(K,C);var L=B[K.tagName];if(!L){L=B.defaultAction}L(K)}function v(K){I.splitSafeEach(K.childNodes,A)}function F(K,L){return L>=0&&K.hasChildNodes()&&L<K.childNodes.length&&K.childNodes[L].tagName==="BR"}function G(){var L=z.getNode();var K=C.getParent(L,"td");return K!==null}H=B.elements;u=z.getRng(true);if(!u.collapsed){if(F(u.endContainer,u.endOffset-1)){u.setEnd(u.endContainer,u.endOffset-1);z.setRng(u)}if(F(u.startContainer,u.startOffset)){u.setStart(u.startContainer,u.startOffset+1);z.setRng(u)}}if(tinymce.isIE8){var J=I.ed.selection.getNode();if(J.tagName==="LI"&&!(J.parentNode.lastChild===J)){var D=I.ed.getDoc().createTextNode("\uFEFF");J.appendChild(D)}}g=z.getBookmark();B.OL=B.UL=v;I.splitSafeEach(H,A);z.moveToBookmark(g);g=null;if(!G()){I.ed.execCommand("mceRepaint")}},splitSafeEach:function(v,u){if(tinymce.isGecko&&(/Firefox\/[12]\.[0-9]/.test(navigator.userAgent)||/Firefox\/3\.[0-4]/.test(navigator.userAgent))){this.classBasedEach(v,u)}else{e(v,u)}},classBasedEach:function(A,z){var B=this.ed.dom,u,v;e(A,function(C){B.addClass(C,"_mce_act_on")});u=B.select("._mce_act_on");while(u.length>0){v=u.shift();B.removeClass(v,"_mce_act_on");z(v);u=B.select("._mce_act_on")}},adjustPaddingFunction:function(z){var u,A,v=this.ed;u=v.settings.indentation;A=/[a-z%]+/i.exec(u);u=parseInt(u,10);return function(B){var D,C;D=parseInt(v.dom.getStyle(B,"margin-left")||0,10)+parseInt(v.dom.getStyle(B,"padding-left")||0,10);if(z){C=D+u}else{C=D-u}v.dom.setStyle(B,"padding-left","");v.dom.setStyle(B,"margin-left",C>0?C+A:"")}},selectedBlocks:function(){var u=this.ed;var v=u.selection.getSelectedBlocks();return v.length==0?[u.dom.getRoot()]:v},getInfo:function(){return{longname:"Lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/lists",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("lists",tinymce.plugins.Lists)}());(function(){tinymce.create("tinymce.plugins.Print",{init:function(a,b){a.addCommand("mcePrint",function(){a.getWin().print()});a.addButton("print",{title:"print.print_desc",cmd:"mcePrint"})},getInfo:function(){return{longname:"Print",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/print",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("print",tinymce.plugins.Print)})();(function(d){var e=d.each;function c(g,h){var j=h.ownerDocument,f=j.createRange(),k;f.setStartBefore(h);f.setEnd(g.endContainer,g.endOffset);k=j.createElement("body");k.appendChild(f.cloneContents());return k.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length==0}function a(g,f){return parseInt(g.getAttribute(f)||1)}function b(J,I,M){var g,N,F,o;u();o=I.getParent(M.getStart(),"th,td");if(o){N=H(o);F=K();o=B(N.x,N.y)}function C(P,O){P=P.cloneNode(O);P.removeAttribute("id");return P}function u(){var O=0;g=[];e(["thead","tbody","tfoot"],function(P){var Q=I.select("> "+P+" tr",J);e(Q,function(R,S){S+=O;e(I.select("> td, > th",R),function(Y,T){var U,V,W,X;if(g[S]){while(g[S][T]){T++}}W=a(Y,"rowspan");X=a(Y,"colspan");for(V=S;V<S+W;V++){if(!g[V]){g[V]=[]}for(U=T;U<T+X;U++){g[V][U]={part:P,real:V==S&&U==T,elm:Y,rowspan:W,colspan:X}}}})});O+=Q.length})}function B(O,Q){var P;P=g[Q];if(P){return P[O]}}function t(Q,O,P){if(Q){P=parseInt(P);if(P===1){Q.removeAttribute(O,1)}else{Q.setAttribute(O,P,1)}}}function j(O){return O&&(I.hasClass(O.elm,"mceSelected")||O==o)}function k(){var O=[];e(J.rows,function(P){e(P.cells,function(Q){if(I.hasClass(Q,"mceSelected")||Q==o.elm){O.push(P);return false}})});return O}function s(){var O=I.createRng();O.setStartAfter(J);O.setEndAfter(J);M.setRng(O);I.remove(J)}function f(O){var P;d.walk(O,function(R){var Q;if(R.nodeType==3){e(I.getParents(R.parentNode,null,O).reverse(),function(S){S=C(S,false);if(!P){P=Q=S}else{if(Q){Q.appendChild(S)}}Q=S});if(Q){Q.innerHTML=d.isIE?"&nbsp;":'<br data-mce-bogus="1" />'}return false}},"childNodes");O=C(O,false);t(O,"rowSpan",1);t(O,"colSpan",1);if(P){O.appendChild(P)}else{if(!d.isIE){O.innerHTML='<br data-mce-bogus="1" />'}}return O}function r(){var O=I.createRng();e(I.select("tr",J),function(P){if(P.cells.length==0){I.remove(P)}});if(I.select("tr",J).length==0){O.setStartAfter(J);O.setEndAfter(J);M.setRng(O);I.remove(J);return}e(I.select("thead,tbody,tfoot",J),function(P){if(P.rows.length==0){I.remove(P)}});u();row=g[Math.min(g.length-1,N.y)];if(row){M.select(row[Math.min(row.length-1,N.x)].elm,true);M.collapse(true)}}function v(U,S,W,T){var R,P,O,Q,V;R=g[S][U].elm.parentNode;for(O=1;O<=W;O++){R=I.getNext(R,"tr");if(R){for(P=U;P>=0;P--){V=g[S+O][P].elm;if(V.parentNode==R){for(Q=1;Q<=T;Q++){I.insertAfter(f(V),V)}break}}if(P==-1){for(Q=1;Q<=T;Q++){R.insertBefore(f(R.cells[0]),R.cells[0])}}}}}function E(){e(g,function(O,P){e(O,function(R,Q){var U,T,V,S;if(j(R)){R=R.elm;U=a(R,"colspan");T=a(R,"rowspan");if(U>1||T>1){t(R,"rowSpan",1);t(R,"colSpan",1);for(S=0;S<U-1;S++){I.insertAfter(f(R),R)}v(Q,P,T-1,U)}}})})}function q(X,U,aa){var R,Q,Z,Y,W,T,V,O,X,P,S;if(X){pos=H(X);R=pos.x;Q=pos.y;Z=R+(U-1);Y=Q+(aa-1)}else{N=F=null;e(g,function(ab,ac){e(ab,function(ae,ad){if(j(ae)){if(!N){N={x:ad,y:ac}}F={x:ad,y:ac}}})});R=N.x;Q=N.y;Z=F.x;Y=F.y}V=B(R,Q);O=B(Z,Y);if(V&&O&&V.part==O.part){E();u();V=B(R,Q).elm;t(V,"colSpan",(Z-R)+1);t(V,"rowSpan",(Y-Q)+1);for(T=Q;T<=Y;T++){for(W=R;W<=Z;W++){if(!g[T]||!g[T][W]){continue}X=g[T][W].elm;if(X!=V){P=d.grep(X.childNodes);e(P,function(ab){V.appendChild(ab)});if(P.length){P=d.grep(V.childNodes);S=0;e(P,function(ab){if(ab.nodeName=="BR"&&I.getAttrib(ab,"data-mce-bogus")&&S++<P.length-1){V.removeChild(ab)}})}I.remove(X)}}}r()}}function l(S){var O,U,R,T,V,W,P,X,Q;e(g,function(Y,Z){e(Y,function(ab,aa){if(j(ab)){ab=ab.elm;V=ab.parentNode;W=C(V,false);O=Z;if(S){return false}}});if(S){return !O}});for(T=0;T<g[0].length;T++){if(!g[O][T]){continue}U=g[O][T].elm;if(U!=R){if(!S){Q=a(U,"rowspan");if(Q>1){t(U,"rowSpan",Q+1);continue}}else{if(O>0&&g[O-1][T]){X=g[O-1][T].elm;Q=a(X,"rowSpan");if(Q>1){t(X,"rowSpan",Q+1);continue}}}P=f(U);t(P,"colSpan",U.colSpan);W.appendChild(P);R=U}}if(W.hasChildNodes()){if(!S){I.insertAfter(W,V)}else{V.parentNode.insertBefore(W,V)}}}function h(P){var Q,O;e(g,function(R,S){e(R,function(U,T){if(j(U)){Q=T;if(P){return false}}});if(P){return !Q}});e(g,function(U,V){var R,S,T;if(!U[Q]){return}R=U[Q].elm;if(R!=O){T=a(R,"colspan");S=a(R,"rowspan");if(T==1){if(!P){I.insertAfter(f(R),R);v(Q,V,S-1,T)}else{R.parentNode.insertBefore(f(R),R);v(Q,V,S-1,T)}}else{t(R,"colSpan",R.colSpan+1)}O=R}})}function n(){var O=[];e(g,function(P,Q){e(P,function(S,R){if(j(S)&&d.inArray(O,R)===-1){e(g,function(V){var T=V[R].elm,U;U=a(T,"colSpan");if(U>1){t(T,"colSpan",U-1)}else{I.remove(T)}});O.push(R)}})});r()}function m(){var P;function O(S){var R,T,Q;R=I.getNext(S,"tr");e(S.cells,function(U){var V=a(U,"rowSpan");if(V>1){t(U,"rowSpan",V-1);T=H(U);v(T.x,T.y,1,1)}});T=H(S.cells[0]);e(g[T.y],function(U){var V;U=U.elm;if(U!=Q){V=a(U,"rowSpan");if(V<=1){I.remove(U)}else{t(U,"rowSpan",V-1)}Q=U}})}P=k();e(P.reverse(),function(Q){O(Q)});r()}function G(){var O=k();I.remove(O);r();return O}function L(){var O=k();e(O,function(Q,P){O[P]=C(Q,true)});return O}function D(Q,P){var R=k(),O=R[P?0:R.length-1],S=O.cells.length;e(g,function(U){var T;S=0;e(U,function(W,V){if(W.real){S+=W.colspan}if(W.elm.parentNode==O){T=1}});if(T){return false}});if(!P){Q.reverse()}e(Q,function(V){var U=V.cells.length,T;for(i=0;i<U;i++){T=V.cells[i];t(T,"colSpan",1);t(T,"rowSpan",1)}for(i=U;i<S;i++){V.appendChild(f(V.cells[U-1]))}for(i=S;i<U;i++){I.remove(V.cells[i])}if(P){O.parentNode.insertBefore(V,O)}else{I.insertAfter(V,O)}});I.removeClass(I.select("td.mceSelected,th.mceSelected"),"mceSelected")}function H(O){var P;e(g,function(Q,R){e(Q,function(T,S){if(T.elm==O){P={x:S,y:R};return false}});return !P});return P}function A(O){N=H(O)}function K(){var Q,P,O;P=O=0;e(g,function(R,S){e(R,function(U,T){var W,V;if(j(U)){U=g[S][T];if(T>P){P=T}if(S>O){O=S}if(U.real){W=U.colspan-1;V=U.rowspan-1;if(W){if(T+W>P){P=T+W}}if(V){if(S+V>O){O=S+V}}}}})});return{x:P,y:O}}function z(U){var R,Q,W,V,P,O,S,T;F=H(U);if(N&&F){R=Math.min(N.x,F.x);Q=Math.min(N.y,F.y);W=Math.max(N.x,F.x);V=Math.max(N.y,F.y);P=W;O=V;for(y=Q;y<=O;y++){U=g[y][R];if(!U.real){if(R-(U.colspan-1)<R){R-=U.colspan-1}}}for(x=R;x<=P;x++){U=g[Q][x];if(!U.real){if(Q-(U.rowspan-1)<Q){Q-=U.rowspan-1}}}for(y=Q;y<=V;y++){for(x=R;x<=W;x++){U=g[y][x];if(U.real){S=U.colspan-1;T=U.rowspan-1;if(S){if(x+S>P){P=x+S}}if(T){if(y+T>O){O=y+T}}}}}I.removeClass(I.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=Q;y<=O;y++){for(x=R;x<=P;x++){if(g[y][x]){I.addClass(g[y][x].elm,"mceSelected")}}}}}d.extend(this,{deleteTable:s,split:E,merge:q,insertRow:l,insertCol:h,deleteCols:n,deleteRows:m,cutRows:G,copyRows:L,pasteRows:D,getPos:H,setStartCell:A,setEndCell:z})}d.create("tinymce.plugins.TablePlugin",{init:function(g,h){var f,m,j=true;function l(q){var o=g.selection,n=g.dom.getParent(q||o.getNode(),"table");if(n){return new b(n,g.dom,o)}}function k(){g.getBody().style.webkitUserSelect="";if(j){g.dom.removeClass(g.dom.select("td.mceSelected,th.mceSelected"),"mceSelected");j=false}}e([["table","table.desc","mceInsertTable",true],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",true],["cell_props","table.cell_desc","mceTableCellProps",true],["split_cells","table.split_cells_desc","mceTableSplitCells",true],["merge_cells","table.merge_cells_desc","mceTableMergeCells",true]],function(n){g.addButton(n[0],{title:n[1],cmd:n[2],ui:n[3]})});if(!d.isIE){g.onClick.add(function(n,o){o=o.target;if(o.nodeName==="TABLE"){n.selection.select(o);n.nodeChanged()}})}g.onPreProcess.add(function(o,q){var n,r,s,u=o.dom,t;n=u.select("table",q.node);r=n.length;while(r--){s=n[r];u.setAttrib(s,"data-mce-style","");if((t=u.getAttrib(s,"width"))){u.setStyle(s,"width",t);u.setAttrib(s,"width","")}if((t=u.getAttrib(s,"height"))){u.setStyle(s,"height",t);u.setAttrib(s,"height","")}}});g.onNodeChange.add(function(q,o,s){var r;s=q.selection.getStart();r=q.dom.getParent(s,"td,th,caption");o.setActive("table",s.nodeName==="TABLE"||!!r);if(r&&r.nodeName==="CAPTION"){r=0}o.setDisabled("delete_table",!r);o.setDisabled("delete_col",!r);o.setDisabled("delete_table",!r);o.setDisabled("delete_row",!r);o.setDisabled("col_after",!r);o.setDisabled("col_before",!r);o.setDisabled("row_after",!r);o.setDisabled("row_before",!r);o.setDisabled("row_props",!r);o.setDisabled("cell_props",!r);o.setDisabled("split_cells",!r);o.setDisabled("merge_cells",!r)});g.onInit.add(function(s){var q,u,r=s.dom,v;f=s.windowManager;s.onMouseDown.add(function(A,B){if(B.button!=2){k();u=r.getParent(B.target,"td,th");q=r.getParent(u,"table")}});r.bind(s.getDoc(),"mouseover",function(E){var C,B,D=E.target;if(u&&(v||D!=u)&&(D.nodeName=="TD"||D.nodeName=="TH")){B=r.getParent(D,"table");if(B==q){if(!v){v=l(B);v.setStartCell(u);s.getBody().style.webkitUserSelect="none"}v.setEndCell(D);j=true}C=s.selection.getSel();try{if(C.removeAllRanges){C.removeAllRanges()}else{C.empty()}}catch(A){}E.preventDefault()}});s.onMouseUp.add(function(H,I){var B,D=H.selection,J,K=D.getSel(),A,E,C,G;if(u){if(v){H.getBody().style.webkitUserSelect=""}function F(L,N){var M=new d.dom.TreeWalker(L,L);do{if(L.nodeType==3&&d.trim(L.nodeValue).length!=0){if(N){B.setStart(L,0)}else{B.setEnd(L,L.nodeValue.length)}return}if(L.nodeName=="BR"){if(N){B.setStartBefore(L)}else{B.setEndBefore(L)}return}}while(L=(N?M.next():M.prev()))}J=r.select("td.mceSelected,th.mceSelected");if(J.length>0){B=r.createRng();E=J[0];G=J[J.length-1];B.setStartBefore(E);B.setEndAfter(E);F(E,1);A=new d.dom.TreeWalker(E,r.getParent(J[0],"table"));do{if(E.nodeName=="TD"||E.nodeName=="TH"){if(!r.hasClass(E,"mceSelected")){break}C=E}}while(E=A.next());F(C);D.setRng(B)}H.nodeChanged();u=v=q=null}});s.onKeyUp.add(function(A,B){k()});s.onKeyDown.add(function(A,B){n(A)});s.onMouseDown.add(function(A,B){if(B.button!=2){n(A)}});function o(F,B,C,H){var D=3,I=F.dom.getParent(B.startContainer,"TABLE"),E,A,G;if(I){E=I.parentNode}A=B.startContainer.nodeType==D&&B.startOffset==0&&B.endOffset==0&&H&&(C.nodeName=="TR"||C==E);G=(C.nodeName=="TD"||C.nodeName=="TH")&&!H;return A||G}function n(C){if(!d.isWebKit){return}var B=C.selection.getRng();var E=C.selection.getNode();var D=C.dom.getParent(B.startContainer,"TD,TH");if(!o(C,B,E,D)){return}if(!D){D=E}var A=D.lastChild;while(A.lastChild){A=A.lastChild}B.setEnd(A,A.nodeValue.length);C.selection.setRng(B)}s.plugins.table.fixTableCellSelection=n;if(s&&s.plugins.contextmenu){s.plugins.contextmenu.onContextMenu.add(function(C,A,E){var F,D=s.selection,B=D.getNode()||s.getBody();if(s.dom.getParent(E,"td")||s.dom.getParent(E,"th")||s.dom.select("td.mceSelected,th.mceSelected").length){A.removeAll();if(B.nodeName=="A"&&!s.dom.getAttrib(B,"name")){A.add({title:"advanced.link_desc",icon:"link",cmd:s.plugins.advlink?"mceAdvLink":"mceLink",ui:true});A.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});A.addSeparator()}if(B.nodeName=="IMG"&&B.className.indexOf("mceItem")==-1){A.add({title:"advanced.image_desc",icon:"image",cmd:s.plugins.advimage?"mceAdvImage":"mceImage",ui:true});A.addSeparator()}A.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}});A.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"});A.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"});A.addSeparator();F=A.addMenu({title:"table.cell"});F.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"});F.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"});F.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"});F=A.addMenu({title:"table.row"});F.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"});F.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"});F.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"});F.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"});F.addSeparator();F.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"});F.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"});F.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!m);F.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!m);F=A.addMenu({title:"table.col"});F.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"});F.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"});F.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})}else{A.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})}})}if(d.isWebKit){function z(E,P){var N=d.VK;var S=P.keyCode;function Q(aa,W,U){var V=aa?"previousSibling":"nextSibling";var ab=E.dom.getParent(W,"tr");var Z=ab[V];if(Z){B(E,W,Z,aa);d.dom.Event.cancel(U);return true}else{var ac=E.dom.getParent(ab,"table");var Y=ab.parentNode;var T=Y.nodeName.toLowerCase();if(T==="tbody"||T===(aa?"tfoot":"thead")){var X=A(aa,ac,Y,"tbody");if(X!==null){return M(aa,X,W,U)}}return O(aa,ab,V,ac,U)}}function A(X,V,W,Z){var U=E.dom.select(">"+Z,V);var T=U.indexOf(W);if(X&&T===0||!X&&T===U.length-1){return D(X,V)}else{if(T===-1){var Y=W.tagName.toLowerCase()==="thead"?0:U.length-1;return U[Y]}else{return U[T+(X?-1:1)]}}}function D(W,V){var U=W?"thead":"tfoot";var T=E.dom.select(">"+U,V);return T.length!==0?T[0]:null}function M(X,V,U,W){var T=L(V,X);T&&B(E,U,T,X);d.dom.Event.cancel(W);return true}function O(aa,W,T,Z,Y){var U=Z[T];if(U){H(U);return true}else{var X=E.dom.getParent(Z,"td,th");if(X){return Q(aa,X,Y)}else{var V=L(W,!aa);H(V);return d.dom.Event.cancel(Y)}}}function L(U,T){var V=U&&U[T?"lastChild":"firstChild"];return V&&V.nodeName==="BR"?E.dom.getParent(V,"td,th"):V}function H(T){E.selection.setCursorLocation(T,0)}function C(){return S==N.UP||S==N.DOWN}function F(T){var V=T.selection.getNode();var U=T.dom.getParent(V,"tr");return U!==null}function R(U){var T=0;var V=U;while(V.previousSibling){V=V.previousSibling;T=T+a(V,"colspan")}return T}function G(V,T){var W=0;var U=0;e(V.children,function(X,Y){W=W+a(X,"colspan");U=Y;if(W>T){return false}});return U}function B(V,Y,aa,X){var Z=R(V.dom.getParent(Y,"td,th"));var U=G(aa,Z);var T=aa.childNodes[U];var W=L(T,X);H(W||T)}function J(T){var V=E.selection.getNode();var W=E.dom.getParent(V,"td,th");var U=E.dom.getParent(T,"td,th");return W&&W!==U&&K(W,U)}function K(U,T){return E.dom.getParent(U,"TABLE")===E.dom.getParent(T,"TABLE")}if(C()&&F(E)){var I=E.selection.getNode();setTimeout(function(){if(J(I)){Q(!P.shiftKey&&S===N.UP,I,P)}},0)}}s.onKeyDown.add(z)}if(!d.isIE){function t(){var A;for(A=s.getBody().lastChild;A&&A.nodeType==3&&!A.nodeValue.length;A=A.previousSibling){}if(A&&A.nodeName=="TABLE"){s.dom.add(s.getBody(),"p",null,'<br data-mce-bogus="1" />')}}if(d.isGecko){s.onKeyDown.add(function(B,D){var A,C,E=B.dom;if(D.keyCode==37||D.keyCode==38){A=B.selection.getRng();C=E.getParent(A.startContainer,"table");if(C&&B.getBody().firstChild==C){if(c(A,C)){A=E.createRng();A.setStartBefore(C);A.setEndBefore(C);B.selection.setRng(A);D.preventDefault()}}}})}s.onKeyUp.add(t);s.onSetContent.add(t);s.onVisualAid.add(t);s.onPreProcess.add(function(A,C){var B=C.node.lastChild;if(B&&B.childNodes.length==1&&B.firstChild.nodeName=="BR"&&B.previousSibling&&B.previousSibling.nodeName=="TABLE"){A.dom.remove(B)}});if(d.isGecko){s.onKeyDown.add(function(B,D){if(D.keyCode===d.VK.ENTER&&D.shiftKey){var C=B.selection.getRng().startContainer;var E=r.getParent(C,"td,th");if(E){var A=B.getDoc().createTextNode("\uFEFF");r.insertAfter(A,C)}}})}t();s.startContent=s.getContent({format:"raw"})}});e({mceTableSplitCells:function(n){n.split()},mceTableMergeCells:function(o){var q,r,n;n=g.dom.getParent(g.selection.getNode(),"th,td");if(n){q=n.rowSpan;r=n.colSpan}if(!g.dom.select("td.mceSelected,th.mceSelected").length){f.open({url:h+"/merge_cells.htm",width:240+parseInt(g.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(g.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:q,cols:r,onaction:function(s){o.merge(n,s.cols,s.rows)},plugin_url:h})}else{o.merge()}},mceTableInsertRowBefore:function(n){n.insertRow(true)},mceTableInsertRowAfter:function(n){n.insertRow()},mceTableInsertColBefore:function(n){n.insertCol(true)},mceTableInsertColAfter:function(n){n.insertCol()},mceTableDeleteCol:function(n){n.deleteCols()},mceTableDeleteRow:function(n){n.deleteRows()},mceTableCutRow:function(n){m=n.cutRows()},mceTableCopyRow:function(n){m=n.copyRows()},mceTablePasteRowBefore:function(n){n.pasteRows(m,true)},mceTablePasteRowAfter:function(n){n.pasteRows(m)},mceTableDelete:function(n){n.deleteTable()}},function(o,n){g.addCommand(n,function(){var q=l();if(q){o(q);g.execCommand("mceRepaint");k()}})});e({mceInsertTable:function(n){f.open({url:h+"/table.htm",width:400+parseInt(g.getLang("table.table_delta_width",0)),height:320+parseInt(g.getLang("table.table_delta_height",0)),inline:1},{plugin_url:h,action:n?n.action:0})},mceTableRowProps:function(){f.open({url:h+"/row.htm",width:400+parseInt(g.getLang("table.rowprops_delta_width",0)),height:295+parseInt(g.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:h})},mceTableCellProps:function(){f.open({url:h+"/cell.htm",width:400+parseInt(g.getLang("table.cellprops_delta_width",0)),height:295+parseInt(g.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:h})}},function(o,n){g.addCommand(n,function(q,r){o(r)})})}});d.PluginManager.add("table",d.plugins.TablePlugin)})(tinymce);(function(e){var c="autosave",g="restoredraft",b=true,f,d,a=e.util.Dispatcher;e.create("tinymce.plugins.AutoSave",{init:function(j,k){var h=this,m=j.settings;h.editor=j;function l(o){var n={s:1000,m:60000};o=/^(\d+)([ms]?)$/.exec(""+o);return(o[2]?n[o[2]]:1)*parseInt(o)}e.each({ask_before_unload:b,interval:"30s",retention:"20m",minlength:50},function(o,n){n=c+"_"+n;if(m[n]===f){m[n]=o}});m.autosave_interval=l(m.autosave_interval);m.autosave_retention=l(m.autosave_retention);j.addButton(g,{title:c+".restore_content",onclick:function(){if(j.getContent({draft:true}).replace(/\s|&nbsp;|<\/?p[^>]*>|<br[^>]*>/gi,"").length>0){j.windowManager.confirm(c+".warning_message",function(n){if(n){h.restoreDraft()}})}else{h.restoreDraft()}}});j.onNodeChange.add(function(){var n=j.controlManager;if(n.get(g)){n.setDisabled(g,!h.hasDraft())}});j.onInit.add(function(){if(j.controlManager.get(g)){h.setupStorage(j);setInterval(function(){h.storeDraft();j.nodeChanged()},m.autosave_interval)}});h.onStoreDraft=new a(h);h.onRestoreDraft=new a(h);h.onRemoveDraft=new a(h);if(!d){window.onbeforeunload=e.plugins.AutoSave._beforeUnloadHandler;d=b}},getInfo:function(){return{longname:"Auto save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autosave",version:e.majorVersion+"."+e.minorVersion}},getExpDate:function(){return new Date(new Date().getTime()+this.editor.settings.autosave_retention).toUTCString()},setupStorage:function(j){var h=this,l=c+"_test",k="OK";h.key=c+j.id;e.each([function(){if(localStorage){localStorage.setItem(l,k);if(localStorage.getItem(l)===k){localStorage.removeItem(l);return localStorage}}},function(){if(sessionStorage){sessionStorage.setItem(l,k);if(sessionStorage.getItem(l)===k){sessionStorage.removeItem(l);return sessionStorage}}},function(){if(e.isIE){j.getElement().style.behavior="url('#default#userData')";return{autoExpires:b,setItem:function(m,o){var n=j.getElement();n.setAttribute(m,o);n.expires=h.getExpDate();try{n.save("TinyMCE")}catch(q){}},getItem:function(m){var n=j.getElement();try{n.load("TinyMCE");return n.getAttribute(m)}catch(o){return null}},removeItem:function(m){j.getElement().removeAttribute(m)}}}},],function(m){try{h.storage=m();if(h.storage){return false}}catch(n){}})},storeDraft:function(){var j=this,m=j.storage,k=j.editor,h,l;if(m){if(!m.getItem(j.key)&&!k.isDirty()){return}l=k.getContent({draft:true});if(l.length>k.settings.autosave_minlength){h=j.getExpDate();if(!j.storage.autoExpires){j.storage.setItem(j.key+"_expires",h)}j.storage.setItem(j.key,l);j.onStoreDraft.dispatch(j,{expires:h,content:l})}}},restoreDraft:function(){var h=this,k=h.storage,j;if(k){j=k.getItem(h.key);if(j){h.editor.setContent(j);h.onRestoreDraft.dispatch(h,{content:j})}}},hasDraft:function(){var h=this,l=h.storage,j,k;if(l){k=!!l.getItem(h.key);if(k){if(!h.storage.autoExpires){j=new Date(l.getItem(h.key+"_expires"));if(new Date().getTime()<j.getTime()){return b}h.removeDraft()}else{return b}}}return false},removeDraft:function(){var h=this,l=h.storage,j=h.key,k;if(l){k=l.getItem(j);l.removeItem(j);l.removeItem(j+"_expires");if(k){h.onRemoveDraft.dispatch(h,{content:k})}}},"static":{_beforeUnloadHandler:function(h){var j;e.each(tinyMCE.editors,function(k){if(k.plugins.autosave){k.plugins.autosave.storeDraft()}if(k.getParam("fullscreen_is_enabled")){return}if(!j&&k.isDirty()&&k.getParam("autosave_ask_before_unload")){j=k.getLang("autosave.unload_msg")}});return j}}});e.PluginManager.add("autosave",e.plugins.AutoSave)})(tinymce);tinyMCE.addI18n("en.autosave",{restore_content:"Restore auto-saved content",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?"});(function(a){a(document).ready(function(){a('.formsubmit .button[type="submit"][name="submit"]').click(function(k){tinymce.each(tinyMCE.editors,function(l){l.isNotDirty=1});window.preventUnlock=true});var c=window.karl_client_data&&karl_client_data.text||{};var e=window.karl_client_data&&karl_client_data.kaltura||{};var b="paste,embedmedia,spellchecker,imagedrawer,advimagescale,advlist,print,table,autosave";if(c.enable_wiki_plugin){b+=",wicked"}if(e.enabled){b+=",kaltura"}var h=a("#karl-here-url")[0].content;var j=a("#karl-static-url")[0].content;var f=j+"/tinymce/3.5.2/jscripts/tiny_mce";var g=j+"/tinymce-plugins";var d=a("#karl-app-url").eq(0).attr("content");a.each(["advimagescale","embedmedia","imagedrawer","kaltura","wicked"],function(k,l){tinymce.PluginManager.load(l,g+"/"+l+"/")});tinymce.ThemeManager.load("advanced",g+"/theme-advanced-3.5.2/editor_template_src.js");a(".mceEditor").tinysafe({load_js:false,load_editor_css:false,script_url:f,theme:"advanced",skin:"karl",mode:"specific_textareas",height:400,width:550,convert_urls:false,gecko_spellcheck:true,submit_patch:false,entity_encoding:"numeric",add_form_submit_trigger:false,add_unload_trigger:false,strict_loading_mode:true,paste_create_paragraphs:false,paste_create_linebreaks:false,paste_use_dialog:false,paste_auto_cleanup_on_paste:true,paste_convert_middot_lists:true,paste_unindented_list_class:"unindentedList",paste_convert_headers_to_strong:true,theme_advanced_toolbar_location:"top",theme_advanced_buttons1:"bold, italic, underline, |, forecolor, backcolor, removeformat, |, bullist, numlist, |, justifycenter, justifyleft,justifyright, justifyfull, |, indent, outdent, |, image, embedmedia, kaltura, |, print",theme_advanced_buttons2:"formatselect, fontselect, fontsizeselect, |, blockquote, hr, |, link, addwickedlink, delwickedlink, code, spellchecker, restoredraft",theme_advanced_buttons3:"",theme_advanced_toolbar_align:"center",theme_advanced_statusbar_location:false,plugins:b,extended_valid_elements:"object[classid|codebase|width|height],param[name|value],embed[quality|type|pluginspage|width|height|src|wmode|swliveconnect|allowscriptaccess|allowfullscreen|seamlesstabbing|name|base|flashvars|flashVars|bgcolor],script[src]",relative_urls:false,forced_root_block:"p",spellchecker_rpc_url:d+"/tinymce_spellcheck",spellchecker_languages:"+English=en",imagedrawer_dialog_url:h+"drawer_dialog_view.html",imagedrawer_upload_url:h+"drawer_upload_view.html",imagedrawer_data_url:h+"drawer_data_view.html",imagedrawer_enable_upload:c.enable_imagedrawer_upload,kaltura_partner_id:e.partner_id,kaltura_sub_partner_id:e.sub_partner_id,kaltura_local_user:e.local_user,kaltura_user_secret:e.user_secret,kaltura_admin_secret:e.admin_secret,kaltura_kcw_uiconf_id:e.kcw_uiconf_id,kaltura_player_uiconf_id:e.player_uiconf_id,kaltura_player_cache_st:e.player_cache_st,kaltura_session_url:e.session_url})})})(jQuery);(function(b){var e,d,a=[],c=window;b.fn.tinysafe=function(k){var r=this,g,l,h,n,j,m="",o="";if(!r.length){return r}if(!k){return tinyMCE.get(r[0].id)}function q(){var t=[],s=0;r.each(function(v,z){var u,B=z.id,A=k.oninit;if(!B){z.id=B=tinymce.DOM.uniqueId()}u=new tinymce.Editor(B,k);t.push(u);if(A){u.onInit.add(function(){var C,D=A;if(++s==t.length){if(tinymce.is(D,"string")){C=(D.indexOf(".")===-1)?null:tinymce.resolve(D.replace(/\.\w+$/,""));D=tinymce.resolve(D)}D.apply(C||tinymce,t)}})}});b.each(t,function(v,u){u.render()})}var g=k.script_url;if(k.load_js===false){if(g.charAt(g.length-1)!="/"){g+="/"}g+="gzip"}if(k.load_editor_css===false){k.editor_css=","}if((k.load_js===false)||(!c.tinymce&&!d&&g)){d=1;h=g.substring(0,g.lastIndexOf("/"));if(/_(src|dev)\.js/g.test(g)){o="_src"}n=g.lastIndexOf("?");if(n!=-1){m=g.substring(n+1)}c.tinyMCEPreInit=c.tinyMCEPreInit||{base:h,suffix:o,query:m};if(g.indexOf("gzip")!=-1){j=k.language||"en";g=g+(/\?/.test(g)?"&":"?")+"js=true&core=true&suffix="+escape(o)+"&themes="+escape(k.theme)+"&plugins="+escape(k.plugins)+"&languages="+j;if(!c.tinyMCE_GZ){tinyMCE_GZ={start:function(){tinymce.suffix=o;function s(t){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(t))}s("langs/"+j+".js");s("themes/"+k.theme+"/editor_template"+o+".js");s("themes/"+k.theme+"/langs/"+j+".js");b.each(k.plugins.split(","),function(u,t){if(t){s("plugins/"+t+"/editor_plugin"+o+".js");s("plugins/"+t+"/langs/"+j+".js")}})},end:function(){}}}}if(k.load_js===false){tinymce.baseURL=new tinymce.util.URI(tinymce.documentBaseURL).toAbsolute(tinyMCEPreInit.base);if(tinymce.baseURL.charAt(tinymce.baseURL.length-1)=="/"){tinymce.baseURL=tinymce.baseURL.substr(0,tinymce.baseURL.length-1)}tinymce.baseURI=new tinymce.util.URI(tinymce.baseURL);tinymce.dom.Event.domLoaded=1;tinyMCE_GZ.start();if(k.script_loaded){k.script_loaded()}q()}(k.load_js!==false)&&b.ajax({type:"GET",url:g,dataType:"script",cache:true,success:function(){tinymce.dom.Event.domLoaded=1;d=2;if(k.script_loaded){k.script_loaded()}q();b.each(a,function(s,t){t()})}})}else{if(d===1){a.push(q)}else{q()}}return r};b.extend(b.expr[":"],{tinymce:function(g){return g.id&&!!tinyMCE.get(g.id)}});function f(){function j(m){if(m==="remove"){this.each(function(o,q){var n=h(q);if(n){n.remove()}})}this.find("span.mceEditor,div.mceEditor").each(function(o,q){var n=tinyMCE.get(q.id.replace(/_parent$/,""));if(n){n.remove()}})}function l(o){var n=this,m;if(o!==e){j.call(n);n.each(function(r,s){var q;if(q=tinyMCE.get(s.id)){q.setContent(o)}})}else{if(n.length>0){if(m=tinyMCE.get(n[0].id)){return m.getContent()}}}}function h(n){var m=null;(n)&&(n.id)&&(c.tinymce)&&(m=tinyMCE.get(n.id));return m}function g(m){return !!((m)&&(m.length)&&(c.tinymce)&&(m.is(":tinymce")))}var k={};b.each(["text","html","val"],function(o,m){var q=k[m]=b.fn[m],n=(m==="text");b.fn["tiny_"+m]=function(u){var r=this;if(!g(r)){return q.apply(r,arguments)}if(u!==e){l.call(r.filter(":tinymce"),u);q.apply(r.not(":tinymce"),arguments);return r}else{var t="";var s=arguments;(n?r:r.eq(0)).each(function(z,A){var v=h(A);t+=v?(n?v.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):v.getContent()):q.apply(b(A),s)});return t}}});b.each(["append","prepend"],function(o,n){var q=k[n]=b.fn[n],m=(n==="prepend");b.fn["tiny_"+n]=function(s){var r=this;if(!g(r)){return q.apply(r,arguments)}if(s!==e){r.filter(":tinymce").each(function(u,v){var t=h(v);t&&t.setContent(m?s+t.getContent():t.getContent()+s)});q.apply(r.not(":tinymce"),arguments);return r}}});b.each(["remove","replaceWith","replaceAll","empty"],function(n,m){var o=k[m]=b.fn[m];b.fn["tiny_"+m]=function(){j.call(this,m);return o.apply(this,arguments)}});k.attr=b.fn.attr;b.fn.tiny_attr=function(o,s,q){var n=this;if((!o)||(o!=="value")||(!g(n))){return k.attr.call(n,o,s,q)}if(s!==e){l.call(n.filter(":tinymce"),s);k.attr.call(n.not(":tinymce"),o,s,q);return n}else{var r=n[0],m=h(r);return m?m.getContent():k.attr.call(b(r),o,s,q)}}}if(f){f();f=null}})(jQuery);(function(h){var j=h.DOM,g=h.dom.Event,c=h.extend,f=h.each,a=h.util.Cookie,e,d=h.explode;function b(n,l){var s,r=n.dom,o="",q,m;previewStyles=n.settings.preview_styles;if(previewStyles===false){return""}if(!previewStyles){previewStyles="font-family font-size font-weight text-decoration text-transform color background-color"}function k(t){return t.replace(/%(\w+)/g,"")}name=l.block||l.inline||"span";s=r.create(name);f(l.styles,function(u,t){u=k(u);if(u){r.setStyle(s,t,u)}});f(l.attributes,function(u,t){u=k(u);if(u){r.setAttrib(s,t,u)}});f(l.classes,function(t){t=k(t);if(!r.hasClass(s,t)){r.addClass(s,t)}});r.setStyles(s,{position:"absolute",left:-65535});n.getBody().appendChild(s);q=r.getStyle(n.getBody(),"fontSize",true);q=/px$/.test(q)?parseInt(q,10):0;f(previewStyles.split(" "),function(t){var u=r.getStyle(s,t,true);if(t=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(u)){u=r.getStyle(n.getBody(),t,true);if(r.toHex(u).toLowerCase()=="#ffffff"){return}}if(t=="font-size"){if(/em|%$/.test(u)){if(q===0){return}u=parseFloat(u,10)/(/%$/.test(u)?100:1);u=(u*q)+"px"}}o+=t+":"+u+";"});r.remove(s);return o}h.ThemeManager.requireLangPack("advanced");h.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(l,m){var n=this,q,k,r;n.editor=l;n.url=m;n.onResolveName=new h.util.Dispatcher(this);q=l.settings;l.forcedHighContrastMode=l.settings.detect_highcontrast&&n._isHighContrast();l.settings.skin=l.forcedHighContrastMode?"highcontrast":l.settings.skin;if(!q.theme_advanced_buttons1){q=c({theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap"},q)}n.settings=q=c({theme_advanced_path:true,theme_advanced_toolbar_location:"top",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",theme_advanced_font_selector:"span",theme_advanced_show_current_color:0,readonly:l.settings.readonly},q);if(!q.font_size_style_values){q.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"}if(h.is(q.theme_advanced_font_sizes,"string")){q.font_size_style_values=h.explode(q.font_size_style_values);q.font_size_classes=h.explode(q.font_size_classes||"");r={};l.settings.theme_advanced_font_sizes=q.theme_advanced_font_sizes;f(l.getParam("theme_advanced_font_sizes","","hash"),function(t,s){var o;if(s==t&&t>=1&&t<=7){s=t+" ("+n.sizes[t-1]+"pt)";o=q.font_size_classes[t-1];t=q.font_size_style_values[t-1]||(n.sizes[t-1]+"pt")}if(/^\s*\./.test(t)){o=t.replace(/\./g,"")}r[s]=o?{"class":o}:{fontSize:t}});q.theme_advanced_font_sizes=r}if((k=q.theme_advanced_path_location)&&k!="none"){q.theme_advanced_statusbar_location=q.theme_advanced_path_location}if(q.theme_advanced_statusbar_location=="none"){q.theme_advanced_statusbar_location=0}if(l.settings.content_css!==false){l.contentCSS.push(l.baseURI.toAbsolute(m+"/skins/"+l.settings.skin+"/content.css"))}l.onInit.add(function(){if(!l.settings.readonly){l.onNodeChange.add(n._nodeChanged,n);l.onKeyUp.add(n._updateUndoStatus,n);l.onMouseUp.add(n._updateUndoStatus,n);l.dom.bind(l.dom.getRoot(),"dragend",function(){n._updateUndoStatus(l)})}});l.onSetProgressState.add(function(t,o,u){var v,z=t.id,s;if(o){n.progressTimer=setTimeout(function(){v=t.getContainer();v=v.insertBefore(j.create("DIV",{style:"position:relative"}),v.firstChild);s=j.get(t.id+"_tbl");j.add(v,"div",{id:z+"_blocker","class":"mceBlocker",style:{width:s.clientWidth+2,height:s.clientHeight+2}});j.add(v,"div",{id:z+"_progress","class":"mceProgress",style:{left:s.clientWidth/2,top:s.clientHeight/2}})},u||0)}else{j.remove(z+"_blocker");j.remove(z+"_progress");clearTimeout(n.progressTimer)}});j.loadCSS(q.editor_css?l.documentBaseURI.toAbsolute(q.editor_css):m+"/skins/"+l.settings.skin+"/ui.css");if(q.skin_variant){j.loadCSS(m+"/skins/"+l.settings.skin+"/ui_"+q.skin_variant+".css")}},_isHighContrast:function(){var k,l=j.add(j.getRoot(),"div",{style:"background-color: rgb(171,239,86);"});k=(j.getStyle(l,"background-color",true)+"").toLowerCase().replace(/ /g,"");j.remove(l);return k!="rgb(171,239,86)"&&k!="#abef56"},createControl:function(o,k){var l,m;if(m=k.createControl(o)){return m}switch(o){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if((l=this.controls[o])){return k.createButton(o,{title:"advanced."+l[0],cmd:l[1],ui:l[2],value:l[3]})}},execCommand:function(m,l,n){var k=this["_"+m];if(k){k.call(this,l,n);return true}return false},_importClasses:function(m){var k=this.editor,l=k.controlManager.get("styleselect");if(l.getLength()==0){f(k.dom.getClasses(),function(s,n){var r="style_"+n,q;q={inline:"span",attributes:{"class":s["class"]},selector:"*"};k.formatter.register(r,q);l.add(s["class"],r,{style:function(){return b(k,q)}})})}},_createStyleSelect:function(q){var m=this,k=m.editor,l=k.controlManager,o;o=l.createListBox("styleselect",{title:"advanced.style_select",onselect:function(s){var t,n=[],r;f(o.items,function(u){n.push(u.value)});k.focus();k.undoManager.add();t=k.formatter.matchAll(n);h.each(t,function(u){if(!s||u==s){if(u){k.formatter.remove(u)}r=true}});if(!r){k.formatter.apply(s)}k.undoManager.add();k.nodeChanged();return false}});k.onPreInit.add(function(){var r=0,n=k.getParam("style_formats");if(n){f(n,function(s){var t,u=0;f(s,function(){u++});if(u>1){t=s.name=s.name||"style_"+(r++);k.formatter.register(t,s);o.add(s.title,t,{style:function(){return b(k,s)}})}else{o.add(s.title)}})}else{f(k.getParam("theme_advanced_styles","","hash"),function(v,u){var t,s;if(v){t="style_"+(r++);s={inline:"span",classes:v,selector:"*"};k.formatter.register(t,s);o.add(m.editor.translate(u),t,{style:function(){return b(k,s)}})}})}});if(o.getLength()==0){o.onPostRender.add(function(r,s){if(!o.NativeListBox){g.add(s.id+"_text","focus",m._importClasses,m);g.add(s.id+"_text","mousedown",m._importClasses,m);g.add(s.id+"_open","focus",m._importClasses,m);g.add(s.id+"_open","mousedown",m._importClasses,m)}else{g.add(s.id,"focus",m._importClasses,m)}})}return o},_createFontSelect:function(){var m,l=this,k=l.editor;m=k.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(n){var o=m.items[m.selectedIndex];if(!n&&o){k.execCommand("FontName",false,o.value);return}k.execCommand("FontName",false,n);m.select(function(q){return n==q});if(o&&o.value==n){m.select(null)}return false}});if(m){f(k.getParam("theme_advanced_fonts",l.settings.theme_advanced_fonts,"hash"),function(o,n){m.add(k.translate(n),o,{style:o.indexOf("dings")==-1?"font-family:"+o:""})})}return m},_createFontSizeSelect:function(){var n=this,l=n.editor,o,m=0,k=[];o=l.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(q){var r=o.items[o.selectedIndex];if(!q&&r){r=r.value;if(r["class"]){l.formatter.toggle("fontsize_class",{value:r["class"]});l.undoManager.add();l.nodeChanged()}else{l.execCommand("FontSize",false,r.fontSize)}return}if(q["class"]){l.focus();l.undoManager.add();l.formatter.toggle("fontsize_class",{value:q["class"]});l.undoManager.add();l.nodeChanged()}else{l.execCommand("FontSize",false,q.fontSize)}o.select(function(s){return q==s});if(r&&(r.value.fontSize==q.fontSize||r.value["class"]&&r.value["class"]==q["class"])){o.select(null)}return false}});if(o){f(n.settings.theme_advanced_font_sizes,function(r,q){var s=r.fontSize;if(s>=1&&s<=7){s=n.sizes[parseInt(s)-1]+"pt"}o.add(q,r,{style:"font-size:"+s,"class":"mceFontSize"+(m++)+(" "+(r["class"]||""))})})}return o},_createBlockFormats:function(){var m,k={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},l=this;m=l.editor.controlManager.createListBox("formatselect",{title:"advanced.block",onselect:function(n){l.editor.execCommand("FormatBlock",false,n);return false}});if(m){f(l.editor.getParam("theme_advanced_blockformats",l.settings.theme_advanced_blockformats,"hash"),function(o,n){m.add(l.editor.translate(n!=o?n:k[o]),o,{"class":"mce_formatPreview mce_"+o,style:function(){return b(l.editor,{block:o})}})})}return m},_createForeColorMenu:function(){var q,l=this,m=l.settings,n={},k;if(m.theme_advanced_more_colors){n.more_colors_func=function(){l._mceColorPicker(0,{color:q.value,func:function(o){q.setColor(o)}})}}if(k=m.theme_advanced_text_colors){n.colors=k}if(m.theme_advanced_default_foreground_color){n.default_color=m.theme_advanced_default_foreground_color}n.title="advanced.forecolor_desc";n.cmd="ForeColor";n.scope=this;q=l.editor.controlManager.createColorSplitButton("forecolor",n);return q},_createBackColorMenu:function(){var q,l=this,m=l.settings,n={},k;if(m.theme_advanced_more_colors){n.more_colors_func=function(){l._mceColorPicker(0,{color:q.value,func:function(o){q.setColor(o)}})}}if(k=m.theme_advanced_background_colors){n.colors=k}if(m.theme_advanced_default_background_color){n.default_color=m.theme_advanced_default_background_color}n.title="advanced.backcolor_desc";n.cmd="HiliteColor";n.scope=this;q=l.editor.controlManager.createColorSplitButton("backcolor",n);return q},renderUI:function(m){var r,q,u,A=this,v=A.editor,B=A.settings,z,l,k;if(v.settings){v.settings.aria_label=B.aria_label+v.getLang("advanced.help_shortcut")}r=l=j.create("span",{role:"application","aria-labelledby":v.id+"_voice",id:v.id+"_parent","class":"mceEditor "+v.settings.skin+"Skin"+(B.skin_variant?" "+v.settings.skin+"Skin"+A._ufirst(B.skin_variant):"")+(v.settings.directionality=="rtl"?" mceRtl":"")});j.add(r,"span",{"class":"mceVoiceLabel",style:"display:none;",id:v.id+"_voice"},B.aria_label);if(!j.boxModel){r=j.add(r,"div",{"class":"mceOldBoxModel"})}r=z=j.add(r,"table",{role:"presentation",id:v.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});r=u=j.add(r,"tbody");switch((B.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":q=A._rowLayout(B,u,m);break;case"customlayout":q=v.execCallback("theme_advanced_custom_layout",B,u,m,l);break;default:q=A._simpleLayout(B,u,m,l)}r=m.targetNode;k=z.rows;j.addClass(k[0],"mceFirst");j.addClass(k[k.length-1],"mceLast");f(j.select("tr",u),function(o){j.addClass(o.firstChild,"mceFirst");j.addClass(o.childNodes[o.childNodes.length-1],"mceLast")});if(j.get(B.theme_advanced_toolbar_container)){j.get(B.theme_advanced_toolbar_container).appendChild(l)}else{j.insertAfter(l,r)}g.add(v.id+"_path_row","click",function(n){n=n.target;if(n.nodeName=="A"){A._sel(n.className.replace(/^.*mcePath_([0-9]+).*$/,"$1"));return false}});if(!v.getParam("accessibility_focus")){g.add(j.add(l,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(v.id).focus()})}if(B.theme_advanced_toolbar_location=="external"){m.deltaHeight=0}A.deltaHeight=m.deltaHeight;m.targetNode=null;v.onKeyDown.add(function(s,n){var t=121,o=122;if(n.altKey){if(n.keyCode===t){if(h.isWebKit){window.focus()}A.toolbarGroup.focus();return g.cancel(n)}else{if(n.keyCode===o){j.get(s.id+"_path_row").focus();return g.cancel(n)}}}});v.addShortcut("alt+0","","mceShortcuts",A);return{iframeContainer:q,editorContainer:v.id+"_parent",sizeContainer:z,deltaHeight:m.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:h.majorVersion+"."+h.minorVersion}},resizeBy:function(k,l){var m=j.get(this.editor.id+"_ifr");this.resizeTo(m.clientWidth+k,m.clientHeight+l)},resizeTo:function(k,o,m){var l=this.editor,n=this.settings,q=j.get(l.id+"_tbl"),r=j.get(l.id+"_ifr");k=Math.max(n.theme_advanced_resizing_min_width||100,k);o=Math.max(n.theme_advanced_resizing_min_height||100,o);k=Math.min(n.theme_advanced_resizing_max_width||65535,k);o=Math.min(n.theme_advanced_resizing_max_height||65535,o);j.setStyle(q,"height","");j.setStyle(r,"height",o);if(n.theme_advanced_resize_horizontal){j.setStyle(q,"width","");j.setStyle(r,"width",k);if(k<q.clientWidth){k=q.clientWidth;j.setStyle(r,"width",q.clientWidth)}}if(m&&n.theme_advanced_resizing_use_cookie){a.setHash("TinyMCE_"+l.id+"_size",{cw:k,ch:o})}},destroy:function(){var k=this.editor.id;g.clear(k+"_resize");g.clear(k+"_path_row");g.clear(k+"_external_close")},_simpleLayout:function(D,v,m,k){var C=this,z=C.editor,A=D.theme_advanced_toolbar_location,r=D.theme_advanced_statusbar_location,q,l,u,B;if(D.readonly){q=j.add(v,"tr");q=l=j.add(q,"td",{"class":"mceIframeContainer"});return l}if(A=="top"){C._addToolbars(v,m)}if(A=="external"){q=B=j.create("div",{style:"position:relative"});q=j.add(q,"div",{id:z.id+"_external","class":"mceExternalToolbar"});j.add(q,"a",{id:z.id+"_external_close",href:"javascript:;","class":"mceExternalClose"});q=j.add(q,"table",{id:z.id+"_tblext",cellSpacing:0,cellPadding:0});u=j.add(q,"tbody");if(k.firstChild.className=="mceOldBoxModel"){k.firstChild.appendChild(B)}else{k.insertBefore(B,k.firstChild)}C._addToolbars(u,m);z.onMouseUp.add(function(){var o=j.get(z.id+"_external");j.show(o);j.hide(e);var n=g.add(z.id+"_external_close","click",function(){j.hide(z.id+"_external");g.remove(z.id+"_external_close","click",n)});j.show(o);j.setStyle(o,"top",0-j.getRect(z.id+"_tblext").h-1);j.hide(o);j.show(o);o.style.filter="";e=z.id+"_external";o=null})}if(r=="top"){C._addStatusBar(v,m)}if(!D.theme_advanced_toolbar_container){q=j.add(v,"tr");q=l=j.add(q,"td",{"class":"mceIframeContainer"})}if(A=="bottom"){C._addToolbars(v,m)}if(r=="bottom"){C._addStatusBar(v,m)}return l},_rowLayout:function(C,r,m){var B=this,u=B.editor,A,D,k=u.controlManager,q,l,z,v;A=C.theme_advanced_containers_default_class||"";D=C.theme_advanced_containers_default_align||"center";f(d(C.theme_advanced_containers||""),function(s,o){var n=C["theme_advanced_container_"+s]||"";switch(s.toLowerCase()){case"mceeditor":q=j.add(r,"tr");q=l=j.add(q,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":B._addStatusBar(r,m);break;default:v=(C["theme_advanced_container_"+s+"_align"]||D).toLowerCase();v="mce"+B._ufirst(v);q=j.add(j.add(r,"tr"),"td",{"class":"mceToolbar "+(C["theme_advanced_container_"+s+"_class"]||A)+" "+v||D});z=k.createToolbar("toolbar"+o);B._addControls(n,z);j.setHTML(q,z.renderHTML());m.deltaHeight-=C.theme_advanced_row_height}});return l},_addControls:function(l,k){var m=this,n=m.settings,o,q=m.editor.controlManager;if(n.theme_advanced_disable&&!m._disabled){o={};f(d(n.theme_advanced_disable),function(r){o[r]=1});m._disabled=o}else{o=m._disabled}f(d(l),function(s){var r;if(o&&o[s]){return}if(s=="tablecontrols"){f(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(t){t=m.createControl(t,q);if(t){k.add(t)}});return}r=m.createControl(s,q);if(r){k.add(r)}})},_addToolbars:function(D,l){var G=this,u,r,A=G.editor,H=G.settings,F,k=A.controlManager,B,m,z=[],E,C,q=false;C=k.createToolbarGroup("toolbargroup",{name:A.getLang("advanced.toolbar"),tab_focus_toolbar:A.getParam("theme_advanced_tab_focus_toolbar")});G.toolbarGroup=C;E=H.theme_advanced_toolbar_align.toLowerCase();E="mce"+G._ufirst(E);m=j.add(j.add(D,"tr",{role:"presentation"}),"td",{"class":"mceToolbar "+E,role:"presentation"});for(u=1;(F=H["theme_advanced_buttons"+u]);u++){q=true;r=k.createToolbar("toolbar"+u,{"class":"mceToolbarRow"+u});if(H["theme_advanced_buttons"+u+"_add"]){F+=","+H["theme_advanced_buttons"+u+"_add"]}if(H["theme_advanced_buttons"+u+"_add_before"]){F=H["theme_advanced_buttons"+u+"_add_before"]+","+F}G._addControls(F,r);C.add(r);l.deltaHeight-=H.theme_advanced_row_height}if(!q){l.deltaHeight-=H.theme_advanced_row_height}z.push(C.renderHTML());z.push(j.createHTML("a",{href:"#",accesskey:"z",title:A.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+A.id+"').focus();"},"<!-- IE -->"));j.setHTML(m,z.join(""))},_addStatusBar:function(u,l){var m,B=this,v=B.editor,C=B.settings,k,z,A,q;m=j.add(u,"tr");m=q=j.add(m,"td",{"class":"mceStatusbar"});m=j.add(m,"div",{id:v.id+"_path_row",role:"group","aria-labelledby":v.id+"_path_voice"});if(C.theme_advanced_path){j.add(m,"span",{id:v.id+"_path_voice"},v.translate("advanced.path"));j.add(m,"span",{},": ")}else{j.add(m,"span",{},"&#160;")}if(C.theme_advanced_resizing){j.add(q,"a",{id:v.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize",tabIndex:"-1"});if(C.theme_advanced_resizing_use_cookie){v.onPostRender.add(function(){var n=a.getHash("TinyMCE_"+v.id+"_size"),r=j.get(v.id+"_tbl");if(!n){return}B.resizeTo(n.cw,n.ch)})}v.onPostRender.add(function(){g.add(v.id+"_resize","click",function(n){n.preventDefault()});g.add(v.id+"_resize","mousedown",function(J){var t,r,s,o,I,F,G,L,n,K,D;function E(M){M.preventDefault();n=G+(M.screenX-I);K=L+(M.screenY-F);B.resizeTo(n,K)}function H(M){g.remove(j.doc,"mousemove",t);g.remove(v.getDoc(),"mousemove",r);g.remove(j.doc,"mouseup",s);g.remove(v.getDoc(),"mouseup",o);n=G+(M.screenX-I);K=L+(M.screenY-F);B.resizeTo(n,K,true)}J.preventDefault();I=J.screenX;F=J.screenY;D=j.get(B.editor.id+"_ifr");G=n=D.clientWidth;L=K=D.clientHeight;t=g.add(j.doc,"mousemove",E);r=g.add(v.getDoc(),"mousemove",E);s=g.add(j.doc,"mouseup",H);o=g.add(v.getDoc(),"mouseup",H)})})}l.deltaHeight-=21;m=u=null},_updateUndoStatus:function(l){var k=l.controlManager,m=l.undoManager;k.setDisabled("undo",!m.hasUndo()&&!m.typing);k.setDisabled("redo",!m.hasRedo())},_nodeChanged:function(q,z,I,u,J){var D=this,H,K=0,C,L,E=D.settings,B,m,A,G,o,l,k;h.each(D.stateControls,function(n){z.setActive(n,q.queryCommandState(D.controls[n][1]))});function r(s){var t,n=J.parents,v=s;if(typeof(s)=="string"){v=function(M){return M.nodeName==s}}for(t=0;t<n.length;t++){if(v(n[t])){return n[t]}}}z.setActive("visualaid",q.hasVisual);D._updateUndoStatus(q);z.setDisabled("outdent",!q.queryCommandState("Outdent"));H=r("A");if(L=z.get("link")){L.setDisabled((!H&&u)||(H&&!H.href));L.setActive(!!H&&(!H.name&&!H.id))}if(L=z.get("unlink")){L.setDisabled(!H&&u);L.setActive(!!H&&!H.name&&!H.id)}if(L=z.get("anchor")){L.setActive(!u&&!!H&&(H.name||(H.id&&!H.href)))}H=r("IMG");if(L=z.get("image")){L.setActive(!u&&!!H&&I.className.indexOf("mceItem")==-1)}if(L=z.get("styleselect")){D._importClasses();l=[];f(L.items,function(n){l.push(n.value)});k=q.formatter.matchAll(l);L.select(k[0]);h.each(k,function(s,n){if(n>0){L.mark(s)}})}if(L=z.get("formatselect")){H=r(q.dom.isBlock);if(H){L.select(H.nodeName.toLowerCase())}}r(function(s){if(s.nodeName==="SPAN"){if(!B&&s.className){B=s.className}}if(q.dom.is(s,E.theme_advanced_font_selector)){if(!m&&s.style.fontSize){m=s.style.fontSize}if(!A&&s.style.fontFamily){A=s.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase()}if(!G&&s.style.color){G=s.style.color}if(!o&&s.style.backgroundColor){o=s.style.backgroundColor}}return false});if(L=z.get("fontselect")){L.select(function(n){return n.replace(/^([^,]+).*/,"$1").toLowerCase()==A})}if(L=z.get("fontsizeselect")){if(E.theme_advanced_runtime_fontsize&&!m&&!B){m=q.dom.getStyle(I,"fontSize",true)}L.select(function(n){if(n.fontSize&&n.fontSize===m){return true}if(n["class"]&&n["class"]===B){return true}})}if(E.theme_advanced_show_current_color){function F(s,n){if(L=z.get(s)){if(!n){n=L.settings.default_color}if(n!==L.value){L.displayColor(n)}}}F("forecolor",G);F("backcolor",o)}if(E.theme_advanced_show_current_color){function F(s,n){if(L=z.get(s)){if(!n){n=L.settings.default_color}if(n!==L.value){L.displayColor(n)}}}F("forecolor",G);F("backcolor",o)}if(E.theme_advanced_path&&E.theme_advanced_statusbar_location){H=j.get(q.id+"_path")||j.add(q.id+"_path_row","span",{id:q.id+"_path"});if(D.statusKeyboardNavigation){D.statusKeyboardNavigation.destroy();D.statusKeyboardNavigation=null}j.setHTML(H,"");r(function(N){var s=N.nodeName.toLowerCase(),t,M,v="";if(N.nodeType!=1||s==="br"||N.getAttribute("data-mce-bogus")||j.hasClass(N,"mceItemHidden")||j.hasClass(N,"mceItemRemoved")){return}if(h.isIE&&N.scopeName!=="HTML"&&N.scopeName){s=N.scopeName+":"+s}s=s.replace(/mce\:/g,"");switch(s){case"b":s="strong";break;case"i":s="em";break;case"img":if(C=j.getAttrib(N,"src")){v+="src: "+C+" "}break;case"a":if(C=j.getAttrib(N,"name")){v+="name: "+C+" ";s+="#"+C}if(C=j.getAttrib(N,"href")){v+="href: "+C+" "}break;case"font":if(C=j.getAttrib(N,"face")){v+="font: "+C+" "}if(C=j.getAttrib(N,"size")){v+="size: "+C+" "}if(C=j.getAttrib(N,"color")){v+="color: "+C+" "}break;case"span":if(C=j.getAttrib(N,"style")){v+="style: "+C+" "}break}if(C=j.getAttrib(N,"id")){v+="id: "+C+" "}if(C=N.className){C=C.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(C){v+="class: "+C+" ";if(q.dom.isBlock(N)||s=="img"||s=="span"){s+="."+C}}}s=s.replace(/(html:)/g,"");s={name:s,node:N,title:v};D.onResolveName.dispatch(D,s);v=s.title;s=s.name;M=j.create("a",{href:"javascript:;",role:"button",onmousedown:"return false;",title:v,"class":"mcePath_"+(K++)},s);if(H.hasChildNodes()){H.insertBefore(j.create("span",{"aria-hidden":"true"},"\u00a0\u00bb "),H.firstChild);H.insertBefore(M,H.firstChild)}else{H.appendChild(M)}},q.getBody());if(j.select("a",H).length>0){D.statusKeyboardNavigation=new h.ui.KeyboardNavigation({root:q.id+"_path_row",items:j.select("a",H),excludeFromTabOrder:true,onCancel:function(){q.focus()}},j)}}},_sel:function(k){this.editor.execCommand("mceSelectNodeDepth",false,k)},_mceInsertAnchor:function(m,l){var k=this.editor;k.windowManager.open({url:this.url+"/anchor.htm",width:320+parseInt(k.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(k.getLang("advanced.anchor_delta_height",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var k=this.editor;k.windowManager.open({url:this.url+"/charmap.htm",width:550+parseInt(k.getLang("advanced.charmap_delta_width",0)),height:265+parseInt(k.getLang("advanced.charmap_delta_height",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var k=this.editor;k.windowManager.open({url:this.url+"/about.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceShortcuts:function(){var k=this.editor;k.windowManager.open({url:this.url+"/shortcuts.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(m,l){var k=this.editor;l=l||{};k.windowManager.open({url:this.url+"/color_picker.htm",width:375+parseInt(k.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(k.getLang("advanced.colorpicker_delta_height",0)),close_previous:false,inline:true},{input_color:l.color,func:l.func,theme_url:this.url})},_mceCodeEditor:function(l,m){var k=this.editor;k.windowManager.open({url:this.url+"/source_editor.htm",width:parseInt(k.getParam("theme_advanced_source_editor_width",720)),height:parseInt(k.getParam("theme_advanced_source_editor_height",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(l,m){var k=this.editor;if(k.dom.getAttrib(k.selection.getNode(),"class","").indexOf("mceItem")!=-1){return}k.windowManager.open({url:this.url+"/image.htm",width:355+parseInt(k.getLang("advanced.image_delta_width",0)),height:275+parseInt(k.getLang("advanced.image_delta_height",0)),inline:true},{theme_url:this.url})},_mceLink:function(l,m){var k=this.editor;k.windowManager.open({url:this.url+"/link.htm",width:310+parseInt(k.getLang("advanced.link_delta_width",0)),height:200+parseInt(k.getLang("advanced.link_delta_height",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var k=this.editor;k.windowManager.confirm("advanced.newdocument",function(l){if(l){k.execCommand("mceSetContent",false,"")}})},_mceForeColor:function(){var k=this;this._mceColorPicker(0,{color:k.fgColor,func:function(l){k.fgColor=l;k.editor.execCommand("ForeColor",false,l)}})},_mceBackColor:function(){var k=this;this._mceColorPicker(0,{color:k.bgColor,func:function(l){k.bgColor=l;k.editor.execCommand("HiliteColor",false,l)}})},_ufirst:function(k){return k.substring(0,1).toUpperCase()+k.substring(1)}});h.ThemeManager.add("advanced",h.themes.AdvancedTheme)}(tinymce));tinyMCE.addI18n("en.advanced",{underline_desc:"Underline (Ctrl+U)",italic_desc:"Italic (Ctrl+I)",bold_desc:"Bold (Ctrl+B)",dd:"Definition Description",dt:"Definition Term ",samp:"Code Sample",code:"Code",blockquote:"Block Quote",h6:"Heading 6",h5:"Heading 5",h4:"Heading 4",h3:"Heading 3",h2:"Heading 2",h1:"Heading 1",pre:"Preformatted",address:"Address",div:"DIV",paragraph:"Paragraph",block:"Format",fontdefault:"Font Family",font_size:"Font Size",style_select:"Styles",anchor_delta_height:"",anchor_delta_width:"",charmap_delta_height:"",charmap_delta_width:"",colorpicker_delta_height:"",colorpicker_delta_width:"",link_delta_height:"",link_delta_width:"",image_delta_height:"",image_delta_width:"",more_colors:"More Colors...",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X",newdocument:"Are you sure you want clear all contents?",path:"Path",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",blockquote_desc:"Block Quote",help_desc:"Help",newdocument_desc:"New Document",image_props_desc:"Image Properties",paste_desc:"Paste (Ctrl+V)",copy_desc:"Copy (Ctrl+C)",cut_desc:"Cut (Ctrl+X)",anchor_desc:"Insert/Edit Anchor",visualaid_desc:"show/Hide Guidelines/Invisible Elements",charmap_desc:"Insert Special Character",backcolor_desc:"Select Background Color",forecolor_desc:"Select Text Color",custom1_desc:"Your Custom Description Here",removeformat_desc:"Remove Formatting",hr_desc:"Insert Horizontal Line",sup_desc:"Superscript",sub_desc:"Subscript",code_desc:"Edit HTML Source",cleanup_desc:"Cleanup Messy Code",image_desc:"Insert/Edit Image",unlink_desc:"Unlink",link_desc:"Insert/Edit Link",redo_desc:"Redo (Ctrl+Y)",undo_desc:"Undo (Ctrl+Z)",indent_desc:"Increase Indent",outdent_desc:"Decrease Indent",numlist_desc:"Insert/Remove Numbered List",bullist_desc:"Insert/Remove Bulleted List",justifyfull_desc:"Align Full",justifyright_desc:"Align Right",justifycenter_desc:"Align Center",justifyleft_desc:"Align Left",striketrough_desc:"Strikethrough",help_shortcut:"Press ALT-F10 for toolbar. Press ALT-0 for help",rich_text_area:"Rich Text Area",shortcuts_desc:"Accessability Help",toolbar:"Toolbar"});(function(){var a=tinymce.each;tinymce.create("tinymce.plugins.EmbedMediaPlugin",{init:function(b,c){var e=this;e.editor=b;e.url=c;function f(g){return(/^mceItemFlash$/).test(g.className)}b.addCommand("mceEmbedMedia",function(){b.windowManager.open({file:c+"/media.htm",width:480+parseInt(b.getLang("embedmedia.delta_width",0),10),height:500+parseInt(b.getLang("embedmedia.delta_height",0),10),inline:1},{plugin_url:c})});b.addButton("embedmedia",{title:"media.desc",cmd:"mceEmbedMedia"});b.onNodeChange.add(function(h,g,j){g.setActive("embedmedia",j.nodeName=="IMG"&&f(j))});b.onInit.add(function(){if(b.settings.content_css!==false){b.dom.loadCSS(c+"/css/content.css")}if(b&&b.plugins.contextmenu){b.plugins.contextmenu.onContextMenu.add(function(h,g,j){if(j.nodeName=="IMG"&&/mceItemFlash/.test(j.className)){g.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});b.onBeforeSetContent.add(function(h,l){var k=e.newEmbedSnippet();var j=l.content;var g=k._objectsToSpans(j);l.content=g},e);b.onSetContent.add(function(){var g=$(b.getBody());g.find("span.mceItemEmbed,span.mceItemObject").each(function(){var n=$(this);if(n.is("span.mceItemEmbed")&&n.parent().is("span.mceItemObject")){return}var l=e.newEmbedSnippet();var k;if($.browser.msie){k=n[0].outerHTML}else{var m=$("<div />");m.append(n.clone());k=m[0].innerHTML;m.remove()}var j=l._spansToObjects(k);var h=$("<img />").attr("src",e.url+"/img/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",j).attr("width",n.attr("width")||null).attr("height",n.attr("height")||null);h=$("<div />").append(h).html();n.replaceWith(h)});g.find("span.mceEndObject").remove()});function d(g,h){h=new RegExp(h+'="([^"]+)"',"g").exec(g);return h?b.dom.decode(h[1]):""}b.onPostProcess.add(function(g,h){h.content=h.content.replace(/<img[^>]+>/g,function(k){var j=d(k,"class");j=j.replace(/^ */,"").replace(/ *$/,"");if(j=="mceMarker-embedmedia"){var l=e.newEmbedSnippet();l.setContent(d(k,"title"));l.setParms({width:d(k,"width"),height:d(k,"height")});k=l.getContent();l.wrapper.remove()}return k})})},newEmbedSnippet:function(){var c=function c(){};$.extend(c.prototype,{_objectsToSpans:function(d){d=d.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');d=d.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');d=d.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');d=d.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');d=d.replace(/<\/embed>/gi,"");d=d.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');d=d.replace(/<\/param>/gi,"");return d},_spansToObjects:function(d){d=d.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");d=d.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");d=d.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");d=d.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return d},setContent:function(k){this.wrapper=$("<div />");var f=this.wrapper;var l=this._objectsToSpans(k);f[0].innerHTML=l;this.root=f.children();var o=this.root;this.emtype=null;var g="wmode";var m="opaque";if(o.is("span.mceItemObject")){var h=o.find("span.mceItemEmbed");if(h){this.emtype="object+embed";this.inside=h;if(h.attr("mce_src")){h.removeAttr("mce_src")}h.attr(g,m)}var j=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var d=[];$.each(j,function(e,s){var r=false;o.find("span.mceItemParam").each(function(u,v){var t=$(v).attr("name");if(t==s||t==s.toLowerCase()){r=true;return false}});if(!r){if(o.attr(s)){d.push({k:s,v:o.attr(s)})}else{if(o.attr(s.toLowerCase())){d.push({k:s,v:o.attr(s.toLowerCase())})}else{if(s=="movie"){if(o.attr("resource")){d.push({k:s,v:o.attr("resource")})}}}}}});$.each(d,function(r,s){try{$('<span class="mceItemParam"></span>').attr("name",s.k).attr("value",s.v).prependTo(o)}catch(t){}});var q=false;o.find("span.mceItemParam").each(function(r,s){var e=$(s).attr("name");if(e==g){q=true;$(s).attr("value",m);return false}});if(!q){try{$('<span class="mceItemParam"></span>').attr("name",g).attr("value",m).prependTo(o)}catch(n){}}o.attr(g,m)}if(o.attr("mce_src")){o.removeAttr("mce_src")}return this},getContent:function(){var d=this.wrapper.html();var e=this._spansToObjects(d);return e},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(d){if(this.emtype=="object+embed"){if(d.width){this.root.attr("width",d.width);this.inside.attr("width",d.width)}if(d.height){this.root.attr("height",d.height);this.inside.attr("height",d.height)}}else{if(d.width){this.root.attr("width",d.width)}if(d.height){this.root.attr("height",d.height)}}return this}});this.newEmbedSnippet=function b(){return new c()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},getInfo:function(){return{longname:"Media",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("embedmedia",tinymce.plugins.EmbedMediaPlugin)})();jQuery.extend({createUploadIframe:function(d,b){var a="jUploadFrame"+d;if(window.ActiveXObject){var c=document.createElement('<iframe id="'+a+'" name="'+a+'" />');if(typeof b=="boolean"){c.src="javascript:false"}else{if(typeof b=="string"){c.src=b}}}else{var c=document.createElement("iframe");c.id=a;c.name=a}c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";document.body.appendChild(c);return c},createUploadForm:function(h,b,g){var e="jUploadForm"+h;var a="jUploadFile"+h;var d=$('<form  action="" method="POST" name="'+e+'" id="'+e+'" enctype="multipart/form-data"></form>');var c=$("#"+b);var f=$(c).clone(true);f.attr("name",c.attr("name"));$(c).attr("id",a);$(c).before(f);$(c).appendTo(d);g&&$.each(g,function(l,j){$('<input type="hidden">').attr("name",l).attr("value",j).appendTo(d)});$(d).css("position","absolute");$(d).css("top","-1200px");$(d).css("left","-1200px");$(d).appendTo("body");return d},ajaxFileUpload:function(l){l=jQuery.extend({},jQuery.ajaxSettings,l);var a=new Date().getTime();var b=jQuery.createUploadForm(a,l.fileElementId,l.extraParams);var j=jQuery.createUploadIframe(a,l.secureuri);var h="jUploadFrame"+a;var k="jUploadForm"+a;if(l.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var c=false;var f={};if(l.global){jQuery.event.trigger("ajaxSend",[f,l])}var d=function(m){var r=document.getElementById(h);try{if(r.contentWindow){f.responseText=r.contentWindow.document.body?r.contentWindow.document.body.innerHTML:null;f.responseXML=r.contentWindow.document.XMLDocument?r.contentWindow.document.XMLDocument:r.contentWindow.document}else{if(r.contentDocument){f.responseText=r.contentDocument.document.body?r.contentDocument.document.body.innerHTML:null;f.responseXML=r.contentDocument.document.XMLDocument?r.contentDocument.document.XMLDocument:r.contentDocument.document}}}catch(q){jQuery.handleError(l,f,null,q)}if(f||m=="timeout"){c=true;var n;try{n=m!="timeout"?"success":"error";if(n!="error"){var o=jQuery.uploadHttpData(f,l.dataType);if(l.success){l.success(o,n)}if(l.global){jQuery.event.trigger("ajaxSuccess",[f,l])}}else{jQuery.handleError(l,f,n)}}catch(q){n="error";jQuery.handleError(l,f,n,q)}if(l.global){jQuery.event.trigger("ajaxComplete",[f,l])}if(l.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(l.complete){l.complete(f,n)}jQuery(r).unbind();setTimeout(function(){try{$(r).remove();$(b).remove()}catch(s){jQuery.handleError(l,f,null,s)}},100);f=null}};if(l.timeout>0){setTimeout(function(){if(!c){d("timeout")}},l.timeout)}try{var b=$("#"+k);$(b).attr("action",l.url);$(b).attr("method","POST");$(b).attr("target",h);if(b.encoding){b.encoding="multipart/form-data"}else{b.enctype="multipart/form-data"}$(b).submit()}catch(g){jQuery.handleError(l,f,null,g)}if(window.attachEvent){document.getElementById(h).attachEvent("onload",d)}else{document.getElementById(h).addEventListener("load",d,false)}return{abort:function(){}}},uploadHttpData:function(b,a){var c=!a;c=a=="xml"||c?b.responseXML:b.responseText;if(a=="script"){jQuery.globalEval(c)}if(a=="json"){try{c=window["eval"]("("+c+")")}catch(d){throw new Error("Could not evaluate data, probably server side error or 404. [Received: "+c.substring(0,30)+"...]")}}if(a=="html"){jQuery("<div>").html(c).evalScripts()}return c}});(function(){var b=0;var e=0;var d=0;var a=function(){this.init.apply(this,arguments)};var c=function(){if($.tiny){return}$.tiny={};$.fn.tiny_fixIEPanelSize=function(g,f){if(!jQuery.boxModel){return this.each(function(){var l=$(this);var j=l.css("width");if(j&&j!="auto"){l.width(parseInt(j)+g)}var k=l.css("height");if(k&&k!="auto"){l.height(parseInt(k)+f)}})}return this};$.tiny.PANEL_WD=14;$.tiny.PANEL_HD=14;$.widget("tiny.imagedrawerimage",{options:{record:null},_create:function(){this.image=this.element.find(".tiny-imagedrawer-image img");this.label=this.element.find(".tiny-imagedrawer-imagelabel");if(this.options.record){this.record(this.options.record)}},record:function(f){if(typeof f=="undefined"){return this._record}this._record=f;var g=f.title;if(g&&g.length>9){g=g.substr(0,9)+"..."}this.label.text(g);this.image.attr("src",f.thumbnail_url);if(f.thumbnail_width){this.image.attr("width",f.thumbnail_width)}else{this.image.removeAttr("width")}if(f.thumbnail_height){this.image.attr("height",f.thumbnail_height)}else{this.image.removeAttr("height")}return this}});$.widget("tiny.imagedrawerinfopanel",{options:{record:null,insertButtonLabel:null},_create:function(){var f=this;this.info_title=this.element.find(".tiny-imagedrawer-info-title");this.info_location=this.element.find(".tiny-imagedrawer-info-location");this.info_author=this.element.find(".tiny-imagedrawer-info-author");this.info_modified=this.element.find(".tiny-imagedrawer-info-modified");this.input_caption=this.element.find("input:checkbox[name=tiny-imagedrawer-input-caption]");this.input_captiontext=this.element.find("input:text[name=tiny-imagedrawer-input-captiontext]");this.input_align={};this.element.find("input:radio[name=tiny-imagedrawer-input-align]").each(function(g,h){f.input_align[$(h).attr("value")]=h});this.input_dimension=this.element.find("select[name=tiny-imagedrawer-input-dimension]");this.wrapper_location=this.element.find(".tiny-imagedrawer-info-location-wrapper");this.wrapper_author=this.element.find(".tiny-imagedrawer-info-author-wrapper");this.wrapper_modified=this.element.find(".tiny-imagedrawer-info-modified-wrapper");this.wrapper_captiontext=this.element.find(".tiny-imagedrawer-input-captiontext-wrapper");this.buttonset_save=this.element.find(".karl-buttonset.tiny-imagedrawer-buttonset-save").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-save"});this.insert_button=this.buttonset_save.karlbuttonset("getButton",0);this.insert_button_label=this.insert_button.find("a");this.statusbox=this.element.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});if(this.input_caption.is(":checked")){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}this.input_caption.click(function(){if($(this).is(":checked")){f.wrapper_captiontext.show("fold").focus()}else{f.wrapper_captiontext.hide("fold")}});if(this.options.insertButtonLabel){this.insertButtonLabel(this.options.insertButtonLabel)}if(this.options.record){this.record(this.options.record)}},insertButtonEnabled:function(f){if(f===undefined){this.insert_button.hasClass("ui-state-disabled")}if(f){this.insert_button.removeClass("ui-state-disabled")}else{this.insert_button.addClass("ui-state-disabled")}return this},insertButtonLabel:function(f){if(f===undefined){return this.insert_button_label.text()}this.insert_button_label.attr("title",f);this.insert_button_label.text(f);return this},record:function(h){var g=this;if(typeof h=="undefined"){return this._record}this._record=h;if(h.title){this.info_title.text(h.title);this.input_captiontext.val(h.title)}else{this.info_title.text("No selection");this.input_captiontext.val("")}var j=h.author_name||"";this.info_author.text(j);if(j){this.wrapper_author.show()}else{this.wrapper_author.hide()}var f=h.last_modified||"";this.info_modified.text(f);if(f){this.wrapper_modified.show()}else{this.wrapper_modified.hide()}this.info_location.html("");$(h.location).each(function(k){if(k>0){g.info_location.append("<span>&nbsp;&gt;&nbsp;</span>")}g.info_location.append($("<span></span>").text(this.title))});if(h.location&&h.location.length>0){this.wrapper_location.show()}else{this.wrapper_location.hide()}this.statusbox.multistatusbox("clear");if(h.error){this.statusbox.multistatusbox("append",h.error,null,"ui-state-error ui-corner-all")}else{if(h.status){this.statusbox.multistatusbox("append",h.status,null,"ui-state-highlight ui-corner-all")}}this.insertButtonEnabled(h.image_url);return this},insertOptions:function(g){var f=this;if(typeof g=="undefined"){return{caption:this.input_caption.is(":checked"),captiontext:this.input_captiontext.val(),align:this.element.find("input:radio[name=tiny-imagedrawer-input-align]:checked").val(),dimension:this.input_dimension.val()}}if(g){if(g.caption!=undefined){this.input_caption[0].checked=g.caption;if(g.caption){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}}if(g.captiontext!=undefined){this.input_captiontext.val(g.captiontext)}if(g.align!=undefined){this.input_align[g.align].checked=true}if(g.dimension!=undefined){this.input_dimension.val(g.dimension)}}return this}});$.extend(a.prototype,{init:function(g,j,h,f){this.container=g;this.column_width=j;this.proto_image=h;this.proto_value=f;this.reset()},reset:function(){this.offset=0;this.container.empty()},_thumb:function(f){return this.proto_image.clone(true).imagedrawerimage({record:$.extend({},this.proto_value,f)})},preload:function(m,g){var h=this;var f=this.offset;var l=f+this.items().length;if((l-f>0)&&((g<f)||(m>l))){throw new Error("Preloading non-adjoining regions: must have reset before.")}var j=m;while(j<f){this._thumb({loading:true}).prependTo(this.container);j+=1}var k=j-m;if(k>0){this.offset-=k}else{if(this.items().length==0){this.offset=m}}while(j<Math.min(l,g)){this._thumb({loading:true}).replaceAll(this.item(j));j+=1}while(j<g){this._thumb({loading:true}).appendTo(this.container);j+=1}this._setLength()},insertRecord:function(f,j){var g=this._thumb(j);if(f-this.offset==this.items().length){g.appendTo(this.container)}else{var h=this.item(f);if(h.length!=1){throw new Error("insertRecord must extend a region continously.")}g.insertBefore(h)}this._setLength();return g},_setLength:function(){this.container.width(this.items().length*(this.column_width+20)+100)},moveTo:function(f){this.container.css("margin-left",Math.round((this.offset-f)*this.column_width)+"px")},items:function(){return this.container.children()},item:function(f){return this.items().eq(f-this.offset)},recordAt:function(f,h){var g=this.item(f);if(g.length!=1){throw new Error("recordAt with an unstored index: item must have preloaded before.")}if(typeof h=="undefined"){return g.imagedrawerimage("record")}g.imagedrawerimage("record",h)}})};window.tinymce||c();window.tinymce&&tinymce.create("tinymce.plugins.ImageDrawerPlugin",{init:function(g,h){var f=this;this.editor=g;this.url=h;c();this.dialog=null;this.selected_item=undefined;g.addCommand("mceImageDrawer",function(){if(g.dom.getAttrib(g.selection.getNode(),"class").indexOf("mceItem")!=-1){return}var l=f._getEditorImageSelection();if(l){l=$(l);f.editor_image_data=f._getEditorImageData(l);var n=/^https?:\/\/([^\/\?]*)[\/\?]?/;var m=n.exec(window.location.href);var r=m&&m[1];var k=n.exec(l.attr("src"));var q=k&&k[1];f.editor_image_data.external=k&&r!=q}else{f.editor_image_data=null}f._save_editor_selection(l);f.enable_upload=g.getParam("imagedrawer_enable_upload",false);if(!f.dialog){var o={};if(f.editor_image_data&&!f.editor_image_data.external){o={source:"myrecent",include_image_url:f.editor_image_data.image_url}}else{if(!f.enable_upload){o={source:"myrecent"}}}$.ajax({type:"GET",url:g.getParam("imagedrawer_dialog_url"),data:o,success:function(t){var s=t&&t.error;if(s){this._dialogError(s)}else{f._dialogSuccess(t)}},error:function(s,u,t){if(t){throw t}f._dialogError(u)},dataType:"json"})}else{f._restore_formstate();var j=$(f.buttonset).data("karlbuttonset").element.children().eq(f.selected_source).attr("value");f._updateInsertReplaceState();if(f.editor_image_data){if(f.editor_image_data.external){f.buttonset.karlbuttonset("getButton",f._findSourceButtonIndex("external")).click();f.input_url.val(f.editor_image_data.image_url);f._externalDoCheck({image_url:f.editor_image_data.image_url})}else{if(f.selected_source!=f._findSourceButtonIndex("myrecent")){f.buttonset.karlbuttonset("getButton",f._findSourceButtonIndex("myrecent")).click()}else{if(j=="myrecent"||j=="thiscommunity"){f._requestRecords(0,12,true)}}}}else{if(j=="myrecent"||j=="thiscommunity"){f._requestRecords(0,12,true)}}f._save_formstate();f.dialog.dialog("open");f._restore_formstate()}});g.addButton("image",{title:"imagedrawer.image_desc",cmd:"mceImageDrawer"});g.onInit.add(function(){if(!g.settings.editor_css){tinymce.DOM.loadCSS(h+"/css/ui.css")}})},_save_formstate:function(){this._formstate={insertOptions:this.info_panel.imagedrawerinfopanel("insertOptions")}},_restore_formstate:function(){this.info_panel.imagedrawerinfopanel("insertOptions",this._formstate.insertOptions)},_save_editor_selection:function(g){if(g&&$.browser.msie){this._saved_editor_selection=$(g)[0];var f=this.editor;f.selection.collapse();f.execCommand("mceRepaint")}else{this._saved_editor_selection=null}},_get_editor_selection:function(){var f;if(this._saved_editor_selection){f=this._saved_editor_selection;this._saved_editor_selection=null}else{f=this._getEditorImageSelection()}return f},_dialogSuccess:function(s){var t=this;var l=this.editor;this.dialog=$(s.dialog_snippet);this.dialog.hide().appendTo("body");this.dialog.dialog({width:6+390+7+320+6+(jQuery.boxModel?0:10),dialogClass:"tiny-imagedrawer-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var f=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");f.removeClass("ui-dialog-content").css("overflow","hidden");f.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");if(!this.enable_upload){var r=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect option");r.eq(1).attr("selected","selected");r.eq(0).remove()}var h=this.dialog.find(".tiny-imagedrawer-panel-download");this.upload_panel=this.dialog.find(".tiny-imagedrawer-panel-upload").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.external_panel=h.find(".tiny-imagedrawer-panel-external").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.images_panel=this.dialog.find(".tiny-imagedrawer-panel-images").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);var k=this.dialog.find(".tiny-imagedrawer-panel-top");var j=k.find(".tiny-imagedrawer-sources");this.buttonset=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect");this.buttonset.karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-tabselect"}).bind("change.karlbuttonset",function(v,A,z){if(z){var u=$(this).data("karlbuttonset").element.children().eq(A).attr("value");if(u=="uploadnew"){t.upload_panel.show();t.images_panel.hide();t.external_panel.hide();var z=t.upload_preview_image.imagedrawerimage("record");if(z&&z.image_url){t._setSelection(t.upload_preview_image)}else{t._setSelection(null)}t.selected_source=A}else{if(u=="myrecent"||u=="thiscommunity"){if(A!=t.selected_source){t._requestRecords(0,12,true);t.selected_source=A;t.info_panel.imagedrawerinfopanel("record",{})}t.upload_panel.hide();t.images_panel.show();t.external_panel.hide()}else{if(u=="external"){t.upload_panel.hide();t.images_panel.hide();t.external_panel.show();var z=t.external_preview_image.imagedrawerimage("record");if(z&&z.image_url){t._setSelection(t.external_preview_image)}else{t._setSelection(null)}t.selected_source=A}}}}});this.info_panel=this.dialog.find(".tiny-imagedrawer-panel-info").imagedrawerinfopanel({}).tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.info_panel.data("imagedrawerinfopanel").buttonset_save.bind("change.karlbuttonset",function(u,z,v){if(z==0){if(t.selected_item==null){return}t._insertToEditor();t._save_formstate();t.dialog.dialog("close");t._restore_formstate()}else{t._save_formstate();t.dialog.dialog("close");t._restore_formstate()}});this.fileinputid="tiny-imagedrawer-fileinputid-"+b;b+=1;var o=this.upload_panel.find(".tiny-imagedrawer-fileinput");this.textinput=this.upload_panel.find(".tiny-imagedrawer-input-titletext");o.attr("id",this.fileinputid);if(!o.attr("name")){o.attr("name","file")}this._fileinput_change=function(){var v=""+this.value;var u=Math.max(v.lastIndexOf("/"),v.lastIndexOf("\\"));if(u!=-1){v=v.substring(u+1)}t.textinput.val(v);t._uploadReset();t.buttonset_upload.karlbuttonset("getButton",0).removeClass("ui-state-disabled");t.buttonset_upload.karlbuttonset("getButton",1).addClass("ui-state-disabled")};o.change(this._fileinput_change);this.upload_statusbox=this.upload_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_upload=this.upload_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-upload").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-upload"}).bind("change.karlbuttonset",function(v,A,z){var B=$(this);if(A==0){var u={};e+=1;u.upload_serial=e;t._uploadStart(u);B.karlbuttonset("getButton",0).addClass("ui-state-disabled");B.karlbuttonset("getButton",1).removeClass("ui-state-disabled");$.ajaxFileUpload({url:l.getParam("imagedrawer_upload_url"),secureuri:false,fileElementId:t.fileinputid,extraParams:{title:t.textinput.val()},dataType:"json",success:function(D,C){t._uploadSuccess(D,u)},error:function(D,C,E){if(E&&E.message){D={error:E.message}}t._uploadError(D,u)}})}else{e+=1;t._uploadReset();B.karlbuttonset("getButton",0).removeClass("ui-state-disabled");B.karlbuttonset("getButton",1).addClass("ui-state-disabled")}});this.input_url=this.external_panel.find(".tiny-imagedrawer-input-url");this.label_previewtext=this.external_panel.find(".tiny-imagedrawer-external-previewtext");this.external_statusbox=this.external_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_check=this.external_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-check").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-check"}).bind("change.karlbuttonset",function(u,z,v){var A=$(this);t._externalDoCheck({image_url:t.input_url.val()})});this.proto_image=this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").eq(0);var g=$("<ul></ul>").hide().appendTo(this.images_panel).append(this.proto_image);this.proto_image.dblclick(function(u){var v=$(this).imagedrawerimage("record");if(v&&v.image_url){t._insertToEditor(this);t._save_formstate();t.dialog.dialog("close");t._restore_formstate()}u.preventDefault()}).click(function(u){t._setSelection(this);u.preventDefault()}).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").remove();this.visible_columns=4;this.stripes=[];this.images_panel.find("ul.tiny-imagedrawer-imagestripe").each(function(u){t.stripes.push(new a($(this),95,t.proto_image,{title:t.editor.getLang("imagedrawer.loading_title"),thumbnail_url:t.url+"/images/default_image.png"}))});this.region_id=0;this.scrollbar=this.images_panel.find(".tiny-imagedrawer-scrollbar").karlslider({enableClickJump:true,enableKeyJump:true,slide:function(v,u){t._moveStripe(u.value/100)}});this.upload_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.upload_panel.find(".tiny-imagedrawer-image").replaceWith(this.upload_preview_image);this._uploadReset();this.external_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.external_panel.find(".tiny-imagedrawer-image").replaceWith(this.external_preview_image);this._externalReset();var q=this.dialog.find(".tiny-imagedrawer-panel-help").hide();var m=false;q.find(".karl-buttonset").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-cancelhelp"}).bind("change.karlbuttonset",function(u,z,v){q.hide("slow");h.show("slow");j.show("slow");m=false});this.dialog.find(".tiny-imagedrawer-button-help").click(function(u){if(!m){q.show("fold");j.hide();h.hide();m=true}u.preventDefault()});if($.ui.version<"1.8"&&!this.scrollbar.data("karlslider")._uiHash_patched){throw new Error("jquery-ui version >= 1.8, or patched 1.7 version required.")}this.title_tag=this.dialog.find(".tiny-imagedrawer-title");t._updateInsertReplaceState();if(s.images_info){this._initImages(s.images_info);this._loadRecords(s.images_info)}t._setSelection(null);if(this.editor_image_data){if(this.editor_image_data.external){this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("external")).click();this.input_url.val(this.editor_image_data.image_url);this._externalDoCheck({image_url:this.editor_image_data.image_url})}else{this.selected_source=this._findSourceButtonIndex("myrecent");this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("myrecent")).click();this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}}else{this.selected_source=this.buttonset[0].selectedIndex}var n=this.buttonset.data("karlbuttonset").element.children().eq(this.selected_source).attr("value");if(n=="uploadnew"){this.upload_panel.show();this.images_panel.hide();this.external_panel.hide()}else{if(n=="myrecent"||n=="thiscommunity"){this.upload_panel.hide();this.images_panel.show();this.external_panel.hide()}else{if(n=="external"){this.upload_panel.hide();this.images_panel.hide();this.external_panel.show()}}}this._save_formstate();this.dialog.dialog("open");this._restore_formstate()},_findSourceButtonIndex:function(f){var g;this.buttonset.data("karlbuttonset").element.children().each(function(h){if($(this).attr("value")==f){g=h;return false}});return g},_initImages:function(g){this.region_start=0;this.region_end=g.records.length;this.region_total=g.totalRecords;this._resetStripe();this._preloadRegion(this.region_start,this.region_end);this._moveStripe(this.scrollbar.karlslider("value")/100);var f=Math.floor(100/(Math.ceil(this.region_total/this.stripes.length))*this.visible_columns);this.scrollbar.karlslider("option","jumpStep",f)},_dialogError:function(f){f="Error when fetching drawer_dialog_view.html: "+f;alert(f)},_dataSuccess:function(j,k,h){var f=this;var g=j&&j.error;if(g){this._dataError(j)}if(this.region_id!=k){return}if(h){this._initImages(j.images_info)}this._loadRecords(j.images_info);if(h&&this.editor_image_data&&!this.editor_image_data.external&&!this.editor_image_data._selected_once){this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}},_dataError:function(g){var f=g&&g.error;if(!f){f="Server error when fetching drawer_data_view.html"}alert(f)},_uploadStart:function(f){this.upload_preview_image.parent().show();this.upload_preview_image.imagedrawerimage("record",{loading:true,title:this.textinput.val(),thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear")},_uploadReset:function(){this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear");this._setSelection(null)},_uploadSuccess:function(j,h){var f=this;var g=j&&j.error;if(g){this._uploadError(j,h);return}if(h.upload_serial!=e){return}this.upload_preview_image.imagedrawerimage("record",j.upload_image_info);if(this.buttonset.val()=="uploadnew"){if(this.selected_item==null){this._setSelection(this.upload_preview_image)}else{this._updateInfoPanel()}}},_uploadError:function(h,g){if(g.upload_serial!=e){return}var f=h&&h.error;if(!f){f="Server error when fetching drawer_upload_view.html"}this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.upload_statusbox.multistatusbox("clearAndAppend",f,null,"ui-state-error ui-corner-all");if(this.buttonset.val()=="uploadnew"){this._updateInfoPanel()}},_externalDoCheck:function(h){var g=this;d+=1;h.external_check_serial=d;this._externalStart(h);var f=new Image();$(f).load(function(){g._externalSuccess(this,h)}).error(function(){g._externalError(this,h)}).attr("src",h.image_url)},_externalStart:function(f){var h=f.image_url;var g="External image";this.external_preview_image.parent().show();this.external_preview_image.imagedrawerimage("record",{loading:true,title:g,thumbnail_url:this.url+"/images/throbber.gif",location:[{title:h,href:h}]});this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide()},_externalReset:function(){this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.external_statusbox.multistatusbox("clear");this._setSelection(null);this.label_previewtext.show()},_externalSuccess:function(g,h){var f=this;if(h.external_check_serial!=d){return}var m=undefined;var j=undefined;if($.browser.msie){var l=175;if(g.width>l||g.height>l){var k=g.width/g.height;if(k>1){m=l;j=Math.floor(l/k)}else{m=Math.floor(l*k);j=l}}}this.external_preview_image.imagedrawerimage("record",$.extend({},this.external_preview_image.imagedrawerimage("record"),{image_width:g.width,image_height:g.height,image_url:h.image_url,thumbnail_url:h.image_url,thumbnail_width:m,thumbnail_height:j}));this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide();if(this.buttonset.val()=="external"){if(this.selected_item==null){this._setSelection(this.external_preview_image)}else{this._updateInfoPanel()}}},_externalError:function(f,h){if(h.external_check_serial!=d){return}var g="Wrong url, or not an image.";this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.external_statusbox.multistatusbox("clearAndAppend",g,null,"ui-state-error ui-corner-all");this.label_previewtext.show();if(this.buttonset.val()=="external"){this._updateInfoPanel()}},_getListItem:function(f){var h=this.stripes.length;var g=f%h;return this.stripes[g].item(Math.floor((f+g)/h))},_setSelection:function(f){if(f){f=$(f)}if((this.selected_item&&this.selected_item[0])===(f&&f[0])){return}if(this.selected_item!=null){this.selected_item.removeClass("ui-state-default ui-state-active")}this.selected_item=f;this._updateInfoPanel()},_updateInfoPanel:function(){var g=this.selected_item;if(g!=null){g.addClass("ui-state-default ui-state-active");var f=g.imagedrawerimage("record");this.info_panel.imagedrawerinfopanel("record",f)}else{this.info_panel.imagedrawerinfopanel("record",{})}},_preloadRegion:function(h,f){var g=this.stripes.length;$(this.stripes).each(function(j){var k=g-j-1;this.preload(Math.floor((h+k)/g),Math.floor((f+k)/g))})},_resetStripe:function(){$(this.stripes).each(function(f){this.reset()});this.region_id+=1;this._setSelection(null);this.scrollbar.karlslider("value",0)},_moveStripe:function(m){var q=this;var k=m*(Math.ceil(this.region_total/this.stripes.length)-this.visible_columns);if(k<0){return}var g=Math.floor(k*this.stripes.length);var h=Math.ceil(k+this.visible_columns)*this.stripes.length;var f;var o;var l;if((g<this.region_start)||(h>this.region_end)){var j=12;if(g<this.region_start){o=h;if(o<this.region_start){this._resetStripe();this.region_end=o}else{o=this.region_start}f=Math.min(g,o-j);f=Math.max(f,0);this.region_start=f}else{if(h>this.region_end){f=g;if(f>this.region_end){this._resetStripe();this.region_start=f}else{f=this.region_end}o=Math.max(h,f+j);o=Math.min(o,this.region_total);this.region_end=o}}if(f<o){this._preloadRegion(f,o);var n=this.region_id;this._requestRecords(f,o-f,false)}}$(this.stripes).each(function(r){this.moveTo(k)})},_requestRecords:function(l,f,h){var g=this;var j=this.region_id;var k={start:l,limit:f,sort_on:"creation_date",reverse:"1",source:this.buttonset.find("option:selected").val()};if(this.editor_image_data&&!this.editor_image_data.external){k.include_image_url=this.editor_image_data.image_url}$.ajax({type:"GET",url:this.editor.getParam("imagedrawer_data_url"),data:k,success:function(m){g._dataSuccess(m,j,h)},error:function(m){g._dataError(m)},dataType:"json"})},_loadRecords:function(h){var f=this;var j=h.start;var g=this.stripes.length;$.each(h.records,function(k){var l=(k+j)%g;f.stripes[l].recordAt(Math.floor((k+j)/g),this)})},_insertToEditor:function(z){var l;if(z){l=$(z).imagedrawerimage("record")}else{l=this.info_panel.imagedrawerinfopanel("record")}var n=this.editor;var t;var h;var j=this.info_panel.imagedrawerinfopanel("insertOptions");var g=l.image_width;var u=l.image_height;var A;var s;var k={original:{max_width:530,max_height:530},large:{max_width:400,max_height:400},medium:{max_width:250,max_height:250},small:{max_width:100,max_height:100}}[j.dimension];var A=k.max_width;var s=k.max_height;if(g>A){u=Math.floor(u*A/g);g=A}if(u>s){g=Math.floor(g*s/u);u=s}var q="";alt=j.captiontext;if(j.caption){q=(q?q+" ":"")+"tiny-imagedrawer-captioned"}var f="";var o;if(j.align=="left"){o="left"}else{if(j.align=="right"){o="right"}else{if(j.align=="center"){f="display: block; margin-left: auto; margin-right: auto; text-align: center;";o=null}}}var r={src:l.image_url,align:o,width:g,height:u,alt:alt,"class":q,style:f};if(tinymce.isWebKit){n.getWin().focus()}r.onmouseover=r.onmouseout="";if(r.onmousemovecheck){if(r.onmouseoversrc){r.onmouseover="this.src='"+r.onmouseoversrc+"';"}if(r.onmouseoutsrc){r.onmouseout="this.src='"+r.onmouseoutsrc+"';"}}var m=this._get_editor_selection();if(m){n.dom.setAttribs(m,r);n.execCommand("mceRepaint")}else{n.execCommand("mceInsertContent",false,'<img id="__mce_tmp" />',{skip_undo:1});n.dom.setAttribs("__mce_tmp",r);n.dom.setAttrib("__mce_tmp","id","");n.undoManager.add()}},_getEditorImageSelection:function(){var f=this.editor;var g=f.selection.getNode();if(g&&g.nodeName=="P"){var h=g.childNodes[f.selection.getRng().startOffset];if(h&&h.nodeName=="IMG"){g=h}}if(g&&g.nodeName=="IMG"){return g}else{return null}},_getEditorImageData:function(g){g=$(g);var f=g.attr("width");var j=g.attr("height");var k={insert_width:f,insert_height:j,caption:g.hasClass("tiny-imagedrawer-captioned"),captiontext:g.attr("alt"),image_url:g.attr("src"),dimension:"original"};$.each([["small",100],["medium",250],["large",400]],function(h,l){if(f<=l[1]&&j<=l[1]){k.dimension=l[0];return false}});if(g.css("float")=="left"){k.align="left"}else{if(g.css("float")=="right"){k.align="right"}else{if(g.css("margin-left")=="auto"&&g.css("margin-right")=="auto"){k.align="center"}else{k.align=null}}}return k},_updateInsertReplaceState:function(){var f=this;var j;var g;var h=this.editor_image_data;if(h){j="Replace Image";g="Replace";this.info_panel.imagedrawerinfopanel("insertOptions",h)}else{j="Insert Image";g="Insert"}this.info_panel.imagedrawerinfopanel("insertButtonLabel",g);this.title_tag.text(j)},getInfo:function(){return{longname:"Image Drawer",author:"Thomas Moroz, Open Society Institute",authorurl:"",infourl:"",version:"1.0"}}});if(window.tinymce){tinymce.PluginManager.add("imagedrawer",tinymce.plugins.ImageDrawerPlugin);tinymce.PluginManager.requireLangPack("imagedrawer")}})();tinyMCE.addI18n("en.imagedrawer",{image_desc:"Insert/edit image",loading_title:"Loading..."});if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(n,b,o,e,k,l,g,f,d,m){if(!document.getElementById){return}this.DETECT_KEY=m?m:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(n){this.setAttribute("swf",n)}if(b){this.setAttribute("id",b)}if(o){this.setAttribute("width",o)}if(e){this.setAttribute("height",e)}if(k){this.setAttribute("version",new deconcept.PlayerVersion(k.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(l){this.addParam("bgcolor",l)}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var j=(f)?f:window.location;this.setAttribute("xiRedirectUrl",j);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d)}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(b,a){this.params[b]=a},getParams:function(){return this.params},addVariable:function(b,a){this.variables[b]=a},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b]}return c},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" '}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"'}b+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />'}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />'}b+="</object>"}return b},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0])}catch(d){b=null}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always"}catch(d){if(f.major==6){return f}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","))}}}return f};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;var MD5=function(u){function P(b,a){return(b<<a)|(b>>>(32-a))}function O(k,b){var G,a,d,F,c;d=(k&2147483648);F=(b&2147483648);G=(k&1073741824);a=(b&1073741824);c=(k&1073741823)+(b&1073741823);if(G&a){return(c^2147483648^d^F)}if(G|a){if(c&1073741824){return(c^3221225472^d^F)}else{return(c^1073741824^d^F)}}else{return(c^d^F)}}function t(a,c,b){return(a&c)|((~a)&b)}function s(a,c,b){return(a&b)|(c&(~b))}function r(a,c,b){return(a^c^b)}function o(a,c,b){return(c^(a|(~b)))}function z(G,F,ae,ad,k,H,I){G=O(G,O(O(t(F,ae,ad),k),I));return O(P(G,H),F)}function f(G,F,ae,ad,k,H,I){G=O(G,O(O(s(F,ae,ad),k),I));return O(P(G,H),F)}function L(G,F,ae,ad,k,H,I){G=O(G,O(O(r(F,ae,ad),k),I));return O(P(G,H),F)}function v(G,F,ae,ad,k,H,I){G=O(G,O(O(o(F,ae,ad),k),I));return O(P(G,H),F)}function e(k){var H;var d=k.length;var c=d+8;var b=(c-(c%64))/64;var G=(b+1)*16;var I=Array(G-1);var a=0;var F=0;while(F<d){H=(F-(F%4))/4;a=(F%4)*8;I[H]=(I[H]|(k.charCodeAt(F)<<a));F++}H=(F-(F%4))/4;a=(F%4)*8;I[H]=I[H]|(128<<a);I[G-2]=d<<3;I[G-1]=d>>>29;return I}function J(c){var b="",d="",k,a;for(a=0;a<=3;a++){k=(c>>>(a*8))&255;d="0"+k.toString(16);b=b+d.substr(d.length-2,2)}return b}function N(b){b=b.replace(/\r\n/g,"\n");var a="";for(var k=0;k<b.length;k++){var d=b.charCodeAt(k);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}var K=Array();var T,h,M,A,g,ac,ab,aa,Z;var W=7,U=12,R=17,Q=22;var E=5,D=9,C=14,B=20;var q=4,n=11,m=16,l=23;var Y=6,X=10,V=15,S=21;u=N(u);K=e(u);ac=1732584193;ab=4023233417;aa=2562383102;Z=271733878;for(T=0;T<K.length;T+=16){h=ac;M=ab;A=aa;g=Z;ac=z(ac,ab,aa,Z,K[T+0],W,3614090360);Z=z(Z,ac,ab,aa,K[T+1],U,3905402710);aa=z(aa,Z,ac,ab,K[T+2],R,606105819);ab=z(ab,aa,Z,ac,K[T+3],Q,3250441966);ac=z(ac,ab,aa,Z,K[T+4],W,4118548399);Z=z(Z,ac,ab,aa,K[T+5],U,1200080426);aa=z(aa,Z,ac,ab,K[T+6],R,2821735955);ab=z(ab,aa,Z,ac,K[T+7],Q,4249261313);ac=z(ac,ab,aa,Z,K[T+8],W,1770035416);Z=z(Z,ac,ab,aa,K[T+9],U,2336552879);aa=z(aa,Z,ac,ab,K[T+10],R,4294925233);ab=z(ab,aa,Z,ac,K[T+11],Q,2304563134);ac=z(ac,ab,aa,Z,K[T+12],W,1804603682);Z=z(Z,ac,ab,aa,K[T+13],U,4254626195);aa=z(aa,Z,ac,ab,K[T+14],R,2792965006);ab=z(ab,aa,Z,ac,K[T+15],Q,1236535329);ac=f(ac,ab,aa,Z,K[T+1],E,4129170786);Z=f(Z,ac,ab,aa,K[T+6],D,3225465664);aa=f(aa,Z,ac,ab,K[T+11],C,643717713);ab=f(ab,aa,Z,ac,K[T+0],B,3921069994);ac=f(ac,ab,aa,Z,K[T+5],E,3593408605);Z=f(Z,ac,ab,aa,K[T+10],D,38016083);aa=f(aa,Z,ac,ab,K[T+15],C,3634488961);ab=f(ab,aa,Z,ac,K[T+4],B,3889429448);ac=f(ac,ab,aa,Z,K[T+9],E,568446438);Z=f(Z,ac,ab,aa,K[T+14],D,3275163606);aa=f(aa,Z,ac,ab,K[T+3],C,4107603335);ab=f(ab,aa,Z,ac,K[T+8],B,1163531501);ac=f(ac,ab,aa,Z,K[T+13],E,2850285829);Z=f(Z,ac,ab,aa,K[T+2],D,4243563512);aa=f(aa,Z,ac,ab,K[T+7],C,1735328473);ab=f(ab,aa,Z,ac,K[T+12],B,2368359562);ac=L(ac,ab,aa,Z,K[T+5],q,4294588738);Z=L(Z,ac,ab,aa,K[T+8],n,2272392833);aa=L(aa,Z,ac,ab,K[T+11],m,1839030562);ab=L(ab,aa,Z,ac,K[T+14],l,4259657740);ac=L(ac,ab,aa,Z,K[T+1],q,2763975236);Z=L(Z,ac,ab,aa,K[T+4],n,1272893353);aa=L(aa,Z,ac,ab,K[T+7],m,4139469664);ab=L(ab,aa,Z,ac,K[T+10],l,3200236656);ac=L(ac,ab,aa,Z,K[T+13],q,681279174);Z=L(Z,ac,ab,aa,K[T+0],n,3936430074);aa=L(aa,Z,ac,ab,K[T+3],m,3572445317);ab=L(ab,aa,Z,ac,K[T+6],l,76029189);ac=L(ac,ab,aa,Z,K[T+9],q,3654602809);Z=L(Z,ac,ab,aa,K[T+12],n,3873151461);aa=L(aa,Z,ac,ab,K[T+15],m,530742520);ab=L(ab,aa,Z,ac,K[T+2],l,3299628645);ac=v(ac,ab,aa,Z,K[T+0],Y,4096336452);Z=v(Z,ac,ab,aa,K[T+7],X,1126891415);aa=v(aa,Z,ac,ab,K[T+14],V,2878612391);ab=v(ab,aa,Z,ac,K[T+5],S,4237533241);ac=v(ac,ab,aa,Z,K[T+12],Y,1700485571);Z=v(Z,ac,ab,aa,K[T+3],X,2399980690);aa=v(aa,Z,ac,ab,K[T+10],V,4293915773);ab=v(ab,aa,Z,ac,K[T+1],S,2240044497);ac=v(ac,ab,aa,Z,K[T+8],Y,1873313359);Z=v(Z,ac,ab,aa,K[T+15],X,4264355552);aa=v(aa,Z,ac,ab,K[T+6],V,2734768916);ab=v(ab,aa,Z,ac,K[T+13],S,1309151649);ac=v(ac,ab,aa,Z,K[T+4],Y,4149444226);Z=v(Z,ac,ab,aa,K[T+11],X,3174756917);aa=v(aa,Z,ac,ab,K[T+2],V,718787259);ab=v(ab,aa,Z,ac,K[T+9],S,3951481745);ac=O(ac,h);ab=O(ab,M);aa=O(aa,A);Z=O(Z,g)}var j=J(ac)+J(ab)+J(aa)+J(Z);return j.toLowerCase()};if(typeof(OX)==="undefined"){var OX={}}OX.AJAST={Broker:function(b,c,e,d,a){this.url=b;this.cb=c;this.params=[];this.timeout=d||5000;if(typeof(a)!=="undefined"){for(p in a){this.params.push(p+"="+encodeURIComponent(a[p]))}}this.jsonmode=e||false},__callbacks__:{},__callid__:1,call:function(url,callbackparameter,callbackfunction,optional_timeout,optional_decode_json_response){var callbackid="callback"+OX.AJAST.__callid__;url+="&"+encodeURIComponent(callbackparameter)+"="+encodeURIComponent("OX.AJAST.__callbacks__."+callbackid);var tag=OX.AJAST.createScriptTag(url);var head=document.getElementsByTagName("head").item(0);var timedout=function(){if(OX.AJAST.__callbacks__[callbackid]!=="undefined"){OX.AJAST.__callbacks__[callbackid]=function(){delete OX.AJAST.__callbacks__[callbackid]};callbackfunction(false);head.removeChild(tag)}};var timer=setTimeout(timedout,optional_timeout||5000);var decode_response=optional_decode_json_response||false;OX.AJAST.__callbacks__[callbackid]=function(data){clearTimeout(timer);if(typeof(data)==="undefined"){callbackfunction(false)}else{callbackfunction(true,decode_response?eval(data):data)}delete OX.AJAST.__callbacks__[callbackid];head.removeChild(tag)};head.appendChild(tag)},createScriptTag:function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("id","oxajastcall"+OX.AJAST.__callid__++);b.setAttribute("src",a);return b}};OX.AJAST.Broker.prototype.call=function(b,c){var a=[];for(p in b){a.push(p+"="+encodeURIComponent(b[p]))}for(p in this.params){a.push(this.params[p])}if(this.url.indexOf("?",0)>-1){this.url+="&"+a.join("&")}else{this.url+="?"+a.join("&")}OX.AJAST.call(this.url,this.cb,c,this.timeout,this.jsonmode)};function http_build_query(b,f,a){var e,d,c=[];var g=function(m,n,h){var j,l=[];if(n===true){n="1"}else{if(n===false){n="0"}}if(n!==null&&typeof(n)==="object"){for(j in n){if(n[j]!==null){l.push(g(m+"["+j+"]",n[j],h))}}return l.join(h)}else{if(typeof(n)!=="function"){return m+"="+encodeURIComponent(n)}else{return""}}};if(!a){a="&"}for(d in b){e=b[d];if(f&&!isNaN(d)){d=String(f)+d}c.push(g(d,e,a))}return c.join(a)}function getFunctionName(a){if(typeof a=="function"||typeof a=="object"){var b=(""+a).match(/^function\s*([\w\$]*)\s*\(/)}if(b!==null){return b[1]}return null}function getClass(b,a){if(typeof b=="undefined"){return"undefined"}if(b===null){return"null"}if(a==true&&b.hasOwnProperty("constructor")){delete b.constructor}if(a!=false&&!b.hasOwnProperty("constructor")){return getFunctionName(b.constructor)}return Object.prototype.toString.call(b).match(/^\[object\s(.*)\]$/)[1]}function addIfNotNull(b,d,a,c){if(c!=null){if(c instanceof KalturaObjectBase){d[a]=toParams(c)}else{d[a]=c}}}function toParams(a){var c=new Object();c.objectType=getClass(a);for(var d in a){var b=a[d];addIfNotNull(a,c,d,b)}return c}Function.prototype.inheritsFrom=function(a){if(a.constructor==Function){this.prototype=new a;this.prototype.constructor=this;this.prototype.parentClass=a.prototype}else{this.prototype=a;this.prototype.constructor=this;this.prototype.parentClass=a}return this};function ksort(c){var d=[];var b=[];var f=0;for(e in c){b[f++]=e+"|"+c[e]}b=b.sort();for(var e=0;e<b.length;e++){var a=b[e].split("|");d[a[0]]=a[1]}return d}function KalturaServiceActionCall(a,c,d,b){if(!d){d=new Object()}if(!b){b=new Object()}this.service=a;this.action=c;this.params=this.parseParams(d);this.files=b}KalturaServiceActionCall.prototype.service=null;KalturaServiceActionCall.prototype.action=null;KalturaServiceActionCall.prototype.params=null;KalturaServiceActionCall.prototype.files=null;KalturaServiceActionCall.prototype.parseParams=function(c){var d=new Object();for(var a in c){var b=c[a];if(typeof(b)=="object"){d[a]=this.parseParams(b)}else{d[a]=b}}return d};KalturaServiceActionCall.prototype.getParamsForMultiRequest=function(d){var b=new Object();b[d+":service"]=this.service;b[d+":action"]=this.action;for(var a in this.params){var c=this.params[a];b[d+":"+a]=c}return b};function IKalturaLogger(){}IKalturaLogger.prototype.log=function(a){if(console&&console.log){console.log(a)}};function KalturaClientBase(){}KalturaClientBase.prototype.init=function(b){this.config=b;var a=this.config.getLogger();if(a){this.shouldLog=true}};KalturaClientBase.prototype.KALTURA_API_VERSION="3.0";KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSON=1;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_XML=2;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_PHP=3;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP=9;KalturaClientBase.prototype.config=null;KalturaClientBase.prototype.ks=null;KalturaClientBase.prototype.shouldLog=false;KalturaClientBase.prototype.useMultiRequest=false;KalturaClientBase.prototype.callsQueue=new Array();KalturaClientBase.prototype.queueServiceActionCall=function(a,d,e,c){if(!e.hasOwnProperty("partnerId")||e.partnerId==-1){e.partnerId=this.config.partnerId}this.addParam(e,"ks",this.ks);var b=new KalturaServiceActionCall(a,d,e,c);this.callsQueue.push(b)};KalturaClientBase.prototype.doQueue=function(l){if(this.callsQueue.length==0){return null}var e=new Object();var a=new Object();this.log("service url: ["+this.config.serviceUrl+"]");this.addParam(e,"apiVersion",this.KALTURA_API_VERSION);this.addParam(e,"format",this.config.format);this.addParam(e,"clientTag",this.config.clientTag);var b=this.config.serviceUrl+this.config.serviceBase;var m=null;if(this.useMultiRequest){b+="multirequest";$i=1;for(var k in this.callsQueue){m=this.callsQueue[k];var d=m.getParamsForMultiRequest($i++);for(var j in d){e[j]=d[j]}for(var h in m.files){a[h]=m.files[h]}}}else{m=this.callsQueue[0];b+=m.service+"&action="+m.action;for(var g in m.params){e[g]=m.params[g]}for(var f in m.files){a[f]=m.files[f]}}this.callsQueue=new Array();this.useMultiRequest=false;var c=this.signature(e);this.addParam(e,"kalsig",c);this.doHttpRequest(l,b,e,a);return true};KalturaClientBase.prototype.signature=function(d){d=ksort(d);var c="";for(var b in d){var a=d[b];c+=a+b}return MD5(c)};KalturaClientBase.prototype.doHttpRequest=function(a,b,d,c){b+="&"+http_build_query(d);OX.AJAST.call(b,"callback",a,20000,false)};KalturaClientBase.prototype.getKs=function(){return this.ks};KalturaClientBase.prototype.setKs=function(a){this.ks=a};KalturaClientBase.prototype.getConfig=function(){return this.config};KalturaClientBase.prototype.setConfig=function(a){this.config=a;logger=this.config.getLogger();if(logger instanceof IKalturaLogger){this.shouldLog=true}};KalturaClientBase.prototype.addParam=function(e,c,d){if(d==null){return}if(typeof(d)!="object"){e[c]=d;return}for(var b in d){var a=d[b];this.addParam(e,c+":"+b,a)}};KalturaClientBase.prototype.startMultiRequest=function(){this.useMultiRequest=true};KalturaClientBase.prototype.doMultiRequest=function(a){return this.doQueue(a)};KalturaClientBase.prototype.isMultiRequest=function(){return this.useMultiRequest};KalturaClientBase.prototype.log=function(a){if(this.shouldLog){this.config.getLogger().log(a)}};function KalturaObjectBase(){}function KalturaServiceBase(){}KalturaServiceBase.prototype.init=function(a){this.client=a};KalturaServiceBase.prototype.client=null;function KalturaConfiguration(a){if(!a){a=-1}if(typeof(a)!="number"){throw"Invalid partner id - partnerId must be numeric!"}this.partnerId=a}KalturaConfiguration.prototype.logger=null;KalturaConfiguration.prototype.serviceUrl="http://www.kaltura.com";KalturaConfiguration.prototype.serviceBase="/api_v3/index.php?service=";KalturaConfiguration.prototype.partnerId=null;KalturaConfiguration.prototype.format=KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP;KalturaConfiguration.prototype.clientTag="js";KalturaConfiguration.prototype.setLogger=function(a){this.logger=a};KalturaConfiguration.prototype.getLogger=function(){return this.logger};function KalturaClient(a){this.init(a)}KalturaClient.inheritsFrom(KalturaClientBase);KalturaClient.prototype.accessControl=null;KalturaClient.prototype.adminconsole=null;KalturaClient.prototype.adminUser=null;KalturaClient.prototype.baseEntry=null;KalturaClient.prototype.bulkUpload=null;KalturaClient.prototype.category=null;KalturaClient.prototype.conversionProfile=null;KalturaClient.prototype.data=null;KalturaClient.prototype.flavorAsset=null;KalturaClient.prototype.flavorParams=null;KalturaClient.prototype.media=null;KalturaClient.prototype.mixing=null;KalturaClient.prototype.notification=null;KalturaClient.prototype.partner=null;KalturaClient.prototype.playlist=null;KalturaClient.prototype.report=null;KalturaClient.prototype.search=null;KalturaClient.prototype.session=null;KalturaClient.prototype.stats=null;KalturaClient.prototype.syndicationFeed=null;KalturaClient.prototype.system=null;KalturaClient.prototype.uiConf=null;KalturaClient.prototype.upload=null;KalturaClient.prototype.user=null;KalturaClient.prototype.widget=null;KalturaClient.prototype.xInternal=null;KalturaClient.prototype.systemUser=null;KalturaClient.prototype.systemPartner=null;KalturaClient.prototype.fileSync=null;KalturaClient.prototype.flavorParamsOutput=null;KalturaClient.prototype.mediaInfo=null;KalturaClient.prototype.entryAdmin=null;KalturaClient.prototype.init=function(a){KalturaClientBase.prototype.init.apply(this,arguments);this.accessControl=new KalturaAccessControlService(this);this.adminconsole=new KalturaAdminconsoleService(this);this.adminUser=new KalturaAdminUserService(this);this.baseEntry=new KalturaBaseEntryService(this);this.bulkUpload=new KalturaBulkUploadService(this);this.category=new KalturaCategoryService(this);this.conversionProfile=new KalturaConversionProfileService(this);this.data=new KalturaDataService(this);this.flavorAsset=new KalturaFlavorAssetService(this);this.flavorParams=new KalturaFlavorParamsService(this);this.media=new KalturaMediaService(this);this.mixing=new KalturaMixingService(this);this.notification=new KalturaNotificationService(this);this.partner=new KalturaPartnerService(this);this.playlist=new KalturaPlaylistService(this);this.report=new KalturaReportService(this);this.search=new KalturaSearchService(this);this.session=new KalturaSessionService(this);this.stats=new KalturaStatsService(this);this.syndicationFeed=new KalturaSyndicationFeedService(this);this.system=new KalturaSystemService(this);this.uiConf=new KalturaUiConfService(this);this.upload=new KalturaUploadService(this);this.user=new KalturaUserService(this);this.widget=new KalturaWidgetService(this);this.xInternal=new KalturaXInternalService(this);this.systemUser=new KalturaSystemUserService(this);this.systemPartner=new KalturaSystemPartnerService(this);this.fileSync=new KalturaFileSyncService(this);this.flavorParamsOutput=new KalturaFlavorParamsOutputService(this);this.mediaInfo=new KalturaMediaInfoService(this);this.entryAdmin=new KalturaEntryAdminService(this)};function KalturaAccessControlOrderBy(){}KalturaAccessControlOrderBy.CREATED_AT_ASC="+createdAt";KalturaAccessControlOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAudioCodec(){}KalturaAudioCodec.NONE="";KalturaAudioCodec.MP3="mp3";KalturaAudioCodec.AAC="aac";function KalturaBaseEntryOrderBy(){}KalturaBaseEntryOrderBy.NAME_ASC="+name";KalturaBaseEntryOrderBy.NAME_DESC="-name";KalturaBaseEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaBaseEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaBaseEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseEntryOrderBy.RANK_ASC="+rank";KalturaBaseEntryOrderBy.RANK_DESC="-rank";function KalturaBaseJobOrderBy(){}KalturaBaseJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBaseSyndicationFeedOrderBy(){}KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaBaseSyndicationFeedOrderBy.NAME_ASC="+name";KalturaBaseSyndicationFeedOrderBy.NAME_DESC="-name";KalturaBaseSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaBaseSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaBatchJobErrorTypes(){}KalturaBatchJobErrorTypes.APP=0;KalturaBatchJobErrorTypes.RUNTIME=1;KalturaBatchJobErrorTypes.HTTP=2;KalturaBatchJobErrorTypes.CURL=3;function KalturaBatchJobOrderBy(){}KalturaBatchJobOrderBy.STATUS_ASC="+status";KalturaBatchJobOrderBy.STATUS_DESC="-status";KalturaBatchJobOrderBy.QUEUE_TIME_ASC="+queueTime";KalturaBatchJobOrderBy.QUEUE_TIME_DESC="-queueTime";KalturaBatchJobOrderBy.FINISH_TIME_ASC="+finishTime";KalturaBatchJobOrderBy.FINISH_TIME_DESC="-finishTime";KalturaBatchJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBatchJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBatchJobStatus(){}KalturaBatchJobStatus.PENDING=0;KalturaBatchJobStatus.QUEUED=1;KalturaBatchJobStatus.PROCESSING=2;KalturaBatchJobStatus.PROCESSED=3;KalturaBatchJobStatus.MOVEFILE=4;KalturaBatchJobStatus.FINISHED=5;KalturaBatchJobStatus.FAILED=6;KalturaBatchJobStatus.ABORTED=7;KalturaBatchJobStatus.ALMOST_DONE=8;KalturaBatchJobStatus.RETRY=9;KalturaBatchJobStatus.FATAL=10;KalturaBatchJobStatus.DONT_PROCESS=11;function KalturaBatchJobType(){}KalturaBatchJobType.CONVERT=0;KalturaBatchJobType.IMPORT=1;KalturaBatchJobType.DELETE=2;KalturaBatchJobType.FLATTEN=3;KalturaBatchJobType.BULKUPLOAD=4;KalturaBatchJobType.DVDCREATOR=5;KalturaBatchJobType.DOWNLOAD=6;KalturaBatchJobType.OOCONVERT=7;KalturaBatchJobType.CONVERT_PROFILE=10;KalturaBatchJobType.POSTCONVERT=11;KalturaBatchJobType.PULL=12;KalturaBatchJobType.REMOTE_CONVERT=13;KalturaBatchJobType.EXTRACT_MEDIA=14;KalturaBatchJobType.MAIL=15;KalturaBatchJobType.NOTIFICATION=16;KalturaBatchJobType.CLEANUP=17;KalturaBatchJobType.SCHEDULER_HELPER=18;KalturaBatchJobType.BULKDOWNLOAD=19;KalturaBatchJobType.PROJECT=1000;function KalturaBitRateMode(){}KalturaBitRateMode.CBR=1;KalturaBitRateMode.VBR=2;function KalturaBulkUploadCsvVersion(){}KalturaBulkUploadCsvVersion.V1="1";KalturaBulkUploadCsvVersion.V2="2";function KalturaCategoryOrderBy(){}KalturaCategoryOrderBy.DEPTH_ASC="+depth";KalturaCategoryOrderBy.DEPTH_DESC="-depth";KalturaCategoryOrderBy.FULL_NAME_ASC="+fullName";KalturaCategoryOrderBy.FULL_NAME_DESC="-fullName";KalturaCategoryOrderBy.CREATED_AT_ASC="+createdAt";KalturaCategoryOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCommercialUseType(){}KalturaCommercialUseType.COMMERCIAL_USE="commercial_use";KalturaCommercialUseType.NON_COMMERCIAL_USE="non-commercial_use";function KalturaContainerFormat(){}KalturaContainerFormat.FLV="flv";KalturaContainerFormat.MP4="mp4";KalturaContainerFormat.AVI="avi";KalturaContainerFormat.MOV="mov";KalturaContainerFormat._3GP="3gp";function KalturaControlPanelCommandOrderBy(){}KalturaControlPanelCommandOrderBy.CREATED_AT_ASC="+createdAt";KalturaControlPanelCommandOrderBy.CREATED_AT_DESC="-createdAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_DESC="-updatedAt";function KalturaControlPanelCommandStatus(){}KalturaControlPanelCommandStatus.PENDING=1;KalturaControlPanelCommandStatus.HANDLED=2;KalturaControlPanelCommandStatus.DONE=3;KalturaControlPanelCommandStatus.FAILED=4;function KalturaControlPanelCommandTargetType(){}KalturaControlPanelCommandTargetType.DATA_CENTER=1;KalturaControlPanelCommandTargetType.SCHEDULER=2;KalturaControlPanelCommandTargetType.JOB_TYPE=3;KalturaControlPanelCommandTargetType.JOB=4;KalturaControlPanelCommandTargetType.BATCH=5;function KalturaControlPanelCommandType(){}KalturaControlPanelCommandType.STOP=1;KalturaControlPanelCommandType.START=2;KalturaControlPanelCommandType.CONFIG=3;KalturaControlPanelCommandType.KILL=4;function KalturaConversionProfileOrderBy(){}KalturaConversionProfileOrderBy.CREATED_AT_ASC="+createdAt";KalturaConversionProfileOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCountryRestrictionType(){}KalturaCountryRestrictionType.RESTRICT_COUNTRY_LIST=0;KalturaCountryRestrictionType.ALLOW_COUNTRY_LIST=1;function KalturaDataEntryOrderBy(){}KalturaDataEntryOrderBy.NAME_ASC="+name";KalturaDataEntryOrderBy.NAME_DESC="-name";KalturaDataEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDataEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDataEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDataEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDataEntryOrderBy.RANK_ASC="+rank";KalturaDataEntryOrderBy.RANK_DESC="-rank";function KalturaDirectoryRestrictionType(){}KalturaDirectoryRestrictionType.DONT_DISPLAY=0;KalturaDirectoryRestrictionType.DISPLAY_WITH_LINK=1;function KalturaDocumentEntryOrderBy(){}KalturaDocumentEntryOrderBy.NAME_ASC="+name";KalturaDocumentEntryOrderBy.NAME_DESC="-name";KalturaDocumentEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDocumentEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDocumentEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDocumentEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDocumentEntryOrderBy.RANK_ASC="+rank";KalturaDocumentEntryOrderBy.RANK_DESC="-rank";function KalturaDocumentType(){}KalturaDocumentType.DOCUMENT=11;KalturaDocumentType.SWF=12;function KalturaDurationType(){}KalturaDurationType.NOT_AVAILABLE="notavailable";KalturaDurationType.SHORT="short";KalturaDurationType.MEDIUM="medium";KalturaDurationType.LONG="long";function KalturaEditorType(){}KalturaEditorType.SIMPLE=1;KalturaEditorType.ADVANCED=2;function KalturaEntryModerationStatus(){}KalturaEntryModerationStatus.PENDING_MODERATION=1;KalturaEntryModerationStatus.APPROVED=2;KalturaEntryModerationStatus.REJECTED=3;KalturaEntryModerationStatus.FLAGGED_FOR_REVIEW=5;KalturaEntryModerationStatus.AUTO_APPROVED=6;function KalturaEntryStatus(){}KalturaEntryStatus.ERROR_IMPORTING=-2;KalturaEntryStatus.ERROR_CONVERTING=-1;KalturaEntryStatus.IMPORT=0;KalturaEntryStatus.PRECONVERT=1;KalturaEntryStatus.READY=2;KalturaEntryStatus.DELETED=3;KalturaEntryStatus.PENDING=4;KalturaEntryStatus.MODERATE=5;KalturaEntryStatus.BLOCKED=6;function KalturaEntryType(){}KalturaEntryType.AUTOMATIC=-1;KalturaEntryType.MEDIA_CLIP=1;KalturaEntryType.MIX=2;KalturaEntryType.PLAYLIST=5;KalturaEntryType.DATA=6;KalturaEntryType.DOCUMENT=10;function KalturaFileSyncObjectType(){}KalturaFileSyncObjectType.ENTRY=1;KalturaFileSyncObjectType.UICONF=2;KalturaFileSyncObjectType.BATCHJOB=3;KalturaFileSyncObjectType.FLAVOR_ASSET=4;function KalturaFileSyncOrderBy(){}KalturaFileSyncOrderBy.CREATED_AT_ASC="+createdAt";KalturaFileSyncOrderBy.CREATED_AT_DESC="-createdAt";KalturaFileSyncOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaFileSyncOrderBy.UPDATED_AT_DESC="-updatedAt";KalturaFileSyncOrderBy.READY_AT_ASC="+readyAt";KalturaFileSyncOrderBy.READY_AT_DESC="-readyAt";KalturaFileSyncOrderBy.SYNC_TIME_ASC="+syncTime";KalturaFileSyncOrderBy.SYNC_TIME_DESC="-syncTime";KalturaFileSyncOrderBy.FILE_SIZE_ASC="+fileSize";KalturaFileSyncOrderBy.FILE_SIZE_DESC="-fileSize";function KalturaFileSyncStatus(){}KalturaFileSyncStatus.ERROR=-1;KalturaFileSyncStatus.PENDING=1;KalturaFileSyncStatus.READY=2;KalturaFileSyncStatus.DELETED=3;KalturaFileSyncStatus.PURGED=4;function KalturaFileSyncType(){}KalturaFileSyncType.FILE=1;KalturaFileSyncType.LINK=2;KalturaFileSyncType.URL=3;function KalturaFlavorAssetStatus(){}KalturaFlavorAssetStatus.ERROR=-1;KalturaFlavorAssetStatus.QUEUED=0;KalturaFlavorAssetStatus.CONVERTING=1;KalturaFlavorAssetStatus.READY=2;KalturaFlavorAssetStatus.DELETED=3;KalturaFlavorAssetStatus.NOT_APPLICABLE=4;function KalturaFlavorParamsOrderBy(){}function KalturaFlavorParamsOutputOrderBy(){}function KalturaGender(){}KalturaGender.UNKNOWN=0;KalturaGender.MALE=1;KalturaGender.FEMALE=2;function KalturaGoogleSyndicationFeedAdultValues(){}KalturaGoogleSyndicationFeedAdultValues.YES="Yes";KalturaGoogleSyndicationFeedAdultValues.NO="No";function KalturaGoogleVideoSyndicationFeedOrderBy(){}KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_ASC="+name";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_DESC="-name";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaITunesSyndicationFeedAdultValues(){}KalturaITunesSyndicationFeedAdultValues.YES="yes";KalturaITunesSyndicationFeedAdultValues.NO="no";KalturaITunesSyndicationFeedAdultValues.CLEAN="clean";function KalturaITunesSyndicationFeedCategories(){}KalturaITunesSyndicationFeedCategories.ARTS="Arts";KalturaITunesSyndicationFeedCategories.ARTS_DESIGN="Arts/Design";KalturaITunesSyndicationFeedCategories.ARTS_FASHION_BEAUTY="Arts/Fashion &amp; Beauty";KalturaITunesSyndicationFeedCategories.ARTS_FOOD="Arts/Food";KalturaITunesSyndicationFeedCategories.ARTS_LITERATURE="Arts/Literature";KalturaITunesSyndicationFeedCategories.ARTS_PERFORMING_ARTS="Arts/Performing Arts";KalturaITunesSyndicationFeedCategories.ARTS_VISUAL_ARTS="Arts/Visual Arts";KalturaITunesSyndicationFeedCategories.BUSINESS="Business";KalturaITunesSyndicationFeedCategories.BUSINESS_BUSINESS_NEWS="Business/Business News";KalturaITunesSyndicationFeedCategories.BUSINESS_CAREERS="Business/Careers";KalturaITunesSyndicationFeedCategories.BUSINESS_INVESTING="Business/Investing";KalturaITunesSyndicationFeedCategories.BUSINESS_MANAGEMENT_MARKETING="Business/Management &amp; Marketing";KalturaITunesSyndicationFeedCategories.BUSINESS_SHOPPING="Business/Shopping";KalturaITunesSyndicationFeedCategories.COMEDY="Comedy";KalturaITunesSyndicationFeedCategories.EDUCATION="Education";KalturaITunesSyndicationFeedCategories.EDUCATION_TECHNOLOGY="Education/Education Technology";KalturaITunesSyndicationFeedCategories.EDUCATION_HIGHER_EDUCATION="Education/Higher Education";KalturaITunesSyndicationFeedCategories.EDUCATION_K_12="Education/K-12";KalturaITunesSyndicationFeedCategories.EDUCATION_LANGUAGE_COURSES="Education/Language Courses";KalturaITunesSyndicationFeedCategories.EDUCATION_TRAINING="Education/Training";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES="Games &amp; Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AUTOMOTIVE="Games &amp; Hobbies/Automotive";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AVIATION="Games &amp; Hobbies/Aviation";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_HOBBIES="Games &amp; Hobbies/Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_OTHER_GAMES="Games &amp; Hobbies/Other Games";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_VIDEO_GAMES="Games &amp; Hobbies/Video Games";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS="Government &amp; Organizations";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_LOCAL="Government &amp; Organizations/Local";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NATIONAL="Government &amp; Organizations/National";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NON_PROFIT="Government &amp; Organizations/Non-Profit";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_REGIONAL="Government &amp; Organizations/Regional";KalturaITunesSyndicationFeedCategories.HEALTH="Health";KalturaITunesSyndicationFeedCategories.HEALTH_ALTERNATIVE_HEALTH="Health/Alternative Health";KalturaITunesSyndicationFeedCategories.HEALTH_FITNESS_NUTRITION="Health/Fitness &amp; Nutrition";KalturaITunesSyndicationFeedCategories.HEALTH_SELF_HELP="Health/Self-Help";KalturaITunesSyndicationFeedCategories.HEALTH_SEXUALITY="Health/Sexuality";KalturaITunesSyndicationFeedCategories.KIDS_FAMILY="Kids &amp; Family";KalturaITunesSyndicationFeedCategories.MUSIC="Music";KalturaITunesSyndicationFeedCategories.NEWS_POLITICS="News &amp; Politics";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY="Religion &amp; Spirituality";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_BUDDHISM="Religion &amp; Spirituality/Buddhism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_CHRISTIANITY="Religion &amp; Spirituality/Christianity";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_HINDUISM="Religion &amp; Spirituality/Hinduism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_ISLAM="Religion &amp; Spirituality/Islam";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_JUDAISM="Religion &amp; Spirituality/Judaism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_OTHER="Religion &amp; Spirituality/Other";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_SPIRITUALITY="Religion &amp; Spirituality/Spirituality";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE="Science &amp; Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_MEDICINE="Science &amp; Medicine/Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_NATURAL_SCIENCES="Science &amp; Medicine/Natural Sciences";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_SOCIAL_SCIENCES="Science &amp; Medicine/Social Sciences";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE="Society &amp; Culture";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_HISTORY="Society &amp; Culture/History";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PERSONAL_JOURNALS="Society &amp; Culture/Personal Journals";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PHILOSOPHY="Society &amp; Culture/Philosophy";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PLACES_TRAVEL="Society &amp; Culture/Places &amp; Travel";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION="Sports &amp; Recreation";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_AMATEUR="Sports &amp; Recreation/Amateur";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_COLLEGE_HIGH_SCHOOL="Sports &amp; Recreation/College &amp; High School";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_OUTDOOR="Sports &amp; Recreation/Outdoor";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_PROFESSIONAL="Sports &amp; Recreation/Professional";KalturaITunesSyndicationFeedCategories.TECHNOLOGY="Technology";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_GADGETS="Technology/Gadgets";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_TECH_NEWS="Technology/Tech News";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_PODCASTING="Technology/Podcasting";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_SOFTWARE_HOW_TO="Technology/Software How-To";KalturaITunesSyndicationFeedCategories.TV_FILM="TV &amp; Film";function KalturaITunesSyndicationFeedOrderBy(){}KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaITunesSyndicationFeedOrderBy.NAME_ASC="+name";KalturaITunesSyndicationFeedOrderBy.NAME_DESC="-name";KalturaITunesSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaITunesSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaLicenseType(){}KalturaLicenseType.UNKNOWN=-1;KalturaLicenseType.NONE=0;KalturaLicenseType.COPYRIGHTED=1;KalturaLicenseType.PUBLIC_DOMAIN=2;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION=3;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_SHARE_ALIKE=4;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NO_DERIVATIVES=5;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL=6;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE=7;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES=8;KalturaLicenseType.GFDL=9;KalturaLicenseType.GPL=10;KalturaLicenseType.AFFERO_GPL=11;KalturaLicenseType.LGPL=12;KalturaLicenseType.BSD=13;KalturaLicenseType.APACHE=14;KalturaLicenseType.MOZILLA=15;function KalturaMailJobOrderBy(){}KalturaMailJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaMailJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaMailJobStatus(){}KalturaMailJobStatus.PENDING=1;KalturaMailJobStatus.SENT=2;KalturaMailJobStatus.ERROR=3;KalturaMailJobStatus.QUEUED=4;function KalturaMailType(){}KalturaMailType.MAIL_TYPE_KALTURA_NEWSLETTER=10;KalturaMailType.MAIL_TYPE_ADDED_TO_FAVORITES=11;KalturaMailType.MAIL_TYPE_ADDED_TO_CLIP_FAVORITES=12;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_PROFILE=13;KalturaMailType.MAIL_TYPE_CLIP_ADDED_YOUR_KALTURA=20;KalturaMailType.MAIL_TYPE_VIDEO_ADDED=21;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED=22;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_YOUR_FAVORITES=23;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA=24;KalturaMailType.MAIL_TYPE_CLIP_ADDED=30;KalturaMailType.MAIL_TYPE_VIDEO_CREATED=31;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES=32;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_CONTRIBUTED=33;KalturaMailType.MAIL_TYPE_CLIP_CONTRIBUTED=40;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED_SUBSCRIBED=41;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES_SUBSCRIBED=42;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_SUBSCRIBED=43;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM=50;KalturaMailType.MAIL_TYPE_PASSWORD_RESET=51;KalturaMailType.MAIL_TYPE_LOGIN_MAIL_RESET=52;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM_VIDEO_SERVICE=54;KalturaMailType.MAIL_TYPE_VIDEO_READY=60;KalturaMailType.MAIL_TYPE_VIDEO_IS_READY=62;KalturaMailType.MAIL_TYPE_BULK_DOWNLOAD_READY=63;KalturaMailType.MAIL_TYPE_NOTIFY_ERR=70;KalturaMailType.MAIL_TYPE_ACCOUNT_UPGRADE_CONFIRM=80;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE=81;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_LIMIT_REACHED=82;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_LOCKED=83;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_DELETED=84;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_UPGRADE_OFFER=85;KalturaMailType.MAIL_TYPE_ACCOUNT_REACTIVE_CONFIRM=86;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD=110;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD_SUCCESS=111;function KalturaMediaEntryOrderBy(){}KalturaMediaEntryOrderBy.MEDIA_TYPE_ASC="+mediaType";KalturaMediaEntryOrderBy.MEDIA_TYPE_DESC="-mediaType";KalturaMediaEntryOrderBy.PLAYS_ASC="+plays";KalturaMediaEntryOrderBy.PLAYS_DESC="-plays";KalturaMediaEntryOrderBy.VIEWS_ASC="+views";KalturaMediaEntryOrderBy.VIEWS_DESC="-views";KalturaMediaEntryOrderBy.DURATION_ASC="+duration";KalturaMediaEntryOrderBy.DURATION_DESC="-duration";KalturaMediaEntryOrderBy.NAME_ASC="+name";KalturaMediaEntryOrderBy.NAME_DESC="-name";KalturaMediaEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMediaEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMediaEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMediaEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMediaEntryOrderBy.RANK_ASC="+rank";KalturaMediaEntryOrderBy.RANK_DESC="-rank";function KalturaMediaInfoOrderBy(){}function KalturaMediaType(){}KalturaMediaType.VIDEO=1;KalturaMediaType.IMAGE=2;KalturaMediaType.AUDIO=5;function KalturaMixEntryOrderBy(){}KalturaMixEntryOrderBy.PLAYS_ASC="+plays";KalturaMixEntryOrderBy.PLAYS_DESC="-plays";KalturaMixEntryOrderBy.VIEWS_ASC="+views";KalturaMixEntryOrderBy.VIEWS_DESC="-views";KalturaMixEntryOrderBy.DURATION_ASC="+duration";KalturaMixEntryOrderBy.DURATION_DESC="-duration";KalturaMixEntryOrderBy.NAME_ASC="+name";KalturaMixEntryOrderBy.NAME_DESC="-name";KalturaMixEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMixEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMixEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMixEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMixEntryOrderBy.RANK_ASC="+rank";KalturaMixEntryOrderBy.RANK_DESC="-rank";function KalturaModerationFlagStatus(){}KalturaModerationFlagStatus.PENDING=1;KalturaModerationFlagStatus.MODERATED=2;function KalturaModerationFlagType(){}KalturaModerationFlagType.SEXUAL_CONTENT=1;KalturaModerationFlagType.VIOLENT_REPULSIVE=2;KalturaModerationFlagType.HARMFUL_DANGEROUS=3;KalturaModerationFlagType.SPAM_COMMERCIALS=4;function KalturaModerationObjectType(){}KalturaModerationObjectType.ENTRY=2;KalturaModerationObjectType.USER=3;function KalturaNotificationObjectType(){}KalturaNotificationObjectType.ENTRY=1;KalturaNotificationObjectType.KSHOW=2;KalturaNotificationObjectType.USER=3;KalturaNotificationObjectType.BATCH_JOB=4;function KalturaNotificationOrderBy(){}KalturaNotificationOrderBy.CREATED_AT_ASC="+createdAt";KalturaNotificationOrderBy.CREATED_AT_DESC="-createdAt";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaNotificationStatus(){}KalturaNotificationStatus.PENDING=1;KalturaNotificationStatus.SENT=2;KalturaNotificationStatus.ERROR=3;KalturaNotificationStatus.SHOULD_RESEND=4;KalturaNotificationStatus.ERROR_RESENDING=5;KalturaNotificationStatus.SENT_SYNCH=6;KalturaNotificationStatus.QUEUED=7;function KalturaNotificationType(){}KalturaNotificationType.ENTRY_ADD=1;KalturaNotificationType.ENTR_UPDATE_PERMISSIONS=2;KalturaNotificationType.ENTRY_DELETE=3;KalturaNotificationType.ENTRY_BLOCK=4;KalturaNotificationType.ENTRY_UPDATE=5;KalturaNotificationType.ENTRY_UPDATE_THUMBNAIL=6;KalturaNotificationType.ENTRY_UPDATE_MODERATION=7;KalturaNotificationType.USER_ADD=21;KalturaNotificationType.USER_BANNED=26;function KalturaNullableBoolean(){}KalturaNullableBoolean.NULL_VALUE=-1;KalturaNullableBoolean.FALSE_VALUE=0;KalturaNullableBoolean.TRUE_VALUE=1;function KalturaPartnerOrderBy(){}KalturaPartnerOrderBy.ID_ASC="+id";KalturaPartnerOrderBy.ID_DESC="-id";KalturaPartnerOrderBy.NAME_ASC="+name";KalturaPartnerOrderBy.NAME_DESC="-name";KalturaPartnerOrderBy.WEBSITE_ASC="+website";KalturaPartnerOrderBy.WEBSITE_DESC="-website";KalturaPartnerOrderBy.CREATED_AT_ASC="+createdAt";KalturaPartnerOrderBy.CREATED_AT_DESC="-createdAt";KalturaPartnerOrderBy.ADMIN_NAME_ASC="+adminName";KalturaPartnerOrderBy.ADMIN_NAME_DESC="-adminName";KalturaPartnerOrderBy.ADMIN_EMAIL_ASC="+adminEmail";KalturaPartnerOrderBy.ADMIN_EMAIL_DESC="-adminEmail";KalturaPartnerOrderBy.STATUS_ASC="+status";KalturaPartnerOrderBy.STATUS_DESC="-status";function KalturaPartnerStatus(){}KalturaPartnerStatus.ACTIVE=1;KalturaPartnerStatus.BLOCKED=2;KalturaPartnerStatus.FULL_BLOCK=3;function KalturaPartnerType(){}KalturaPartnerType.KMC=1;KalturaPartnerType.WIKI=100;KalturaPartnerType.WORDPRESS=101;KalturaPartnerType.DRUPAL=102;KalturaPartnerType.DEKIWIKI=103;KalturaPartnerType.MOODLE=104;KalturaPartnerType.COMMUNITY_EDITION=105;KalturaPartnerType.JOOMLA=106;function KalturaPlayableEntryOrderBy(){}KalturaPlayableEntryOrderBy.PLAYS_ASC="+plays";KalturaPlayableEntryOrderBy.PLAYS_DESC="-plays";KalturaPlayableEntryOrderBy.VIEWS_ASC="+views";KalturaPlayableEntryOrderBy.VIEWS_DESC="-views";KalturaPlayableEntryOrderBy.DURATION_ASC="+duration";KalturaPlayableEntryOrderBy.DURATION_DESC="-duration";KalturaPlayableEntryOrderBy.NAME_ASC="+name";KalturaPlayableEntryOrderBy.NAME_DESC="-name";KalturaPlayableEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlayableEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlayableEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlayableEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlayableEntryOrderBy.RANK_ASC="+rank";KalturaPlayableEntryOrderBy.RANK_DESC="-rank";function KalturaPlaylistOrderBy(){}KalturaPlaylistOrderBy.NAME_ASC="+name";KalturaPlaylistOrderBy.NAME_DESC="-name";KalturaPlaylistOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlaylistOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlaylistOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlaylistOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlaylistOrderBy.RANK_ASC="+rank";KalturaPlaylistOrderBy.RANK_DESC="-rank";function KalturaPlaylistType(){}KalturaPlaylistType.DYNAMIC=10;KalturaPlaylistType.STATIC_LIST=3;KalturaPlaylistType.EXTERNAL=101;function KalturaReportType(){}KalturaReportType.TOP_CONTENT=1;KalturaReportType.CONTENT_DROPOFF=2;KalturaReportType.CONTENT_INTERACTIONS=3;KalturaReportType.MAP_OVERLAY=4;KalturaReportType.TOP_CONTRIBUTORS=5;KalturaReportType.TOP_SYNDICATION=6;KalturaReportType.CONTENT_CONTRIBUTIONS=7;KalturaReportType.ADMIN_CONSOLE=10;function KalturaSearchProviderType(){}KalturaSearchProviderType.FLICKR=3;KalturaSearchProviderType.YOUTUBE=4;KalturaSearchProviderType.MYSPACE=7;KalturaSearchProviderType.PHOTOBUCKET=8;KalturaSearchProviderType.JAMENDO=9;KalturaSearchProviderType.CCMIXTER=10;KalturaSearchProviderType.NYPL=11;KalturaSearchProviderType.CURRENT=12;KalturaSearchProviderType.MEDIA_COMMONS=13;KalturaSearchProviderType.KALTURA=20;KalturaSearchProviderType.KALTURA_USER_CLIPS=21;KalturaSearchProviderType.ARCHIVE_ORG=22;KalturaSearchProviderType.KALTURA_PARTNER=23;KalturaSearchProviderType.METACAFE=24;KalturaSearchProviderType.SEARCH_PROXY=28;function KalturaSessionType(){}KalturaSessionType.USER=0;KalturaSessionType.ADMIN=2;function KalturaSiteRestrictionType(){}KalturaSiteRestrictionType.RESTRICT_SITE_LIST=0;KalturaSiteRestrictionType.ALLOW_SITE_LIST=1;function KalturaSourceType(){}KalturaSourceType.FILE=1;KalturaSourceType.WEBCAM=2;KalturaSourceType.URL=5;KalturaSourceType.SEARCH_PROVIDER=6;function KalturaStatsEventType(){}KalturaStatsEventType.WIDGET_LOADED=1;KalturaStatsEventType.MEDIA_LOADED=2;KalturaStatsEventType.PLAY=3;KalturaStatsEventType.PLAY_REACHED_25=4;KalturaStatsEventType.PLAY_REACHED_50=5;KalturaStatsEventType.PLAY_REACHED_75=6;KalturaStatsEventType.PLAY_REACHED_100=7;KalturaStatsEventType.OPEN_EDIT=8;KalturaStatsEventType.OPEN_VIRAL=9;KalturaStatsEventType.OPEN_DOWNLOAD=10;KalturaStatsEventType.OPEN_REPORT=11;KalturaStatsEventType.BUFFER_START=12;KalturaStatsEventType.BUFFER_END=13;KalturaStatsEventType.OPEN_FULL_SCREEN=14;KalturaStatsEventType.CLOSE_FULL_SCREEN=15;KalturaStatsEventType.REPLAY=16;KalturaStatsEventType.SEEK=17;KalturaStatsEventType.OPEN_UPLOAD=18;KalturaStatsEventType.SAVE_PUBLISH=19;KalturaStatsEventType.CLOSE_EDITOR=20;KalturaStatsEventType.PRE_BUMPER_PLAYED=21;KalturaStatsEventType.POST_BUMPER_PLAYED=22;KalturaStatsEventType.BUMPER_CLICKED=23;KalturaStatsEventType.FUTURE_USE_1=24;KalturaStatsEventType.FUTURE_USE_2=25;KalturaStatsEventType.FUTURE_USE_3=26;function KalturaStatsKmcEventType(){}KalturaStatsKmcEventType.CONTENT_PAGE_VIEW=1001;KalturaStatsKmcEventType.CONTENT_ADD_PLAYLIST=1010;KalturaStatsKmcEventType.CONTENT_EDIT_PLAYLIST=1011;KalturaStatsKmcEventType.CONTENT_DELETE_PLAYLIST=1012;KalturaStatsKmcEventType.CONTENT_DELETE_ITEM=1058;KalturaStatsKmcEventType.CONTENT_EDIT_ENTRY=1013;KalturaStatsKmcEventType.CONTENT_CHANGE_THUMBNAIL=1014;KalturaStatsKmcEventType.CONTENT_ADD_TAGS=1015;KalturaStatsKmcEventType.CONTENT_REMOVE_TAGS=1016;KalturaStatsKmcEventType.CONTENT_ADD_ADMIN_TAGS=1017;KalturaStatsKmcEventType.CONTENT_REMOVE_ADMIN_TAGS=1018;KalturaStatsKmcEventType.CONTENT_DOWNLOAD=1019;KalturaStatsKmcEventType.CONTENT_APPROVE_MODERATION=1020;KalturaStatsKmcEventType.CONTENT_REJECT_MODERATION=1021;KalturaStatsKmcEventType.CONTENT_BULK_UPLOAD=1022;KalturaStatsKmcEventType.CONTENT_ADMIN_KCW_UPLOAD=1023;KalturaStatsKmcEventType.CONTENT_CONTENT_GO_TO_PAGE=1057;KalturaStatsKmcEventType.ACCOUNT_CHANGE_PARTNER_INFO=1030;KalturaStatsKmcEventType.ACCOUNT_CHANGE_LOGIN_INFO=1031;KalturaStatsKmcEventType.ACCOUNT_CONTACT_US_USAGE=1032;KalturaStatsKmcEventType.ACCOUNT_UPDATE_SERVER_SETTINGS=1033;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_OVERVIEW=1034;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL=1035;KalturaStatsKmcEventType.ACCOUNT_TRANSCODING_SETTINGS=1036;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_UPGRADE=1037;KalturaStatsKmcEventType.ACCOUNT_SAVE_SERVER_SETTINGS=1038;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL_DELETE=1039;KalturaStatsKmcEventType.ACCOUNT_SAVE_TRANSCODING_SETTINGS=1040;KalturaStatsKmcEventType.LOGIN=1041;KalturaStatsKmcEventType.DASHBOARD_IMPORT_CONTENT=1042;KalturaStatsKmcEventType.DASHBOARD_UPDATE_CONTENT=1043;KalturaStatsKmcEventType.DASHBOARD_ACCOUNT_CONTACT_US=1044;KalturaStatsKmcEventType.DASHBOARD_VIEW_REPORTS=1045;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYER=1046;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYLIST=1047;KalturaStatsKmcEventType.DASHBOARD_CUSTOMIZE_PLAYERS=1048;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_SINGLE_VIDEO=1050;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_PLAYLIST=1051;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_MULTI_TAB_PLAYLIST=1052;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_SINGLE_VIDEO=1053;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_PLAYLIST=1054;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_MULTI_TAB_PLAYLIST=1055;KalturaStatsKmcEventType.APP_STUDIO_DUPLICATE_PLAYER=1056;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_TAB=1070;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_REPORTS_TAB=1071;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_USERS_AND_COMMUNITY_REPORTS_TAB=1072;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTRIBUTORS=1073;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS=1074;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS=1075;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTENT=1076;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DROPOFF=1077;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_INTERACTIONS=1078;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS=1079;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN=1080;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DRILL_DOWN_INTERACTION=1081;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS_DRILLDOWN=1082;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN_DROPOFF=1083;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS_DRILLDOWN=1084;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS_DRILL_DOWN=1085;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_MONTHLY=1086;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_YEARLY=1087;function KalturaSyndicationFeedStatus(){}KalturaSyndicationFeedStatus.DELETED=-1;KalturaSyndicationFeedStatus.ACTIVE=1;function KalturaSyndicationFeedType(){}KalturaSyndicationFeedType.GOOGLE_VIDEO=1;KalturaSyndicationFeedType.YAHOO=2;KalturaSyndicationFeedType.ITUNES=3;KalturaSyndicationFeedType.TUBE_MOGUL=4;function KalturaSystemPartnerPackage(){}KalturaSystemPartnerPackage.PACKAGE_FREE="1";KalturaSystemPartnerPackage.PACKAGE_20="2";KalturaSystemPartnerPackage.PACKAGE_50="3";KalturaSystemPartnerPackage.PACKAGE_100="4";KalturaSystemPartnerPackage.PACKAGE_250="5";KalturaSystemPartnerPackage.PACKAGE_500="6";function KalturaSystemUserOrderBy(){}KalturaSystemUserOrderBy.ID_ASC="+id";KalturaSystemUserOrderBy.ID_DESC="-id";KalturaSystemUserOrderBy.STATUS_ASC="+status";KalturaSystemUserOrderBy.STATUS_DESC="-status";function KalturaSystemUserStatus(){}KalturaSystemUserStatus.BLOCKED=0;KalturaSystemUserStatus.ACTIVE=1;function KalturaTubeMogulSyndicationFeedCategories(){}KalturaTubeMogulSyndicationFeedCategories.ARTS_AND_ANIMATION="Arts &amp; Animation";KalturaTubeMogulSyndicationFeedCategories.COMEDY="Comedy";KalturaTubeMogulSyndicationFeedCategories.ENTERTAINMENT="Entertainment";KalturaTubeMogulSyndicationFeedCategories.MUSIC="Music";KalturaTubeMogulSyndicationFeedCategories.NEWS_AND_BLOGS="News &amp; Blogs";KalturaTubeMogulSyndicationFeedCategories.SCIENCE_AND_TECHNOLOGY="Science &amp; Technology";KalturaTubeMogulSyndicationFeedCategories.SPORTS="Sports";KalturaTubeMogulSyndicationFeedCategories.TRAVEL_AND_PLACES="Travel &amp; Places";KalturaTubeMogulSyndicationFeedCategories.VIDEO_GAMES="Video Games";KalturaTubeMogulSyndicationFeedCategories.ANIMALS_AND_PETS="Animals &amp; Pets";KalturaTubeMogulSyndicationFeedCategories.AUTOS="Autos";KalturaTubeMogulSyndicationFeedCategories.VLOGS_PEOPLE="Vlogs &amp; People";KalturaTubeMogulSyndicationFeedCategories.HOW_TO_INSTRUCTIONAL_DIY="How To/Instructional/DIY";KalturaTubeMogulSyndicationFeedCategories.COMMERCIALS_PROMOTIONAL="Commercials/Promotional";KalturaTubeMogulSyndicationFeedCategories.FAMILY_AND_KIDS="Family &amp; Kids";function KalturaTubeMogulSyndicationFeedOrderBy(){}KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaTubeMogulSyndicationFeedOrderBy.NAME_ASC="+name";KalturaTubeMogulSyndicationFeedOrderBy.NAME_DESC="-name";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUiConfCreationMode(){}KalturaUiConfCreationMode.WIZARD=2;KalturaUiConfCreationMode.ADVANCED=3;function KalturaUiConfObjType(){}KalturaUiConfObjType.PLAYER=1;KalturaUiConfObjType.CONTRIBUTION_WIZARD=2;KalturaUiConfObjType.SIMPLE_EDITOR=3;KalturaUiConfObjType.ADVANCED_EDITOR=4;KalturaUiConfObjType.PLAYLIST=5;KalturaUiConfObjType.APP_STUDIO=6;function KalturaUiConfOrderBy(){}KalturaUiConfOrderBy.CREATED_AT_ASC="+createdAt";KalturaUiConfOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUploadErrorCode(){}KalturaUploadErrorCode.NO_ERROR=0;KalturaUploadErrorCode.GENERAL_ERROR=1;KalturaUploadErrorCode.PARTIAL_UPLOAD=2;function KalturaUserOrderBy(){}KalturaUserOrderBy.CREATED_AT_ASC="+createdAt";KalturaUserOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUserStatus(){}KalturaUserStatus.BLOCKED=0;KalturaUserStatus.ACTIVE=1;KalturaUserStatus.DELETED=2;function KalturaVideoCodec(){}KalturaVideoCodec.NONE="";KalturaVideoCodec.VP6="vp6";KalturaVideoCodec.H263="h263";KalturaVideoCodec.H264="h264";KalturaVideoCodec.FLV="flv";function KalturaWidgetOrderBy(){}KalturaWidgetOrderBy.CREATED_AT_ASC="+createdAt";KalturaWidgetOrderBy.CREATED_AT_DESC="-createdAt";function KalturaWidgetSecurityType(){}KalturaWidgetSecurityType.NONE=1;KalturaWidgetSecurityType.TIMEHASH=2;function KalturaYahooSyndicationFeedAdultValues(){}KalturaYahooSyndicationFeedAdultValues.ADULT="adult";KalturaYahooSyndicationFeedAdultValues.NON_ADULT="nonadult";function KalturaYahooSyndicationFeedCategories(){}KalturaYahooSyndicationFeedCategories.ACTION="Action";KalturaYahooSyndicationFeedCategories.ART_AND_ANIMATION="Art &amp; Animation";KalturaYahooSyndicationFeedCategories.ENTERTAINMENT_AND_TV="Entertainment &amp; TV";KalturaYahooSyndicationFeedCategories.FOOD="Food";KalturaYahooSyndicationFeedCategories.GAMES="Games";KalturaYahooSyndicationFeedCategories.HOW_TO="How-To";KalturaYahooSyndicationFeedCategories.MUSIC="Music";KalturaYahooSyndicationFeedCategories.PEOPLE_AND_VLOGS="People &amp; Vlogs";KalturaYahooSyndicationFeedCategories.SCIENCE_AND_ENVIRONMENT="Science &amp; Environment";KalturaYahooSyndicationFeedCategories.TRANSPORTATION="Transportation";KalturaYahooSyndicationFeedCategories.ANIMALS="Animals";KalturaYahooSyndicationFeedCategories.COMMERCIALS="Commercials";KalturaYahooSyndicationFeedCategories.FAMILY="Family";KalturaYahooSyndicationFeedCategories.FUNNY_VIDEOS="Funny Videos";KalturaYahooSyndicationFeedCategories.HEALTH_AND_BEAUTY="Health &amp; Beauty";KalturaYahooSyndicationFeedCategories.MOVIES_AND_SHORTS="Movies &amp; Shorts";KalturaYahooSyndicationFeedCategories.NEWS_AND_POLITICS="News &amp; Politics";KalturaYahooSyndicationFeedCategories.PRODUCTS_AND_TECH="Products &amp; Tech.";KalturaYahooSyndicationFeedCategories.SPORTS="Sports";KalturaYahooSyndicationFeedCategories.TRAVEL="Travel";function KalturaYahooSyndicationFeedOrderBy(){}KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaYahooSyndicationFeedOrderBy.NAME_ASC="+name";KalturaYahooSyndicationFeedOrderBy.NAME_DESC="-name";KalturaYahooSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaYahooSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAccessControl(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isDefault=null;this.restrictions=null}KalturaAccessControl.inheritsFrom(KalturaObjectBase);function KalturaAccessControlFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaAccessControlFilter.inheritsFrom(KalturaFilter);function KalturaAccessControlListResponse(){this.objects=null;this.totalCount=null}KalturaAccessControlListResponse.inheritsFrom(KalturaObjectBase);function KalturaAdminUser(){this.password=null;this.email=null;this.screenName=null}KalturaAdminUser.inheritsFrom(KalturaObjectBase);function KalturaBaseEntry(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.userId=null;this.tags=null;this.adminTags=null;this.categories=null;this.status=null;this.moderationStatus=null;this.moderationCount=null;this.type=null;this.createdAt=null;this.rank=null;this.totalRank=null;this.votes=null;this.groupId=null;this.partnerData=null;this.downloadUrl=null;this.searchText=null;this.licenseType=null;this.version=null;this.thumbnailUrl=null;this.accessControlId=null;this.startDate=null;this.endDate=null}KalturaBaseEntry.inheritsFrom(KalturaObjectBase);function KalturaBaseEntryFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.userIdEqual=null;this.tagsLike=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.adminTagsLike=null;this.adminTagsMultiLikeOr=null;this.adminTagsMultiLikeAnd=null;this.categoriesMatchAnd=null;this.categoriesMatchOr=null;this.statusEqual=null;this.statusNotEqual=null;this.statusIn=null;this.statusNotIn=null;this.moderationStatusEqual=null;this.moderationStatusNotEqual=null;this.moderationStatusIn=null;this.moderationStatusNotIn=null;this.typeEqual=null;this.typeIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.groupIdEqual=null;this.searchTextMatchAnd=null;this.searchTextMatchOr=null;this.accessControlIdEqual=null;this.accessControlIdIn=null;this.startDateGreaterThanOrEqual=null;this.startDateLessThanOrEqual=null;this.startDateGreaterThanOrEqualOrNull=null;this.startDateLessThanOrEqualOrNull=null;this.endDateGreaterThanOrEqual=null;this.endDateLessThanOrEqual=null;this.endDateGreaterThanOrEqualOrNull=null;this.endDateLessThanOrEqualOrNull=null;this.tagsNameMultiLikeOr=null;this.tagsAdminTagsMultiLikeOr=null;this.tagsAdminTagsNameMultiLikeOr=null;this.tagsNameMultiLikeAnd=null;this.tagsAdminTagsMultiLikeAnd=null;this.tagsAdminTagsNameMultiLikeAnd=null}KalturaBaseEntryFilter.inheritsFrom(KalturaFilter);function KalturaBaseEntryListResponse(){this.objects=null;this.totalCount=null}KalturaBaseEntryListResponse.inheritsFrom(KalturaObjectBase);function KalturaBaseJob(){this.id=null;this.partnerId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.processorExpiration=null;this.executionAttempts=null}KalturaBaseJob.inheritsFrom(KalturaObjectBase);function KalturaBaseJobFilter(){this.idEqual=null;this.idGreaterThanOrEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaBaseJobFilter.inheritsFrom(KalturaFilter);function KalturaBaseRestriction(){}KalturaBaseRestriction.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeed(){this.id=null;this.feedUrl=null;this.partnerId=null;this.playlistId=null;this.name=null;this.status=null;this.type=null;this.landingPage=null;this.createdAt=null;this.allowEmbed=null;this.playerUiconfId=null;this.flavorParamId=null;this.transcodeExistingContent=null;this.addToDefaultConversionProfile=null;this.categories=null}KalturaBaseSyndicationFeed.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeedFilter(){}KalturaBaseSyndicationFeedFilter.inheritsFrom(KalturaFilter);function KalturaBaseSyndicationFeedListResponse(){this.objects=null;this.totalCount=null}KalturaBaseSyndicationFeedListResponse.inheritsFrom(KalturaObjectBase);function KalturaBatchJob(){this.entryId=null;this.entryName=null;this.jobType=null;this.jobSubType=null;this.onStressDivertTo=null;this.data=null;this.status=null;this.abort=null;this.checkAgainTimeout=null;this.progress=null;this.message=null;this.description=null;this.updatesCount=null;this.priority=null;this.workGroupId=null;this.twinJobId=null;this.bulkJobId=null;this.parentJobId=null;this.rootJobId=null;this.queueTime=null;this.finishTime=null;this.errType=null;this.errNumber=null;this.fileSize=null;this.lastWorkerRemote=null;this.schedulerId=null;this.workerId=null;this.batchIndex=null;this.lastSchedulerId=null;this.lastWorkerId=null;this.dc=null}KalturaBatchJob.inheritsFrom(KalturaBaseJob);function KalturaBatchJobFilter(){this.entryIdEqual=null;this.jobTypeEqual=null;this.jobTypeIn=null;this.jobTypeNotIn=null;this.jobSubTypeEqual=null;this.jobSubTypeIn=null;this.onStressDivertToIn=null;this.statusEqual=null;this.statusIn=null;this.workGroupIdIn=null;this.queueTimeGreaterThanOrEqual=null;this.queueTimeLessThanOrEqual=null;this.finishTimeGreaterThanOrEqual=null;this.finishTimeLessThanOrEqual=null;this.errTypeIn=null;this.fileSizeLessThan=null;this.fileSizeGreaterThan=null}KalturaBatchJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaBatchJobFilterExt(){this.jobTypeAndSubTypeIn=null}KalturaBatchJobFilterExt.inheritsFrom(KalturaBatchJobFilter);function KalturaBatchJobListResponse(){this.objects=null;this.totalCount=null}KalturaBatchJobListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkDownloadJobData(){this.entryIds=null;this.flavorParamsId=null;this.puserId=null}KalturaBulkDownloadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUpload(){this.id=null;this.uploadedBy=null;this.uploadedOn=null;this.numOfEntries=null;this.status=null;this.logFileUrl=null;this.csvFileUrl=null;this.results=null}KalturaBulkUpload.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadJobData(){this.userId=null;this.uploadedBy=null;this.conversionProfileId=null;this.csvFilePath=null;this.resultsFileLocalPath=null;this.resultsFileUrl=null;this.numOfEntries=null;this.csvVersion=null}KalturaBulkUploadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUploadListResponse(){this.objects=null;this.totalCount=null}KalturaBulkUploadListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadResult(){this.id=null;this.bulkUploadJobId=null;this.lineIndex=null;this.partnerId=null;this.entryId=null;this.entryStatus=null;this.rowData=null;this.title=null;this.description=null;this.tags=null;this.url=null;this.contentType=null;this.conversionProfileId=null;this.accessControlProfileId=null;this.category=null;this.scheduleStartDate=null;this.scheduleEndDate=null;this.thumbnailUrl=null;this.thumbnailSaved=null;this.partnerData=null;this.errorDescription=null}KalturaBulkUploadResult.inheritsFrom(KalturaObjectBase);function KalturaCEError(){this.id=null;this.partnerId=null;this.browser=null;this.serverIp=null;this.serverOs=null;this.phpVersion=null;this.ceAdminEmail=null;this.type=null;this.description=null;this.data=null}KalturaCEError.inheritsFrom(KalturaObjectBase);function KalturaCategory(){this.id=null;this.parentId=null;this.depth=null;this.partnerId=null;this.name=null;this.fullName=null;this.entriesCount=null;this.createdAt=null}KalturaCategory.inheritsFrom(KalturaObjectBase);function KalturaCategoryFilter(){this.idEqual=null;this.idIn=null;this.parentIdEqual=null;this.parentIdIn=null;this.depthEqual=null;this.fullNameEqual=null;this.fullNameStartsWith=null}KalturaCategoryFilter.inheritsFrom(KalturaFilter);function KalturaCategoryListResponse(){this.objects=null;this.totalCount=null}KalturaCategoryListResponse.inheritsFrom(KalturaObjectBase);function KalturaClientNotification(){this.url=null;this.data=null}KalturaClientNotification.inheritsFrom(KalturaObjectBase);function KalturaControlPanelCommandFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.createdByIdEqual=null;this.typeEqual=null;this.typeIn=null;this.targetTypeEqual=null;this.targetTypeIn=null;this.statusEqual=null;this.statusIn=null}KalturaControlPanelCommandFilter.inheritsFrom(KalturaFilter);function KalturaConvartableJobData(){this.srcFileSyncLocalPath=null;this.srcFileSyncRemoteUrl=null;this.flavorParamsOutputId=null;this.flavorParamsOutput=null;this.mediaInfoId=null}KalturaConvartableJobData.inheritsFrom(KalturaJobData);function KalturaConversionProfile(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.flavorParamsIds=null;this.isDefault=null;this.cropDimensions=null;this.clipStart=null;this.clipDuration=null}KalturaConversionProfile.inheritsFrom(KalturaObjectBase);function KalturaConversionProfileFilter(){this.idEqual=null;this.idIn=null}KalturaConversionProfileFilter.inheritsFrom(KalturaFilter);function KalturaConversionProfileListResponse(){this.objects=null;this.totalCount=null}KalturaConversionProfileListResponse.inheritsFrom(KalturaObjectBase);function KalturaConvertJobData(){this.destFileSyncLocalPath=null;this.destFileSyncRemoteUrl=null;this.logFileSyncLocalPath=null;this.flavorAssetId=null;this.remoteMediaId=null}KalturaConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaConvertProfileJobData(){this.inputFileSyncLocalPath=null;this.thumbHeight=null;this.thumbBitrate=null}KalturaConvertProfileJobData.inheritsFrom(KalturaJobData);function KalturaCountryRestriction(){this.countryRestrictionType=null;this.countryList=null}KalturaCountryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaCropDimensions(){this.left=null;this.top=null;this.width=null;this.height=null}KalturaCropDimensions.inheritsFrom(KalturaObjectBase);function KalturaDataEntry(){this.dataContent=null}KalturaDataEntry.inheritsFrom(KalturaBaseEntry);function KalturaDataEntryFilter(){}KalturaDataEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaDataListResponse(){this.objects=null;this.totalCount=null}KalturaDataListResponse.inheritsFrom(KalturaObjectBase);function KalturaDirectoryRestriction(){this.directoryRestrictionType=null}KalturaDirectoryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaDocumentEntry(){this.documentType=null}KalturaDocumentEntry.inheritsFrom(KalturaBaseEntry);function KalturaDocumentEntryFilter(){this.documentTypeEqual=null;this.documentTypeIn=null}KalturaDocumentEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaEntryContextDataParams(){this.referrer=null}KalturaEntryContextDataParams.inheritsFrom(KalturaObjectBase);function KalturaEntryContextDataResult(){this.isSiteRestricted=null;this.isCountryRestricted=null;this.isSessionRestricted=null;this.previewLength=null;this.isScheduledNow=null;this.isAdmin=null}KalturaEntryContextDataResult.inheritsFrom(KalturaObjectBase);function KalturaExtractMediaJobData(){this.flavorAssetId=null}KalturaExtractMediaJobData.inheritsFrom(KalturaConvartableJobData);function KalturaFileSync(){this.id=null;this.partnerId=null;this.objectType=null;this.objectId=null;this.version=null;this.objectSubType=null;this.dc=null;this.original=null;this.createdAt=null;this.updatedAt=null;this.readyAt=null;this.syncTime=null;this.status=null;this.fileType=null;this.linkedId=null;this.linkCount=null;this.fileRoot=null;this.filePath=null;this.fileSize=null;this.fileUrl=null;this.fileContent=null}KalturaFileSync.inheritsFrom(KalturaObjectBase);function KalturaFileSyncFilter(){this.partnerIdEqual=null;this.objectTypeEqual=null;this.objectTypeIn=null;this.objectIdEqual=null;this.objectIdIn=null;this.versionEqual=null;this.versionIn=null;this.objectSubTypeEqual=null;this.objectSubTypeIn=null;this.dcEqual=null;this.dcIn=null;this.originalEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.readyAtGreaterThanOrEqual=null;this.readyAtLessThanOrEqual=null;this.syncTimeGreaterThanOrEqual=null;this.syncTimeLessThanOrEqual=null;this.statusEqual=null;this.statusIn=null;this.fileTypeEqual=null;this.fileTypeIn=null;this.linkedIdEqual=null;this.linkCountGreaterThanOrEqual=null;this.linkCountLessThanOrEqual=null;this.fileSizeGreaterThanOrEqual=null;this.fileSizeLessThanOrEqual=null}KalturaFileSyncFilter.inheritsFrom(KalturaFilter);function KalturaFileSyncListResponse(){this.objects=null;this.totalCount=null}KalturaFileSyncListResponse.inheritsFrom(KalturaObjectBase);function KalturaFilter(){this.orderBy=null}KalturaFilter.inheritsFrom(KalturaObjectBase);function KalturaFilterPager(){this.pageSize=null;this.pageIndex=null}KalturaFilterPager.inheritsFrom(KalturaObjectBase);function KalturaFlattenJobData(){}KalturaFlattenJobData.inheritsFrom(KalturaJobData);function KalturaFlavorAsset(){this.id=null;this.entryId=null;this.partnerId=null;this.status=null;this.flavorParamsId=null;this.version=null;this.width=null;this.height=null;this.bitrate=null;this.frameRate=null;this.size=null;this.isOriginal=null;this.tags=null;this.isWeb=null;this.fileExt=null;this.containerFormat=null;this.videoCodecId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.description=null}KalturaFlavorAsset.inheritsFrom(KalturaObjectBase);function KalturaFlavorAssetWithParams(){this.flavorAsset=null;this.flavorParams=null;this.entryId=null}KalturaFlavorAssetWithParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParams(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isSystemDefault=null;this.tags=null;this.format=null;this.videoCodec=null;this.videoBitrate=null;this.audioCodec=null;this.audioBitrate=null;this.audioChannels=null;this.audioSampleRate=null;this.width=null;this.height=null;this.frameRate=null;this.gopSize=null;this.conversionEngines=null;this.conversionEnginesExtraParams=null;this.twoPass=null}KalturaFlavorParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsFilter(){this.isSystemDefaultEqual=null}KalturaFlavorParamsFilter.inheritsFrom(KalturaFilter);function KalturaFlavorParamsListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsListResponse.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsOutput(){this.flavorParamsId=null;this.commandLinesStr=null;this.flavorParamsVersion=null;this.flavorAssetId=null;this.flavorAssetVersion=null}KalturaFlavorParamsOutput.inheritsFrom(KalturaFlavorParams);function KalturaFlavorParamsOutputFilter(){this.flavorParamsIdEqual=null;this.flavorParamsVersionEqual=null;this.flavorAssetIdEqual=null;this.flavorAssetVersionEqual=null}KalturaFlavorParamsOutputFilter.inheritsFrom(KalturaFlavorParamsFilter);function KalturaFlavorParamsOutputListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsOutputListResponse.inheritsFrom(KalturaObjectBase);function KalturaGoogleVideoSyndicationFeed(){this.adultContent=null}KalturaGoogleVideoSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaGoogleVideoSyndicationFeedFilter(){}KalturaGoogleVideoSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaITunesSyndicationFeed(){this.feedDescription=null;this.language=null;this.feedLandingPage=null;this.ownerName=null;this.ownerEmail=null;this.feedImageUrl=null;this.category=null;this.adultContent=null;this.feedAuthor=null}KalturaITunesSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaITunesSyndicationFeedFilter(){}KalturaITunesSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaImportJobData(){this.srcFileUrl=null;this.destFileLocalPath=null;this.flavorAssetId=null}KalturaImportJobData.inheritsFrom(KalturaJobData);function KalturaJobData(){}KalturaJobData.inheritsFrom(KalturaObjectBase);function KalturaMailJob(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null}KalturaMailJob.inheritsFrom(KalturaBaseJob);function KalturaMailJobData(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null;this.isHtml=null}KalturaMailJobData.inheritsFrom(KalturaJobData);function KalturaMailJobFilter(){}KalturaMailJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaMediaEntry(){this.mediaType=null;this.conversionQuality=null;this.sourceType=null;this.searchProviderType=null;this.searchProviderId=null;this.creditUserName=null;this.creditUrl=null;this.mediaDate=null;this.dataUrl=null;this.flavorParamsIds=null}KalturaMediaEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMediaEntryFilter(){this.mediaTypeEqual=null;this.mediaTypeIn=null;this.mediaDateGreaterThanOrEqual=null;this.mediaDateLessThanOrEqual=null;this.flavorParamsIdsMatchOr=null;this.flavorParamsIdsMatchAnd=null}KalturaMediaEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMediaEntryFilterForPlaylist(){this.limit=null}KalturaMediaEntryFilterForPlaylist.inheritsFrom(KalturaMediaEntryFilter);function KalturaMediaInfo(){this.id=null;this.flavorAssetId=null;this.fileSize=null;this.containerFormat=null;this.containerId=null;this.containerProfile=null;this.containerDuration=null;this.containerBitRate=null;this.videoFormat=null;this.videoCodecId=null;this.videoDuration=null;this.videoBitRate=null;this.videoBitRateMode=null;this.videoWidth=null;this.videoHeight=null;this.videoFrameRate=null;this.videoDar=null;this.videoRotation=null;this.audioFormat=null;this.audioCodecId=null;this.audioDuration=null;this.audioBitRate=null;this.audioBitRateMode=null;this.audioChannels=null;this.audioSamplingRate=null;this.audioResolution=null;this.writingLib=null;this.rawData=null}KalturaMediaInfo.inheritsFrom(KalturaObjectBase);function KalturaMediaInfoFilter(){this.flavorAssetIdEqual=null}KalturaMediaInfoFilter.inheritsFrom(KalturaFilter);function KalturaMediaInfoListResponse(){this.objects=null;this.totalCount=null}KalturaMediaInfoListResponse.inheritsFrom(KalturaObjectBase);function KalturaMediaListResponse(){this.objects=null;this.totalCount=null}KalturaMediaListResponse.inheritsFrom(KalturaObjectBase);function KalturaMixEntry(){this.hasRealThumbnail=null;this.editorType=null;this.dataContent=null}KalturaMixEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMixEntryFilter(){}KalturaMixEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMixListResponse(){this.objects=null;this.totalCount=null}KalturaMixListResponse.inheritsFrom(KalturaObjectBase);function KalturaModerationFlag(){this.id=null;this.partnerId=null;this.userId=null;this.moderationObjectType=null;this.flaggedEntryId=null;this.flaggedUserId=null;this.status=null;this.comments=null;this.flagType=null;this.createdAt=null;this.updatedAt=null}KalturaModerationFlag.inheritsFrom(KalturaObjectBase);function KalturaModerationFlagListResponse(){this.objects=null;this.totalCount=null}KalturaModerationFlagListResponse.inheritsFrom(KalturaObjectBase);function KalturaNotification(){this.puserId=null;this.type=null;this.objectId=null;this.status=null;this.notificationData=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotification.inheritsFrom(KalturaBaseJob);function KalturaNotificationFilter(){}KalturaNotificationFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaNotificationJobData(){this.userId=null;this.type=null;this.typeAsString=null;this.objectId=null;this.status=null;this.data=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotificationJobData.inheritsFrom(KalturaJobData);function KalturaPartner(){this.id=null;this.name=null;this.website=null;this.notificationUrl=null;this.appearInSearch=null;this.createdAt=null;this.adminName=null;this.adminEmail=null;this.description=null;this.commercialUse=null;this.landingPage=null;this.userLandingPage=null;this.contentCategories=null;this.type=null;this.phone=null;this.describeYourself=null;this.adultContent=null;this.defConversionProfileType=null;this.notify=null;this.status=null;this.allowQuickEdit=null;this.mergeEntryLists=null;this.notificationsConfig=null;this.maxUploadSize=null;this.partnerPackage=null;this.secret=null;this.adminSecret=null;this.cmsPassword=null;this.allowMultiNotification=null}KalturaPartner.inheritsFrom(KalturaObjectBase);function KalturaPartnerFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.statusEqual=null;this.statusIn=null;this.partnerNameDescriptionWebsiteAdminNameAdminEmailLike=null}KalturaPartnerFilter.inheritsFrom(KalturaFilter);function KalturaPartnerListResponse(){this.objects=null;this.totalCount=null}KalturaPartnerListResponse.inheritsFrom(KalturaObjectBase);function KalturaPartnerUsage(){this.hostingGB=null;this.Percent=null;this.packageBW=null;this.usageGB=null;this.reachedLimitDate=null;this.usageGraph=null}KalturaPartnerUsage.inheritsFrom(KalturaObjectBase);function KalturaPlayableEntry(){this.plays=null;this.views=null;this.width=null;this.height=null;this.duration=null;this.durationType=null}KalturaPlayableEntry.inheritsFrom(KalturaBaseEntry);function KalturaPlayableEntryFilter(){this.durationLessThan=null;this.durationGreaterThan=null;this.durationLessThanOrEqual=null;this.durationGreaterThanOrEqual=null;this.durationTypeMatchOr=null}KalturaPlayableEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylist(){this.playlistContent=null;this.filters=null;this.totalResults=null;this.playlistType=null;this.plays=null;this.views=null;this.duration=null}KalturaPlaylist.inheritsFrom(KalturaBaseEntry);function KalturaPlaylistFilter(){}KalturaPlaylistFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylistListResponse(){this.objects=null;this.totalCount=null}KalturaPlaylistListResponse.inheritsFrom(KalturaObjectBase);function KalturaPostConvertJobData(){this.srcFileSyncLocalPath=null;this.flavorAssetId=null;this.createThumb=null;this.thumbPath=null;this.thumbOffset=null;this.thumbHeight=null;this.thumbBitrate=null;this.flavorParamsOutputId=null}KalturaPostConvertJobData.inheritsFrom(KalturaJobData);function KalturaPreviewRestriction(){this.previewLength=null}KalturaPreviewRestriction.inheritsFrom(KalturaSessionRestriction);function KalturaPullJobData(){this.srcFileUrl=null;this.destFileLocalPath=null}KalturaPullJobData.inheritsFrom(KalturaJobData);function KalturaRemoteConvertJobData(){this.srcFileUrl=null;this.destFileUrl=null}KalturaRemoteConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaReportGraph(){this.id=null;this.data=null}KalturaReportGraph.inheritsFrom(KalturaObjectBase);function KalturaReportInputFilter(){this.fromDate=null;this.toDate=null;this.keywords=null;this.searchInTags=null;this.searchInAdminTags=null;this.categories=null}KalturaReportInputFilter.inheritsFrom(KalturaObjectBase);function KalturaReportTable(){this.header=null;this.data=null;this.totalCount=null}KalturaReportTable.inheritsFrom(KalturaObjectBase);function KalturaReportTotal(){this.header=null;this.data=null}KalturaReportTotal.inheritsFrom(KalturaObjectBase);function KalturaSearch(){this.keyWords=null;this.searchSource=null;this.mediaType=null;this.extraData=null;this.authData=null}KalturaSearch.inheritsFrom(KalturaObjectBase);function KalturaSearchAuthData(){this.authData=null;this.loginUrl=null;this.message=null}KalturaSearchAuthData.inheritsFrom(KalturaObjectBase);function KalturaSearchResult(){this.id=null;this.title=null;this.thumbUrl=null;this.description=null;this.tags=null;this.url=null;this.sourceLink=null;this.credit=null;this.licenseType=null;this.flashPlaybackType=null}KalturaSearchResult.inheritsFrom(KalturaSearch);function KalturaSearchResultResponse(){this.objects=null;this.needMediaInfo=null}KalturaSearchResultResponse.inheritsFrom(KalturaObjectBase);function KalturaSessionRestriction(){}KalturaSessionRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaSiteRestriction(){this.siteRestrictionType=null;this.siteList=null}KalturaSiteRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaStartWidgetSessionResponse(){this.partnerId=null;this.ks=null;this.userId=null}KalturaStartWidgetSessionResponse.inheritsFrom(KalturaObjectBase);function KalturaStatsEvent(){this.clientVer=null;this.eventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.uniqueViewer=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.currentPoint=null;this.duration=null;this.userIp=null;this.processDuration=null;this.controlId=null;this.seek=null;this.newPoint=null;this.referrer=null;this.isFirstInSession=null}KalturaStatsEvent.inheritsFrom(KalturaObjectBase);function KalturaStatsKmcEvent(){this.clientVer=null;this.kmcEventActionPath=null;this.kmcEventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.userIp=null}KalturaStatsKmcEvent.inheritsFrom(KalturaObjectBase);function KalturaSyndicationFeedEntryCount(){this.totalEntryCount=null;this.actualEntryCount=null;this.requireTranscodingCount=null}KalturaSyndicationFeedEntryCount.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerConfiguration(){this.host=null;this.cdnHost=null;this.maxBulkSize=null;this.partnerPackage=null}KalturaSystemPartnerConfiguration.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageFilter(){this.fromDate=null;this.toDate=null}KalturaSystemPartnerUsageFilter.inheritsFrom(KalturaFilter);function KalturaSystemPartnerUsageItem(){this.partnerId=null;this.partnerName=null;this.partnerStatus=null;this.partnerPackage=null;this.partnerCreatedAt=null;this.views=null;this.plays=null;this.entriesCount=null;this.totalEntriesCount=null;this.videoEntriesCount=null;this.imageEntriesCount=null;this.audioEntriesCount=null;this.mixEntriesCount=null;this.bandwidth=null;this.totalStorage=null;this.storage=null}KalturaSystemPartnerUsageItem.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageListResponse(){this.objects=null;this.totalCount=null}KalturaSystemPartnerUsageListResponse.inheritsFrom(KalturaObjectBase);function KalturaSystemUser(){this.id=null;this.email=null;this.firstName=null;this.lastName=null;this.password=null;this.createdBy=null;this.status=null;this.statusUpdatedAt=null;this.createdAt=null}KalturaSystemUser.inheritsFrom(KalturaObjectBase);function KalturaSystemUserFilter(){}KalturaSystemUserFilter.inheritsFrom(KalturaFilter);function KalturaSystemUserListResponse(){this.objects=null;this.totalCount=null}KalturaSystemUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaTubeMogulSyndicationFeed(){this.category=null}KalturaTubeMogulSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaTubeMogulSyndicationFeedFilter(){}KalturaTubeMogulSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaUiConf(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.objType=null;this.objTypeAsString=null;this.width=null;this.height=null;this.htmlParams=null;this.swfUrl=null;this.confFilePath=null;this.confFile=null;this.confFileFeatures=null;this.confVars=null;this.useCdn=null;this.tags=null;this.swfUrlVersion=null;this.createdAt=null;this.updatedAt=null;this.creationMode=null}KalturaUiConf.inheritsFrom(KalturaObjectBase);function KalturaUiConfFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.objTypeEqual=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null}KalturaUiConfFilter.inheritsFrom(KalturaFilter);function KalturaUiConfListResponse(){this.objects=null;this.totalCount=null}KalturaUiConfListResponse.inheritsFrom(KalturaObjectBase);function KalturaUploadResponse(){this.uploadTokenId=null;this.fileSize=null;this.errorCode=null;this.errorDescription=null}KalturaUploadResponse.inheritsFrom(KalturaObjectBase);function KalturaUser(){this.id=null;this.partnerId=null;this.screenName=null;this.fullName=null;this.email=null;this.dateOfBirth=null;this.country=null;this.state=null;this.city=null;this.zip=null;this.thumbnailUrl=null;this.description=null;this.tags=null;this.adminTags=null;this.gender=null;this.status=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.indexedPartnerDataInt=null;this.indexedPartnerDataString=null;this.storageSize=null}KalturaUser.inheritsFrom(KalturaObjectBase);function KalturaUserFilter(){this.idEqual=null;this.idIn=null;this.partnerIdEqual=null;this.screenNameLike=null;this.screenNameStartsWith=null;this.emailLike=null;this.emailStartsWith=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaUserFilter.inheritsFrom(KalturaFilter);function KalturaUserListResponse(){this.objects=null;this.totalCount=null}KalturaUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaWidget(){this.id=null;this.sourceWidgetId=null;this.rootWidgetId=null;this.partnerId=null;this.entryId=null;this.uiConfId=null;this.securityType=null;this.securityPolicy=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.widgetHTML=null}KalturaWidget.inheritsFrom(KalturaObjectBase);function KalturaWidgetFilter(){this.idEqual=null;this.idIn=null;this.sourceWidgetIdEqual=null;this.rootWidgetIdEqual=null;this.partnerIdEqual=null;this.entryIdEqual=null;this.uiConfIdEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.partnerDataLike=null}KalturaWidgetFilter.inheritsFrom(KalturaFilter);function KalturaWidgetListResponse(){this.objects=null;this.totalCount=null}KalturaWidgetListResponse.inheritsFrom(KalturaObjectBase);function KalturaYahooSyndicationFeed(){this.category=null;this.adultContent=null;this.feedDescription=null;this.feedLandingPage=null}KalturaYahooSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaYahooSyndicationFeedFilter(){}KalturaYahooSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaAccessControlService(a){this.init(a)}KalturaAccessControlService.inheritsFrom(KalturaServiceBase);KalturaAccessControlService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"accessControl",toParams(b));this.client.queueServiceActionCall("accessControl","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaAccessControlService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("accessControl","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaAccessControlService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"accessControl",toParams(b));this.client.queueServiceActionCall("accessControl","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("accessControl","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaAccessControlService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("accessControl","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaAdminconsoleService(a){this.init(a)}KalturaAdminconsoleService.inheritsFrom(KalturaServiceBase);KalturaAdminconsoleService.prototype.listBatchJobs=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("adminconsole","listBatchJobs",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaAdminUserService(a){this.init(a)}KalturaAdminUserService.inheritsFrom(KalturaServiceBase);KalturaAdminUserService.prototype.updatePassword=function(f,c,b,d,e){if(!d){d=""}if(!e){e=""}var a=new Object();this.client.addParam(a,"email",c);this.client.addParam(a,"password",b);this.client.addParam(a,"newEmail",d);this.client.addParam(a,"newPassword",e);this.client.queueServiceActionCall("adminUser","updatePassword",a);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaAdminUserService.prototype.resetPassword=function(c,b){var a=new Object();this.client.addParam(a,"email",b);this.client.queueServiceActionCall("adminUser","resetPassword",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaAdminUserService.prototype.login=function(d,c,b){var a=new Object();this.client.addParam(a,"email",c);this.client.addParam(a,"password",b);this.client.queueServiceActionCall("adminUser","login",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaBaseEntryService(a){this.init(a)}KalturaBaseEntryService.inheritsFrom(KalturaServiceBase);KalturaBaseEntryService.prototype.addFromUploadedFile=function(e,d,c,b){if(!b){b=-1}var a=new Object();this.client.addParam(a,"entry",toParams(d));this.client.addParam(a,"uploadTokenId",c);this.client.addParam(a,"type",b);this.client.queueServiceActionCall("baseEntry","addFromUploadedFile",a);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("baseEntry","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);this.client.addParam(a,"baseEntry",toParams(b));this.client.queueServiceActionCall("baseEntry","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.getByIds=function(c,b){var a=new Object();this.client.addParam(a,"entryIds",b);this.client.queueServiceActionCall("baseEntry","getByIds",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("baseEntry","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("baseEntry","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.count=function(c,b){if(!b){b=null}var a=new Object();if(b!=null){this.client.addParam(a,"filter",toParams(b))}this.client.queueServiceActionCall("baseEntry","count",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.upload=function(c,b){var a=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",b);this.client.queueServiceActionCall("baseEntry","upload",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.updateThumbnailJpeg=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);kfiles=new Object();this.client.addParam(kfiles,"fileData",b);this.client.queueServiceActionCall("baseEntry","updateThumbnailJpeg",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.updateThumbnailFromUrl=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);this.client.addParam(a,"url",b);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromUrl",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.updateThumbnailFromSourceEntry=function(e,d,c,a){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"sourceEntryId",c);this.client.addParam(b,"timeOffset",a);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromSourceEntry",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.flag=function(c,b){var a=new Object();this.client.addParam(a,"moderationFlag",toParams(b));this.client.queueServiceActionCall("baseEntry","flag",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.reject=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("baseEntry","reject",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.approve=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("baseEntry","approve",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBaseEntryService.prototype.listFlags=function(d,c,a){if(!a){a=null}var b=new Object();this.client.addParam(b,"entryId",c);if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("baseEntry","listFlags",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.anonymousRank=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"rank",c);this.client.queueServiceActionCall("baseEntry","anonymousRank",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.getContextData=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"contextDataParams",toParams(c));this.client.queueServiceActionCall("baseEntry","getContextData",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaBulkUploadService(a){this.init(a)}KalturaBulkUploadService.inheritsFrom(KalturaServiceBase);KalturaBulkUploadService.prototype.add=function(d,c,b){var a=new Object();this.client.addParam(a,"conversionProfileId",c);kfiles=new Object();this.client.addParam(kfiles,"csvFileData",b);this.client.queueServiceActionCall("bulkUpload","add",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBulkUploadService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("bulkUpload","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaBulkUploadService.prototype.listAction=function(c,a){if(!a){a=null}var b=new Object();if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("bulkUpload","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaCategoryService(a){this.init(a)}KalturaCategoryService.inheritsFrom(KalturaServiceBase);KalturaCategoryService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"category",toParams(b));this.client.queueServiceActionCall("category","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaCategoryService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("category","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaCategoryService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"category",toParams(b));this.client.queueServiceActionCall("category","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("category","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaCategoryService.prototype.listAction=function(c,b){if(!b){b=null}var a=new Object();if(b!=null){this.client.addParam(a,"filter",toParams(b))}this.client.queueServiceActionCall("category","list",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaConversionProfileService(a){this.init(a)}KalturaConversionProfileService.inheritsFrom(KalturaServiceBase);KalturaConversionProfileService.prototype.add=function(c,a){var b=new Object();this.client.addParam(b,"conversionProfile",toParams(a));this.client.queueServiceActionCall("conversionProfile","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaConversionProfileService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("conversionProfile","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaConversionProfileService.prototype.update=function(d,c,a){var b=new Object();this.client.addParam(b,"id",c);this.client.addParam(b,"conversionProfile",toParams(a));this.client.queueServiceActionCall("conversionProfile","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("conversionProfile","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaConversionProfileService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("conversionProfile","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaDataService(a){this.init(a)}KalturaDataService.inheritsFrom(KalturaServiceBase);KalturaDataService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"dataEntry",toParams(b));this.client.queueServiceActionCall("data","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaDataService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("data","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.update=function(d,c,a){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"documentEntry",toParams(a));this.client.queueServiceActionCall("data","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("data","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaDataService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("data","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFlavorAssetService(a){this.init(a)}KalturaFlavorAssetService.inheritsFrom(KalturaServiceBase);KalturaFlavorAssetService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorAsset","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.getByEntryId=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("flavorAsset","getByEntryId",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.getWebPlayableByEntryId=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("flavorAsset","getWebPlayableByEntryId",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.convert=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);this.client.addParam(a,"flavorParamsId",b);this.client.queueServiceActionCall("flavorAsset","convert",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.reconvert=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorAsset","reconvert",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorAsset","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.getDownloadUrl=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorAsset","getDownloadUrl",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorAssetService.prototype.getFlavorAssetsWithParams=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("flavorAsset","getFlavorAssetsWithParams",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaFlavorParamsService(a){this.init(a)}KalturaFlavorParamsService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"flavorParams",toParams(b));this.client.queueServiceActionCall("flavorParams","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorParamsService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorParams","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorParamsService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"flavorParams",toParams(b));this.client.queueServiceActionCall("flavorParams","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("flavorParams","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaFlavorParamsService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("flavorParams","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.getByConversionProfileId=function(c,b){var a=new Object();this.client.addParam(a,"conversionProfileId",b);this.client.queueServiceActionCall("flavorParams","getByConversionProfileId",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaMediaService(a){this.init(a)}KalturaMediaService.inheritsFrom(KalturaServiceBase);KalturaMediaService.prototype.addFromBulk=function(e,d,b,c){var a=new Object();this.client.addParam(a,"mediaEntry",toParams(d));this.client.addParam(a,"url",b);this.client.addParam(a,"bulkUploadId",c);this.client.queueServiceActionCall("media","addFromBulk",a);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromUrl=function(d,c,b){var a=new Object();this.client.addParam(a,"mediaEntry",toParams(c));this.client.addParam(a,"url",b);this.client.queueServiceActionCall("media","addFromUrl",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.addFromSearchResult=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"mediaEntry",toParams(c))}if(a!=null){this.client.addParam(b,"searchResult",toParams(a))}this.client.queueServiceActionCall("media","addFromSearchResult",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.addFromUploadedFile=function(d,c,b){var a=new Object();this.client.addParam(a,"mediaEntry",toParams(c));this.client.addParam(a,"uploadTokenId",b);this.client.queueServiceActionCall("media","addFromUploadedFile",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.addFromRecordedWebcam=function(d,c,b){var a=new Object();this.client.addParam(a,"mediaEntry",toParams(c));this.client.addParam(a,"webcamTokenId",b);this.client.queueServiceActionCall("media","addFromRecordedWebcam",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("media","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.update=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"mediaEntry",toParams(c));this.client.queueServiceActionCall("media","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("media","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("media","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.count=function(c,b){if(!b){b=null}var a=new Object();if(b!=null){this.client.addParam(a,"filter",toParams(b))}this.client.queueServiceActionCall("media","count",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.upload=function(c,b){var a=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",b);this.client.queueServiceActionCall("media","upload",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.updateThumbnail=function(d,c,a){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"timeOffset",a);this.client.queueServiceActionCall("media","updateThumbnail",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.updateThumbnailFromSourceEntry=function(e,d,c,a){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"sourceEntryId",c);this.client.addParam(b,"timeOffset",a);this.client.queueServiceActionCall("media","updateThumbnailFromSourceEntry",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.updateThumbnailJpeg=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);kfiles=new Object();this.client.addParam(kfiles,"fileData",b);this.client.queueServiceActionCall("media","updateThumbnailJpeg",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.updateThumbnailFromUrl=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);this.client.addParam(a,"url",b);this.client.queueServiceActionCall("media","updateThumbnailFromUrl",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.requestConversion=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"fileFormat",c);this.client.queueServiceActionCall("media","requestConversion",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.flag=function(c,b){var a=new Object();this.client.addParam(a,"moderationFlag",toParams(b));this.client.queueServiceActionCall("media","flag",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.reject=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("media","reject",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.approve=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("media","approve",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMediaService.prototype.listFlags=function(d,c,a){if(!a){a=null}var b=new Object();this.client.addParam(b,"entryId",c);if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("media","listFlags",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.anonymousRank=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"rank",c);this.client.queueServiceActionCall("media","anonymousRank",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaMixingService(a){this.init(a)}KalturaMixingService.inheritsFrom(KalturaServiceBase);KalturaMixingService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"mixEntry",toParams(b));this.client.queueServiceActionCall("mixing","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMixingService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("mixing","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.update=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"mixEntry",toParams(c));this.client.queueServiceActionCall("mixing","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("mixing","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMixingService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("mixing","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.count=function(c,b){if(!b){b=null}var a=new Object();if(b!=null){this.client.addParam(a,"filter",toParams(b))}this.client.queueServiceActionCall("mixing","count",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMixingService.prototype.cloneAction=function(c,b){var a=new Object();this.client.addParam(a,"entryId",b);this.client.queueServiceActionCall("mixing","clone",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMixingService.prototype.appendMediaEntry=function(d,c,a){var b=new Object();this.client.addParam(b,"mixEntryId",c);this.client.addParam(b,"mediaEntryId",a);this.client.queueServiceActionCall("mixing","appendMediaEntry",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.requestFlattening=function(e,c,d,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"fileFormat",d);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("mixing","requestFlattening",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.getMixesByMediaId=function(c,a){var b=new Object();this.client.addParam(b,"mediaEntryId",a);this.client.queueServiceActionCall("mixing","getMixesByMediaId",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaMixingService.prototype.getReadyMediaEntries=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"mixId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("mixing","getReadyMediaEntries",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.anonymousRank=function(d,b,c){var a=new Object();this.client.addParam(a,"entryId",b);this.client.addParam(a,"rank",c);this.client.queueServiceActionCall("mixing","anonymousRank",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaNotificationService(a){this.init(a)}KalturaNotificationService.inheritsFrom(KalturaServiceBase);KalturaNotificationService.prototype.getClientNotification=function(d,c,b){var a=new Object();this.client.addParam(a,"entryId",c);this.client.addParam(a,"type",b);this.client.queueServiceActionCall("notification","getClientNotification",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaPartnerService(a){this.init(a)}KalturaPartnerService.inheritsFrom(KalturaServiceBase);KalturaPartnerService.prototype.register=function(d,c,a){if(!a){a=""}var b=new Object();this.client.addParam(b,"partner",toParams(c));this.client.addParam(b,"cmsPassword",a);this.client.queueServiceActionCall("partner","register",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPartnerService.prototype.update=function(d,b,c){if(!c){c=false}var a=new Object();this.client.addParam(a,"partner",toParams(b));this.client.addParam(a,"allowEmpty",c);this.client.queueServiceActionCall("partner","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPartnerService.prototype.getSecrets=function(e,d,c,a){var b=new Object();this.client.addParam(b,"partnerId",d);this.client.addParam(b,"adminEmail",c);this.client.addParam(b,"cmsPassword",a);this.client.queueServiceActionCall("partner","getSecrets",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPartnerService.prototype.getInfo=function(b){var a=new Object();this.client.queueServiceActionCall("partner","getInfo",a);if(!this.client.isMultiRequest()){this.client.doQueue(b)}};KalturaPartnerService.prototype.getUsage=function(e,c,d,b){if(!c){c=""}if(!d){d=1}if(!b){b="days"}var a=new Object();this.client.addParam(a,"year",c);this.client.addParam(a,"month",d);this.client.addParam(a,"resolution",b);this.client.queueServiceActionCall("partner","getUsage",a);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaPlaylistService(a){this.init(a)}KalturaPlaylistService.inheritsFrom(KalturaServiceBase);KalturaPlaylistService.prototype.add=function(d,c,b){if(!b){b=false}var a=new Object();this.client.addParam(a,"playlist",toParams(c));this.client.addParam(a,"updateStats",b);this.client.queueServiceActionCall("playlist","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"id",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("playlist","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.update=function(e,d,c,b){if(!b){b=false}var a=new Object();this.client.addParam(a,"id",d);this.client.addParam(a,"playlist",toParams(c));this.client.addParam(a,"updateStats",b);this.client.queueServiceActionCall("playlist","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("playlist","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaPlaylistService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("playlist","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.execute=function(d,c,b){if(!b){b=""}var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"detailed",b);this.client.queueServiceActionCall("playlist","execute",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.executeFromContent=function(e,d,a,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"playlistType",d);this.client.addParam(b,"playlistContent",a);this.client.addParam(b,"detailed",c);this.client.queueServiceActionCall("playlist","executeFromContent",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.executeFromFilters=function(g,e,a,d){if(!d){d=""}var c=new Object();for(var b in e){var f=e[b];this.client.addParam(c,"filters:"+b,toParams(f))}this.client.addParam(c,"totalResults",a);this.client.addParam(c,"detailed",d);this.client.queueServiceActionCall("playlist","executeFromFilters",c);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaPlaylistService.prototype.getStatsFromContent=function(d,c,a){var b=new Object();this.client.addParam(b,"playlistType",c);this.client.addParam(b,"playlistContent",a);this.client.queueServiceActionCall("playlist","getStatsFromContent",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaReportService(a){this.init(a)}KalturaReportService.inheritsFrom(KalturaServiceBase);KalturaReportService.prototype.getGraphs=function(f,a,d,e,c){if(!e){e=""}if(!c){c=""}var b=new Object();this.client.addParam(b,"reportType",a);this.client.addParam(b,"reportInputFilter",toParams(d));this.client.addParam(b,"dimension",e);this.client.addParam(b,"objectIds",c);this.client.queueServiceActionCall("report","getGraphs",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaReportService.prototype.getTotal=function(e,a,d,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"reportType",a);this.client.addParam(b,"reportInputFilter",toParams(d));this.client.addParam(b,"objectIds",c);this.client.queueServiceActionCall("report","getTotal",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaReportService.prototype.getTable=function(g,c,f,b,a,e){if(!a){a=""}if(!e){e=""}var d=new Object();this.client.addParam(d,"reportType",c);this.client.addParam(d,"reportInputFilter",toParams(f));this.client.addParam(d,"pager",toParams(b));this.client.addParam(d,"order",a);this.client.addParam(d,"objectIds",e);this.client.queueServiceActionCall("report","getTable",d);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaReportService.prototype.getUrlForReportAsCsv=function(l,a,k,c,h,j,g,e,d,b){if(!g){g=""}if(!e){e=null}if(!d){d=""}if(!b){b=""}var f=new Object();this.client.addParam(f,"reportTitle",a);this.client.addParam(f,"reportText",k);this.client.addParam(f,"headers",c);this.client.addParam(f,"reportType",h);this.client.addParam(f,"reportInputFilter",toParams(j));this.client.addParam(f,"dimension",g);if(e!=null){this.client.addParam(f,"pager",toParams(e))}this.client.addParam(f,"order",d);this.client.addParam(f,"objectIds",b);this.client.queueServiceActionCall("report","getUrlForReportAsCsv",f);if(!this.client.isMultiRequest()){this.client.doQueue(l)}};function KalturaSearchService(a){this.init(a)}KalturaSearchService.inheritsFrom(KalturaServiceBase);KalturaSearchService.prototype.search=function(d,c,a){if(!a){a=null}var b=new Object();this.client.addParam(b,"search",toParams(c));if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("search","search",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSearchService.prototype.getMediaInfo=function(c,a){var b=new Object();this.client.addParam(b,"searchResult",toParams(a));this.client.queueServiceActionCall("search","getMediaInfo",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSearchService.prototype.searchUrl=function(d,a,c){var b=new Object();this.client.addParam(b,"mediaType",a);this.client.addParam(b,"url",c);this.client.queueServiceActionCall("search","searchUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSearchService.prototype.externalLogin=function(e,d,c,b){var a=new Object();this.client.addParam(a,"searchSource",d);this.client.addParam(a,"userName",c);this.client.addParam(a,"password",b);this.client.queueServiceActionCall("search","externalLogin",a);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaSessionService(a){this.init(a)}KalturaSessionService.inheritsFrom(KalturaServiceBase);KalturaSessionService.prototype.start=function(h,a,e,f,g,d,c){if(!e){e=""}if(!f){f=0}if(!g){g=-1}if(!d){d=86400}if(!c){c=""}var b=new Object();this.client.addParam(b,"secret",a);this.client.addParam(b,"userId",e);this.client.addParam(b,"type",f);this.client.addParam(b,"partnerId",g);this.client.addParam(b,"expiry",d);this.client.addParam(b,"privileges",c);this.client.queueServiceActionCall("session","start",b);if(!this.client.isMultiRequest()){this.client.doQueue(h)}};KalturaSessionService.prototype.startWidgetSession=function(d,c,b){if(!b){b=86400}var a=new Object();this.client.addParam(a,"widgetId",c);this.client.addParam(a,"expiry",b);this.client.queueServiceActionCall("session","startWidgetSession",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaStatsService(a){this.init(a)}KalturaStatsService.inheritsFrom(KalturaServiceBase);KalturaStatsService.prototype.collect=function(c,b){var a=new Object();this.client.addParam(a,"event",toParams(b));this.client.queueServiceActionCall("stats","collect",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaStatsService.prototype.kmcCollect=function(c,b){var a=new Object();this.client.addParam(a,"kmcEvent",toParams(b));this.client.queueServiceActionCall("stats","kmcCollect",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaStatsService.prototype.reportKceError=function(c,b){var a=new Object();this.client.addParam(a,"kalturaCEError",toParams(b));this.client.queueServiceActionCall("stats","reportKceError",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaSyndicationFeedService(a){this.init(a)}KalturaSyndicationFeedService.inheritsFrom(KalturaServiceBase);KalturaSyndicationFeedService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"syndicationFeed",toParams(b));this.client.queueServiceActionCall("syndicationFeed","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSyndicationFeedService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("syndicationFeed","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSyndicationFeedService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"syndicationFeed",toParams(b));this.client.queueServiceActionCall("syndicationFeed","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("syndicationFeed","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSyndicationFeedService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("syndicationFeed","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.getEntryCount=function(c,a){var b=new Object();this.client.addParam(b,"feedId",a);this.client.queueServiceActionCall("syndicationFeed","getEntryCount",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSyndicationFeedService.prototype.requestConversion=function(c,a){var b=new Object();this.client.addParam(b,"feedId",a);this.client.queueServiceActionCall("syndicationFeed","requestConversion",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaSystemService(a){this.init(a)}KalturaSystemService.inheritsFrom(KalturaServiceBase);KalturaSystemService.prototype.ping=function(b){var a=new Object();this.client.queueServiceActionCall("system","ping",a);if(!this.client.isMultiRequest()){this.client.doQueue(b)}};function KalturaUiConfService(a){this.init(a)}KalturaUiConfService.inheritsFrom(KalturaServiceBase);KalturaUiConfService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"uiConf",toParams(b));this.client.queueServiceActionCall("uiConf","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUiConfService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"uiConf",toParams(b));this.client.queueServiceActionCall("uiConf","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("uiConf","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUiConfService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("uiConf","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUiConfService.prototype.cloneAction=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("uiConf","clone",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUiConfService.prototype.listTemplates=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("uiConf","listTemplates",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("uiConf","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaUploadService(a){this.init(a)}KalturaUploadService.inheritsFrom(KalturaServiceBase);KalturaUploadService.prototype.upload=function(c,b){var a=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",b);this.client.queueServiceActionCall("upload","upload",a,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUploadService.prototype.getUploadedFileTokenByFileName=function(c,b){var a=new Object();this.client.addParam(a,"fileName",b);this.client.queueServiceActionCall("upload","getUploadedFileTokenByFileName",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaUserService(a){this.init(a)}KalturaUserService.inheritsFrom(KalturaServiceBase);KalturaUserService.prototype.add=function(c,a){var b=new Object();this.client.addParam(b,"user",toParams(a));this.client.queueServiceActionCall("user","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUserService.prototype.update=function(d,c,a){var b=new Object();this.client.addParam(b,"userId",c);this.client.addParam(b,"user",toParams(a));this.client.queueServiceActionCall("user","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"userId",b);this.client.queueServiceActionCall("user","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUserService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"userId",b);this.client.queueServiceActionCall("user","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaUserService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("user","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.notifyBan=function(c,b){var a=new Object();this.client.addParam(a,"userId",b);this.client.queueServiceActionCall("user","notifyBan",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaWidgetService(a){this.init(a)}KalturaWidgetService.inheritsFrom(KalturaServiceBase);KalturaWidgetService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"widget",toParams(b));this.client.queueServiceActionCall("widget","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaWidgetService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"id",c);this.client.addParam(a,"widget",toParams(b));this.client.queueServiceActionCall("widget","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"id",b);this.client.queueServiceActionCall("widget","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaWidgetService.prototype.cloneAction=function(c,b){var a=new Object();this.client.addParam(a,"widget",toParams(b));this.client.queueServiceActionCall("widget","clone",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaWidgetService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("widget","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaXInternalService(a){this.init(a)}KalturaXInternalService.inheritsFrom(KalturaServiceBase);KalturaXInternalService.prototype.xAddBulkDownload=function(d,c,b){if(!b){b=""}var a=new Object();this.client.addParam(a,"entryIds",c);this.client.addParam(a,"flavorParamsId",b);this.client.queueServiceActionCall("xInternal","xAddBulkDownload",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSystemUserService(a){this.init(a)}KalturaSystemUserService.inheritsFrom(KalturaServiceBase);KalturaSystemUserService.prototype.verifyPassword=function(d,c,b){var a=new Object();this.client.addParam(a,"email",c);this.client.addParam(a,"password",b);this.client.queueServiceActionCall("systemUser","verifyPassword",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.generateNewPassword=function(b){var a=new Object();this.client.queueServiceActionCall("systemUser","generateNewPassword",a);if(!this.client.isMultiRequest()){this.client.doQueue(b)}};KalturaSystemUserService.prototype.setNewPassword=function(d,c,b){var a=new Object();this.client.addParam(a,"userId",c);this.client.addParam(a,"password",b);this.client.queueServiceActionCall("systemUser","setNewPassword",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.add=function(c,b){var a=new Object();this.client.addParam(a,"systemUser",toParams(b));this.client.queueServiceActionCall("systemUser","add",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"userId",b);this.client.queueServiceActionCall("systemUser","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.getByEmail=function(c,b){var a=new Object();this.client.addParam(a,"email",b);this.client.queueServiceActionCall("systemUser","getByEmail",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.update=function(d,c,b){var a=new Object();this.client.addParam(a,"userId",c);this.client.addParam(a,"systemUser",toParams(b));this.client.queueServiceActionCall("systemUser","update",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.deleteAction=function(c,b){var a=new Object();this.client.addParam(a,"userId",b);this.client.queueServiceActionCall("systemUser","delete",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("systemUser","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSystemPartnerService(a){this.init(a)}KalturaSystemPartnerService.inheritsFrom(KalturaServiceBase);KalturaSystemPartnerService.prototype.get=function(c,b){var a=new Object();this.client.addParam(a,"partnerId",b);this.client.queueServiceActionCall("systemPartner","get",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemPartnerService.prototype.getUsage=function(e,b,d,a){if(!b){b=null}if(!d){d=null}if(!a){a=null}var c=new Object();if(b!=null){this.client.addParam(c,"partnerFilter",toParams(b))}if(d!=null){this.client.addParam(c,"usageFilter",toParams(d))}if(a!=null){this.client.addParam(c,"pager",toParams(a))}this.client.queueServiceActionCall("systemPartner","getUsage",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("systemPartner","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.updateStatus=function(d,c,a){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.addParam(b,"status",a);this.client.queueServiceActionCall("systemPartner","updateStatus",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.getAdminSession=function(c,b){var a=new Object();this.client.addParam(a,"partnerId",b);this.client.queueServiceActionCall("systemPartner","getAdminSession",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemPartnerService.prototype.updateConfiguration=function(d,b,c){var a=new Object();this.client.addParam(a,"partnerId",b);this.client.addParam(a,"configuration",toParams(c));this.client.queueServiceActionCall("systemPartner","updateConfiguration",a);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.getConfiguration=function(c,b){var a=new Object();this.client.addParam(a,"partnerId",b);this.client.queueServiceActionCall("systemPartner","getConfiguration",a);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaFileSyncService(a){this.init(a)}KalturaFileSyncService.inheritsFrom(KalturaServiceBase);KalturaFileSyncService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("fileSync","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFlavorParamsOutputService(a){this.init(a)}KalturaFlavorParamsOutputService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsOutputService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("flavorParamsOutput","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaMediaInfoService(a){this.init(a)}KalturaMediaInfoService.inheritsFrom(KalturaServiceBase);KalturaMediaInfoService.prototype.listAction=function(d,c,a){if(!c){c=null}if(!a){a=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}if(a!=null){this.client.addParam(b,"pager",toParams(a))}this.client.queueServiceActionCall("mediaInfo","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaEntryAdminService(a){this.init(a)}KalturaEntryAdminService.inheritsFrom(KalturaServiceBase);KalturaEntryAdminService.prototype.get=function(d,c,a){if(!a){a=-1}var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"version",a);this.client.queueServiceActionCall("entryAdmin","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};(function(){var a=function(){var b=window.console;if(b&&b.log){b.log(Array.prototype.slice.call(arguments))}};tinymce.create("tinymce.plugins.Kaltura",{init:function(c,d){var b=this;var f=this;this._url=d;this.editor=c;this.entry_ids=[];c.onInit.add(function(){});function g(h){return(/^mceItemFlash$/).test(h.className)}c.addCommand("mceKaltura",function(){a("button pressed");var h=function(k,j){if(k){a("We have a session",j);b.session_key=j;b.flashVars={uid:b.local_user,partnerId:b.partner_id,ks:j,afterAddEntry:"_onContributionWizardAddEntry",close:"_onContributionWizardClose",showCloseButton:true,Permissions:1};window._onContributionWizardAddEntry=function(l){b._onContributionWizardAddEntry(l)};window._onContributionWizardClose=function(){b._onContributionWizardClose()};this.entry_ids=[];b._createDialog();b.dialog.dialog("open")}else{alert("Session creation failed")}};b._requestKalturaSession(h);a("session requested")});c.addButton("kaltura",{title:"kaltura.kaltura_button_desc",image:d+"/images/interactive_video_button.gif",cmd:"mceKaltura"});c.onNodeChange.add(function(j,h,k){h.setActive("kaltura",k.nodeName=="IMG"&&g(k))});c.onInit.add(function(){if(c.settings.content_css!==false){c.dom.loadCSS(d+"/css/content.css")}if(c&&c.plugins.contextmenu){c.plugins.contextmenu.onContextMenu.add(function(j,h,k){if(k.nodeName=="IMG"&&/mceItemFlash/.test(k.className)){h.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});c.onBeforeSetContent.add(function(j,m){var l=f.newEmbedSnippet();var k=m.content;var h=l._objectsToSpans(k);m.content=h},f);c.onSetContent.add(function(){var h=$(c.getBody());h.find("span.mceItemEmbed,span.mceItemObject").each(function(){var o=$(this);if(o.is("span.mceItemEmbed")&&o.parent().is("span.mceItemObject")){return}var m=f.newEmbedSnippet();var l;if($.browser.msie){l=o[0].outerHTML}else{var n=$("<div />");n.append(o.clone());l=n[0].innerHTML;n.remove()}var k=m._spansToObjects(l);var j=$("<img />").attr("src",f.url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",k).attr("width",o.attr("width")||null).attr("height",o.attr("height")||null);j=$("<div />").append(j).html();o.replaceWith(j)});h.find("span.mceEndObject").remove()});function e(h,j){j=new RegExp(j+'="([^"]+)"',"g").exec(h);return j?c.dom.decode(j[1]):""}c.onPostProcess.add(function(h,j){j.content=j.content.replace(/<img[^>]+>/g,function(l){var k=e(l,"class");k=k.replace(/^ */,"").replace(/ *$/,"");if(k=="mceMarker-embedmedia"){var m=f.newEmbedSnippet();m.setContent(e(l,"title"));m.setParms({width:e(l,"width"),height:e(l,"height")});l=m.getContent();m.wrapper.remove()}return l})})},newEmbedSnippet:function(){var c=function c(){};$.extend(c.prototype,{_objectsToSpans:function(d){d=d.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');d=d.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');d=d.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');d=d.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');d=d.replace(/<\/embed>/gi,"");d=d.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');d=d.replace(/<\/param>/gi,"");return d},_spansToObjects:function(d){d=d.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");d=d.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");d=d.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");d=d.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return d},setContent:function(h){this.wrapper=$("<div />");var k=this.wrapper;var g=this._objectsToSpans(h);k[0].innerHTML=g;this.root=k.children();var f=this.root;this.emtype=null;if(f.is("span.mceItemObject")){var e=f.find("span.mceItemEmbed");if(e){this.emtype="object+embed";this.inside=e;if(e.attr("mce_src")){e.removeAttr("mce_src")}}var j=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var d=[];$.each(j,function(l,n){var m=false;f.find("span.mceItemParam").each(function(q,r){var o=$(r).attr("name");if(o==n||o==n.toLowerCase()){m=true;return false}});if(!m){if(f.attr(n)){d.push({k:n,v:f.attr(n)})}else{if(f.attr(n.toLowerCase())){d.push({k:n,v:f.attr(n.toLowerCase())})}else{if(n=="movie"){if(f.attr("resource")){d.push({k:n,v:f.attr("resource")})}}}}}});$.each(d,function(l,m){try{$('<span class="mceItemParam"></span>').attr("name",m.k).attr("value",m.v).prependTo(f)}catch(n){}})}if(f.attr("mce_src")){f.removeAttr("mce_src")}return this},getContent:function(){var d=this.wrapper.html();var e=this._spansToObjects(d);return e},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(d){if(this.emtype=="object+embed"){if(d.width){this.root.attr("width",d.width);this.inside.attr("width",d.width)}if(d.height){this.root.attr("height",d.height);this.inside.attr("height",d.height)}}else{if(d.width){this.root.attr("width",d.width)}if(d.height){this.root.attr("height",d.height)}}return this}});this.newEmbedSnippet=function b(){return new c()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},_requestKalturaSession:function(j){var d=this;if(this.session_key){j(true,this.session_key)}else{this.partner_id=this.editor.getParam("kaltura_partner_id");this.sub_partner_id=this.editor.getParam("kaltura_sub_partner_id");var c=this.editor.getParam("kaltura_user_secret","");var h=this.editor.getParam("kaltura_admin_secret","");var g=this.editor.getParam("kaltura_session_url","");this.local_user=this.editor.getParam("kaltura_local_user","ANONYMOUS");this.kcw_uiconf_id=this.editor.getParam("kaltura_kcw_uiconf_id","1000741");this.player_uiconf_id=this.editor.getParam("kaltura_player_uiconf_id","");this.player_cache_st=this.editor.getParam("kaltura_player_cache_st","");var f=true;if(g){a("Start server session");$.ajax({url:g,success:function(k){if(k.error){a("Ajax returned error",k);j(false)}else{j(true,k.result.ks)}},error:function(l,k,m){a("Ajax failed",l,k,m);j(false)}})}else{a("Start client session");var e=new KalturaConfiguration(Number(this.partner_id));var b=new KalturaClient(e);this.session=new KalturaSessionService(b);this.session.start(function(l,k){if(l){a("session created",k);d.session_key=k}j(l,k)},f&&h||c,d.local_user,f&&KalturaSessionType.ADMIN||KalturaSessionType.USER,d.partner_id,undefined,undefined)}}},_createDialog:function(){if(!this.dialog){this.dialog=$('<div id="tiny-kaltura-kcw"></div>');this.dialog.hide().appendTo("body");this.dialog.dialog({width:680,dialogClass:"tiny-kaltura-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var b=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");b.removeClass("ui-dialog-content").css("overflow","hidden");b.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");var c=new SWFObject("http://www.kaltura.com/kcw/ui_conf_id/"+this.kcw_uiconf_id,"kcw","680","360","9.0.0","#FFFFFF");c.addParam("allowScriptAccess","always");c.addParam("allowNetworking","all");c.addParam("wmode","opaque");$.each(this.flashVars,function(d,e){c.addVariable(d,e)});c.useExpressInstall("expressInstall.swf");c.write("tiny-kaltura-kcw")}},_onContributionWizardAddEntry:function(b){a(b.length+" media file/s was/were successfully uploaded");var c;for(c=0;c<b.length;c++){a("entries["+c+"]:EntryID = "+b[c].entryId);a("entries["+c+"]:",b[c]);this.entry_ids.push(b[c].entryId)}},_onContributionWizardClose:function(){var b=this;this.dialog.dialog("close");a("closed Kaltura Contribution Wizard");if(this.entry_ids.length===0){a("No entry.");return}a("Will insert videos #:",this.entry_ids.length);$.each(this.entry_ids,function(d){if(d>0){b.editor.execCommand("mceInsertContent",false,"<br>")}var c=this;a("Inserting entry id",c,d);b._insertMedia({entry_id:c})});this.editor.execCommand("mceRepaint");a("Success with insertion.")},createControl:function(c,b){return null},_makeKalturaMarkup:function(c){c.width=c.width||400;c.height=c.height||333;var b='<objectid="kaltura_player"name="kaltura_player"type="application/x-shockwave-flash"allowfullscreen="true"allownetworking="all"allowscriptaccess="always"xmlns:dc="http://purl.org/dc/terms/"xmlns:media="http://search.yahoo.com/searchmonkey/media/"rel="media:video"resource="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+c.entry_id+'"data="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+c.entry_id+'"height="'+c.height+'"width="'+c.width+'"><param name="allowFullScreen" value="true"><param name="allowNetworking" value="all"><param name="allowScriptAccess" value="always"><param name="bgcolor" value="#000000"><param name="flashVars" value="&amp;"><param name="movie" value="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+c.entry_id+'"><a href="http://corp.kaltura.com">video platform</a><a href="http://corp.kaltura.com/video_platform/video_management">video management</a><a href="http://corp.kaltura.com/solutions/video_solution">video solutions</a><a href="http://corp.kaltura.com/video_platform/video_publishing">video player</a><a rel="media:thumbnail" href="http://cdnbakmi.kaltura.com/p/'+this.partner_id+"/sp/"+this.sub_partner_id+"/thumbnail/entry_id/"+c.entry_id+'/width/120/height/90/bgcolor/000000/type/2"></a><span property="media:width" content="'+c.width+'"></span><span property="media:height" content="'+c.height+'"></span><span property="media:type" content="application/x-shockwave-flash"></span></object>';return b},_insertMedia:function(c){var d=this._makeKalturaMarkup(c);var g=this.newEmbedSnippet();g.setContent(d);var f=g.getParms();var b=$("<img />").attr("src",this._url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",g.getContent()).attr("width",f.width).attr("height",f.height);var e=$("<div />").append(b).html();a("Will insert:",e);this.editor.execCommand("mceInsertContent",false,e)},getInfo:function(){return{longname:"All in One Video Pack",author:"Kaltura",authorurl:"http://www.kaltura.com",infourl:"http://corp.kaltura.com",version:"1.0"}}});tinymce.PluginManager.add("kaltura",tinymce.plugins.Kaltura);tinymce.PluginManager.requireLangPack("kaltura")})();tinyMCE.addI18n("en.kaltura",{kaltura_button_desc:"Insert/edit Kaltura video"});(function(){var j=new Array();var b=new Array();var c=false;tinymce.create("tinymce.plugins.AdvImageScale",{init:function(q,r){q.onMouseDown.add(function(s,u){var t=tinyMCE.activeEditor.selection.getNode();if(t!=null&&t.nodeName=="IMG"){n(s,u.target)}return true});q.onMouseUp.add(function(s,u){var t=tinyMCE.activeEditor.selection.getNode();if(t!=null&&t.nodeName=="IMG"){setTimeout(function(){k(s,t)},100)}return true});q.onPreProcess.add(function(s,t){if(!t.set){return}tinymce.each(s.dom.select("img",t.node),function(u){k(s,u)})});q.onInit.add(function(s){s.selection.onSetContent.add(function(u,v){var t=u.getNode();tinymce.each(s.dom.select("img",t),function(z){if(z.id!="__mce_tmp"){k(s,z)}})})});if(q.getParam("advimagescale_reject_external_dragdrop",true)){q.onMouseDown.add(function(s){c=true});q.onMouseUp.add(function(s){c=false});q.onInit.add(function(s,t){tinymce.dom.Event.add(s.getBody().parentNode,"dragdrop",function(u){c=false})});var o=(tinymce.isIE)?"dragenter":"dragover";q.onInit.add(function(s,t){tinymce.dom.Event.add(s.getBody().parentNode,o,function(u){if(!c){return tinymce.dom.Event.cancel(u)}})})}},getInfo:function(){return{longname:"Advanced Image Resize Helper",author:"Marc Hodgins",authorurl:"http://www.hodginsmedia.com",infourl:"http://code.google.com/p/tinymce-plugin-advimagescale",version:"1.1.3"}}});tinymce.PluginManager.add("advimagescale",tinymce.plugins.AdvImageScale);function a(o,r){var s=o.dom;var q=s.getAttrib(r,"mce_advimageresize_id");if(!j[q]){j[q]=b[q]={width:s.getAttrib(r,"width",r.width),height:s.getAttrib(r,"height",r.height)}}return true}function n(o,r){var s=o.dom;var q=s.getAttrib(r,"mce_advimageresize_id");if(!q){var q=o.id+"_"+o.dom.uniqueId();s.setAttrib(r,"mce_advimageresize_id",q);a(o,r)}return q}function k(z,q,A){var s=z.dom;var t=n(z,q);var v=(s.getAttrib(q,"width")!=b[t].width||s.getAttrib(q,"height")!=b[t].height);if(!v){return}if(s.getAttrib(q,"mce_noresize")||s.hasClass(q,z.getParam("advimagescale_noresize_class","noresize"))||z.getParam("advimagescale_noresize_all")){s.setAttrib(q,"width",b[t].width);s.setAttrib(q,"height",b[t].height);if(tinymce.isGecko){e(z)}return}if(z.getParam("advimagescale_fix_border_glitch",true)){f(z,q);a(z,q)}var u=z.getParam("advimagescale_filter_src");if(u){var o=new RegExp(u);if(!q.src.match(o)){return}}var C=z.getParam("advimagescale_filter_class");if(C){if(!s.hasClass(q,C)){return}}var B={width:s.getAttrib(q,"width",q.width),height:s.getAttrib(q,"height",q.height)};if(z.getParam("advimagescale_maintain_aspect_ratio",true)){B=d(z,q,B.width,B.height)}B=h(z,q,B.width,B.height);var D=(s.getAttrib(q,"width",q.width)!=B.width||s.getAttrib(q,"height",q.height)!=B.height);if(D){s.setAttrib(q,"width",B.width);s.setAttrib(q,"height",B.height);if(tinymce.isGecko){e(z)}}if(z.getParam("advimagescale_append_to_url")){g(z,q,s.getAttrib(q,"width",q.width),s.getAttrib(q,"height",q.height))}if(b[t].width!=s.getAttrib(q,"width",q.width)||b[t].height!=s.getAttrib(q,"height",q.height)){if(z.getParam("advimagescale_resize_callback")){z.getParam("advimagescale_resize_callback")(z,q)}}b[t]={width:s.getAttrib(q,"width",q.width),height:s.getAttrib(q,"height",q.height)}}function f(z,o){var t=z.dom;var u=t.getAttrib(o,"mce_advimageresize_id");var q=t.getAttrib(o,"width",o.width);var r=t.getAttrib(o,"height",o.height);var A=false;if(q!=b[u].width){var v=0;v+=parseInt(t.getStyle(o,"borderLeftWidth","borderLeftWidth"));v+=parseInt(t.getStyle(o,"borderRightWidth","borderRightWidth"));if(v>0){t.setAttrib(o,"width",(q-v));A=true}}if(r!=b[u].height){var s=0;s+=parseInt(t.getStyle(o,"borderTopWidth","borderTopWidth"));s+=parseInt(t.getStyle(o,"borderBottomWidth","borderBottomWidth"));if(s>0){t.setAttrib(o,"height",(r-s));A=true}}if(A&&tinymce.isGecko){e(z)}}function e(o){o.execCommand("mceRepaint",false)}function g(q,s,o,r){var z=q.dom;var u=z.getAttrib(s,"src");var t=q.getParam("advimagescale_url_width_key","w");u=l(u,t,o);var v=q.getParam("advimagescale_url_height_key","h");u=l(u,v,r);if(u==z.getAttrib(s,"src")){return}if(q.getParam("advimagescale_loading_callback")){q.getParam("advimagescale_loading_callback")(s)}if(q.getParam("advimagescale_loaded_callback")){tinymce.dom.Event.add(s,"load",m,{el:s,ed:q})}z.setAttrib(s,"src",u)}function m(r){var q=this.el;var o=this.ed;var s=o.getParam("advimagescale_loaded_callback");s(q);tinymce.dom.Event.remove(q,"load",m)}function l(q,o,r){if(!q.match(/\?/)){q+="?"}if(!q.match(new RegExp("([?&])"+o+"="))){if(!q.match(/[&\?]$/)){q+="&"}q+=o+"="+escape(r)}else{q=q.replace(new RegExp("([?&])"+o+"=[^&]*"),"$1"+o+"="+escape(r))}return q}function d(z,s,C,v){var t=z.dom.getAttrib(s,"mce_advimageresize_id");var A=j[t].width/j[t].height;var r=b[t].width;var D=b[t].height;var u=Math.abs(r-C);var o=Math.abs(D-v);var q=Math.abs(u/r);var B=Math.abs(o/D);if(u||o){if(q>B){return{width:C,height:Math.round(C/A)}}else{return{width:Math.round(v*A),height:v}}}return{width:C,height:v}}function h(z,q,D,v){var u=z.dom.getAttrib(q,"mce_advimageresize_id");var o=z.getParam("advimagescale_max_width");var C=z.getParam("advimagescale_max_height");var t=z.getParam("advimagescale_min_width");var E=z.getParam("advimagescale_min_height");var s=z.getParam("advimagescale_maintain_aspect_ratio",true);var A=j[u].width;var r=j[u].height;var B=A/r;if(o&&D>o){D=o;v=s?Math.round(D/B):v}if(C&&v>C){v=C;D=s?Math.round(v*B):D}if(t&&D<t){D=t;v=s?Math.round(D/B):v}if(E&&v<E){v=E;D=s?Math.round(v*B):v}return{width:D,height:v}}})();(function(){tinymce.create("tinymce.plugins.wicked",{init:function(e,f){var g=this;g.editor=e;g.url=f;e.addCommand("isoAddWicked",g.isoAddWicked,g);e.addCommand("isoDelWicked",g.isoDelWicked,g);e.onNodeChange.add(function(j,h,l,k){g.handleNodeChange(j,h,l,k)});e.addButton("addwickedlink",{title:"wicked.addwicked_desc",cmd:"isoAddWicked",image:g.url+"/images/addwicked.gif"});e.addButton("delwickedlink",{title:"wicked.delwicked_desc",cmd:"isoDelWicked",image:g.url+"/images/delwicked.gif"})},getInfo:function b(){return{longname:"Wicked plugin",author:"Balazs Ree <ree@greenfinity.hu>",authorurl:"",infourl:"",version:"1.1"}},re_wikilink:/^\(\(.*?\)\)$/,handleNodeChange:function a(f,e,k,h){var g=f.selection;if(!g.isCollapsed()){var j=g.getContent();if(this.re_wikilink.test(j)){e.setDisabled("addwickedlink",true);e.setDisabled("delwickedlink",false)}else{e.setDisabled("addwickedlink",false);e.setDisabled("delwickedlink",true)}}else{e.setDisabled("addwickedlink",true);e.setDisabled("delwickedlink",true)}return true},isoAddWicked:function d(h,g,j){var e=this.editor;var f=e.selection;if(!f.isCollapsed()){var k=f.getContent();f.setContent("(("+k+"))")}},isoDelWicked:function c(h,g,j){var e=this.editor;var f=e.selection;if(!f.isCollapsed()){var k=f.getContent();if(this.re_wikilink.test(k)){f.setContent(k.slice(2,-2))}}}});tinymce.PluginManager.add("wicked",tinymce.plugins.wicked);tinymce.PluginManager.requireLangPack("wicked")})();tinyMCE.addI18n("en.wicked",{addwicked_desc:"Add Wiki link",delwicked_desc:"Remove Wiki link"});