(function(b){b(document).ready(function(){var d=window.karl_client_data&&karl_client_data.text||{};var e=window.karl_client_data&&karl_client_data.kaltura||{};var c="paste,embedmedia,spellchecker,imagedrawer,advlist,lists,print,table,tinyautosave";if(d.enable_wiki_plugin){c+=",wicked"}if(e.enabled){c+=",kaltura"}var g=b("#karl-here-url")[0].content;var f=b("#karl-static-url")[0].content+"/tinymce/3.3.9.2";b(".mceEditor").tinysafe({load_js:false,load_editor_css:false,script_url:f,theme:"advanced",skin:"karl",mode:"specific_textareas",height:"400",width:"550",convert_urls:false,gecko_spellcheck:true,submit_patch:false,entity_encoding:"numeric",add_form_submit_trigger:false,add_unload_trigger:false,strict_loading_mode:true,paste_create_paragraphs:false,paste_create_linebreaks:false,paste_use_dialog:false,paste_auto_cleanup_on_paste:true,paste_convert_middot_lists:true,paste_unindented_list_class:"unindentedList",paste_convert_headers_to_strong:true,theme_advanced_toolbar_location:"top",theme_advanced_buttons1:"bold, italic, underline, |, forecolor, backcolor, removeformat, |, bullist, numlist, |, justifycenter, justifyleft,justifyright, justifyfull, |, indent, outdent, |, image, embedmedia, kaltura, |, print",theme_advanced_buttons2:"formatselect, fontselect, fontsizeselect, |, blockquote, hr, |, link, addwickedlink, delwickedlink, code, spellchecker, tinyautosave",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"center",plugins:c,extended_valid_elements:"object[classid|codebase|width|height],param[name|value],embed[quality|type|pluginspage|width|height|src|wmode|swliveconnect|allowscriptaccess|allowfullscreen|seamlesstabbing|name|base|flashvars|flashVars|bgcolor],script[src]",relative_urls:false,forced_root_block:"p",spellchecker_rpc_url:"/tinymce_spellcheck",spellchecker_languages:"+English=en",imagedrawer_dialog_url:g+"drawer_dialog_view.html",imagedrawer_upload_url:g+"drawer_upload_view.html",imagedrawer_data_url:g+"drawer_data_view.html",imagedrawer_enable_upload:d.enable_imagedrawer_upload,kaltura_partner_id:e.partner_id,kaltura_sub_partner_id:e.sub_partner_id,kaltura_local_user:e.local_user,kaltura_user_secret:e.user_secret,kaltura_admin_secret:e.admin_secret,kaltura_kcw_uiconf_id:e.kcw_uiconf_id,kaltura_player_uiconf_id:e.player_uiconf_id,kaltura_player_cache_st:e.player_cache_st,kaltura_session_url:e.session_url})})})(jQuery);(function(c){var f,e,b=[],d=window;c.fn.tinysafe=function(m){var t=this,j,n,k,q,l,o="",r="";if(!t.length){return t}if(!m){return tinyMCE.get(t[0].id)}function s(){var z=[],v=0;t.each(function(B,C){var A,E=C.id,D=m.oninit;if(!E){C.id=E=tinymce.DOM.uniqueId()}A=new tinymce.Editor(E,m);z.push(A);if(D){A.onInit.add(function(){var F,G=D;if(++v==z.length){if(tinymce.is(G,"string")){F=(G.indexOf(".")===-1)?null:tinymce.resolve(G.replace(/\.\w+$/,""));G=tinymce.resolve(G)}G.apply(F||tinymce,z)}})}});c.each(z,function(B,A){A.render()})}var j=m.script_url;if(m.load_js===false){if(j.charAt(j.length-1)!="/"){j+="/"}j+="gzip"}if(m.load_editor_css===false){var u;c("link").each(function(){var v=c(this);if(v.attr("rel")=="stylesheet"&&(!v.attr("type")||v.attr("type")=="text/css")&&v.attr("href")&&(!v.attr("media")||v.attr("media")=="screen")){u=v.attr("href");return false}});if(!u){u="MISS"}m.editor_css=u}if((m.load_js===false)||(!d.tinymce&&!e&&j)){e=1;k=j.substring(0,j.lastIndexOf("/"));if(/_(src|dev)\.js/g.test(j)){r="_src"}q=j.lastIndexOf("?");if(q!=-1){o=j.substring(q+1)}d.tinyMCEPreInit=d.tinyMCEPreInit||{base:k,suffix:r,query:o};if(j.indexOf("gzip")!=-1){l=m.language||"en";j=j+(/\?/.test(j)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(m.theme)+"&plugins="+escape(m.plugins)+"&languages="+l;if(!d.tinyMCE_GZ){tinyMCE_GZ={start:function(){tinymce.suffix=r;function v(z){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(z))}v("langs/"+l+".js");v("themes/"+m.theme+"/editor_template"+r+".js");v("themes/"+m.theme+"/langs/"+l+".js");c.each(m.plugins.split(","),function(A,z){if(z){v("plugins/"+z+"/editor_plugin"+r+".js");v("plugins/"+z+"/langs/"+l+".js")}})},end:function(){}}}}if(m.load_js===false){tinymce.baseURL=new tinymce.util.URI(tinymce.documentBaseURL).toAbsolute(tinyMCEPreInit.base);if(tinymce.baseURL.charAt(tinymce.baseURL.length-1)=="/"){tinymce.baseURL=tinymce.baseURL.substr(0,tinymce.baseURL.length-1)}tinymce.baseURI=new tinymce.util.URI(tinymce.baseURL);tinymce.dom.Event.domLoaded=1;tinyMCE_GZ.start();if(m.script_loaded){m.script_loaded()}s()}(m.load_js!==false)&&c.ajax({type:"GET",url:j,dataType:"script",cache:true,success:function(){tinymce.dom.Event.domLoaded=1;e=2;if(m.script_loaded){m.script_loaded()}s();c.each(b,function(v,z){z()})}})}else{if(e===1){b.push(s)}else{s()}}return t};c.extend(c.expr[":"],{tinymce:function(j){return j.id&&!!tinyMCE.get(j.id)}});function g(){function l(o){if(o==="remove"){this.each(function(r,s){var q=k(s);if(q){q.remove()}})}this.find("span.mceEditor,div.mceEditor").each(function(r,s){var q=tinyMCE.get(s.id.replace(/_parent$/,""));if(q){q.remove()}})}function n(r){var q=this,o;if(r!==f){l.call(q);q.each(function(t,u){var s;if(s=tinyMCE.get(u.id)){s.setContent(r)}})}else{if(q.length>0){if(o=tinyMCE.get(q[0].id)){return o.getContent()}}}}function k(q){var o=null;(q)&&(q.id)&&(d.tinymce)&&(o=tinyMCE.get(q.id));return o}function j(o){return !!((o)&&(o.length)&&(d.tinymce)&&(o.is(":tinymce")))}var m={};c.each(["text","html","val"],function(r,o){var s=m[o]=c.fn[o],q=(o==="text");c.fn["tiny_"+o]=function(z){var t=this;if(!j(t)){return s.apply(t,arguments)}if(z!==f){n.call(t.filter(":tinymce"),z);s.apply(t.not(":tinymce"),arguments);return t}else{var v="";var u=arguments;(q?t:t.eq(0)).each(function(B,C){var A=k(C);v+=A?(q?A.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):A.getContent()):s.apply(c(C),u)});return v}}});c.each(["append","prepend"],function(r,q){var s=m[q]=c.fn[q],o=(q==="prepend");c.fn["tiny_"+q]=function(u){var t=this;if(!j(t)){return s.apply(t,arguments)}if(u!==f){t.filter(":tinymce").each(function(z,A){var v=k(A);v&&v.setContent(o?u+v.getContent():v.getContent()+u)});s.apply(t.not(":tinymce"),arguments);return t}}});c.each(["remove","replaceWith","replaceAll","empty"],function(q,o){var r=m[o]=c.fn[o];c.fn["tiny_"+o]=function(){l.call(this,o);return r.apply(this,arguments)}});m.attr=c.fn.attr;c.fn.tiny_attr=function(r,u,s){var q=this;if((!r)||(r!=="value")||(!j(q))){return m.attr.call(q,r,u,s)}if(u!==f){n.call(q.filter(":tinymce"),u);m.attr.call(q.not(":tinymce"),r,u,s);return q}else{var t=q[0],o=k(t);return o?o.getContent():m.attr.call(c(t),r,u,s)}}}if(g){g();g=null}})(jQuery);(function(e){var b=/^\s*|\s*$/g,f,d="B".replace(/A(.)|B/,"$1")==="$1";var c={majorVersion:"3",minorVersion:"3.9.2",releaseDate:"2010-09-29",_init:function(){var z=this,s=document,r=navigator,j=r.userAgent,q,g,o,m,l,u;z.isOpera=e.opera&&opera.buildNumber;z.isWebKit=/WebKit/.test(j);z.isIE=!z.isWebKit&&!z.isOpera&&(/MSIE/gi).test(j)&&(/Explorer/gi).test(r.appName);z.isIE6=z.isIE&&/MSIE [56]/.test(j);z.isGecko=!z.isWebKit&&/Gecko/.test(j);z.isMac=j.indexOf("Mac")!=-1;z.isAir=/adobeair/i.test(j);z.isIDevice=/(iPad|iPhone)/.test(j);if(e.tinyMCEPreInit){z.suffix=tinyMCEPreInit.suffix;z.baseURL=tinyMCEPreInit.base;z.query=tinyMCEPreInit.query;return}z.suffix="";g=s.getElementsByTagName("base");for(q=0;q<g.length;q++){if(u=g[q].href){if(/^https?:\/\/[^\/]+$/.test(u)){u+="/"}m=u?u.match(/.*\//)[0]:""}}function k(t){if(t.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(t.src)){if(/_(src|dev)\.js/g.test(t.src)){z.suffix="_src"}if((l=t.src.indexOf("?"))!=-1){z.query=t.src.substring(l+1)}z.baseURL=t.src.substring(0,t.src.lastIndexOf("/"));if(m&&z.baseURL.indexOf("://")==-1&&z.baseURL.indexOf("/")!==0){z.baseURL=m+z.baseURL}return z.baseURL}return null}g=s.getElementsByTagName("script");for(q=0;q<g.length;q++){if(k(g[q])){return}}o=s.getElementsByTagName("head")[0];if(o){g=o.getElementsByTagName("script");for(q=0;q<g.length;q++){if(k(g[q])){return}}}return},is:function(j,g){if(!g){return j!==f}if(g=="array"&&(j.hasOwnProperty&&j instanceof Array)){return true}return typeof(j)==g},each:function(m,g,k){var q,j;if(!m){return 0}k=k||m;if(m.length!==f){for(q=0,j=m.length;q<j;q++){if(g.call(k,m[q],q,m)===false){return 0}}}else{for(q in m){if(m.hasOwnProperty(q)){if(g.call(k,m[q],q,m)===false){return 0}}}}return 1},trim:function(g){return(g?""+g:"").replace(b,"")},create:function(r,g){var q=this,j,l,m,n,k,o=0;r=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(r);m=r[3].match(/(^|\.)(\w+)$/i)[2];l=q.createNS(r[3].replace(/\.\w+$/,""));if(l[m]){return}if(r[2]=="static"){l[m]=g;if(this.onCreate){this.onCreate(r[2],r[3],l[m])}return}if(!g[m]){g[m]=function(){};o=1}l[m]=g[m];q.extend(l[m].prototype,g);if(r[5]){j=q.resolve(r[5]).prototype;n=r[5].match(/\.(\w+)$/i)[1];k=l[m];if(o){l[m]=function(){return j[n].apply(this,arguments)}}else{l[m]=function(){this.parent=j[n];return k.apply(this,arguments)}}l[m].prototype[m]=l[m];q.each(j,function(s,t){l[m].prototype[t]=j[t]});q.each(g,function(s,t){if(j[t]){l[m].prototype[t]=function(){this.parent=j[t];return s.apply(this,arguments)}}else{if(t!=m){l[m].prototype[t]=s}}})}q.each(g["static"],function(s,t){l[m][t]=s});if(this.onCreate){this.onCreate(r[2],r[3],l[m].prototype)}},walk:function(k,j,l,g){g=g||this;if(k){if(l){k=k[l]}c.each(k,function(n,m){if(j.call(g,n,m,l)===false){return false}c.walk(n,j,l,g)})}},createNS:function(l,k){var j,g;k=k||e;l=l.split(".");for(j=0;j<l.length;j++){g=l[j];if(!k[g]){k[g]={}}k=k[g]}return k},resolve:function(m,k){var j,g;k=k||e;m=m.split(".");for(j=0,g=m.length;j<g;j++){k=k[m[j]];if(!k){break}}return k},addUnload:function(l,k){var j=this;l={func:l,scope:k||this};if(!j.unloads){function g(){var q=j.unloads,r,s;if(q){for(s in q){r=q[s];if(r&&r.func){r.func.call(r.scope,1)}}if(e.detachEvent){e.detachEvent("onbeforeunload",m);e.detachEvent("onunload",g)}else{if(e.removeEventListener){e.removeEventListener("unload",g,false)}}j.unloads=r=q=w=g=0;if(e.CollectGarbage){CollectGarbage()}}}function m(){var o=document;if(o.readyState=="interactive"){function n(){o.detachEvent("onstop",n);if(g){g()}o=0}if(o){o.attachEvent("onstop",n)}e.setTimeout(function(){if(o){o.detachEvent("onstop",n)}},0)}}if(e.attachEvent){e.attachEvent("onunload",g);e.attachEvent("onbeforeunload",m)}else{if(e.addEventListener){e.addEventListener("unload",g,false)}}j.unloads=[l]}else{j.unloads.push(l)}return l},removeUnload:function(k){var g=this.unloads,j=null;c.each(g,function(m,l){if(m&&m.func==k){g.splice(l,1);j=k;return false}});return j},explode:function(g,j){return g?c.map(g.split(j||","),c.trim):g},_addVer:function(j){var g;if(!this.query){return j}g=(j.indexOf("?")==-1?"?":"&")+this.query;if(j.indexOf("#")==-1){return j+g}return j.replace("#",g+"#")},_replace:function(k,g,j){if(d){return j.replace(k,function(){var n=g,l=arguments,m;for(m=0;m<l.length-2;m++){if(l[m]===f){n=n.replace(new RegExp("\\$"+m,"g"),"")}else{n=n.replace(new RegExp("\\$"+m,"g"),l[m])}}return n})}return j.replace(k,g)}};c._init();e.tinymce=e.tinyMCE=c})(window);(function(f,e){var d=e.is,c=/^(href|src|style)$/i,g;if(!f){return alert("Load jQuery first!")}e.$=f;e.adapter={patchEditor:function(m){var l=f.fn;function k(r,s){var q=this;if(s){q.removeAttr("_mce_style")}return l.css.apply(q,arguments)}function j(r,s){var q=this;if(c.test(r)){if(s!==g){q.each(function(t,u){m.dom.setAttrib(u,r,s)});return q}else{return q.attr("_mce_"+r)}}return l.attr.apply(q,arguments)}function n(q){return function(r){if(r){r=m.dom.processHTML(r)}return q.call(this,r)}}function o(q){if(q.css!==k){q.css=k;q.attr=j;q.html=n(l.html);q.append=n(l.append);q.prepend=n(l.prepend);q.after=n(l.after);q.before=n(l.before);q.replaceWith=n(l.replaceWith);q.tinymce=m;q.pushStack=function(){return o(l.pushStack.apply(this,arguments))}}return q}m.$=function(q,r){var s=m.getDoc();return o(f(q||s,s||r))}}};e.extend=f.extend;e.extend(e,{map:f.map,grep:function(j,k){return f.grep(j,k||function(){return 1})},inArray:function(j,k){return f.inArray(k,j||[])}});var b={"tinymce.dom.DOMUtils":{select:function(l,k){var j=this;return f.find(l,j.get(k)||j.get(j.settings.root_element)||j.doc,[])},is:function(k,j){return f(this.get(k)).is(j)}}};e.onCreate=function(j,l,k){e.extend(k,b[l])}})(window.jQuery,tinymce);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(b){this.scope=b||this;this.listeners=[]},add:function(b,c){this.listeners.push({cb:b,scope:c||this.scope});return b},addToTop:function(b,c){this.listeners.unshift({cb:b,scope:c||this.scope});return b},remove:function(b){var c=this.listeners,d=null;tinymce.each(c,function(f,e){if(b==f.cb){d=b;c.splice(e,1);return false}});return d},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var b=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,j,d,c;e=tinymce.trim(e);g=f.settings=g||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^\w*:?\/\//.test(e)){e=(g.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(g.base_uri.path,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);b(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(k,l){var m=e[l];if(m){m=m.replace(/\(mce_at\)/g,"@@")}f[k]=m});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host=="mce_host"){f.port=c.port}if(!f.host||f.host=="mce_host"){f.host=c.host}f.source=""}},setPath:function(d){var c=this;d=/^(.*?)\/?(\w+)?$/.exec(d);c.path=d[0];c.directory=d[1];c.file=d[2];c.source="";c.getURI()},toRelative:function(c){var d=this,e;if(c==="./"){return c}c=new tinymce.util.URI(c,{base_uri:d});if((c.host!="mce_host"&&d.host!=c.host&&c.host)||d.port!=c.port||d.protocol!=c.protocol){return c.getURI()}e=d.toRelPath(d.path,c.path);if(c.query){e+="?"+c.query}if(c.anchor){e+="#"+c.anchor}return e},toAbsolute:function(c,d){var c=new tinymce.util.URI(c,{base_uri:this});return c.getURI(this.host==c.host&&this.protocol==c.protocol?d:0)},toRelPath:function(j,k){var d,g=0,e="",f,c;j=j.substring(0,j.lastIndexOf("/"));j=j.split("/");d=k.split("/");if(j.length>=d.length){for(f=0,c=j.length;f<c;f++){if(f>=d.length||j[f]!=d[f]){g=f+1;break}}}if(j.length<d.length){for(f=0,c=d.length;f<c;f++){if(f>=j.length||j[f]!=d[f]){g=f+1;break}}}if(g==1){return k}for(f=0,c=j.length-(g-1);f<c;f++){e+="../"}for(f=g-1,c=d.length;f<c;f++){if(f!=g-1){e+="/"+d[f]}else{e+=d[f]}}return e},toAbsPath:function(f,g){var d,c=0,k=[],e,j;e=/\/$/.test(g)?"/":"";f=f.split("/");g=g.split("/");b(f,function(l){if(l){k.push(l)}});f=k;for(d=g.length-1,k=[];d>=0;d--){if(g[d].length==0||g[d]=="."){continue}if(g[d]==".."){c++;continue}if(c>0){c--;continue}k.push(g[d])}d=f.length-c;if(d<=0){j=k.reverse().join("/")}else{j=f.slice(0,d).join("/")+"/"+k.reverse().join("/")}if(j.indexOf("/")!==0){j="/"+j}if(e&&j.lastIndexOf("/")!==j.length-1){j+=e}return j},getURI:function(e){var d,c=this;if(!c.source||e){d="";if(!e){if(c.protocol){d+=c.protocol+"://"}if(c.userInfo){d+=c.userInfo+"@"}if(c.host){d+=c.host}if(c.port){d+=":"+c.port}}if(c.path){d+=c.path}if(c.query){d+="?"+c.query}if(c.anchor){d+="#"+c.anchor}c.source=d}return c.source}})})();(function(){var b=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(e){var c=this.get(e),d;if(c){b(c.split("&"),function(f){f=f.split("=");d=d||{};d[unescape(f[0])]=unescape(f[1])})}return d},setHash:function(m,c,j,g,l,f){var k="";b(c,function(e,d){k+=(!k?"":"&")+escape(d)+"="+escape(e)});this.set(m,k,j,g,l,f)},get:function(k){var j=document.cookie,g,f=k+"=",d;if(!j){return}d=j.indexOf("; "+f);if(d==-1){d=j.indexOf(f);if(d!=0){return null}}else{d+=2}g=j.indexOf(";",d);if(g==-1){g=j.length}return unescape(j.substring(d+f.length,g))},set:function(l,c,j,g,k,f){document.cookie=l+"="+escape(c)+((j)?"; expires="+j.toGMTString():"")+((g)?"; path="+escape(g):"")+((k)?"; domain="+k:"")+((f)?"; secure":"")},remove:function(f,c){var e=new Date();e.setTime(e.getTime()-1000);this.set(f,"",e,c,e)}})})();tinymce.create("static tinymce.util.JSON",{serialize:function(f){var d,b,e=tinymce.util.JSON.serialize,c;if(f==null){return"null"}c=typeof f;if(c=="string"){b="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+f.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(j,g){d=b.indexOf(g);if(d+1){return"\\"+b.charAt(d+1)}j=g.charCodeAt().toString(16);return"\\u"+"0000".substring(j.length)+j})+'"'}if(c=="object"){if(f.hasOwnProperty&&f instanceof Array){for(d=0,b="[";d<f.length;d++){b+=(d>0?",":"")+e(f[d])}return b+"]"}b="{";for(d in f){b+=typeof f[d]!="function"?(b.length>1?',"':'"')+d+'":'+e(f[d]):""}return b+"}"}return""+f},parse:function(s){try{return eval("("+s+")")}catch(ex){}}});tinymce.create("static tinymce.util.XHR",{send:function(j){var b,f,d=window,k=0;j.scope=j.scope||this;j.success_scope=j.success_scope||j.scope;j.error_scope=j.error_scope||j.scope;j.async=j.async===false?false:true;j.data=j.data||"";function e(l){b=0;try{b=new ActiveXObject(l)}catch(c){}return b}b=d.XMLHttpRequest?new XMLHttpRequest():e("Microsoft.XMLHTTP")||e("Msxml2.XMLHTTP");if(b){if(b.overrideMimeType){b.overrideMimeType(j.content_type)}b.open(j.type||(j.data?"POST":"GET"),j.url,j.async);if(j.content_type){b.setRequestHeader("Content-Type",j.content_type)}b.setRequestHeader("X-Requested-With","XMLHttpRequest");b.send(j.data);function g(){if(!j.async||b.readyState==4||k++>10000){if(j.success&&k<10000&&b.status==200){j.success.call(j.success_scope,""+b.responseText,b,j)}else{if(j.error){j.error.call(j.error_scope,k>10000?"TIMED_OUT":"GENERAL",b,j)}}b=null}else{d.setTimeout(g,10)}}if(!j.async){return g()}f=d.setTimeout(g,10)}}});(function(){var d=tinymce.extend,c=tinymce.util.JSON,b=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(e){this.settings=d({},e);this.count=0},send:function(g){var f=g.error,e=g.success;g=d(this.settings,g);g.success=function(k,j){k=c.parse(k);if(typeof(k)=="undefined"){k={error:"JSON Parse error."}}if(k.error){f.call(g.error_scope||g.scope,k.error,j)}else{e.call(g.success_scope||g.scope,k.result)}};g.error=function(k,j){f.call(g.error_scope||g.scope,k,j)};g.data=c.serialize({id:g.id||"c"+(this.count++),method:g.method,params:g.params});g.content_type="application/json";b.send(g)},"static":{sendRPC:function(e){return new tinymce.util.JSONRequest().send(e)}}})}());(function(q){var n=q.each,m=q.is,l=q.isWebKit,e=q.isIE,b=/^(H[1-6R]|P|DIV|ADDRESS|PRE|FORM|T(ABLE|BODY|HEAD|FOOT|H|R|D)|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)$/,f=j("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),g=j("src,href,style,coords,shape"),d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},r=/[<>&\"]/g,c=/^([a-z0-9],?)+$/i,k=/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)(\s*\/?)>/g,o=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;function j(u){var t={},s;u=u.split(",");for(s=u.length;s>=0;s--){t[u[s]]=1}return t}q.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(B,z){var v=this,u;v.doc=B;v.win=window;v.files={};v.cssFlicker=false;v.counter=0;v.stdMode=B.documentMode>=8;v.boxModel=!q.isIE||B.compatMode=="CSS1Compat"||v.stdMode;v.settings=z=q.extend({keep_values:false,hex_colors:1,process_html:1},z);if(q.isIE6){try{B.execCommand("BackgroundImageCache",false,true)}catch(A){v.cssFlicker=true}}if(z.valid_styles){v._styles={};n(z.valid_styles,function(t,s){v._styles[s]=q.explode(t)})}q.addUnload(v.destroy,v)},getRoot:function(){var u=this,v=u.settings;return(v&&u.get(v.root_element))||u.doc.body},getViewPort:function(t){var u,s;t=!t?this.win:t;u=t.document;s=this.boxModel?u.documentElement:u.body;return{x:t.pageXOffset||s.scrollLeft,y:t.pageYOffset||s.scrollTop,w:t.innerWidth||s.clientWidth,h:t.innerHeight||s.clientHeight}},getRect:function(z){var v,s=this,u;z=s.get(z);v=s.getPos(z);u=s.getSize(z);return{x:v.x,y:v.y,w:u.w,h:u.h}},getSize:function(z){var u=this,s,v;z=u.get(z);s=u.getStyle(z,"width");v=u.getStyle(z,"height");if(s.indexOf("px")===-1){s=0}if(v.indexOf("px")===-1){v=0}return{w:parseInt(s)||z.offsetWidth||z.clientWidth,h:parseInt(v)||z.offsetHeight||z.clientHeight}},getParent:function(u,t,s){return this.getParents(u,t,s,false)},getParents:function(D,A,v,C){var u=this,s,z=u.settings,B=[];D=u.get(D);C=C===undefined;if(z.strict_root){v=v||u.getRoot()}if(m(A,"string")){s=A;if(A==="*"){A=function(t){return t.nodeType==1}}else{A=function(t){return u.is(t,s)}}}while(D){if(D==v||!D.nodeType||D.nodeType===9){break}if(!A||A(D)){if(C){B.push(D)}else{return D}}D=D.parentNode}return C?B:null},get:function(s){var t;if(s&&this.doc&&typeof(s)=="string"){t=s;s=this.doc.getElementById(s);if(s&&s.id!==t){return this.doc.getElementsByName(t)[1]}}return s},getNext:function(t,s){return this._findSib(t,s,"nextSibling")},getPrev:function(t,s){return this._findSib(t,s,"previousSibling")},add:function(z,B,s,v,A){var u=this;return this.run(z,function(D){var C,t;C=m(B,"string")?u.doc.createElement(B):B;u.setAttribs(C,s);if(v){if(v.nodeType){C.appendChild(v)}else{u.setHTML(C,v)}}return !A?D.appendChild(C):C})},create:function(u,s,t){return this.add(this.doc.createElement(u),u,s,t,1)},createHTML:function(B,s,z){var A="",v=this,u;A+="<"+B;for(u in s){if(s.hasOwnProperty(u)){A+=" "+u+'="'+v.encode(s[u])+'"'}}if(typeof(z)!="undefined"){return A+">"+z+"</"+B+">"}return A+" />"},remove:function(s,t){return this.run(s,function(v){var u,z;u=v.parentNode;if(!u){return null}if(t){while(z=v.firstChild){if(!q.isIE||z.nodeType!==3||z.nodeValue){u.insertBefore(z,v)}else{v.removeChild(z)}}}return u.removeChild(v)})},setStyle:function(A,s,u){var z=this;return z.run(A,function(B){var v,t;v=B.style;s=s.replace(/-(\D)/g,function(D,C){return C.toUpperCase()});if(z.pixelStyles.test(s)&&(q.is(u,"number")||/^[\-0-9\.]+$/.test(u))){u+="px"}switch(s){case"opacity":if(e){v.filter=u===""?"":"alpha(opacity="+(u*100)+")";if(!A.currentStyle||!A.currentStyle.hasLayout){v.display="inline-block"}}v[s]=v["-moz-opacity"]=v["-khtml-opacity"]=u||"";break;case"float":e?v.styleFloat=u:v.cssFloat=u;break;default:v[s]=u||""}if(z.settings.update_styles){z.setAttrib(B,"_mce_style")}})},getStyle:function(v,s,u){v=this.get(v);if(!v){return false}if(this.doc.defaultView&&u){s=s.replace(/[A-Z]/g,function(z){return"-"+z});try{return this.doc.defaultView.getComputedStyle(v,null).getPropertyValue(s)}catch(t){return null}}s=s.replace(/-(\D)/g,function(A,z){return z.toUpperCase()});if(s=="float"){s=e?"styleFloat":"cssFloat"}if(v.currentStyle&&u){return v.currentStyle[s]}return v.style[s]},setStyles:function(A,B){var v=this,z=v.settings,u;u=z.update_styles;z.update_styles=0;n(B,function(s,t){v.setStyle(A,t,s)});z.update_styles=u;if(z.update_styles){v.setAttrib(A,z.cssText)}},setAttrib:function(z,A,s){var u=this;if(!z||!A){return}if(u.settings.strict){A=A.toLowerCase()}return this.run(z,function(v){var t=u.settings;switch(A){case"style":if(!m(s,"string")){n(s,function(B,C){u.setStyle(v,C,B)});return}if(t.keep_values){if(s&&!u._isRes(s)){v.setAttribute("_mce_style",s,2)}else{v.removeAttribute("_mce_style",2)}}v.style.cssText=s;break;case"class":v.className=s||"";break;case"src":case"href":if(t.keep_values){if(t.url_converter){s=t.url_converter.call(t.url_converter_scope||u,s,A,v)}u.setAttrib(v,"_mce_"+A,s,2)}break;case"shape":v.setAttribute("_mce_style",s);break}if(m(s)&&s!==null&&s.length!==0){v.setAttribute(A,""+s,2)}else{v.removeAttribute(A,2)}})},setAttribs:function(u,v){var s=this;return this.run(u,function(t){n(v,function(z,A){s.setAttrib(t,A,z)})})},getAttrib:function(A,B,z){var s,u=this;A=u.get(A);if(!A||A.nodeType!==1){return false}if(!m(z)){z=""}if(/^(src|href|style|coords|shape)$/.test(B)){s=A.getAttribute("_mce_"+B);if(s){return s}}if(e&&u.props[B]){s=A[u.props[B]];s=s&&s.nodeValue?s.nodeValue:s}if(!s){s=A.getAttribute(B,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(B)){if(A[u.props[B]]===true&&s===""){return B}return s?B:""}if(A.nodeName==="FORM"&&A.getAttributeNode(B)){return A.getAttributeNode(B).nodeValue}if(B==="style"){s=s||A.style.cssText;if(s){s=u.serializeStyle(u.parseStyle(s),A.nodeName);if(u.settings.keep_values&&!u._isRes(s)){A.setAttribute("_mce_style",s)}}}if(l&&B==="class"&&s){s=s.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(e){switch(B){case"rowspan":case"colspan":if(s===1){s=""}break;case"size":if(s==="+0"||s===20||s===0){s=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(s===0){s=""}break;case"hspace":if(s===-1){s=""}break;case"maxlength":case"tabindex":if(s===32768||s===2147483647||s==="32768"){s=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(s===65535){return B}return z;case"shape":s=s.toLowerCase();break;default:if(B.indexOf("on")===0&&s){s=q._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+s)}}}return(s!==undefined&&s!==null&&s!=="")?""+s:z},getPos:function(D,z){var u=this,s=0,C=0,A,B=u.doc,v;D=u.get(D);z=z||B.body;if(D){if(e&&!u.stdMode){D=D.getBoundingClientRect();A=u.boxModel?B.documentElement:B.body;s=u.getStyle(u.select("html")[0],"borderWidth");s=(s=="medium"||u.boxModel&&!u.isIE6)&&2||s;return{x:D.left+A.scrollLeft-s,y:D.top+A.scrollTop-s}}v=D;while(v&&v!=z&&v.nodeType){s+=v.offsetLeft||0;C+=v.offsetTop||0;v=v.offsetParent}v=D.parentNode;while(v&&v!=z&&v.nodeType){s-=v.scrollLeft||0;C-=v.scrollTop||0;v=v.parentNode}}return{x:s,y:C}},parseStyle:function(z){var A=this,B=A.settings,C={};if(!z){return C}function u(J,G,I){var F,H,D,E;F=C[J+"-top"+G];if(!F){return}H=C[J+"-right"+G];if(F!=H){return}D=C[J+"-bottom"+G];if(H!=D){return}E=C[J+"-left"+G];if(D!=E){return}C[I]=E;delete C[J+"-top"+G];delete C[J+"-right"+G];delete C[J+"-bottom"+G];delete C[J+"-left"+G]}function v(E,D,s,G){var F;F=C[D];if(!F){return}F=C[s];if(!F){return}F=C[G];if(!F){return}C[E]=C[D]+" "+C[s]+" "+C[G];delete C[D];delete C[s];delete C[G]}z=z.replace(/&(#?[a-z0-9]+);/g,"&$1_MCE_SEMI_");n(z.split(";"),function(t){var s,D=[];if(t){t=t.replace(/_MCE_SEMI_/g,";");t=t.replace(/url\([^\)]+\)/g,function(E){D.push(E);return"url("+D.length+")"});t=t.split(":");s=q.trim(t[1]);s=s.replace(/url\(([^\)]+)\)/g,function(F,E){return D[parseInt(E)-1]});s=s.replace(/rgb\([^\)]+\)/g,function(E){return A.toHex(E)});if(B.url_converter){s=s.replace(/url\([\'\"]?([^\)\'\"]+)[\'\"]?\)/g,function(E,F){return"url("+B.url_converter.call(B.url_converter_scope||A,A.decode(F),"style",null)+")"})}C[q.trim(t[0]).toLowerCase()]=s}});u("border","","border");u("border","-width","border-width");u("border","-color","border-color");u("border","-style","border-style");u("padding","","padding");u("margin","","margin");v("border","border-width","border-style","border-color");if(e){if(C.border=="medium none"){C.border=""}}return C},serializeStyle:function(B,u){var v=this,z="";function A(t,s){if(s&&t){if(s.indexOf("-")===0){return}switch(s){case"font-weight":if(t==700){t="bold"}break;case"color":case"background-color":t=t.toLowerCase();break}z+=(z?" ":"")+s+": "+t+";"}}if(u&&v._styles){n(v._styles["*"],function(s){A(B[s],s)});n(v._styles[u.toLowerCase()],function(s){A(B[s],s)})}else{n(B,A)}return z},loadCSS:function(s){var z=this,A=z.doc,v;if(!s){s=""}v=z.select("head")[0];n(s.split(","),function(t){var B;if(z.files[t]){return}z.files[t]=true;B=z.create("link",{rel:"stylesheet",href:q._addVer(t)});if(e&&A.documentMode&&A.recalc){B.onload=function(){A.recalc();B.onload=null}}v.appendChild(B)})},addClass:function(s,t){return this.run(s,function(u){var v;if(!t){return 0}if(this.hasClass(u,t)){return u.className}v=this.removeClass(u,t);return u.className=(v!=""?(v+" "):"")+t})},removeClass:function(v,z){var s=this,u;return s.run(v,function(A){var t;if(s.hasClass(A,z)){if(!u){u=new RegExp("(^|\\s+)"+z+"(\\s+|$)","g")}t=A.className.replace(u," ");t=q.trim(t!=" "?t:"");A.className=t;if(!t){A.removeAttribute("class");A.removeAttribute("className")}return t}return A.className})},hasClass:function(t,s){t=this.get(t);if(!t||!s){return false}return(" "+t.className+" ").indexOf(" "+s+" ")!==-1},show:function(s){return this.setStyle(s,"display","block")},hide:function(s){return this.setStyle(s,"display","none")},isHidden:function(s){s=this.get(s);return !s||s.style.display=="none"||this.getStyle(s,"display")=="none"},uniqueId:function(s){return(!s?"mce_":s)+(this.counter++)},setHTML:function(v,u){var s=this;return this.run(v,function(C){var t,A,z,E,B,t;u=s.processHTML(u);if(e){function D(){while(C.firstChild){C.firstChild.removeNode()}try{C.innerHTML="<br />"+u;C.removeChild(C.firstChild)}catch(F){t=s.create("div");t.innerHTML="<br />"+u;n(t.childNodes,function(H,G){if(G){C.appendChild(H)}})}}if(s.settings.fix_ie_paragraphs){u=u.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _mce_keep="true">&nbsp;</p>')}D();if(s.settings.fix_ie_paragraphs){z=C.getElementsByTagName("p");for(A=z.length-1,t=0;A>=0;A--){E=z[A];if(!E.hasChildNodes()){if(!E._mce_keep){t=1;break}E.removeAttribute("_mce_keep")}}}if(t){u=u.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">');u=u.replace(/<\/p>/gi,"</div>");D();if(s.settings.fix_ie_paragraphs){z=C.getElementsByTagName("DIV");for(A=z.length-1;A>=0;A--){E=z[A];if(E._mce_tmp){B=s.doc.createElement("p");E.cloneNode(false).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function(G,F){var H;if(F!=="_mce_tmp"){H=E.getAttribute(F);if(!H&&F==="class"){H=E.className}B.setAttribute(F,H)}});for(t=0;t<E.childNodes.length;t++){B.appendChild(E.childNodes[t].cloneNode(true))}E.swapNode(B)}}}}}else{C.innerHTML=u}return u})},processHTML:function(A){var v=this,z=v.settings,C=[];if(!z.process_html){return A}if(e){A=A.replace(/&apos;/g,"&#39;");A=A.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,"")}A=q._replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>",A);if(z.keep_values){if(/<script|noscript|style/i.test(A)){function u(t){t=t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n");t=t.replace(/^[\r\n]*|[\r\n]*$/g,"");t=t.replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"");t=t.replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"");return t}A=A.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function(s,D,t){if(!D){D=' type="text/javascript"'}D=D.replace(/src=\"([^\"]+)\"?/i,function(E,F){if(z.url_converter){F=v.encode(z.url_converter.call(z.url_converter_scope||v,v.decode(F),"src","script"))}return'_mce_src="'+F+'"'});if(q.trim(t)){C.push(u(t));t="<!--\nMCE_SCRIPT:"+(C.length-1)+"\n// -->"}return"<mce:script"+D+">"+t+"</mce:script>"});A=A.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function(s,D,t){if(t){C.push(u(t));t="<!--\nMCE_SCRIPT:"+(C.length-1)+"\n-->"}return"<mce:style"+D+">"+t+"</mce:style><style "+D+' _mce_bogus="1">'+t+"</style>"});A=A.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(s,D,t){return"<mce:noscript"+D+"><!--"+v.encode(t).replace(/--/g,"&#45;&#45;")+"--></mce:noscript>"})}A=q._replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<!--[CDATA[$1]]-->",A);function B(s){return s.replace(k,function(E,F,D,t){return"<"+F+D.replace(o,function(H,G,K,J,I){var L;G=G.toLowerCase();K=K||J||I||"";if(f[G]){if(K==="false"||K==="0"){return}return G+'="'+G+'"'}if(g[G]&&D.indexOf("_mce_"+G)==-1){L=v.decode(K);if(z.url_converter&&(G=="src"||G=="href")){L=z.url_converter.call(z.url_converter_scope||v,L,G,F)}if(G=="style"){L=v.serializeStyle(v.parseStyle(L),G)}return G+'="'+K+'" _mce_'+G+'="'+v.encode(L)+'"'}return H})+t+">"})}A=B(A);A=A.replace(/MCE_SCRIPT:([0-9]+)/g,function(t,s){return C[s]})}return A},getOuterHTML:function(s){var t;s=this.get(s);if(!s){return null}if(s.outerHTML!==undefined){return s.outerHTML}t=(s.ownerDocument||this.doc).createElement("body");t.appendChild(s.cloneNode(true));return t.innerHTML},setOuterHTML:function(z,u,A){var s=this;function v(B,t,D){var E,C;C=D.createElement("body");C.innerHTML=t;E=C.lastChild;while(E){s.insertAfter(E.cloneNode(true),B);E=E.previousSibling}s.remove(B)}return this.run(z,function(B){B=s.get(B);if(B.nodeType==1){A=A||B.ownerDocument||s.doc;if(e){try{if(e&&B.nodeType==1){B.outerHTML=u}else{v(B,u,A)}}catch(t){v(B,u,A)}}else{v(B,u,A)}}})},decode:function(u){var z,A,t;if(/&[\w#]+;/.test(u)){z=this.doc.createElement("div");z.innerHTML=u;A=z.firstChild;t="";if(A){do{t+=A.nodeValue}while(A=A.nextSibling)}return t||u}return u},encode:function(s){return(""+s).replace(r,function(t){return d[t]})},insertAfter:function(s,t){t=this.get(t);return this.run(s,function(v){var u,z;u=t.parentNode;z=t.nextSibling;if(z){u.insertBefore(v,z)}else{u.appendChild(v)}return v})},isBlock:function(s){if(s.nodeType&&s.nodeType!==1){return false}s=s.nodeName||s;return b.test(s)},replace:function(z,v,s){var u=this;if(m(v,"array")){z=z.cloneNode(true)}return u.run(v,function(t){if(s){n(q.grep(t.childNodes),function(A){z.appendChild(A)})}return t.parentNode.replaceChild(z,t)})},rename:function(z,s){var v=this,u;if(z.nodeName!=s.toUpperCase()){u=v.create(s);n(v.getAttribs(z),function(t){v.setAttrib(u,t.nodeName,v.getAttrib(z,t.nodeName))});v.replace(u,z,1)}return u||z},findCommonAncestor:function(u,s){var v=u,t;while(v){t=s;while(t&&v!=t){t=t.parentNode}if(v==t){break}v=v.parentNode}if(!v&&u.ownerDocument){return u.ownerDocument.documentElement}return v},toHex:function(t){var v=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(t);function u(z){z=parseInt(z).toString(16);return z.length>1?z:"0"+z}if(v){t="#"+u(v[1])+u(v[2])+u(v[3]);return t}return t},getClasses:function(){var A=this,s=[],z,B={},C=A.settings.class_filter,v;if(A.classes){return A.classes}function D(t){n(t.imports,function(E){D(E)});n(t.cssRules||t.rules,function(E){switch(E.type||1){case 1:if(E.selectorText){n(E.selectorText.split(","),function(F){F=F.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(F)||!/\.[\w\-]+$/.test(F)){return}v=F;F=q._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",F);if(C&&!(F=C(F,v))){return}if(!B[F]){s.push({"class":F});B[F]=1}})}break;case 3:D(E.styleSheet);break}})}try{n(A.doc.styleSheets,D)}catch(u){}if(s.length>0){A.classes=s}return s},run:function(A,z,v){var u=this,B;if(u.doc&&typeof(A)==="string"){A=u.get(A)}if(!A){return false}v=v||this;if(!A.nodeType&&(A.length||A.length===0)){B=[];n(A,function(t,s){if(t){if(typeof(t)=="string"){t=u.doc.getElementById(t)}B.push(z.call(v,t,s))}});return B}return z.call(v,A)},getAttribs:function(t){var s;t=this.get(t);if(!t){return[]}if(e){s=[];if(t.nodeName=="OBJECT"){return t.attributes}if(t.nodeName==="OPTION"&&this.getAttrib(t,"selected")){s.push({specified:1,nodeName:"selected"})}t.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(u){s.push({specified:1,nodeName:u})});return s}return t.attributes},destroy:function(v){var u=this;if(u.events){u.events.destroy()}u.win=u.doc=u.root=u.events=null;if(!v){q.removeUnload(u.destroy)}},createRng:function(){var s=this.doc;return s.createRange?s.createRange():new q.dom.Range(this)},nodeIndex:function(z,A){var s=0,u,v,t;if(z){for(u=z.nodeType,z=z.previousSibling,v=z;z;z=z.previousSibling){t=z.nodeType;if(A&&t==3){if(t==u||!z.nodeValue.length){continue}}s++;u=t}}return s},split:function(A,z,D){var E=this,s=E.createRng(),B,v,C;function u(G){var F,t=G.childNodes;if(G.nodeType==1&&G.getAttribute("_mce_type")=="bookmark"){return}for(F=t.length-1;F>=0;F--){u(t[F])}if(G.nodeType!=9){if(G.nodeType==3&&G.nodeValue.length>0){if(!E.isBlock(G.parentNode)||q.trim(G.nodeValue).length>0){return}}if(G.nodeType==1){t=G.childNodes;if(t.length==1&&t[0]&&t[0].nodeType==1&&t[0].getAttribute("_mce_type")=="bookmark"){G.parentNode.insertBefore(t[0],G)}if(t.length||/^(br|hr|input|img)$/i.test(G.nodeName)){return}}E.remove(G)}return G}if(A&&z){s.setStart(A.parentNode,E.nodeIndex(A));s.setEnd(z.parentNode,E.nodeIndex(z));B=s.extractContents();s=E.createRng();s.setStart(z.parentNode,E.nodeIndex(z)+1);s.setEnd(A.parentNode,E.nodeIndex(A)+1);v=s.extractContents();C=A.parentNode;C.insertBefore(u(B),A);if(D){C.replaceChild(D,z)}else{C.insertBefore(z,A)}C.insertBefore(u(v),A);E.remove(A);return D||z}},bind:function(A,s,z,v){var u=this;if(!u.events){u.events=new q.dom.EventUtils()}return u.events.add(A,s,z,v||this)},unbind:function(z,s,v){var u=this;if(!u.events){u.events=new q.dom.EventUtils()}return u.events.remove(z,s,v)},_findSib:function(z,s,u){var v=this,A=s;if(z){if(m(A,"string")){A=function(t){return v.is(t,s)}}for(z=z[u];z;z=z[u]){if(A(z)){return z}}}return null},_isRes:function(s){return/^(top|left|bottom|right|width|height)/i.test(s)||/;\s*(top|left|bottom|right|width|height)/i.test(s)}});q.DOM=new q.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(b){function c(d){var T=this,f=d.doc,Y=0,K=1,m=2,J=true,X=false,aa="startOffset",k="startContainer",V="endContainer",F="endOffset",n=tinymce.extend,r=d.nodeIndex;n(T,{startContainer:f,startOffset:0,endContainer:f,endOffset:0,collapsed:J,commonAncestorContainer:f,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:v,setEnd:A,setStartBefore:j,setStartAfter:O,setEndBefore:P,setEndAfter:B,collapse:G,selectNode:D,selectNodeContents:L,compareBoundaryPoints:C,deleteContents:u,extractContents:N,cloneContents:e,insertNode:I,surroundContents:S,cloneRange:Q});function v(ab,t){H(J,ab,t)}function A(ab,t){H(X,ab,t)}function j(t){v(t.parentNode,r(t))}function O(t){v(t.parentNode,r(t)+1)}function P(t){A(t.parentNode,r(t))}function B(t){A(t.parentNode,r(t)+1)}function G(t){if(t){T[V]=T[k];T[F]=T[aa]}else{T[k]=T[V];T[aa]=T[F]}T.collapsed=J}function D(t){j(t);B(t)}function L(t){v(t,0);A(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function C(ac,ad){var af=T[k],ae=T[aa],ab=T[V],t=T[F];if(ac===0){return M(af,ae,af,ae)}if(ac===1){return M(af,ae,ab,t)}if(ac===2){return M(ab,t,ab,t)}if(ac===3){return M(ab,t,af,ae)}}function u(){q(m)}function N(){return q(Y)}function e(){return q(K)}function I(ae){var ab=this[k],t=this[aa],ad,ac;if((ab.nodeType===3||ab.nodeType===4)&&ab.nodeValue){if(!t){ab.parentNode.insertBefore(ae,ab)}else{if(t>=ab.nodeValue.length){d.insertAfter(ae,ab)}else{ad=ab.splitText(t);ab.parentNode.insertBefore(ae,ad)}}}else{if(ab.childNodes.length>0){ac=ab.childNodes[t]}if(ac){ab.insertBefore(ae,ac)}else{ab.appendChild(ae)}}}function S(ab){var t=T.extractContents();T.insertNode(ab);ab.appendChild(t);T.selectNode(ab)}function Q(){return n(new c(d),{startContainer:T[k],startOffset:T[aa],endContainer:T[V],endOffset:T[F],collapsed:T.collapsed,commonAncestorContainer:T.commonAncestorContainer})}function U(t,ab){var ac;if(t.nodeType==3){return t}if(ab<0){return t}ac=t.firstChild;while(ac&&ab>0){--ab;ac=ac.nextSibling}if(ac){return ac}return t}function o(){return(T[k]==T[V]&&T[aa]==T[F])}function M(ad,af,ab,ae){var ag,ac,t,ah,aj,ai;if(ad==ab){if(af==ae){return 0}if(af<ae){return -1}return 1}ag=ab;while(ag&&ag.parentNode!=ad){ag=ag.parentNode}if(ag){ac=0;t=ad.firstChild;while(t!=ag&&ac<af){ac++;t=t.nextSibling}if(af<=ac){return -1}return 1}ag=ad;while(ag&&ag.parentNode!=ab){ag=ag.parentNode}if(ag){ac=0;t=ab.firstChild;while(t!=ag&&ac<ae){ac++;t=t.nextSibling}if(ac<ae){return -1}return 1}ah=d.findCommonAncestor(ad,ab);aj=ad;while(aj&&aj.parentNode!=ah){aj=aj.parentNode}if(!aj){aj=ah}ai=ab;while(ai&&ai.parentNode!=ah){ai=ai.parentNode}if(!ai){ai=ah}if(aj==ai){return 0}t=ah.firstChild;while(t){if(t==aj){return -1}if(t==ai){return 1}t=t.nextSibling}}function H(ab,ae,ad){var t,ac;if(ab){T[k]=ae;T[aa]=ad}else{T[V]=ae;T[F]=ad}t=T[V];while(t.parentNode){t=t.parentNode}ac=T[k];while(ac.parentNode){ac=ac.parentNode}if(ac==t){if(M(T[k],T[aa],T[V],T[F])>0){T.collapse(ab)}}else{T.collapse(ab)}T.collapsed=o();T.commonAncestorContainer=d.findCommonAncestor(T[k],T[V])}function q(ah){var ag,ad=0,aj=0,ab,af,ac,ae,t,ai;if(T[k]==T[V]){return g(ah)}for(ag=T[V],ab=ag.parentNode;ab;ag=ab,ab=ab.parentNode){if(ab==T[k]){return z(ag,ah)}++ad}for(ag=T[k],ab=ag.parentNode;ab;ag=ab,ab=ab.parentNode){if(ab==T[V]){return Z(ag,ah)}++aj}af=aj-ad;ac=T[k];while(af>0){ac=ac.parentNode;af--}ae=T[V];while(af<0){ae=ae.parentNode;af++}for(t=ac.parentNode,ai=ae.parentNode;t!=ai;t=t.parentNode,ai=ai.parentNode){ac=t;ae=ai}return s(ac,ae,ah)}function g(af){var ah,ae,ad,ag,t,ac,ab;if(af!=m){ah=f.createDocumentFragment()}if(T[aa]==T[F]){return ah}if(T[k].nodeType==3){ae=T[k].nodeValue;ad=ae.substring(T[aa],T[F]);if(af!=K){T[k].deleteData(T[aa],T[F]-T[aa]);T.collapse(J)}if(af==m){return}ah.appendChild(f.createTextNode(ad));return ah}ag=U(T[k],T[aa]);t=T[F]-T[aa];while(t>0){ac=ag.nextSibling;ab=E(ag,af);if(ah){ah.appendChild(ab)}--t;ag=ac}if(af!=K){T.collapse(J)}return ah}function z(ah,ae){var ag,af,ab,t,ad,ac;if(ae!=m){ag=f.createDocumentFragment()}af=l(ah,ae);if(ag){ag.appendChild(af)}ab=r(ah);t=ab-T[aa];if(t<=0){if(ae!=K){T.setEndBefore(ah);T.collapse(X)}return ag}af=ah.previousSibling;while(t>0){ad=af.previousSibling;ac=E(af,ae);if(ag){ag.insertBefore(ac,ag.firstChild)}--t;af=ad}if(ae!=K){T.setEndBefore(ah);T.collapse(X)}return ag}function Z(af,ae){var ah,ab,ag,t,ad,ac;if(ae!=m){ah=f.createDocumentFragment()}ag=W(af,ae);if(ah){ah.appendChild(ag)}ab=r(af);++ab;t=T[F]-ab;ag=af.nextSibling;while(t>0){ad=ag.nextSibling;ac=E(ag,ae);if(ah){ah.appendChild(ac)}--t;ag=ad}if(ae!=K){T.setStartAfter(af);T.collapse(J)}return ah}function s(af,t,ai){var ac,ak,ae,ag,ah,ab,aj,ad;if(ai!=m){ak=f.createDocumentFragment()}ac=W(af,ai);if(ak){ak.appendChild(ac)}ae=af.parentNode;ag=r(af);ah=r(t);++ag;ab=ah-ag;aj=af.nextSibling;while(ab>0){ad=aj.nextSibling;ac=E(aj,ai);if(ak){ak.appendChild(ac)}aj=ad;--ab}ac=l(t,ai);if(ak){ak.appendChild(ac)}if(ai!=K){T.setStartAfter(af);T.collapse(J)}return ak}function l(ag,ah){var ac=U(T[V],T[F]-1),ai,af,ae,t,ab,ad=ac!=T[V];if(ac==ag){return R(ac,ad,X,ah)}ai=ac.parentNode;af=R(ai,X,X,ah);while(ai){while(ac){ae=ac.previousSibling;t=R(ac,ad,X,ah);if(ah!=m){af.insertBefore(t,af.firstChild)}ad=J;ac=ae}if(ai==ag){return af}ac=ai.previousSibling;ai=ai.parentNode;ab=R(ai,X,X,ah);if(ah!=m){ab.appendChild(af)}af=ab}}function W(ag,ah){var ad=U(T[k],T[aa]),ae=ad!=T[k],ai,af,ac,t,ab;if(ad==ag){return R(ad,ae,J,ah)}ai=ad.parentNode;af=R(ai,X,J,ah);while(ai){while(ad){ac=ad.nextSibling;t=R(ad,ae,J,ah);if(ah!=m){af.appendChild(t)}ae=J;ad=ac}if(ai==ag){return af}ad=ai.nextSibling;ai=ai.parentNode;ab=R(ai,X,J,ah);if(ah!=m){ab.appendChild(af)}af=ab}}function R(t,ae,ah,ai){var ad,ac,af,ab,ag;if(ae){return E(t,ai)}if(t.nodeType==3){ad=t.nodeValue;if(ah){ab=T[aa];ac=ad.substring(ab);af=ad.substring(0,ab)}else{ab=T[F];ac=ad.substring(0,ab);af=ad.substring(ab)}if(ai!=K){t.nodeValue=af}if(ai==m){return}ag=t.cloneNode(X);ag.nodeValue=ac;return ag}if(ai==m){return}return t.cloneNode(X)}function E(ab,t){if(t!=m){return t==K?ab.cloneNode(J):ab}ab.parentNode.removeChild(ab)}}b.Range=c})(tinymce.dom);(function(){function b(j){var l=this,m="\uFEFF",f,k,e=j.dom,d=true,g=false;function c(){var r=j.getRng(),n=e.createRng(),q,s;q=r.item?r.item(0):r.parentElement();if(q.ownerDocument!=e.doc){return n}if(r.item||!q.hasChildNodes()){n.setStart(q.parentNode,e.nodeIndex(q));n.setEnd(n.startContainer,n.startOffset+1);return n}s=j.isCollapsed();function o(z){var B,u,A,t,G=0,D,E,F,v,C;v=r.duplicate();v.collapse(z);B=e.create("a");F=v.parentElement();if(!F.hasChildNodes()){n[z?"setStart":"setEnd"](F,0);return}F.appendChild(B);v.moveToElementText(B);C=r.compareEndPoints(z?"StartToStart":"EndToEnd",v);if(C>0){n[z?"setStartAfter":"setEndAfter"](F);e.remove(B);return}t=tinymce.grep(F.childNodes);D=t.length-1;while(G<=D){E=Math.floor((G+D)/2);F.insertBefore(B,t[E]);v.moveToElementText(B);C=r.compareEndPoints(z?"StartToStart":"EndToEnd",v);if(C>0){G=E+1}else{if(C<0){D=E-1}else{found=true;break}}}u=C>0||E==0?B.nextSibling:B.previousSibling;if(u.nodeType==1){e.remove(B);A=e.nodeIndex(u);u=u.parentNode;if(!z||E>0){A++}}else{if(C>0||E==0){v.setEndPoint(z?"StartToStart":"EndToEnd",r);A=v.text.length}else{v.setEndPoint(z?"StartToStart":"EndToEnd",r);A=u.nodeValue.length-v.text.length}e.remove(B)}n[z?"setStart":"setEnd"](u,A)}o(true);if(!s){o()}return n}this.addRange=function(n){var t,r,q,v,B,z,A=j.dom.doc,s=A.body;function o(H){var D,G,C,F,E;C=e.create("a");D=H?q:B;G=H?v:z;F=t.duplicate();if(D==A){D=s;G=0}if(D.nodeType==3){D.parentNode.insertBefore(C,D);F.moveToElementText(C);F.moveStart("character",G);e.remove(C);t.setEndPoint(H?"StartToStart":"EndToEnd",F)}else{E=D.childNodes;if(E.length){if(G>=E.length){e.insertAfter(C,E[E.length-1])}else{D.insertBefore(C,E[G])}F.moveToElementText(C)}else{C=A.createTextNode(m);D.appendChild(C);F.moveToElementText(C.parentNode);F.collapse(d)}t.setEndPoint(H?"StartToStart":"EndToEnd",F);e.remove(C)}}this.destroy();q=n.startContainer;v=n.startOffset;B=n.endContainer;z=n.endOffset;t=s.createTextRange();if(q==B&&q.nodeType==1&&v==z-1){if(v==z-1){try{r=s.createControlRange();r.addElement(q.childNodes[v]);r.select();r.scrollIntoView();return}catch(u){}}}o(true);o();t.select();t.scrollIntoView()};this.getRangeAt=function(){if(!f||!tinymce.dom.RangeUtils.compareRanges(k,j.getRng())){f=c();k=j.getRng()}try{f.startContainer.nextSibling}catch(n){f=c();k=null}return f};this.destroy=function(){k=f=null}}tinymce.dom.TridentSelection=b})();(function(e){var g=e.each,d=e.DOM,c=e.isIE,f=e.isWebKit,b;e.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(v,z,u,m){var j,k=this,l=k.events,q;if(z instanceof Array){q=[];g(z,function(o){q.push(k.add(v,o,u,m))});return q}if(v&&v.hasOwnProperty&&v instanceof Array){q=[];g(v,function(n){n=d.get(n);q.push(k.add(n,z,u,m))});return q}v=d.get(v);if(!v){return}j=function(n){if(k.disabled){return}n=n||window.event;if(n&&c){if(!n.target){n.target=n.srcElement}e.extend(n,k._stoppers)}if(!m){return u(n)}return u.call(m,n)};if(z=="unload"){e.unloads.unshift({func:j});return j}if(z=="init"){if(k.domLoaded){j()}else{k.inits.push(j)}return j}l.push({obj:v,name:z,func:u,cfunc:j,scope:m});k._add(v,z,j);return u},remove:function(u,v,q){var k=this,j=k.events,l=false,m;if(u&&u.hasOwnProperty&&u instanceof Array){m=[];g(u,function(n){n=d.get(n);m.push(k.remove(n,v,q))});return m}u=d.get(u);g(j,function(o,n){if(o.obj==u&&o.name==v&&(!q||(o.func==q||o.cfunc==q))){j.splice(n,1);k._remove(u,v,o.cfunc);l=true;return false}});return l},clear:function(n){var l=this,j=l.events,k,m;if(n){n=d.get(n);for(k=j.length-1;k>=0;k--){m=j[k];if(m.obj===n){l._remove(m.obj,m.name,m.cfunc);m.obj=m.cfunc=null;j.splice(k,1)}}}},cancel:function(j){if(!j){return false}this.stop(j);return this.prevent(j)},stop:function(j){if(j.stopPropagation){j.stopPropagation()}else{j.cancelBubble=true}return false},prevent:function(j){if(j.preventDefault){j.preventDefault()}else{j.returnValue=false}return false},destroy:function(){var j=this;g(j.events,function(l,k){j._remove(l.obj,l.name,l.cfunc);l.obj=l.cfunc=null});j.events=[];j=null},_add:function(k,l,j){if(k.attachEvent){k.attachEvent("on"+l,j)}else{if(k.addEventListener){k.addEventListener(l,j,false)}else{k["on"+l]=j}}},_remove:function(l,m,k){if(l){try{if(l.detachEvent){l.detachEvent("on"+m,k)}else{if(l.removeEventListener){l.removeEventListener(m,k,false)}else{l["on"+m]=null}}}catch(j){}}},_pageInit:function(k){var j=this;if(j.domLoaded){return}j.domLoaded=true;g(j.inits,function(l){l()});j.inits=[]},_wait:function(l){var j=this,k=l.document;if(l.tinyMCE_GZ&&tinyMCE_GZ.loaded){j.domLoaded=1;return}if(k.attachEvent){k.attachEvent("onreadystatechange",function(){if(k.readyState==="complete"){k.detachEvent("onreadystatechange",arguments.callee);j._pageInit(l)}});if(k.documentElement.doScroll&&l==l.top){(function(){if(j.domLoaded){return}try{k.documentElement.doScroll("left")}catch(m){setTimeout(arguments.callee,0);return}j._pageInit(l)})()}}else{if(k.addEventListener){j._add(l,"DOMContentLoaded",function(){j._pageInit(l)})}}j._add(l,"load",function(){j._pageInit(l)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});b=e.dom.Event=new e.dom.EventUtils();b._wait(window);e.addUnload(function(){b.destroy()})})(tinymce);(function(b){b.dom.Element=function(g,e){var c=this,f,d;c.settings=e=e||{};c.id=g;c.dom=f=e.dom||b.DOM;if(!b.isIE){d=f.get(c.id)}b.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(j){c[j]=function(){var k=[g],l;for(l=0;l<arguments.length;l++){k.push(arguments[l])}k=f[j].apply(f,k);c.update(j);return k}});b.extend(c,{on:function(l,k,j){return b.dom.Event.add(c.id,l,k,j)},getXY:function(){return{x:parseInt(c.getStyle("left")),y:parseInt(c.getStyle("top"))}},getSize:function(){var j=f.get(c.id);return{w:parseInt(c.getStyle("width")||j.clientWidth),h:parseInt(c.getStyle("height")||j.clientHeight)}},moveTo:function(j,k){c.setStyles({left:j,top:k})},moveBy:function(j,l){var k=c.getXY();c.moveTo(k.x+j,k.y+l)},resizeTo:function(j,k){c.setStyles({width:j,height:k})},resizeBy:function(j,l){var k=c.getSize();c.resizeTo(k.w+j,k.h+l)},update:function(l){var j;if(b.isIE6&&e.blocker){l=l||"";if(l.indexOf("get")===0||l.indexOf("has")===0||l.indexOf("is")===0){return}if(l=="remove"){f.remove(c.blocker);return}if(!c.blocker){c.blocker=f.uniqueId();j=f.add(e.container||f.getRoot(),"iframe",{id:c.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});f.setStyle(j,"opacity",0)}else{j=f.get(c.blocker)}f.setStyles(j,{left:c.getStyle("left",1),top:c.getStyle("top",1),width:c.getStyle("width",1),height:c.getStyle("height",1),display:c.getStyle("display",1),zIndex:parseInt(c.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(d){function f(g){return g.replace(/[\n\r]+/g,"")}var c=d.is,b=d.isIE,e=d.each;d.create("tinymce.dom.Selection",{Selection:function(l,k,j){var g=this;g.dom=l;g.win=k;g.serializer=j;e(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(m){g[m]=new d.util.Dispatcher(g)});if(!g.win.getSelection){g.tridentSel=new d.dom.TridentSelection(g)}if(d.isIE&&l.boxModel){this._fixIESelection()}d.addUnload(g.destroy,g)},getContent:function(j){var g=this,k=g.getRng(),q=g.dom.create("body"),m=g.getSel(),l,o,u;j=j||{};l=o="";j.get=true;j.format=j.format||"html";g.onBeforeGetContent.dispatch(g,j);if(j.format=="text"){return g.isCollapsed()?"":(k.text||(m.toString?m.toString():""))}if(k.cloneContents){u=k.cloneContents();if(u){q.appendChild(u)}}else{if(c(k.item)||c(k.htmlText)){q.innerHTML=k.item?k.item(0).outerHTML:k.htmlText}else{q.innerHTML=k.toString()}}if(/^\s/.test(q.innerHTML)){l=" "}if(/\s+$/.test(q.innerHTML)){o=" "}j.getInner=true;j.content=g.isCollapsed()?"":l+g.serializer.serialize(q,j)+o;g.onGetContent.dispatch(g,j);return j.content},setContent:function(l,k){var j=this,m=j.getRng(),q,n=j.win.document;k=k||{format:"html"};k.set=true;l=k.content=j.dom.processHTML(l);j.onBeforeSetContent.dispatch(j,k);l=k.content;if(m.insertNode){l+='<span id="__caret">_</span>';if(m.startContainer==n&&m.endContainer==n){n.body.innerHTML=l}else{m.deleteContents();if(n.body.childNodes.length==0){n.body.innerHTML=l}else{if(m.createContextualFragment){m.insertNode(m.createContextualFragment(l))}else{var o=n.createDocumentFragment(),g=n.createElement("div");o.appendChild(g);g.outerHTML=l;m.insertNode(o)}}}q=j.dom.get("__caret");m=n.createRange();m.setStartBefore(q);m.setEndBefore(q);j.setRng(m);j.dom.remove("__caret")}else{if(m.item){n.execCommand("Delete",false,null);m=j.getRng()}m.pasteHTML(l)}j.onSetContent.dispatch(j,k)},getStart:function(){var j=this.getRng(),k,g,m,l;if(j.duplicate||j.item){if(j.item){return j.item(0)}m=j.duplicate();m.collapse(1);k=m.parentElement();g=l=j.parentElement();while(l=l.parentNode){if(l==k){k=g;break}}if(k&&k.nodeName=="BODY"){return k.firstChild||k}return k}else{k=j.startContainer;if(k.nodeType==1&&k.hasChildNodes()){k=k.childNodes[Math.min(k.childNodes.length-1,j.startOffset)]}if(k&&k.nodeType==3){return k.parentNode}return k}},getEnd:function(){var j=this,k=j.getRng(),l,g;if(k.duplicate||k.item){if(k.item){return k.item(0)}k=k.duplicate();k.collapse(0);l=k.parentElement();if(l&&l.nodeName=="BODY"){return l.lastChild||l}return l}else{l=k.endContainer;g=k.endOffset;if(l.nodeType==1&&l.hasChildNodes()){l=l.childNodes[g>0?g-1:g]}if(l&&l.nodeType==3){return l.parentNode}return l}},getBookmark:function(v,z){var B=this,q=B.dom,j,m,l,r,k,s,u,o="\uFEFF",A;function g(C,D){var t=0;e(q.select(C),function(F,E){if(F==D){t=E}});return t}if(v==2){function n(){var C=B.getRng(true),t=q.getRoot(),D={};function E(H,M){var G=H[M?"startContainer":"endContainer"],L=H[M?"startOffset":"endOffset"],F=[],I,K,J=0;if(G.nodeType==3){if(z){for(I=G.previousSibling;I&&I.nodeType==3;I=I.previousSibling){L+=I.nodeValue.length}}F.push(L)}else{K=G.childNodes;if(L>=K.length&&K.length){J=1;L=Math.max(0,K.length-1)}F.push(B.dom.nodeIndex(K[L],z)+J)}for(;G&&G!=t;G=G.parentNode){F.push(B.dom.nodeIndex(G,z))}return F}D.start=E(C,true);if(!B.isCollapsed()){D.end=E(C)}return D}return n()}if(v){return{rng:B.getRng()}}j=B.getRng();l=q.uniqueId();r=tinyMCE.activeEditor.selection.isCollapsed();A="overflow:hidden;line-height:0px";if(j.duplicate||j.item){if(!j.item){m=j.duplicate();j.collapse();j.pasteHTML('<span _mce_type="bookmark" id="'+l+'_start" style="'+A+'">'+o+"</span>");if(!r){m.collapse(false);m.pasteHTML('<span _mce_type="bookmark" id="'+l+'_end" style="'+A+'">'+o+"</span>")}}else{s=j.item(0);k=s.nodeName;return{name:k,index:g(k,s)}}}else{s=B.getNode();k=s.nodeName;if(k=="IMG"){return{name:k,index:g(k,s)}}m=j.cloneRange();if(!r){m.collapse(false);m.insertNode(q.create("span",{_mce_type:"bookmark",id:l+"_end",style:A},o))}j.collapse(true);j.insertNode(q.create("span",{_mce_type:"bookmark",id:l+"_start",style:A},o))}B.moveToBookmark({id:l,keep:1});return{id:l}},moveToBookmark:function(r){var z=this,o=z.dom,l,k,g,v,m,A,s,u;if(z.tridentSel){z.tridentSel.destroy()}if(r){if(r.start){g=o.createRng();v=o.getRoot();function j(F){var t=r[F?"start":"end"],C,D,E,B;if(t){for(D=v,C=t.length-1;C>=1;C--){B=D.childNodes;if(B.length){D=B[t[C]]}}if(F){g.setStart(D,t[0])}else{g.setEnd(D,t[0])}}}j(true);j();z.setRng(g)}else{if(r.id){function n(G){var B=o.get(r.id+"_"+G),F,t,D,E,C=r.keep;if(B){F=B.parentNode;if(G=="start"){if(!C){t=o.nodeIndex(B)}else{F=B.firstChild;t=1}m=A=F;s=u=t}else{if(!C){t=o.nodeIndex(B)}else{F=B.firstChild;t=1}A=F;u=t}if(!C){E=B.previousSibling;D=B.nextSibling;e(d.grep(B.childNodes),function(H){if(H.nodeType==3){H.nodeValue=H.nodeValue.replace(/\uFEFF/g,"")}});while(B=o.get(r.id+"_"+G)){o.remove(B,1)}if(E&&D&&E.nodeType==D.nodeType&&E.nodeType==3&&!d.isOpera){t=E.nodeValue.length;E.appendData(D.nodeValue);o.remove(D);if(G=="start"){m=A=E;s=u=t}else{A=E;u=t}}}}}function q(t){if(!b&&o.isBlock(t)&&!t.innerHTML){t.innerHTML='<br _mce_bogus="1" />'}return t}n("start");n("end");if(m){g=o.createRng();g.setStart(q(m),s);g.setEnd(q(A),u);z.setRng(g)}}else{if(r.name){z.select(o.select(r.name)[r.index])}else{if(r.rng){z.setRng(r.rng)}}}}}},select:function(n,m){var l=this,o=l.dom,j=o.createRng(),g;g=o.nodeIndex(n);j.setStart(n.parentNode,g);j.setEnd(n.parentNode,g+1);if(m){function k(q,s){var r=new d.dom.TreeWalker(q,q);do{if(q.nodeType==3&&d.trim(q.nodeValue).length!=0){if(s){j.setStart(q,0)}else{j.setEnd(q,q.nodeValue.length)}return}if(q.nodeName=="BR"){if(s){j.setStartBefore(q)}else{j.setEndBefore(q)}return}}while(q=(s?r.next():r.prev()))}k(n,1);k(n)}l.setRng(j);return n},isCollapsed:function(){var g=this,k=g.getRng(),j=g.getSel();if(!k||k.item){return false}if(k.compareEndPoints){return k.compareEndPoints("StartToEnd",k)===0}return !j||k.collapsed},collapse:function(g){var j=this,k=j.getRng(),l;if(k.item){l=k.item(0);k=this.win.document.body.createTextRange();k.moveToElementText(l)}k.collapse(!!g);j.setRng(k)},getSel:function(){var j=this,g=this.win;return g.getSelection?g.getSelection():g.document.selection},getRng:function(o){var j=this,k,l,n,m=j.win.document;if(o&&j.tridentSel){return j.tridentSel.getRangeAt(0)}try{if(k=j.getSel()){l=k.rangeCount>0?k.getRangeAt(0):(k.createRange?k.createRange():m.createRange())}}catch(g){}if(d.isIE&&l.setStart&&m.selection.createRange().item){n=m.selection.createRange().item(0);l=m.createRange();l.setStartBefore(n);l.setEndAfter(n)}if(!l){l=m.createRange?m.createRange():m.body.createTextRange()}if(j.selectedRange&&j.explicitRange){if(l.compareBoundaryPoints(l.START_TO_START,j.selectedRange)===0&&l.compareBoundaryPoints(l.END_TO_END,j.selectedRange)===0){l=j.explicitRange}else{j.selectedRange=null;j.explicitRange=null}}return l},setRng:function(l){var k,j=this;if(!j.tridentSel){k=j.getSel();if(k){j.explicitRange=l;k.removeAllRanges();k.addRange(l);j.selectedRange=k.getRangeAt(0)}}else{if(l.cloneRange){j.tridentSel.addRange(l);return}try{l.select()}catch(g){}}},setNode:function(j){var g=this;g.setContent(g.dom.getOuterHTML(j));return j},getNode:function(){var j=this,g=j.getRng(),k=j.getSel(),l;if(g.setStart){if(!g){return j.dom.getRoot()}l=g.commonAncestorContainer;if(!g.collapsed){if(g.startContainer==g.endContainer){if(g.startOffset-g.endOffset<2){if(g.startContainer.hasChildNodes()){l=g.startContainer.childNodes[g.startOffset]}}}if(d.isWebKit&&k.anchorNode&&k.anchorNode.nodeType==1){return k.anchorNode.childNodes[k.anchorOffset]}}if(l&&l.nodeType==3){return l.parentNode}return l}return g.item?g.item(0):g.parentElement()},getSelectedBlocks:function(j,g){var l=this,m=l.dom,r,k,q,o=[];r=m.getParent(j||l.getStart(),m.isBlock);k=m.getParent(g||l.getEnd(),m.isBlock);if(r){o.push(r)}if(r&&k&&r!=k){q=r;while((q=q.nextSibling)&&q!=k){if(m.isBlock(q)){o.push(q)}}}if(k&&r!=k){o.push(k)}return o},destroy:function(j){var g=this;g.win=null;if(g.tridentSel){g.tridentSel.destroy()}if(!j){d.removeUnload(g.destroy)}},_fixIESelection:function(){var q=this.dom,o=q.doc,j=o.body,l,m;o.documentElement.unselectable=true;function n(r,u){var s=j.createTextRange();try{s.moveToPoint(r,u)}catch(t){s=null}return s}function k(s){var r;if(s.button){r=n(s.x,s.y);if(r){if(r.compareEndPoints("StartToStart",m)>0){r.setEndPoint("StartToStart",m)}else{r.setEndPoint("EndToEnd",m)}r.select()}}else{g()}}function g(){q.unbind(o,"mouseup",g);q.unbind(o,"mousemove",k);l=0}q.bind(o,"mousedown",function(r){if(r.target.nodeName==="HTML"){if(l){g()}l=1;m=n(r.x,r.y);if(m){q.bind(o,"mouseup",g);q.bind(o,"mousemove",k);q.win.focus();m.select()}}})}})})(tinymce);(function(b){b.create("tinymce.dom.XMLWriter",{node:null,XMLWriter:function(d){function c(){var f=document.implementation;if(!f||!f.createDocument){try{return new ActiveXObject("MSXML2.DOMDocument")}catch(e){}try{return new ActiveXObject("Microsoft.XmlDom")}catch(e){}}else{return f.createDocument("","",null)}}this.doc=c();this.valid=b.isOpera||b.isWebKit;this.reset()},reset:function(){var c=this,e=c.doc;if(e.firstChild){e.removeChild(e.firstChild)}c.node=e.appendChild(e.createElement("html"))},writeStartElement:function(d){var c=this;c.node=c.node.appendChild(c.doc.createElement(d))},writeAttribute:function(d,c){if(this.valid){c=c.replace(/>/g,"%MCGT%")}this.node.setAttribute(d,c)},writeEndElement:function(){this.node=this.node.parentNode},writeFullEndElement:function(){var c=this,d=c.node;d.appendChild(c.doc.createTextNode(""));c.node=d.parentNode},writeText:function(c){if(this.valid){c=c.replace(/>/g,"%MCGT%")}this.node.appendChild(this.doc.createTextNode(c))},writeCDATA:function(c){this.node.appendChild(this.doc.createCDATASection(c))},writeComment:function(c){if(b.isIE){c=c.replace(/^\-|\-$/g," ")}this.node.appendChild(this.doc.createComment(c.replace(/\-\-/g," ")))},getContent:function(){var c;c=this.doc.xml||new XMLSerializer().serializeToString(this.doc);c=c.replace(/<\?[^?]+\?>|<html[^>]*>|<\/html>|<html\/>|<!DOCTYPE[^>]+>/g,"");c=c.replace(/ ?\/>/g," />");if(this.valid){c=c.replace(/\%MCGT%/g,"&gt;")}return c}})})(tinymce);(function(d){var e=/[&\"<>]/g,c=/[<>&]/g,b={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};d.create("tinymce.dom.StringWriter",{str:null,tags:null,count:0,settings:null,indent:null,StringWriter:function(f){this.settings=d.extend({indent_char:" ",indentation:0},f);this.reset()},reset:function(){this.indent="";this.str="";this.tags=[];this.count=0},writeStartElement:function(f){this._writeAttributesEnd();this.writeRaw("<"+f);this.tags.push(f);this.inAttr=true;this.count++;this.elementCount=this.count;this.attrs={}},writeAttribute:function(j,f){var g=this;if(!g.attrs[j]){g.writeRaw(" "+g.encode(j,true)+'="'+g.encode(f,true)+'"');g.attrs[j]=f}},writeEndElement:function(){var f;if(this.tags.length>0){f=this.tags.pop();if(this._writeAttributesEnd(1)){this.writeRaw("</"+f+">")}if(this.settings.indentation>0){this.writeRaw("\n")}}},writeFullEndElement:function(){if(this.tags.length>0){this._writeAttributesEnd();this.writeRaw("</"+this.tags.pop()+">");if(this.settings.indentation>0){this.writeRaw("\n")}}},writeText:function(f){this._writeAttributesEnd();this.writeRaw(this.encode(f));this.count++},writeCDATA:function(f){this._writeAttributesEnd();this.writeRaw("<![CDATA["+f+"]]>");this.count++},writeComment:function(f){this._writeAttributesEnd();this.writeRaw("<!--"+f+"-->");this.count++},writeRaw:function(f){this.str+=f},encode:function(g,f){return g.replace(f?e:c,function(j){return b[j]})},getContent:function(){return this.str},_writeAttributesEnd:function(f){if(!this.inAttr){return}this.inAttr=false;if(f&&this.elementCount==this.count){this.writeRaw(" />");return false}this.writeRaw(">");return true}})})(tinymce);(function(f){var j=f.extend,g=f.each,c=f.util.Dispatcher,e=f.isIE,b=f.isGecko;function d(k){return k.replace(/([?+*])/g,".$1")}f.create("tinymce.dom.Serializer",{Serializer:function(m){var l=this;l.key=0;l.onPreProcess=new c(l);l.onPostProcess=new c(l);try{l.writer=new f.dom.XMLWriter()}catch(k){l.writer=new f.dom.StringWriter()}if(f.isIE&&document.documentMode>8){l.writer=new f.dom.StringWriter()}l.settings=m=j({dom:f.DOM,valid_nodes:0,node_filter:0,attr_filter:0,invalid_attrs:/^(_mce_|_moz_|sizset|sizcache)/,closed:/^(br|hr|input|meta|img|link|param|area)$/,entity_encoding:"named",entities:"160,nbsp,161,iexcl,162,cent,163,pound,164,curren,165,yen,166,brvbar,167,sect,168,uml,169,copy,170,ordf,171,laquo,172,not,173,shy,174,reg,175,macr,176,deg,177,plusmn,178,sup2,179,sup3,180,acute,181,micro,182,para,183,middot,184,cedil,185,sup1,186,ordm,187,raquo,188,frac14,189,frac12,190,frac34,191,iquest,192,Agrave,193,Aacute,194,Acirc,195,Atilde,196,Auml,197,Aring,198,AElig,199,Ccedil,200,Egrave,201,Eacute,202,Ecirc,203,Euml,204,Igrave,205,Iacute,206,Icirc,207,Iuml,208,ETH,209,Ntilde,210,Ograve,211,Oacute,212,Ocirc,213,Otilde,214,Ouml,215,times,216,Oslash,217,Ugrave,218,Uacute,219,Ucirc,220,Uuml,221,Yacute,222,THORN,223,szlig,224,agrave,225,aacute,226,acirc,227,atilde,228,auml,229,aring,230,aelig,231,ccedil,232,egrave,233,eacute,234,ecirc,235,euml,236,igrave,237,iacute,238,icirc,239,iuml,240,eth,241,ntilde,242,ograve,243,oacute,244,ocirc,245,otilde,246,ouml,247,divide,248,oslash,249,ugrave,250,uacute,251,ucirc,252,uuml,253,yacute,254,thorn,255,yuml,402,fnof,913,Alpha,914,Beta,915,Gamma,916,Delta,917,Epsilon,918,Zeta,919,Eta,920,Theta,921,Iota,922,Kappa,923,Lambda,924,Mu,925,Nu,926,Xi,927,Omicron,928,Pi,929,Rho,931,Sigma,932,Tau,933,Upsilon,934,Phi,935,Chi,936,Psi,937,Omega,945,alpha,946,beta,947,gamma,948,delta,949,epsilon,950,zeta,951,eta,952,theta,953,iota,954,kappa,955,lambda,956,mu,957,nu,958,xi,959,omicron,960,pi,961,rho,962,sigmaf,963,sigma,964,tau,965,upsilon,966,phi,967,chi,968,psi,969,omega,977,thetasym,978,upsih,982,piv,8226,bull,8230,hellip,8242,prime,8243,Prime,8254,oline,8260,frasl,8472,weierp,8465,image,8476,real,8482,trade,8501,alefsym,8592,larr,8593,uarr,8594,rarr,8595,darr,8596,harr,8629,crarr,8656,lArr,8657,uArr,8658,rArr,8659,dArr,8660,hArr,8704,forall,8706,part,8707,exist,8709,empty,8711,nabla,8712,isin,8713,notin,8715,ni,8719,prod,8721,sum,8722,minus,8727,lowast,8730,radic,8733,prop,8734,infin,8736,ang,8743,and,8744,or,8745,cap,8746,cup,8747,int,8756,there4,8764,sim,8773,cong,8776,asymp,8800,ne,8801,equiv,8804,le,8805,ge,8834,sub,8835,sup,8836,nsub,8838,sube,8839,supe,8853,oplus,8855,otimes,8869,perp,8901,sdot,8968,lceil,8969,rceil,8970,lfloor,8971,rfloor,9001,lang,9002,rang,9674,loz,9824,spades,9827,clubs,9829,hearts,9830,diams,338,OElig,339,oelig,352,Scaron,353,scaron,376,Yuml,710,circ,732,tilde,8194,ensp,8195,emsp,8201,thinsp,8204,zwnj,8205,zwj,8206,lrm,8207,rlm,8211,ndash,8212,mdash,8216,lsquo,8217,rsquo,8218,sbquo,8220,ldquo,8221,rdquo,8222,bdquo,8224,dagger,8225,Dagger,8240,permil,8249,lsaquo,8250,rsaquo,8364,euro",valid_elements:"*[*]",extended_valid_elements:0,invalid_elements:0,fix_table_elements:1,fix_list_elements:true,fix_content_duplication:true,convert_fonts_to_spans:false,font_size_classes:0,apply_source_formatting:0,indent_mode:"simple",indent_char:"\t",indent_levels:1,remove_linebreaks:1,remove_redundant_brs:1,element_format:"xhtml"},m);l.dom=m.dom;l.schema=m.schema;if(m.entity_encoding=="named"&&!m.entities){m.entity_encoding="raw"}if(m.remove_redundant_brs){l.onPostProcess.add(function(n,q){q.content=q.content.replace(/(<br \/>\s*)+<\/(p|h[1-6]|div|li)>/gi,function(r,o,s){if(/^<br \/>\s*<\//.test(r)){return"</"+s+">"}return r})})}if(m.element_format=="html"){l.onPostProcess.add(function(n,q){q.content=q.content.replace(/<([^>]+) \/>/g,"<$1>")})}if(m.fix_list_elements){l.onPreProcess.add(function(B,v){var s,D,C=["ol","ul"],A,z,u,q=/^(OL|UL)$/,E;function t(F,G){var o=G.split(","),r;while((F=F.previousSibling)!=null){for(r=0;r<o.length;r++){if(F.nodeName==o[r]){return F}}}return null}for(D=0;D<C.length;D++){s=l.dom.select(C[D],v.node);for(A=0;A<s.length;A++){z=s[A];u=z.parentNode;if(q.test(u.nodeName)){E=t(z,"LI");if(!E){E=l.dom.create("li");E.innerHTML="&nbsp;";E.appendChild(z);u.insertBefore(E,u.firstChild)}else{E.appendChild(z)}}}}})}if(m.fix_table_elements){l.onPreProcess.add(function(n,q){if(!f.isOpera||opera.buildNumber()>=1767){g(l.dom.select("p table",q.node).reverse(),function(s){var r=l.dom.getParent(s.parentNode,"table,p");if(r.nodeName!="TABLE"){try{l.dom.split(r,s)}catch(o){}}})}})}},setEntities:function(r){var q=this,m,o,k={},n;if(q.entityLookup){return}m=r.split(",");for(o=0;o<m.length;o+=2){n=m[o];if(n==34||n==38||n==60||n==62){continue}k[String.fromCharCode(m[o])]=m[o+1];n=parseInt(m[o]).toString(16)}q.entityLookup=k},setRules:function(l){var k=this;k._setup();k.rules={};k.wildRules=[];k.validElements={};return k.addRules(l)},addRules:function(l){var k=this,m;if(!l){return}k._setup();g(l.split(","),function(q){var u=q.split(/\[|\]/),o=u[0].split("/"),v,n,t,r=[];if(m){n=f.extend([],m.attribs)}if(u.length>1){g(u[1].split("|"),function(B){var z={},A;n=n||[];B=B.replace(/::/g,"~");B=/^([!\-])?([\w*.?~_\-]+|)([=:<])?(.+)?$/.exec(B);B[2]=B[2].replace(/~/g,":");if(B[1]=="!"){v=v||[];v.push(B[2])}if(B[1]=="-"){for(A=0;A<n.length;A++){if(n[A].name==B[2]){n.splice(A,1);return}}}switch(B[3]){case"=":z.defaultVal=B[4]||"";break;case":":z.forcedVal=B[4];break;case"<":z.validVals=B[4].split("?");break}if(/[*.?]/.test(B[2])){t=t||[];z.nameRE=new RegExp("^"+d(B[2])+"$");t.push(z)}else{z.name=B[2];n.push(z)}r.push(B[2])})}g(o,function(C,B){var D=C.charAt(0),A=1,z={};if(m){if(m.noEmpty){z.noEmpty=m.noEmpty}if(m.fullEnd){z.fullEnd=m.fullEnd}if(m.padd){z.padd=m.padd}}switch(D){case"-":z.noEmpty=true;break;case"+":z.fullEnd=true;break;case"#":z.padd=true;break;default:A=0}o[B]=C=C.substring(A);k.validElements[C]=1;if(/[*.?]/.test(o[0])){z.nameRE=new RegExp("^"+d(o[0])+"$");k.wildRules=k.wildRules||{};k.wildRules.push(z)}else{z.name=o[0];if(o[0]=="@"){m=z}k.rules[C]=z}z.attribs=n;if(v){z.requiredAttribs=v}if(t){C="";g(r,function(s){if(C){C+="|"}C+="("+d(s)+")"});z.validAttribsRE=new RegExp("^"+C.toLowerCase()+"$");z.wildAttribs=t}})});l="";g(k.validElements,function(o,n){if(l){l+="|"}if(n!="@"){l+=n}});k.validElementsRE=new RegExp("^("+d(l.toLowerCase())+")$")},findRule:function(q){var l=this,o=l.rules,k,m;l._setup();m=o[q];if(m){return m}o=l.wildRules;for(k=0;k<o.length;k++){if(o[k].nameRE.test(q)){return o[k]}}return null},findAttribRule:function(k,o){var l,m=k.wildAttribs;for(l=0;l<m.length;l++){if(m[l].nameRE.test(o)){return m[l]}}return null},serialize:function(v,u){var r,m=this,s,k,l,q;m._setup();u=u||{};u.format=u.format||"html";m.processObj=u;if(e){q=[];g(v.getElementsByTagName("option"),function(t){var o=m.dom.getAttrib(t,"selected");q.push(o?o:null)})}v=v.cloneNode(true);if(e){g(v.getElementsByTagName("option"),function(t,o){m.dom.setAttrib(t,"selected",q[o])})}l=v.ownerDocument.implementation;if(l.createHTMLDocument&&(f.isOpera&&opera.buildNumber()>=1767)){s=l.createHTMLDocument("");g(v.nodeName=="BODY"?v.childNodes:[v],function(n){s.body.appendChild(s.importNode(n,true))});if(v.nodeName!="BODY"){v=s.body.firstChild}else{v=s.body}k=m.dom.doc;m.dom.doc=s}m.key=""+(parseInt(m.key)+1);if(!u.no_events){u.node=v;m.onPreProcess.dispatch(m,u)}m.writer.reset();m._info=u;m._serializeNode(v,u.getInner);u.content=m.writer.getContent();if(k){m.dom.doc=k}if(!u.no_events){m.onPostProcess.dispatch(m,u)}m._postProcess(u);u.node=null;return f.trim(u.content)},_postProcess:function(r){var k=this,m=k.settings,l=r.content,q=[],n;if(r.format=="html"){n=k._protect({content:l,patterns:[{pattern:/(<script[^>]*>)(.*?)(<\/script>)/g},{pattern:/(<noscript[^>]*>)(.*?)(<\/noscript>)/g},{pattern:/(<style[^>]*>)(.*?)(<\/style>)/g},{pattern:/(<pre[^>]*>)(.*?)(<\/pre>)/g,encode:1},{pattern:/(<!--\[CDATA\[)(.*?)(\]\]-->)/g}]});l=n.content;if(m.entity_encoding!=="raw"){l=k._encode(l)}if(!r.set){l=f._replace(/<p>\s+<\/p>|<p([^>]+)>\s+<\/p>/g,m.entity_encoding=="numeric"?"<p$1>&#160;</p>":"<p$1>&nbsp;</p>",l);if(m.remove_linebreaks){l=l.replace(/\r?\n|\r/g," ");l=f._replace(/(<[^>]+>)\s+/g,"$1 ",l);l=f._replace(/\s+(<\/[^>]+>)/g," $1",l);l=f._replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object) ([^>]+)>\s+/g,"<$1 $2>",l);l=f._replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>\s+/g,"<$1>",l);l=f._replace(/\s+<\/(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>/g,"</$1>",l)}if(m.apply_source_formatting&&m.indent_mode=="simple"){l=f._replace(/<(\/?)(ul|hr|table|meta|link|tbody|tr|object|body|head|html|map)(|[^>]+)>\s*/g,"\n<$1$2$3>\n",l);l=f._replace(/\s*<(p|h[1-6]|blockquote|div|title|style|pre|script|td|li|area)(|[^>]+)>/g,"\n<$1$2>",l);l=f._replace(/<\/(p|h[1-6]|blockquote|div|title|style|pre|script|td|li)>\s*/g,"</$1>\n",l);l=l.replace(/\n\n/g,"\n")}}l=k._unprotect(l,n);l=f._replace(/<!--\[CDATA\[([\s\S]+)\]\]-->/g,"<![CDATA[$1]]>",l);if(m.entity_encoding=="raw"){l=f._replace(/<p>&nbsp;<\/p>|<p([^>]+)>&nbsp;<\/p>/g,"<p$1>\u00a0</p>",l)}l=l.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(o,t,s){return"<noscript"+t+">"+k.dom.decode(s.replace(/<!--|-->/g,""))+"</noscript>"})}r.content=l},_serializeNode:function(J,O){var F=this,G=F.settings,D=F.writer,z,m,B,L,K,N,H,k,E,o,A,I,u,q,M,r,C;if(!G.node_filter||G.node_filter(J)){switch(J.nodeType){case 1:if(J.hasAttribute?J.hasAttribute("_mce_bogus"):J.getAttribute("_mce_bogus")){return}u=M=false;z=J.hasChildNodes();o=J.getAttribute("_mce_name")||J.nodeName.toLowerCase();r=J.getAttribute("_mce_type");if(r){if(!F._info.cleanup){u=true;return}else{M=1}}if(e){C=J.scopeName;if(C&&C!=="HTML"&&C!=="html"){o=C+":"+o}}if(o.indexOf("mce:")===0){o=o.substring(4)}if(!M){if(!F.validElementsRE||!F.validElementsRE.test(o)||(F.invalidElementsRE&&F.invalidElementsRE.test(o))||O){u=true;break}}if(e){if(G.fix_content_duplication){if(J._mce_serialized==F.key){return}J._mce_serialized=F.key}if(o.charAt(0)=="/"){o=o.substring(1)}}else{if(b){if(J.nodeName==="BR"&&J.getAttribute("type")=="_moz"){return}}}if(G.validate_children){if(F.elementName&&!F.schema.isValid(F.elementName,o)){u=true;break}F.elementName=o}A=F.findRule(o);if(!A){u=true;break}o=A.name||o;q=G.closed.test(o);if((!z&&A.noEmpty)||(e&&!o)){u=true;break}if(A.requiredAttribs){N=A.requiredAttribs;for(L=N.length-1;L>=0;L--){if(this.dom.getAttrib(J,N[L])!==""){break}}if(L==-1){u=true;break}}D.writeStartElement(o);if(A.attribs){for(L=0,H=A.attribs,K=H.length;L<K;L++){N=H[L];E=F._getAttrib(J,N);if(E!==null){D.writeAttribute(N.name,E)}}}if(A.validAttribsRE){H=F.dom.getAttribs(J);for(L=H.length-1;L>-1;L--){k=H[L];if(k.specified){N=k.nodeName.toLowerCase();if(G.invalid_attrs.test(N)||!A.validAttribsRE.test(N)){continue}I=F.findAttribRule(A,N);E=F._getAttrib(J,I,N);if(E!==null){D.writeAttribute(N,E)}}}}if(r&&M){D.writeAttribute("_mce_type",r)}if(o==="script"&&f.trim(J.innerHTML)){D.writeText("// ");D.writeCDATA(J.innerHTML.replace(/<!--|-->|<\[CDATA\[|\]\]>/g,""));z=false;break}if(A.padd){if(z&&(B=J.firstChild)&&B.nodeType===1&&J.childNodes.length===1){if(B.hasAttribute?B.hasAttribute("_mce_bogus"):B.getAttribute("_mce_bogus")){D.writeText("\u00a0")}}else{if(!z){D.writeText("\u00a0")}}}break;case 3:if(G.validate_children&&F.elementName&&!F.schema.isValid(F.elementName,"#text")){return}return D.writeText(J.nodeValue);case 4:return D.writeCDATA(J.nodeValue);case 8:return D.writeComment(J.nodeValue)}}else{if(J.nodeType==1){z=J.hasChildNodes()}}if(z&&!q){B=J.firstChild;while(B){F._serializeNode(B);F.elementName=o;B=B.nextSibling}}if(!u){if(!q){D.writeFullEndElement()}else{D.writeEndElement()}}},_protect:function(m){var l=this;m.items=m.items||[];function k(o){return o.replace(/[\r\n\\]/g,function(q){if(q==="\n"){return"\\n"}else{if(q==="\\"){return"\\\\"}}return"\\r"})}function n(o){return o.replace(/\\[\\rn]/g,function(q){if(q==="\\n"){return"\n"}else{if(q==="\\\\"){return"\\"}}return"\r"})}g(m.patterns,function(o){m.content=n(k(m.content).replace(o.pattern,function(r,s,q,t){q=n(q);if(o.encode){q=l._encode(q)}m.items.push(q);return s+"<!--mce:"+(m.items.length-1)+"-->"+t}))});return m},_unprotect:function(k,l){k=k.replace(/\<!--mce:([0-9]+)--\>/g,function(n,m){return l.items[parseInt(m)]});l.items=[];return k},_encode:function(o){var m=this,n=m.settings,k;if(n.entity_encoding!=="raw"){if(n.entity_encoding.indexOf("named")!=-1){m.setEntities(n.entities);k=m.entityLookup;o=o.replace(/[\u007E-\uFFFF]/g,function(l){var q;if(q=k[l]){l="&"+q+";"}return l})}if(n.entity_encoding.indexOf("numeric")!=-1){o=o.replace(/[\u007E-\uFFFF]/g,function(l){return"&#"+l.charCodeAt(0)+";"})}}return o},_setup:function(){var k=this,l=this.settings;if(k.done){return}k.done=1;k.setRules(l.valid_elements);k.addRules(l.extended_valid_elements);if(l.invalid_elements){k.invalidElementsRE=new RegExp("^("+d(l.invalid_elements.replace(/,/g,"|").toLowerCase())+")$")}if(l.attrib_value_filter){k.attribValueFilter=l.attribValueFilter}},_getAttrib:function(q,l,k){var o,m;k=k||l.name;if(l.forcedVal&&(m=l.forcedVal)){if(m==="{$uid}"){return this.dom.uniqueId()}return m}m=this.dom.getAttrib(q,k);switch(k){case"rowspan":case"colspan":if(m=="1"){m=""}break}if(this.attribValueFilter){m=this.attribValueFilter(k,m,q)}if(l.validVals){for(o=l.validVals.length-1;o>=0;o--){if(m==l.validVals[o]){break}}if(o==-1){return null}}if(m===""&&typeof(l.defaultVal)!="undefined"){m=l.defaultVal;if(m==="{$uid}"){return this.dom.uniqueId()}return m}else{if(k=="class"&&this.processObj.get){m=m.replace(/\s?mceItem\w+\s?/g,"")}}if(m===""){return null}return m}})})(tinymce);(function(b){b.dom.ScriptLoader=function(k){var d=0,n=1,l=2,o={},m=[],g={},e=[],j=0,f;function c(q,B){var C=this,v=b.DOM,A,s,z,r;function u(){v.remove(r);if(A){A.onreadystatechange=A.onload=A=null}B()}r=v.uniqueId();if(b.isIE6){s=new b.util.URI(q);z=location;if(s.host==z.hostname&&s.port==z.port&&(s.protocol+":")==z.protocol){b.util.XHR.send({url:b._addVer(s.getURI()),success:function(D){var t=v.create("script",{type:"text/javascript"});t.text=D;document.getElementsByTagName("head")[0].appendChild(t);v.remove(t);u()}});return}}A=v.create("script",{id:r,type:"text/javascript",src:b._addVer(q)});if(!b.isIE){A.onload=u}A.onreadystatechange=function(){var t=A.readyState;if(t=="complete"||t=="loaded"){u()}};(document.getElementsByTagName("head")[0]||document.body).appendChild(A)}this.isDone=function(q){return o[q]==l};this.markDone=function(q){o[q]=l};this.add=this.load=function(q,u,r){var s,t=o[q];if(t==f){m.push(q);o[q]=d}if(u){if(!g[q]){g[q]=[]}g[q].push({func:u,scope:r||this})}};this.loadQueue=function(r,q){this.loadScripts(m,r,q)};this.loadScripts=function(q,u,t){var s;function r(v){b.each(g[v],function(z){z.func.call(z.scope)});g[v]=f}e.push({func:u,scope:t||this});s=function(){var v=b.grep(q);q.length=0;b.each(v,function(z){if(o[z]==l){r(z);return}if(o[z]!=n){o[z]=n;j++;c(z,function(){o[z]=l;j--;r(z);s()})}});if(!j){b.each(e,function(z){z.func.call(z.scope)});e.length=0}};s()}};b.ScriptLoader=new b.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(b,d){var c=b;function e(l,g,f,m){var k,j;if(l){if(!m&&l[g]){return l[g]}if(l!=d){k=l[f];if(k){return k}for(j=l.parentNode;j&&j!=d;j=j.parentNode){k=j[f];if(k){return k}}}}}this.current=function(){return c};this.next=function(f){return(c=e(c,"firstChild","nextSibling",f))};this.prev=function(f){return(c=e(c,"lastChild","lastSibling",f))}};(function(){var b={};function c(g,f){var e;function d(j){return j.replace(/[A-Z]+/g,function(k){return d(g[k])})}for(e in g){if(g.hasOwnProperty(e)){g[e]=d(g[e])}}d(f).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]/g,function(n,j,l){var k,m={};l=l.split(/\|/);for(k=l.length-1;k>=0;k--){m[l[k]]=1}b[j]=m})}c({Z:"#|H|K|N|O|P",Y:"#|X|form|R|Q",X:"p|T|div|U|W|isindex|fieldset|table",W:"pre|hr|blockquote|address|center|noframes",U:"ul|ol|dl|menu|dir",ZC:"#|p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"#|X|S|Q",S:"R|P",ZA:"#|a|G|J|M|O|P",R:"#|a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe"},"script[]style[]object[#|param|X|form|a|H|K|N|O|Q]param[]p[S]a[Z]br[]span[S]bdo[S]applet[#|param|X|form|a|H|K|N|O|Q]h1[S]img[]map[X|form|Q|area]h2[S]iframe[#|X|form|a|H|K|N|O|Q]h3[S]tt[S]i[S]b[S]u[S]s[S]strike[S]big[S]small[S]font[S]basefont[]em[S]strong[S]dfn[S]code[S]q[S]samp[S]kbd[S]var[S]cite[S]abbr[S]acronym[S]sub[S]sup[S]input[]select[optgroup|option]optgroup[option]option[]textarea[]label[S]button[#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[S]ins[#|X|form|a|H|K|N|O|Q]h5[S]del[#|X|form|a|H|K|N|O|Q]h6[S]div[#|X|form|a|H|K|N|O|Q]ul[li]li[#|X|form|a|H|K|N|O|Q]ol[li]dl[dt|dd]dt[S]dd[#|X|form|a|H|K|N|O|Q]menu[li]dir[li]pre[ZA]hr[]blockquote[#|X|form|a|H|K|N|O|Q]address[S|p]center[#|X|form|a|H|K|N|O|Q]noframes[#|X|form|a|H|K|N|O|Q]isindex[]fieldset[#|legend|X|form|a|H|K|N|O|Q]legend[S]table[caption|col|colgroup|thead|tfoot|tbody|tr]caption[S]col[]colgroup[col]thead[tr]tr[th|td]th[#|X|form|a|H|K|N|O|Q]form[#|X|a|H|K|N|O|Q]noscript[#|X|form|a|H|K|N|O|Q]td[#|X|form|a|H|K|N|O|Q]tfoot[tr]tbody[tr]area[]base[]body[#|X|form|a|H|K|N|O|Q]");tinymce.dom.Schema=function(){var d=this,e=b;d.isValid=function(g,f){var j=e[g];return !!(j&&(!f||j[f]))}}})();(function(b){b.dom.RangeUtils=function(d){var c="\uFEFF";this.walk=function(e,v){var k=e.startContainer,n=e.startOffset,z=e.endContainer,o=e.endOffset,l,g,r,j,u,t,f;f=d.select("td.mceSelected,th.mceSelected");if(f.length>0){b.each(f,function(A){v([A])});return}function s(C,B,A){var D=[];for(;C&&C!=A;C=C[B]){D.push(C)}return D}function q(B,A){do{if(B.parentNode==A){return B}B=B.parentNode}while(B)}function m(C,B,D){var A=D?"nextSibling":"previousSibling";for(j=C,u=j.parentNode;j&&j!=B;j=u){u=j.parentNode;t=s(j==C?j:j[A],A);if(t.length){if(!D){t.reverse()}v(t)}}}if(k.nodeType==1&&k.hasChildNodes()){k=k.childNodes[n]}if(z.nodeType==1&&z.hasChildNodes()){z=z.childNodes[Math.min(n==o?o:o-1,z.childNodes.length-1)]}l=d.findCommonAncestor(k,z);if(k==z){return v([k])}for(j=k;j;j=j.parentNode){if(j==z){return m(k,l,true)}if(j==l){break}}for(j=z;j;j=j.parentNode){if(j==k){return m(z,l)}if(j==l){break}}g=q(k,l)||k;r=q(z,l)||z;m(k,g,true);t=s(g==k?g:g.nextSibling,"nextSibling",r==z?r.nextSibling:r);if(t.length){v(t)}m(z,r)}};b.dom.RangeUtils.compareRanges=function(d,c){if(d&&c){if(d.item||d.duplicate){if(d.item&&c.item&&d.item(0)===c.item(0)){return true}if(d.isEqual&&c.isEqual&&c.isEqual(d)){return true}}else{return d.startContainer==c.startContainer&&d.startOffset==c.startOffset}}return false}})(tinymce);(function(d){var c=d.DOM,b=d.is;d.create("tinymce.ui.Control",{Control:function(f,e){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new d.util.Dispatcher(this);this.classPrefix="";this.scope=e.scope||this;this.disabled=0;this.active=0},setDisabled:function(f){var g;if(f!=this.disabled){g=c.get(this.id);if(g&&this.settings.unavailable_prefix){if(f){this.prevTitle=g.title;g.title=this.settings.unavailable_prefix+": "+g.title}else{g.title=this.prevTitle}}this.setState("Disabled",f);this.setState("Enabled",!f);this.disabled=f}},isDisabled:function(){return this.disabled},setActive:function(e){if(e!=this.active){this.setState("Active",e);this.active=e}},isActive:function(){return this.active},setState:function(g,e){var f=c.get(this.id);g=this.classPrefix+g;if(e){c.addClass(f,g)}else{c.removeClass(f,g)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){c.setHTML(e,this.renderHTML())},postRender:function(){var f=this,e;if(b(f.disabled)){e=f.disabled;f.disabled=-1;f.setDisabled(e)}if(b(f.active)){e=f.active;f.active=-1;f.setActive(e)}},remove:function(){c.remove(this.id);this.destroy()},destroy:function(){d.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(c,b){this.parent(c,b);this.controls=[];this.lookup={}},add:function(b){this.lookup[b.id]=b;this.controls.push(b);return b},get:function(b){return this.lookup[b]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(c,b){this.parent(c,b);this.classPrefix="mceSeparator"},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix})}});(function(e){var d=e.is,c=e.DOM,f=e.each,b=e.walk;e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(j,g){this.parent(j,g);this.classPrefix="mceMenuItem"},setSelected:function(g){this.setState("Selected",g);this.selected=g},isSelected:function(){return this.selected},postRender:function(){var g=this;g.parent();if(d(g.selected)){g.setSelected(g.selected)}}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,b=e.walk;e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(k,j){var g=this;g.parent(k,j);g.items={};g.collapsed=false;g.menuCount=0;g.onAddItem=new e.util.Dispatcher(this)},expand:function(j){var g=this;if(j){b(g,function(k){if(k.expand){k.expand()}},"items",g)}g.collapsed=false},collapse:function(j){var g=this;if(j){b(g,function(k){if(k.collapse){k.collapse()}},"items",g)}g.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(g){if(!g.settings){g=new e.ui.MenuItem(g.id||c.uniqueId(),g)}this.onAddItem.dispatch(this,g);return this.items[g.id]=g},addSeparator:function(){return this.add({separator:true})},addMenu:function(g){if(!g.collapse){g=this.createMenu(g)}this.menuCount++;return this.add(g)},hasMenus:function(){return this.menuCount!==0},remove:function(g){delete this.items[g.id]},removeAll:function(){var g=this;b(g,function(j){if(j.removeAll){j.removeAll()}else{j.remove()}j.destroy()},"items",g);g.items={}},createMenu:function(j){var g=new e.ui.Menu(j.id||c.uniqueId(),j);g.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return g}})})(tinymce);(function(f){var e=f.is,d=f.DOM,g=f.each,b=f.dom.Event,c=f.dom.Element;f.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(k,j){j=j||{};j.container=j.container||d.doc.body;j.offset_x=j.offset_x||0;j.offset_y=j.offset_y||0;j.vp_offset_x=j.vp_offset_x||0;j.vp_offset_y=j.vp_offset_y||0;if(e(j.icons)&&!j.icons){j["class"]+=" mceNoIcons"}this.parent(k,j);this.onShowMenu=new f.util.Dispatcher(this);this.onHideMenu=new f.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(n){var k=this,l=k.settings,j;n.container=n.container||l.container;n.parent=k;n.constrain=n.constrain||l.constrain;n["class"]=n["class"]||l["class"];n.vp_offset_x=n.vp_offset_x||l.vp_offset_x;n.vp_offset_y=n.vp_offset_y||l.vp_offset_y;j=new f.ui.DropMenu(n.id||d.uniqueId(),n);j.onAddItem.add(k.onAddItem.dispatch,k.onAddItem);return j},update:function(){var l=this,m=l.settings,j=d.get("menu_"+l.id+"_tbl"),o=d.get("menu_"+l.id+"_co"),k,n;k=m.max_width?Math.min(j.clientWidth,m.max_width):j.clientWidth;n=m.max_height?Math.min(j.clientHeight,m.max_height):j.clientHeight;if(!d.boxModel){l.element.setStyles({width:k+2,height:n+2})}else{l.element.setStyles({width:k,height:n})}if(m.max_width){d.setStyle(o,"width",k)}if(m.max_height){d.setStyle(o,"height",n);if(j.clientHeight<m.max_height){d.setStyle(o,"overflow","hidden")}}},showMenu:function(u,q,z){var C=this,D=C.settings,r,j=d.getViewPort(),A,n,B,v,k=2,m,l,o=C.classPrefix;C.collapse(1);if(C.isMenuVisible){return}if(!C.rendered){r=d.add(C.settings.container,C.renderNode());g(C.items,function(s){s.postRender()});C.element=new c("menu_"+C.id,{blocker:1,container:D.container})}else{r=d.get("menu_"+C.id)}if(!f.isOpera){d.setStyles(r,{left:-65535,top:-65535})}d.show(r);C.update();u+=D.offset_x||0;q+=D.offset_y||0;j.w-=4;j.h-=4;if(D.constrain){A=r.clientWidth-k;n=r.clientHeight-k;B=j.x+j.w;v=j.y+j.h;if((u+D.vp_offset_x+A)>B){u=z?z-A:Math.max(0,(B-D.vp_offset_x)-A)}if((q+D.vp_offset_y+n)>v){q=Math.max(0,(v-D.vp_offset_y)-n)}}d.setStyles(r,{left:u,top:q});C.element.update();C.isMenuVisible=1;C.mouseClickFunc=b.add(r,"click",function(t){var s;t=t.target;if(t&&(t=d.getParent(t,"tr"))&&!d.hasClass(t,o+"ItemSub")){s=C.items[t.id];if(s.isDisabled()){return}m=C;while(m){if(m.hideMenu){m.hideMenu()}m=m.settings.parent}if(s.settings.onclick){s.settings.onclick(t)}return b.cancel(t)}});if(C.hasMenus()){C.mouseOverFunc=b.add(r,"mouseover",function(F){var s,E,t;F=F.target;if(F&&(F=d.getParent(F,"tr"))){s=C.items[F.id];if(C.lastMenu){C.lastMenu.collapse(1)}if(s.isDisabled()){return}if(F&&d.hasClass(F,o+"ItemSub")){E=d.getRect(F);s.showMenu((E.x+E.w-k),E.y-k,E.x);C.lastMenu=s;d.addClass(d.get(s.id).firstChild,o+"ItemActive")}}})}C.onShowMenu.dispatch(C);if(D.keyboard_focus){b.add(r,"keydown",C._keyHandler,C);d.select("a","menu_"+C.id)[0].focus();C._focusIdx=0}},hideMenu:function(m){var j=this,l=d.get("menu_"+j.id),k;if(!j.isMenuVisible){return}b.remove(l,"mouseover",j.mouseOverFunc);b.remove(l,"click",j.mouseClickFunc);b.remove(l,"keydown",j._keyHandler);d.hide(l);j.isMenuVisible=0;if(!m){j.collapse(1)}if(j.element){j.element.hide()}if(k=d.get(j.id)){d.removeClass(k.firstChild,j.classPrefix+"ItemActive")}j.onHideMenu.dispatch(j)},add:function(l){var j=this,k;l=j.parent(l);if(j.isRendered&&(k=d.get("menu_"+j.id))){j._add(d.select("tbody",k)[0],l)}return l},collapse:function(j){this.parent(j);this.hideMenu(1)},remove:function(j){d.remove(j.id);this.destroy();return this.parent(j)},destroy:function(){var j=this,k=d.get("menu_"+j.id);b.remove(k,"mouseover",j.mouseOverFunc);b.remove(k,"click",j.mouseClickFunc);if(j.element){j.element.remove()}d.remove(k)},renderNode:function(){var l=this,m=l.settings,q,k,o,j;j=d.create("div",{id:"menu_"+l.id,"class":m["class"],style:"position:absolute;left:0;top:0;z-index:200000"});o=d.add(j,"div",{id:"menu_"+l.id+"_co","class":l.classPrefix+(m["class"]?" "+m["class"]:"")});l.element=new c("menu_"+l.id,{blocker:1,container:m.container});if(m.menu_line){d.add(o,"span",{"class":l.classPrefix+"Line"})}q=d.add(o,"table",{id:"menu_"+l.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});k=d.add(q,"tbody");g(l.items,function(n){l._add(k,n)});l.rendered=true;return j},_keyHandler:function(m){var l=this,k=m.keyCode;function j(q){var n=l._focusIdx+q,o=d.select("a","menu_"+l.id)[n];if(o){l._focusIdx=n;o.focus()}}switch(k){case 38:j(-1);return;case 40:j(1);return;case 13:return;case 27:return this.hideMenu()}},_add:function(m,k){var l,v=k.settings,u,r,q,t=this.classPrefix,j;if(v.separator){r=d.add(m,"tr",{id:k.id,"class":t+"ItemSeparator"});d.add(r,"td",{"class":t+"ItemSeparator"});if(l=r.previousSibling){d.addClass(l,"mceLast")}return}l=r=d.add(m,"tr",{id:k.id,"class":t+"Item "+t+"ItemEnabled"});l=q=d.add(l,"td");l=u=d.add(l,"a",{href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});d.addClass(q,v["class"]);j=d.add(l,"span",{"class":"mceIcon"+(v.icon?" mce_"+v.icon:"")});if(v.icon_src){d.add(j,"img",{src:v.icon_src})}l=d.add(l,v.element||"span",{"class":"mceText",title:k.settings.title},k.settings.title);if(k.settings.style){d.setAttrib(l,"style",k.settings.style)}if(m.childNodes.length==1){d.addClass(r,"mceFirst")}if((l=r.previousSibling)&&d.hasClass(l,t+"ItemSeparator")){d.addClass(r,"mceFirst")}if(k.collapse){d.addClass(r,t+"ItemSub")}if(l=r.previousSibling){d.removeClass(l,"mceLast")}d.addClass(r,"mceLast")}})})(tinymce);(function(c){var b=c.DOM;c.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,d){this.parent(e,d);this.classPrefix="mceButton"},renderHTML:function(){var g=this.classPrefix,f=this.settings,e,d;d=b.encode(f.label||"");e='<a id="'+this.id+'" href="javascript:;" class="'+g+" "+g+"Enabled "+f["class"]+(d?" "+g+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" title="'+b.encode(f.title)+'">';if(f.image){e+='<img class="mceIcon" src="'+f.image+'" />'+d+"</a>"}else{e+='<span class="mceIcon '+f["class"]+'"></span>'+(d?'<span class="'+g+'Label">'+d+"</span>":"")+"</a>"}return e},postRender:function(){var d=this,e=d.settings;c.dom.Event.add(d.id,"click",function(f){if(!d.isDisabled()){return e.onclick.call(e.scope,f)}})}})})(tinymce);(function(e){var d=e.DOM,c=e.dom.Event,f=e.each,b=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(k,j){var g=this;g.parent(k,j);g.items=[];g.onChange=new b(g);g.onPostRender=new b(g);g.onAdd=new b(g);g.onRenderMenu=new e.util.Dispatcher(this);g.classPrefix="mceListBox"},select:function(j){var g=this,l,k;if(j==undefined){return g.selectByIndex(-1)}if(j&&j.call){k=j}else{k=function(m){return m==j}}if(j!=g.selectedValue){f(g.items,function(n,m){if(k(n.value)){l=1;g.selectByIndex(m);return false}});if(!l){g.selectByIndex(-1)}}},selectByIndex:function(g){var j=this,k,l;if(g!=j.selectedIndex){k=d.get(j.id+"_text");l=j.items[g];if(l){j.selectedValue=l.value;j.selectedIndex=g;d.setHTML(k,d.encode(l.title));d.removeClass(k,"mceTitle")}else{d.setHTML(k,d.encode(j.settings.title));d.addClass(k,"mceTitle");j.selectedValue=j.selectedIndex=null}k=0}},add:function(l,g,k){var j=this;k=k||{};k=e.extend(k,{title:l,value:g});j.items.push(k);j.onAdd.dispatch(j,k)},getLength:function(){return this.items.length},renderHTML:function(){var k="",g=this,j=g.settings,l=g.classPrefix;k='<table id="'+g.id+'" cellpadding="0" cellspacing="0" class="'+l+" "+l+"Enabled"+(j["class"]?(" "+j["class"]):"")+'"><tbody><tr>';k+="<td>"+d.createHTML("a",{id:g.id+"_text",href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},d.encode(g.settings.title))+"</td>";k+="<td>"+d.createHTML("a",{id:g.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},"<span></span>")+"</td>";k+="</tr></tbody></table>";return k},showMenu:function(){var j=this,n,l,k=d.get(this.id),g;if(j.isDisabled()||j.items.length==0){return}if(j.menu&&j.menu.isMenuVisible){return j.hideMenu()}if(!j.isMenuRendered){j.renderMenu();j.isMenuRendered=true}n=d.getPos(this.settings.menu_container);l=d.getPos(k);g=j.menu;g.settings.offset_x=l.x;g.settings.offset_y=l.y;g.settings.keyboard_focus=!e.isOpera;if(j.oldID){g.items[j.oldID].setSelected(0)}f(j.items,function(m){if(m.value===j.selectedValue){g.items[m.id].setSelected(1);j.oldID=m.id}});g.showMenu(0,k.clientHeight);c.add(d.doc,"mousedown",j.hideMenu,j);d.addClass(j.id,j.classPrefix+"Selected")},hideMenu:function(j){var g=this;if(g.menu&&g.menu.isMenuVisible){if(j&&j.type=="mousedown"&&(j.target.id==g.id+"_text"||j.target.id==g.id+"_open")){return}if(!j||!d.getParent(j.target,".mceMenu")){d.removeClass(g.id,g.classPrefix+"Selected");c.remove(d.doc,"mousedown",g.hideMenu,g);g.menu.hideMenu()}}},renderMenu:function(){var j=this,g;g=j.settings.control_manager.createDropMenu(j.id+"_menu",{menu_line:1,"class":j.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});g.onHideMenu.add(j.hideMenu,j);g.add({title:j.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(j.settings.onselect("")!==false){j.select("")}}});f(j.items,function(k){if(k.value===undefined){g.add({title:k.title,"class":"mceMenuItemTitle",onclick:function(){if(j.settings.onselect("")!==false){j.select("")}}})}else{k.id=d.uniqueId();k.onclick=function(){if(j.settings.onselect(k.value)!==false){j.select(k.value)}};g.add(k)}});j.onRenderMenu.dispatch(j,g);j.menu=g},postRender:function(){var g=this,j=g.classPrefix;c.add(g.id,"click",g.showMenu,g);c.add(g.id+"_text","focus",function(){if(!g._focused){g.keyDownHandler=c.add(g.id+"_text","keydown",function(n){var k=-1,l,m=n.keyCode;f(g.items,function(o,q){if(g.selectedValue==o.value){k=q}});if(m==38){l=g.items[k-1]}else{if(m==40){l=g.items[k+1]}else{if(m==13){l=g.selectedValue;g.selectedValue=null;g.settings.onselect(l);return c.cancel(n)}}}if(l){g.hideMenu();g.select(l.value)}})}g._focused=1});c.add(g.id+"_text","blur",function(){c.remove(g.id+"_text","keydown",g.keyDownHandler);g._focused=0});if(e.isIE6||!d.boxModel){c.add(g.id,"mouseover",function(){if(!d.hasClass(g.id,j+"Disabled")){d.addClass(g.id,j+"Hover")}});c.add(g.id,"mouseout",function(){if(!d.hasClass(g.id,j+"Disabled")){d.removeClass(g.id,j+"Hover")}})}g.onPostRender.dispatch(g,d.get(g.id))},destroy:function(){this.parent();c.clear(this.id+"_text");c.clear(this.id+"_open")}})})(tinymce);(function(e){var d=e.DOM,c=e.dom.Event,f=e.each,b=e.util.Dispatcher;e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(j,g){this.parent(j,g);this.classPrefix="mceNativeListBox"},setDisabled:function(g){d.get(this.id).disabled=g},isDisabled:function(){return d.get(this.id).disabled},select:function(j){var g=this,l,k;if(j==undefined){return g.selectByIndex(-1)}if(j&&j.call){k=j}else{k=function(m){return m==j}}if(j!=g.selectedValue){f(g.items,function(n,m){if(k(n.value)){l=1;g.selectByIndex(m);return false}});if(!l){g.selectByIndex(-1)}}},selectByIndex:function(g){d.get(this.id).selectedIndex=g+1;this.selectedValue=this.items[g]?this.items[g].value:null},add:function(m,j,g){var l,k=this;g=g||{};g.value=j;if(k.isRendered()){d.add(d.get(this.id),"option",g,m)}l={title:m,value:j,attribs:g};k.items.push(l);k.onAdd.dispatch(k,l)},getLength:function(){return this.items.length},renderHTML:function(){var j,g=this;j=d.createHTML("option",{value:""},"-- "+g.settings.title+" --");f(g.items,function(k){j+=d.createHTML("option",{value:k.value},k.title)});j=d.createHTML("select",{id:g.id,"class":"mceNativeListBox"},j);return j},postRender:function(){var j=this,k;j.rendered=true;function g(m){var l=j.items[m.target.selectedIndex-1];if(l&&(l=l.value)){j.onChange.dispatch(j,l);if(j.settings.onselect){j.settings.onselect(l)}}}c.add(j.id,"change",g);c.add(j.id,"keydown",function(m){var l;c.remove(j.id,"change",k);l=c.add(j.id,"blur",function(){c.add(j.id,"change",g);c.remove(j.id,"blur",l)});if(m.keyCode==13||m.keyCode==32){g(m);return c.cancel(m)}});j.onPostRender.dispatch(j,d.get(j.id))}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each;d.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(g,f){this.parent(g,f);this.onRenderMenu=new d.util.Dispatcher(this);f.menu_container=f.menu_container||c.doc.body},showMenu:function(){var g=this,l,k,j=c.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}l=c.getPos(g.settings.menu_container);k=c.getPos(j);f=g.menu;f.settings.offset_x=k.x;f.settings.offset_y=k.y;f.settings.vp_offset_x=k.x;f.settings.vp_offset_y=k.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,j.clientHeight);b.add(c.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:g.settings.icons});f.onHideMenu.add(g.hideMenu,g);g.onRenderMenu.dispatch(g,f);g.menu=f},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&c.getParent(g.target,function(j){return j.id===f.id||j.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceMenu")){f.setState("Selected",0);b.remove(c.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var f=this,g=f.settings;b.add(f.id,"click",function(){if(!f.isDisabled()){if(g.onclick){g.onclick(f.value)}f.showMenu()}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each;d.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(g,f){this.parent(g,f);this.classPrefix="mceSplitButton"},renderHTML:function(){var k,g=this,j=g.settings,f;k="<tbody><tr>";if(j.image){f=c.createHTML("img ",{src:j.image,"class":"mceAction "+j["class"]})}else{f=c.createHTML("span",{"class":"mceAction "+j["class"]},"")}k+="<td>"+c.createHTML("a",{id:g.id+"_action",href:"javascript:;","class":"mceAction "+j["class"],onclick:"return false;",onmousedown:"return false;",title:j.title},f)+"</td>";f=c.createHTML("span",{"class":"mceOpen "+j["class"]});k+="<td>"+c.createHTML("a",{id:g.id+"_open",href:"javascript:;","class":"mceOpen "+j["class"],onclick:"return false;",onmousedown:"return false;",title:j.title},f)+"</td>";k+="</tr></tbody>";return c.createHTML("table",{id:g.id,"class":"mceSplitButton mceSplitButtonEnabled "+j["class"],cellpadding:"0",cellspacing:"0",onmousedown:"return false;",title:j.title},k)},postRender:function(){var f=this,g=f.settings;if(g.onclick){b.add(f.id+"_action","click",function(){if(!f.isDisabled()){g.onclick(f.value)}})}b.add(f.id+"_open","click",f.showMenu,f);b.add(f.id+"_open","focus",function(){f._focused=1});b.add(f.id+"_open","blur",function(){f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,"mouseover",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.addClass(f.id,"mceSplitButtonHover")}});b.add(f.id,"mouseout",function(){if(!c.hasClass(f.id,"mceSplitButtonDisabled")){c.removeClass(f.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();b.clear(this.id+"_action");b.clear(this.id+"_open")}})})(tinymce);(function(e){var d=e.DOM,b=e.dom.Event,c=e.is,f=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(k,j){var g=this;g.parent(k,j);g.settings=j=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},g.settings);g.onShowMenu=new e.util.Dispatcher(g);g.onHideMenu=new e.util.Dispatcher(g);g.value=j.default_color},showMenu:function(){var g=this,j,m,l,k;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}l=d.get(g.id);d.show(g.id+"_menu");d.addClass(l,"mceSplitButtonSelected");k=d.getPos(l);d.setStyles(g.id+"_menu",{left:k.x,top:k.y+l.clientHeight,zIndex:200000});l=0;b.add(d.doc,"mousedown",g.hideMenu,g);g.onShowMenu.dispatch(g);if(g._focused){g._keyHandler=b.add(g.id+"_menu","keydown",function(n){if(n.keyCode==27){g.hideMenu()}});d.select("a",g.id+"_menu")[0].focus()}g.isMenuVisible=1},hideMenu:function(j){var g=this;if(j&&j.type=="mousedown"&&d.getParent(j.target,function(k){return k.id===g.id+"_open"})){return}if(!j||!d.getParent(j.target,".mceSplitButtonMenu")){d.removeClass(g.id,"mceSplitButtonSelected");b.remove(d.doc,"mousedown",g.hideMenu,g);b.remove(g.id+"_menu","keydown",g._keyHandler);d.hide(g.id+"_menu")}g.onHideMenu.dispatch(g);g.isMenuVisible=0},renderMenu:function(){var o=this,g,l=0,q=o.settings,u,k,r,j;j=d.add(q.menu_container,"div",{id:o.id+"_menu","class":q.menu_class+" "+q["class"],style:"position:absolute;left:0;top:-1000px;"});g=d.add(j,"div",{"class":q["class"]+" mceSplitButtonMenu"});d.add(g,"span",{"class":"mceMenuLine"});u=d.add(g,"table",{"class":"mceColorSplitMenu"});k=d.add(u,"tbody");l=0;f(c(q.colors,"array")?q.colors:q.colors.split(","),function(m){m=m.replace(/^#/,"");if(!l--){r=d.add(k,"tr");l=q.grid_width-1}u=d.add(r,"td");u=d.add(u,"a",{href:"javascript:;",style:{backgroundColor:"#"+m},_mce_color:"#"+m})});if(q.more_colors_func){u=d.add(k,"tr");u=d.add(u,"td",{colspan:q.grid_width,"class":"mceMoreColors"});u=d.add(u,"a",{id:o.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},q.more_colors_title);b.add(u,"click",function(m){q.more_colors_func.call(q.more_colors_scope||this);return b.cancel(m)})}d.addClass(g,"mceColorSplitMenu");b.add(o.id+"_menu","click",function(m){var n;m=m.target;if(m.nodeName=="A"&&(n=m.getAttribute("_mce_color"))){o.setColor(n)}return b.cancel(m)});return j},setColor:function(j){var g=this;d.setStyle(g.id+"_preview","backgroundColor",j);g.value=j;g.hideMenu();g.settings.onselect(j)},postRender:function(){var g=this,j=g.id;g.parent();d.add(j+"_action","div",{id:j+"_preview","class":"mceColorPreview"});d.setStyle(g.id+"_preview","backgroundColor",g.value)},destroy:function(){this.parent();b.clear(this.id+"_menu");b.clear(this.id+"_more");d.remove(this.id+"_menu")}})})(tinymce);tinymce.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var m=this,f="",j,k,d=tinymce.DOM,n=m.settings,e,b,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];b=l[e-1];g=l[e+1];if(e===0){j="mceToolbarStart";if(k.Button){j+=" mceToolbarStartButton"}else{if(k.SplitButton){j+=" mceToolbarStartSplitButton"}else{if(k.ListBox){j+=" mceToolbarStartListBox"}}}f+=d.createHTML("td",{"class":j},d.createHTML("span",null,"<!-- IE -->"))}if(b&&k.ListBox){if(b.Button||b.SplitButton){f+=d.createHTML("td",{"class":"mceToolbarEnd"},d.createHTML("span",null,"<!-- IE -->"))}}if(d.stdMode){f+='<td style="position: relative">'+k.renderHTML()+"</td>"}else{f+="<td>"+k.renderHTML()+"</td>"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=d.createHTML("td",{"class":"mceToolbarStart"},d.createHTML("span",null,"<!-- IE -->"))}}}j="mceToolbarEnd";if(k.Button){j+=" mceToolbarEndButton"}else{if(k.SplitButton){j+=" mceToolbarEndSplitButton"}else{if(k.ListBox){j+=" mceToolbarEndListBox"}}}f+=d.createHTML("td",{"class":j},d.createHTML("span",null,"<!-- IE -->"));return d.createHTML("table",{id:m.id,"class":"mceToolbar"+(n["class"]?" "+n["class"]:""),cellpadding:"0",cellspacing:"0",align:m.settings.align||""},"<tbody><tr>"+f+"</tr></tbody>")}});(function(c){var b=c.util.Dispatcher,d=c.each;c.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[];e.urls={};e.lookup={};e.onAdd=new b(e)},get:function(e){return this.lookup[e]},requireLangPack:function(f){var e=c.settings;if(e&&e.language){c.ScriptLoader.add(this.urls[f]+"/langs/"+e.language+".js")}},add:function(f,e){this.items.push(e);this.lookup[f]=e;this.onAdd.dispatch(this,f,e);return e},load:function(k,f,e,j){var g=this;if(g.urls[k]){return}if(f.indexOf("/")!=0&&f.indexOf("://")==-1){f=c.baseURL+"/"+f}g.urls[k]=f.substring(0,f.lastIndexOf("/"));if(!g.lookup[k]){c.ScriptLoader.add(f,e,j)}}});c.PluginManager=new c.AddOnManager();c.ThemeManager=new c.AddOnManager()}(tinymce));(function(m){var j=m.each,e=m.extend,n=m.DOM,l=m.dom.Event,g=m.ThemeManager,c=m.PluginManager,f=m.explode,k=m.util.Dispatcher,b,d=0;m.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(m.documentBaseURL)){m.documentBaseURL+="/"}m.baseURL=new m.util.URI(m.documentBaseURL).toAbsolute(m.baseURL);m.baseURI=new m.util.URI(m.baseURL);m.onBeforeUnload=new k(m);l.add(window,"beforeunload",function(o){m.onBeforeUnload.dispatch(m,o)});m.onAddEditor=new k(m);m.onRemoveEditor=new k(m);m.EditorManager=e(m,{editors:[],i18n:{},activeEditor:null,init:function(z){var r=this,v,o=m.ScriptLoader,B,u=[],q;function A(D,E,t){var C=D[E];if(!C){return}if(m.is(C,"string")){t=C.replace(/\.\w+$/,"");t=t?m.resolve(t):0;C=m.resolve(C)}return C.apply(t||this,Array.prototype.slice.call(arguments,2))}z=e({theme:"simple",language:"en"},z);r.settings=z;l.add(document,"init",function(){var s,C;A(z,"onpageload");switch(z.mode){case"exact":s=z.elements||"";if(s.length>0){j(f(s),function(D){if(n.get(D)){q=new m.Editor(D,z);u.push(q);q.render(1)}else{j(document.forms,function(E){j(E.elements,function(F){if(F.name===D){D="mce_editor_"+d++;n.setAttrib(F,"id",D);q=new m.Editor(D,z);u.push(q);q.render(1)}})})}})}break;case"textareas":case"specific_textareas":function t(E,D){return D.constructor===RegExp?D.test(E.className):n.hasClass(E,D)}j(n.select("textarea"),function(D){if(z.editor_deselector&&t(D,z.editor_deselector)){return}if(!z.editor_selector||t(D,z.editor_selector)){B=n.get(D.name);if(!D.id&&!B){D.id=D.name}if(!D.id||r.get(D.id)){D.id=n.uniqueId()}q=new m.Editor(D.id,z);u.push(q);q.render(1)}});break}if(z.oninit){s=C=0;j(u,function(D){C++;if(!D.initialized){D.onInit.add(function(){s++;if(s==C){A(z,"oninit")}})}else{s++}if(s==C){A(z,"oninit")}})}})},get:function(o){if(o===b){return this.editors}return this.editors[o]},getInstanceById:function(o){return this.get(o)},add:function(q){var o=this,r=o.editors;r[q.id]=q;r.push(q);o._setActive(q);o.onAddEditor.dispatch(o,q);if(m.adapter){m.adapter.patchEditor(q)}return q},remove:function(r){var q=this,o,s=q.editors;if(!s[r.id]){return null}delete s[r.id];for(o=0;o<s.length;o++){if(s[o]==r){s.splice(o,1);break}}if(q.activeEditor==r){q._setActive(s[0])}r.destroy();q.onRemoveEditor.dispatch(q,r);return r},execCommand:function(B,z,s){var A=this,r=A.get(s),o;switch(B){case"mceFocus":r.focus();return true;case"mceAddEditor":case"mceAddControl":if(!A.get(s)){new m.Editor(s,A.settings).render()}return true;case"mceAddFrameControl":o=s.window;o.tinyMCE=tinyMCE;o.tinymce=m;m.DOM.doc=o.document;m.DOM.win=o;r=new m.Editor(s.element_id,s);r.render();if(m.isIE){function q(){r.destroy();o.detachEvent("onunload",q);o=o.tinyMCE=o.tinymce=null}o.attachEvent("onunload",q)}s.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(r){r.remove()}return true;case"mceToggleEditor":if(!r){A.execCommand("mceAddControl",0,s);return true}if(r.isHidden()){r.show()}else{r.hide()}return true}if(A.activeEditor){return A.activeEditor.execCommand(B,z,s)}return false},execInstanceCommand:function(t,s,r,q){var o=this.get(t);if(o){return o.execCommand(s,r,q)}return false},triggerSave:function(){j(this.editors,function(o){o.save()})},addI18n:function(s,t){var q,r=this.i18n;if(!m.is(s,"string")){j(s,function(v,u){j(v,function(A,z){j(A,function(C,B){if(z==="common"){r[u+"."+B]=C}else{r[u+"."+z+"."+B]=C}})})})}else{j(t,function(v,u){r[s+"."+u]=v})}},_setActive:function(o){this.selectedInstance=this.activeEditor=o}})})(tinymce);(function(q){var r=q.DOM,m=q.dom.Event,g=q.extend,n=q.util.Dispatcher,l=q.each,b=q.isGecko,c=q.isIE,f=q.isWebKit,e=q.is,k=q.ThemeManager,d=q.PluginManager,s=q.inArray,o=q.grep,j=q.explode;q.create("tinymce.Editor",{Editor:function(z,v){var u=this;u.id=u.editorId=z;u.execCommands={};u.queryStateCommands={};u.queryValueCommands={};u.isNotDirty=false;u.plugins={};l(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(t){u[t]=new n(u)});u.settings=v=g({id:z,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:q.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:q.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",valid_elements:"@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true},v);u.documentBaseURI=new q.util.URI(v.document_base_url||q.documentBaseURL,{base_uri:tinyMCE.baseURI});u.baseURI=q.baseURI;u.execCallback("setup",u)},render:function(z){var A=this,B=A.settings,C=A.id,u=q.ScriptLoader;if(!m.domLoaded){m.add(document,"init",function(){A.render()});return}tinyMCE.settings=B;if(!A.getElement()){return}if(q.isIDevice){return}if(!/TEXTAREA|INPUT/i.test(A.getElement().nodeName)&&B.hidden_input&&r.getParent(C,"form")){r.insertAfter(r.create("input",{type:"hidden",name:C}),C)}if(q.WindowManager){A.windowManager=new q.WindowManager(A)}if(B.encoding=="xml"){A.onGetContent.add(function(t,D){if(D.save){D.content=r.encode(D.content)}})}if(B.add_form_submit_trigger){A.onSubmit.addToTop(function(){if(A.initialized){A.save();A.isNotDirty=1}})}if(B.add_unload_trigger){A._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(A.initialized&&!A.destroyed&&!A.isHidden()){A.save({format:"raw",no_events:true})}})}q.addUnload(A.destroy,A);if(B.submit_patch){A.onBeforeRenderUI.add(function(){var t=A.getElement().form;if(!t){return}if(t._mceOldSubmit){return}if(!t.submit.nodeType&&!t.submit.length){A.formElement=t;t._mceOldSubmit=t.submit;t.submit=function(){q.triggerSave();A.isNotDirty=1;return A.formElement._mceOldSubmit(A.formElement)}}t=null})}function v(){if(B.language){u.add(q.baseURL+"/langs/"+B.language+".js")}if(B.theme&&B.theme.charAt(0)!="-"&&!k.urls[B.theme]){k.load(B.theme,"themes/"+B.theme+"/editor_template"+q.suffix+".js")}l(j(B.plugins),function(t){if(t&&t.charAt(0)!="-"&&!d.urls[t]){if(t=="safari"){return}d.load(t,"plugins/"+t+"/editor_plugin"+q.suffix+".js")}});u.loadQueue(function(){if(!A.removed){A.init()}})}v()},init:function(){var A,J=this,K=J.settings,G,D,F=J.getElement(),z,v,H,C,E,I;q.add(J);if(K.theme){K.theme=K.theme.replace(/-/,"");z=k.get(K.theme);J.theme=new z();if(J.theme.init&&K.init_theme){J.theme.init(J,k.urls[K.theme]||q.documentBaseURL.replace(/\/$/,""))}}l(j(K.plugins.replace(/\-/g,"")),function(M){var N=d.get(M),L=d.urls[M]||q.documentBaseURL.replace(/\/$/,""),t;if(N){t=new N(J,L);J.plugins[M]=t;if(t.init){t.init(J,L)}}});if(K.popup_css!==false){if(K.popup_css){K.popup_css=J.documentBaseURI.toAbsolute(K.popup_css)}else{K.popup_css=J.baseURI.toAbsolute("themes/"+K.theme+"/skins/"+K.skin+"/dialog.css")}}if(K.popup_css_add){K.popup_css+=","+J.documentBaseURI.toAbsolute(K.popup_css_add)}J.controlManager=new q.ControlManager(J);if(K.custom_undo_redo){J.onBeforeExecCommand.add(function(u,M,L,N,t){if(M!="Undo"&&M!="Redo"&&M!="mceRepaint"&&(!t||!t.skip_undo)){if(!J.undoManager.hasUndo()){J.undoManager.add()}}});J.onExecCommand.add(function(u,M,L,N,t){if(M!="Undo"&&M!="Redo"&&M!="mceRepaint"&&(!t||!t.skip_undo)){J.undoManager.add()}})}J.onExecCommand.add(function(t,u){if(!/^(FontName|FontSize)$/.test(u)){J.nodeChanged()}});if(b){function B(t,u){if(!u||!u.initial){J.execCommand("mceRepaint")}}J.onUndo.add(B);J.onRedo.add(B);J.onSetContent.add(B)}J.onBeforeRenderUI.dispatch(J,J.controlManager);if(K.render_ui){G=K.width||F.style.width||F.offsetWidth;D=K.height||F.style.height||F.offsetHeight;J.orgDisplay=F.style.display;I=/^[0-9\.]+(|px)$/i;if(I.test(""+G)){G=Math.max(parseInt(G)+(z.deltaWidth||0),100)}if(I.test(""+D)){D=Math.max(parseInt(D)+(z.deltaHeight||0),100)}z=J.theme.renderUI({targetNode:F,width:G,height:D,deltaWidth:K.delta_width,deltaHeight:K.delta_height});J.editorContainer=z.editorContainer}if(document.domain&&location.hostname!=document.domain){q.relaxedDomain=document.domain}r.setStyles(z.sizeContainer||z.editorContainer,{width:G,height:D});D=(z.iframeHeight||D)+(typeof(D)=="number"?(z.deltaHeight||0):"");if(D<100){D=100}J.iframeHTML=K.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(K.document_base_url!=q.documentBaseURL){J.iframeHTML+='<base href="'+J.documentBaseURI.getURI()+'" />'}J.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(q.relaxedDomain){J.iframeHTML+='<script type="text/javascript">document.domain = "'+q.relaxedDomain+'";<\/script>'}C=K.body_id||"tinymce";if(C.indexOf("=")!=-1){C=J.getParam("body_id","","hash");C=C[J.id]||C}E=K.body_class||"";if(E.indexOf("=")!=-1){E=J.getParam("body_class","","hash");E=E[J.id]||""}J.iframeHTML+='</head><body id="'+C+'" class="mceContentBody '+E+'"></body></html>';if(q.relaxedDomain){if(c||(q.isOpera&&parseFloat(opera.version())>=9.5)){H='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+J.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}else{if(q.isOpera){H='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();ed.setupIframe();})()'}}}A=r.add(z.iframeContainer,"iframe",{id:J.id+"_ifr",src:H||'javascript:""',frameBorder:"0",style:{width:"100%",height:D}});J.contentAreaContainer=z.iframeContainer;r.get(z.editorContainer).style.display=J.orgDisplay;r.get(J.id).style.display="none";if(!c||!q.relaxedDomain){J.setupIframe()}F=A=z=null},setupIframe:function(){var E=this,F=E.settings,z=r.get(E.id),A=E.getDoc(),v,C;if(!c||!q.relaxedDomain){A.open();A.write(E.iframeHTML);A.close()}if(!c){try{if(!F.readonly){A.designMode="On"}}catch(B){}}if(c){C=E.getBody();r.hide(C);if(!F.readonly){C.contentEditable=true}r.show(C)}E.dom=new q.dom.DOMUtils(E.getDoc(),{keep_values:true,url_converter:E.convertURL,url_converter_scope:E,hex_colors:F.force_hex_style_colors,class_filter:F.class_filter,update_styles:1,fix_ie_paragraphs:1,valid_styles:F.valid_styles});E.schema=new q.dom.Schema();E.serializer=new q.dom.Serializer(g(F,{valid_elements:F.verify_html===false?"*[*]":F.valid_elements,dom:E.dom,schema:E.schema}));E.selection=new q.dom.Selection(E.dom,E.getWin(),E.serializer);E.formatter=new q.Formatter(this);E.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b"}],italic:[{inline:"em"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"u"}],forecolor:{inline:"span",styles:{color:"%value"}},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"}},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});l("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(t){E.formatter.register(t,{block:t,remove:"all"})});E.formatter.register(E.settings.formats);E.undoManager=new q.UndoManager(E);E.undoManager.onAdd.add(function(G,t){if(!t.initial){return E.onChange.dispatch(E,t,G)}});E.undoManager.onUndo.add(function(G,t){return E.onUndo.dispatch(E,t,G)});E.undoManager.onRedo.add(function(G,t){return E.onRedo.dispatch(E,t,G)});E.forceBlocks=new q.ForceBlocks(E,{forced_root_block:F.forced_root_block});E.editorCommands=new q.EditorCommands(E);E.serializer.onPreProcess.add(function(t,G){return E.onPreProcess.dispatch(E,G,t)});E.serializer.onPostProcess.add(function(t,G){return E.onPostProcess.dispatch(E,G,t)});E.onPreInit.dispatch(E);if(!F.gecko_spellcheck){E.getBody().spellcheck=0}if(!F.readonly){E._addEvents()}E.controlManager.onPostRender.dispatch(E,E.controlManager);E.onPostRender.dispatch(E);if(F.directionality){E.getBody().dir=F.directionality}if(F.nowrap){E.getBody().style.whiteSpace="nowrap"}if(F.custom_elements){function D(t,G){l(j(F.custom_elements),function(H){var I;if(H.indexOf("~")===0){H=H.substring(1);I="span"}else{I="div"}G.content=G.content.replace(new RegExp("<("+H+")([^>]*)>","g"),"<"+I+' _mce_name="$1"$2>');G.content=G.content.replace(new RegExp("</("+H+")>","g"),"</"+I+">")})}E.onBeforeSetContent.add(D);E.onPostProcess.add(function(t,G){if(G.set){D(t,G)}})}if(F.handle_node_change_callback){E.onNodeChange.add(function(G,t,H){E.execCallback("handle_node_change_callback",E.id,H,-1,-1,true,E.selection.isCollapsed())})}if(F.save_callback){E.onSaveContent.add(function(t,H){var G=E.execCallback("save_callback",E.id,H.content,E.getBody());if(G){H.content=G}})}if(F.onchange_callback){E.onChange.add(function(G,t){E.execCallback("onchange_callback",E,t)})}if(F.convert_newlines_to_brs){E.onBeforeSetContent.add(function(t,G){if(G.initial){G.content=G.content.replace(/\r?\n/g,"<br />")}})}if(F.fix_nesting&&c){E.onBeforeSetContent.add(function(t,G){G.content=E._fixNesting(G.content)})}if(F.preformatted){E.onPostProcess.add(function(t,G){G.content=G.content.replace(/^\s*<pre.*?>/,"");G.content=G.content.replace(/<\/pre>\s*$/,"");if(G.set){G.content='<pre class="mceItemHidden">'+G.content+"</pre>"}})}if(F.verify_css_classes){E.serializer.attribValueFilter=function(I,G){var H,t;if(I=="class"){if(!E.classesRE){t=E.dom.getClasses();if(t.length>0){H="";l(t,function(J){H+=(H?"|":"")+J["class"]});E.classesRE=new RegExp("("+H+")","gi")}}return !E.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(G)||E.classesRE.test(G)?G:""}return G}}if(F.cleanup_callback){E.onBeforeSetContent.add(function(t,G){G.content=E.execCallback("cleanup_callback","insert_to_editor",G.content,G)});E.onPreProcess.add(function(t,G){if(G.set){E.execCallback("cleanup_callback","insert_to_editor_dom",G.node,G)}if(G.get){E.execCallback("cleanup_callback","get_from_editor_dom",G.node,G)}});E.onPostProcess.add(function(t,G){if(G.set){G.content=E.execCallback("cleanup_callback","insert_to_editor",G.content,G)}if(G.get){G.content=E.execCallback("cleanup_callback","get_from_editor",G.content,G)}})}if(F.save_callback){E.onGetContent.add(function(t,G){if(G.save){G.content=E.execCallback("save_callback",E.id,G.content,E.getBody())}})}if(F.handle_event_callback){E.onEvent.add(function(t,G,H){if(E.execCallback("handle_event_callback",G,t,H)===false){m.cancel(G)}})}E.onSetContent.add(function(){E.addVisual(E.getBody())});if(F.padd_empty_editor){E.onPostProcess.add(function(t,G){G.content=G.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}if(b){function u(t,G){l(t.dom.select("a"),function(I){var H=I.parentNode;if(t.dom.isBlock(H)&&H.lastChild===I){t.dom.add(H,"br",{_mce_bogus:1})}})}E.onExecCommand.add(function(t,G){if(G==="CreateLink"){u(t)}});E.onSetContent.add(E.selection.onSetContent.add(u));if(!F.readonly){try{A.designMode="Off";A.designMode="On"}catch(B){}}}setTimeout(function(){if(E.removed){return}E.load({initial:true,format:(F.cleanup_on_startup?"html":"raw")});E.startContent=E.getContent({format:"raw"});E.initialized=true;E.onInit.dispatch(E);E.execCallback("setupcontent_callback",E.id,E.getBody(),E.getDoc());E.execCallback("init_instance_callback",E);E.focus(true);E.nodeChanged({initial:1});if(F.content_css){q.each(j(F.content_css),function(t){E.dom.loadCSS(E.documentBaseURI.toAbsolute(t))})}if(F.auto_focus){setTimeout(function(){var t=q.get(F.auto_focus);t.selection.select(t.getBody(),1);t.selection.collapse(1);t.getWin().focus()},100)}},1);z=null},focus:function(A){var D,v=this,C=v.settings.content_editable,z,u,B=v.getDoc();if(!A){z=v.selection.getRng();if(z.item){u=z.item(0)}if(!C){v.getWin().focus()}if(u&&u.ownerDocument==B){z=B.body.createControlRange();z.addElement(u);z.select()}}if(q.activeEditor!=v){if((D=q.activeEditor)!=null){D.onDeactivate.dispatch(D,v)}v.onActivate.dispatch(v,D)}q._setActive(v)},execCallback:function(A){var u=this,z=u.settings[A],v;if(!z){return}if(u.callbackLookup&&(v=u.callbackLookup[A])){z=v.func;v=v.scope}if(e(z,"string")){v=z.replace(/\.\w+$/,"");v=v?q.resolve(v):0;z=q.resolve(z);u.callbackLookup=u.callbackLookup||{};u.callbackLookup[A]={func:z,scope:v}}return z.apply(v||u,Array.prototype.slice.call(arguments,1))},translate:function(t){var v=this.settings.language||"en",u=q.i18n;if(!t){return""}return u[v+"."+t]||t.replace(/{\#([^}]+)\}/g,function(A,z){return u[v+"."+z]||"{#"+z+"}"})},getLang:function(u,t){return q.i18n[(this.settings.language||"en")+"."+u]||(e(t)?t:"{#"+u+"}")},getParam:function(C,z,t){var A=q.trim,u=e(this.settings[C])?this.settings[C]:z,B;if(t==="hash"){B={};if(e(u,"string")){l(u.indexOf("=")>0?u.split(/[;,](?![^=;,]*(?:[;,]|$))/):u.split(","),function(D){D=D.split("=");if(D.length>1){B[A(D[0])]=A(D[1])}else{B[A(D[0])]=A(D)}})}else{B=u}return B}return u},nodeChanged:function(z){var u=this,v=u.selection,A=(c?v.getNode():v.getStart())||u.getBody();if(u.initialized){z=z||{};A=c&&A.ownerDocument!=u.getDoc()?u.getBody():A;z.parents=[];u.dom.getParent(A,function(t){if(t.nodeName=="BODY"){return true}z.parents.push(t)});u.onNodeChange.dispatch(u,z?z.controlManager||u.controlManager:u.controlManager,A,v.isCollapsed(),z)}},addButton:function(z,v){var u=this;u.buttons=u.buttons||{};u.buttons[z]=v},addCommand:function(v,u,t){this.execCommands[v]={func:u,scope:t||this}},addQueryStateHandler:function(v,u,t){this.queryStateCommands[v]={func:u,scope:t||this}},addQueryValueHandler:function(v,u,t){this.queryValueCommands[v]={func:u,scope:t||this}},addShortcut:function(z,B,u,A){var v=this,C;if(!v.settings.custom_shortcuts){return false}v.shortcuts=v.shortcuts||{};if(e(u,"string")){C=u;u=function(){v.execCommand(C,false,null)}}if(e(u,"object")){C=u;u=function(){v.execCommand(C[0],C[1],C[2])}}l(j(z),function(t){var D={func:u,scope:A||this,desc:B,alt:false,ctrl:false,shift:false};l(j(t,"+"),function(E){switch(E){case"alt":case"ctrl":case"shift":D[E]=true;break;default:D.charCode=E.charCodeAt(0);D.keyCode=E.toUpperCase().charCodeAt(0)}});v.shortcuts[(D.ctrl?"ctrl":"")+","+(D.alt?"alt":"")+","+(D.shift?"shift":"")+","+D.keyCode]=D});return true},execCommand:function(C,B,E,u){var z=this,A=0,D,v;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(C)&&(!u||!u.skip_focus)){z.focus()}D={};z.onBeforeExecCommand.dispatch(z,C,B,E,D);if(D.terminate){return false}if(z.execCallback("execcommand_callback",z.id,z.selection.getNode(),C,B,E)){z.onExecCommand.dispatch(z,C,B,E,u);return true}if(D=z.execCommands[C]){v=D.func.call(D.scope,B,E);if(v!==true){z.onExecCommand.dispatch(z,C,B,E,u);return v}}l(z.plugins,function(t){if(t.execCommand&&t.execCommand(C,B,E)){z.onExecCommand.dispatch(z,C,B,E,u);A=1;return false}});if(A){return true}if(z.theme&&z.theme.execCommand&&z.theme.execCommand(C,B,E)){z.onExecCommand.dispatch(z,C,B,E,u);return true}if(q.GlobalCommands.execCommand(z,C,B,E)){z.onExecCommand.dispatch(z,C,B,E,u);return true}if(z.editorCommands.execCommand(C,B,E)){z.onExecCommand.dispatch(z,C,B,E,u);return true}z.getDoc().execCommand(C,B,E);z.onExecCommand.dispatch(z,C,B,E,u)},queryCommandState:function(A){var v=this,B,z;if(v._isHidden()){return}if(B=v.queryStateCommands[A]){z=B.func.call(B.scope);if(z!==true){return z}}B=v.editorCommands.queryCommandState(A);if(B!==-1){return B}try{return this.getDoc().queryCommandState(A)}catch(u){}},queryCommandValue:function(B){var v=this,A,z;if(v._isHidden()){return}if(A=v.queryValueCommands[B]){z=A.func.call(A.scope);if(z!==true){return z}}A=v.editorCommands.queryCommandValue(B);if(e(A)){return A}try{return this.getDoc().queryCommandValue(B)}catch(u){}},show:function(){var u=this;r.show(u.getContainer());r.hide(u.id);u.load()},hide:function(){var u=this,v=u.getDoc();if(c&&v){v.execCommand("SelectAll")}u.save();r.hide(u.getContainer());r.setStyle(u.id,"display",u.orgDisplay)},isHidden:function(){return !r.isHidden(this.id)},setProgressState:function(t,u,v){this.onSetProgressState.dispatch(this,t,u,v);return t},load:function(A){var u=this,z=u.getElement(),v;if(z){A=A||{};A.load=true;v=u.setContent(e(z.value)?z.value:z.innerHTML,A);A.element=z;if(!A.no_events){u.onLoadContent.dispatch(u,A)}A.element=z=null;return v}},save:function(B){var u=this,A=u.getElement(),v,z;if(!A||!u.initialized){return}B=B||{};B.save=true;if(!B.no_events){u.undoManager.typing=0;u.undoManager.add()}B.element=A;v=B.content=u.getContent(B);if(!B.no_events){u.onSaveContent.dispatch(u,B)}v=B.content;if(!/TEXTAREA|INPUT/i.test(A.nodeName)){A.innerHTML=v;if(z=r.getParent(u.id,"form")){l(z.elements,function(t){if(t.name==u.id){t.value=v;return false}})}}else{A.value=v}B.element=A=null;return v},setContent:function(v,z){var u=this;z=z||{};z.format=z.format||"html";z.set=true;z.content=v;if(!z.no_events){u.onBeforeSetContent.dispatch(u,z)}if(!q.isIE&&(v.length===0||/^\s+$/.test(v))){z.content=u.dom.setHTML(u.getBody(),'<br _mce_bogus="1" />');z.format="raw"}z.content=u.dom.setHTML(u.getBody(),q.trim(z.content));if(z.format!="raw"&&u.settings.cleanup){z.getInner=true;z.content=u.dom.setHTML(u.getBody(),u.serializer.serialize(u.getBody(),z))}if(!z.no_events){u.onSetContent.dispatch(u,z)}return z.content},getContent:function(z){var u=this,v;z=z||{};z.format=z.format||"html";z.get=true;if(!z.no_events){u.onBeforeGetContent.dispatch(u,z)}if(z.format!="raw"&&u.settings.cleanup){z.getInner=true;v=u.serializer.serialize(u.getBody(),z)}else{v=u.getBody().innerHTML}v=v.replace(/^\s*|\s*$/g,"");z.content=v;if(!z.no_events){u.onGetContent.dispatch(u,z)}return z.content},isDirty:function(){var u=this;return q.trim(u.startContent)!=q.trim(u.getContent({format:"raw",no_events:1}))&&!u.isNotDirty},getContainer:function(){var u=this;if(!u.container){u.container=r.get(u.editorContainer||u.id+"_parent")}return u.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return r.get(this.settings.content_element||this.id)},getWin:function(){var u=this,v;if(!u.contentWindow){v=r.get(u.id+"_ifr");if(v){u.contentWindow=v.contentWindow}}return u.contentWindow},getDoc:function(){var v=this,u;if(!v.contentDocument){u=v.getWin();if(u){v.contentDocument=u.document}}return v.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(v,C,B){var z=this,A=z.settings;if(A.urlconverter_callback){return z.execCallback("urlconverter_callback",v,B,true,C)}if(!A.convert_urls||(B&&B.nodeName=="LINK")||v.indexOf("file:")===0){return v}if(A.relative_urls){return z.documentBaseURI.toRelative(v)}v=z.documentBaseURI.toAbsolute(v,A.remove_script_host);return v},addVisual:function(z){var u=this,v=u.settings;z=z||u.getBody();if(!e(u.hasVisual)){u.hasVisual=v.visual}l(u.dom.select("table,a",z),function(A){var t;switch(A.nodeName){case"TABLE":t=u.dom.getAttrib(A,"border");if(!t||t=="0"){if(u.hasVisual){u.dom.addClass(A,v.visual_table_class)}else{u.dom.removeClass(A,v.visual_table_class)}}return;case"A":t=u.dom.getAttrib(A,"name");if(t){if(u.hasVisual){u.dom.addClass(A,"mceItemAnchor")}else{u.dom.removeClass(A,"mceItemAnchor")}}return}});u.onVisualAid.dispatch(u,z,u.hasVisual)},remove:function(){var u=this,v=u.getContainer();u.removed=1;u.hide();u.execCallback("remove_instance_callback",u);u.onRemove.dispatch(u);u.onExecCommand.listeners=[];q.remove(u);r.remove(v)},destroy:function(v){var u=this;if(u.destroyed){return}if(!v){q.removeUnload(u.destroy);tinyMCE.onBeforeUnload.remove(u._beforeUnload);if(u.theme&&u.theme.destroy){u.theme.destroy()}u.controlManager.destroy();u.selection.destroy();u.dom.destroy();if(!u.settings.content_editable){m.clear(u.getWin());m.clear(u.getDoc())}m.clear(u.getBody());m.clear(u.formElement)}if(u.formElement){u.formElement.submit=u.formElement._mceOldSubmit;u.formElement._mceOldSubmit=null}u.contentAreaContainer=u.formElement=u.container=u.settings.content_element=u.bodyElement=u.contentDocument=u.contentWindow=null;if(u.selection){u.selection=u.selection.win=u.selection.dom=u.selection.dom.doc=null}u.destroyed=1},_addEvents:function(){var E=this,z,F=E.settings,v=E.dom,C={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function u(G,H){var t=G.type;if(E.removed){return}if(E.onEvent.dispatch(E,G,H)!==false){E[C[G.fakeType||G.type]].dispatch(E,G,H)}}l(C,function(G,t){switch(t){case"contextmenu":if(q.isOpera){v.bind(E.getBody(),"mousedown",function(H){if(H.ctrlKey){H.fakeType="contextmenu";u(H)}})}else{v.bind(E.getBody(),t,u)}break;case"paste":v.bind(E.getBody(),t,function(H){u(H)});break;case"submit":case"reset":v.bind(E.getElement().form||r.getParent(E.id,"form"),t,u);break;default:v.bind(F.content_editable?E.getBody():E.getDoc(),t,u)}});v.bind(F.content_editable?E.getBody():(b?E.getDoc():E.getWin()),"focus",function(t){E.focus(true)});if(q.isGecko){v.bind(E.getDoc(),"DOMNodeInserted",function(G){var t;G=G.target;if(G.nodeType===1&&G.nodeName==="IMG"&&(t=G.getAttribute("_mce_src"))){G.src=E.documentBaseURI.toAbsolute(t)}})}if(b){function A(){var H=this,J=H.getDoc(),I=H.settings;if(b&&!I.readonly){if(H._isHidden()){try{if(!I.content_editable){J.designMode="On"}}catch(G){}}try{J.execCommand("styleWithCSS",0,false)}catch(G){if(!H._isHidden()){try{J.execCommand("useCSS",0,true)}catch(G){}}}if(!I.table_inline_editing){try{J.execCommand("enableInlineTableEditing",false,false)}catch(G){}}if(!I.object_resizing){try{J.execCommand("enableObjectResizing",false,false)}catch(G){}}}}E.onBeforeExecCommand.add(A);E.onMouseDown.add(A)}if(q.isWebKit){E.onClick.add(function(t,G){G=G.target;if(G.nodeName=="IMG"||(G.nodeName=="A"&&v.hasClass(G,"mceItemAnchor"))){E.selection.getSel().setBaseAndExtent(G,0,G,1);E.nodeChanged()}})}E.onMouseUp.add(E.nodeChanged);E.onKeyUp.add(function(t,G){var H=G.keyCode;if((H>=33&&H<=36)||(H>=37&&H<=40)||H==13||H==45||H==46||H==8||(q.isMac&&(H==91||H==93))||G.ctrlKey){E.nodeChanged()}});E.onReset.add(function(){E.setContent(E.startContent,{format:"raw"})});if(F.custom_shortcuts){if(F.custom_undo_redo_keyboard_shortcuts){E.addShortcut("ctrl+z",E.getLang("undo_desc"),"Undo");E.addShortcut("ctrl+y",E.getLang("redo_desc"),"Redo")}E.addShortcut("ctrl+b",E.getLang("bold_desc"),"Bold");E.addShortcut("ctrl+i",E.getLang("italic_desc"),"Italic");E.addShortcut("ctrl+u",E.getLang("underline_desc"),"Underline");for(z=1;z<=6;z++){E.addShortcut("ctrl+"+z,"",["FormatBlock",false,"h"+z])}E.addShortcut("ctrl+7","",["FormatBlock",false,"<p>"]);E.addShortcut("ctrl+8","",["FormatBlock",false,"<div>"]);E.addShortcut("ctrl+9","",["FormatBlock",false,"<address>"]);function B(G){var t=null;if(!G.altKey&&!G.ctrlKey&&!G.metaKey){return t}l(E.shortcuts,function(H){if(q.isMac&&H.ctrl!=G.metaKey){return}else{if(!q.isMac&&H.ctrl!=G.ctrlKey){return}}if(H.alt!=G.altKey){return}if(H.shift!=G.shiftKey){return}if(G.keyCode==H.keyCode||(G.charCode&&G.charCode==H.charCode)){t=H;return false}});return t}E.onKeyUp.add(function(t,G){var H=B(G);if(H){return m.cancel(G)}});E.onKeyPress.add(function(t,G){var H=B(G);if(H){return m.cancel(G)}});E.onKeyDown.add(function(t,G){var H=B(G);if(H){H.func.call(H.scope);return m.cancel(G)}})}if(q.isIE){v.bind(E.getDoc(),"controlselect",function(H){var G=E.resizeInfo,t;H=H.target;if(H.nodeName!=="IMG"){return}if(G){v.unbind(G.node,G.ev,G.cb)}if(!v.hasClass(H,"mceItemNoResize")){ev="resizeend";t=v.bind(H,ev,function(J){var I;J=J.target;if(I=v.getStyle(J,"width")){v.setAttrib(J,"width",I.replace(/[^0-9%]+/g,""));v.setStyle(J,"width","")}if(I=v.getStyle(J,"height")){v.setAttrib(J,"height",I.replace(/[^0-9%]+/g,""));v.setStyle(J,"height","")}})}else{ev="resizestart";t=v.bind(H,"resizestart",m.cancel,m)}G=E.resizeInfo={node:H,ev:ev,cb:t}});E.onKeyDown.add(function(t,G){switch(G.keyCode){case 8:if(E.selection.getRng().item){t.dom.remove(E.selection.getRng().item(0));return m.cancel(G)}}})}if(q.isOpera){E.onClick.add(function(t,G){m.prevent(G)})}if(F.custom_undo_redo){function D(){E.undoManager.typing=0;E.undoManager.add()}v.bind(E.getDoc(),"focusout",function(t){if(!E.removed&&E.undoManager.typing){D()}});E.onKeyUp.add(function(t,G){if((G.keyCode>=33&&G.keyCode<=36)||(G.keyCode>=37&&G.keyCode<=40)||G.keyCode==13||G.keyCode==45||G.ctrlKey){D()}});E.onKeyDown.add(function(G,K){var t,J,I;if(c&&K.keyCode==46){t=E.selection.getRng();if(t.parentElement){J=t.parentElement();if(K.ctrlKey){t.moveEnd("word",1);t.select()}E.selection.getSel().clear();if(t.parentElement()==J){I=E.selection.getBookmark();try{J.innerHTML=J.innerHTML}catch(H){}E.selection.moveToBookmark(I)}K.preventDefault();return}}if((K.keyCode>=33&&K.keyCode<=36)||(K.keyCode>=37&&K.keyCode<=40)||K.keyCode==13||K.keyCode==45){if(E.undoManager.typing){D()}return}if(!E.undoManager.typing){E.undoManager.add();E.undoManager.typing=1}});E.onMouseDown.add(function(){if(E.undoManager.typing){D()}})}},_isHidden:function(){var t;if(!b){return 0}t=this.selection.getSel();return(!t||!t.rangeCount||t.rangeCount==0)},_fixNesting:function(u){var v=[],t;u=u.replace(/<(\/)?([^\s>]+)[^>]*?>/g,function(A,z,C){var B;if(z==="/"){if(!v.length){return""}if(C!==v[v.length-1].tag){for(t=v.length-1;t>=0;t--){if(v[t].tag===C){v[t].close=1;break}}return""}else{v.pop();if(v.length&&v[v.length-1].close){A=A+"</"+v[v.length-1].tag+">";v.pop()}}}else{if(/^(br|hr|input|meta|img|link|param)$/i.test(C)){return A}if(/\/>$/.test(A)){return A}v.push({tag:C})}return A});for(t=v.length-1;t>=0;t--){u+="</"+v[t].tag+">"}return u}})})(tinymce);(function(d){var e=d.each,f,b=true,c=false;d.EditorCommands=function(r){var o=r.dom,t=r.selection,m={state:{},exec:{},value:{}},n=r.settings,s;function u(E,D,C){var B;E=E.toLowerCase();if(B=m.exec[E]){B(E,D,C);return b}return c}function q(C){var B;C=C.toLowerCase();if(B=m.state[C]){return B(C)}return -1}function k(C){var B;C=C.toLowerCase();if(B=m.value[C]){return B(C)}return c}function A(B,C){C=C||"exec";e(B,function(E,D){e(D.toLowerCase().split(","),function(F){m[C][F]=E})})}d.extend(this,{execCommand:u,queryCommandState:q,queryCommandValue:k,addCommands:A});function g(D,C,B){if(C===f){C=c}if(B===f){B=null}return r.getDoc().execCommand(D,C,B)}function z(B){return r.formatter.match(B)}function v(B,C){r.formatter.toggle(B,C?{value:C}:f)}function l(B){s=t.getBookmark(B)}function j(){t.moveToBookmark(s)}A({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(E){var D=r.getDoc(),B;try{g(E)}catch(C){B=b}if(B||!D.queryCommandSupported(E)){if(d.isGecko){r.windowManager.confirm(r.getLang("clipboard_msg"),function(F){if(F){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{r.windowManager.alert(r.getLang("clipboard_no_support"))}}},unlink:function(B){if(t.isCollapsed()){t.select(t.getNode())}g(B);t.collapse(c)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(B){var C=B.substring(7);e("left,center,right,full".split(","),function(D){if(C!=D){r.formatter.remove("align"+D)}});v("align"+C)},"InsertUnorderedList,InsertOrderedList":function(D){var B,C;g(D);B=o.getParent(t.getNode(),"ol,ul");if(B){C=B.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)){l();o.split(C,B);j()}}},"Bold,Italic,Underline,Strikethrough":function(B){v(B)},"ForeColor,HiliteColor,FontName":function(D,C,B){v(D,B)},FontSize:function(E,D,C){var B,F;if(C>=1&&C<=7){F=d.explode(n.font_size_style_values);B=d.explode(n.font_size_classes);if(B){C=B[C-1]||C}else{C=F[C-1]||C}}v(E,C)},RemoveFormat:function(B){r.formatter.remove(B)},mceBlockQuote:function(B){v("blockquote")},FormatBlock:function(D,C,B){return v(B||"p")},mceCleanup:function(){var B=t.getBookmark();r.setContent(r.getContent({cleanup:b}),{cleanup:b});t.moveToBookmark(B)},mceRemoveNode:function(E,D,C){var B=C||t.getNode();if(B!=r.getBody()){l();r.dom.remove(B,b);j()}},mceSelectNodeDepth:function(E,D,C){var B=0;o.getParent(t.getNode(),function(F){if(F.nodeType==1&&B++==C){t.select(F);return c}},r.getBody())},mceSelectNode:function(D,C,B){t.select(B)},mceInsertContent:function(D,C,B){t.setContent(B)},mceInsertRawHTML:function(D,C,B){t.setContent("tiny_mce_marker");r.setContent(r.getContent().replace(/tiny_mce_marker/g,function(){return B}))},mceSetContent:function(D,C,B){r.setContent(B)},"Indent,Outdent":function(E){var C,B,D;C=n.indentation;B=/[a-z%]+$/i.exec(C);C=parseInt(C);if(!q("InsertUnorderedList")&&!q("InsertOrderedList")){e(t.getSelectedBlocks(),function(F){if(E=="outdent"){D=Math.max(0,parseInt(F.style.paddingLeft||0)-C);o.setStyle(F,"paddingLeft",D?D+B:"")}else{o.setStyle(F,"paddingLeft",(parseInt(F.style.paddingLeft||0)+C)+B)}})}else{g(E)}},mceRepaint:function(){var C;if(d.isGecko){try{l(b);if(t.getSel()){t.getSel().selectAllChildren(r.getBody())}t.collapse(b);j()}catch(B){}}},mceToggleFormat:function(D,C,B){r.formatter.toggle(B)},InsertHorizontalRule:function(){t.setContent("<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual;r.addVisual()},mceReplaceContent:function(D,C,B){t.setContent(B.replace(/\{\$selection\}/g,t.getContent({format:"text"})))},mceInsertLink:function(E,D,C){var B=o.getParent(t.getNode(),"a");if(d.is(C,"string")){C={href:C}}if(!B){g("CreateLink",c,"javascript:mctmp(0);");e(o.select("a[href=javascript:mctmp(0);]"),function(F){o.setAttribs(F,C)})}else{if(C.href){o.setAttribs(B,C)}else{r.dom.remove(B,b)}}},selectAll:function(){var C=o.getRoot(),B=o.createRng();B.setStart(C,0);B.setEnd(C,C.childNodes.length);r.selection.setRng(B)}});A({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(B){return z("align"+B.substring(7))},"Bold,Italic,Underline,Strikethrough":function(B){return z(B)},mceBlockQuote:function(){return z("blockquote")},Outdent:function(){var B;if(n.inline_styles){if((B=o.getParent(t.getStart(),o.isBlock))&&parseInt(B.style.paddingLeft)>0){return b}if((B=o.getParent(t.getEnd(),o.isBlock))&&parseInt(B.style.paddingLeft)>0){return b}}return q("InsertUnorderedList")||q("InsertOrderedList")||(!n.inline_styles&&!!o.getParent(t.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(B){return o.getParent(t.getNode(),B=="insertunorderedlist"?"UL":"OL")}},"state");A({"FontSize,FontName":function(D){var C=0,B;if(B=o.getParent(t.getNode(),"span")){if(D=="fontsize"){C=B.style.fontSize}else{C=B.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return C}},"value");if(n.custom_undo_redo){A({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}})}}})(tinymce);(function(c){var b=c.util.Dispatcher;c.UndoManager=function(f){var d,e=0,j=[];function g(){return c.trim(f.getContent({format:"raw",no_events:1}))}return d={typing:0,onAdd:new b(d),onUndo:new b(d),onRedo:new b(d),add:function(n){var k,l=f.settings,m;n=n||{};n.content=g();m=j[e];if(m&&m.content==n.content){if(e>0||j.length==1){return null}}if(l.custom_undo_redo_levels){if(j.length>l.custom_undo_redo_levels){for(k=0;k<j.length-1;k++){j[k]=j[k+1]}j.length--;e=j.length}}n.bookmark=f.selection.getBookmark(2,true);if(e<j.length-1){if(e==0){j=[]}else{j.length=e+1}}j.push(n);e=j.length-1;d.onAdd.dispatch(d,n);f.isNotDirty=0;return n},undo:function(){var l,k;if(d.typing){d.add();d.typing=0}if(e>0){l=j[--e];f.setContent(l.content,{format:"raw"});f.selection.moveToBookmark(l.bookmark);d.onUndo.dispatch(d,l)}return l},redo:function(){var k;if(e<j.length-1){k=j[++e];f.setContent(k.content,{format:"raw"});f.selection.moveToBookmark(k.bookmark);d.onRedo.dispatch(d,k)}return k},clear:function(){j=[];e=d.typing=0},hasUndo:function(){return e>0||d.typing},hasRedo:function(){return e<j.length-1}}}})(tinymce);(function(q){var n=q.dom.Event,d=q.isIE,b=q.isGecko,c=q.isOpera,m=q.each,l=q.extend,e=true,k=false;function o(t){var u,s,r;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(t.nodeName)){if(u){s=t.cloneNode(false);s.appendChild(u);u=s}else{u=r=t.cloneNode(false)}u.removeAttribute("id")}}while(t=t.parentNode);if(u){return{wrapper:u,inner:r}}}function j(s,t){var r=t.ownerDocument.createRange();r.setStart(s.endContainer,s.endOffset);r.setEndAfter(t);return r.cloneContents().textContent.length==0}function g(r){r=r.innerHTML;r=r.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-");r=r.replace(/<[^>]+>/g,"");return r.replace(/[ \u00a0\t\r\n]+/g,"")==""}function f(t,v,r){var s,u;if(g(r)){s=v.getParent(r,"ul,ol");if(!v.getParent(s.parentNode,"ul,ol")){v.split(s,r);u=v.create("p",0,'<br _mce_bogus="1" />');v.replace(u,r);t.select(u,1)}return k}return e}q.create("tinymce.ForceBlocks",{ForceBlocks:function(u){var v=this,z=u.settings,A;v.editor=u;v.dom=u.dom;A=(z.forced_root_block||"p").toLowerCase();z.element=A.toUpperCase();u.onPreInit.add(v.setup,v);v.reOpera=new RegExp("(\\u00a0|&#160;|&nbsp;)</"+A+">","gi");v.rePadd=new RegExp("<p( )([^>]+)><\\/p>|<p( )([^>]+)\\/>|<p( )([^>]+)>\\s+<\\/p>|<p><\\/p>|<p\\/>|<p>\\s+<\\/p>".replace(/p/g,A),"gi");v.reNbsp2BR1=new RegExp("<p( )([^>]+)>[\\s\\u00a0]+<\\/p>|<p>[\\s\\u00a0]+<\\/p>".replace(/p/g,A),"gi");v.reNbsp2BR2=new RegExp("<%p()([^>]+)>(&nbsp;|&#160;)<\\/%p>|<%p>(&nbsp;|&#160;)<\\/%p>".replace(/%p/g,A),"gi");v.reBR2Nbsp=new RegExp("<p( )([^>]+)>\\s*<br \\/>\\s*<\\/p>|<p>\\s*<br \\/>\\s*<\\/p>".replace(/p/g,A),"gi");function r(s,t){if(c){t.content=t.content.replace(v.reOpera,"</"+A+">")}t.content=q._replace(v.rePadd,"<"+A+"$1$2$3$4$5$6>\u00a0</"+A+">",t.content);if(!d&&!c&&t.set){t.content=t.content.replace(v.reNbsp2BR1,"<"+A+"$1$2><br /></"+A+">");t.content=t.content.replace(v.reNbsp2BR2,"<"+A+"$1$2><br /></"+A+">")}else{t.content=q._replace(v.reBR2Nbsp,"<"+A+"$1$2>\u00a0</"+A+">",t.content)}}u.onBeforeSetContent.add(r);u.onPostProcess.add(r);if(z.forced_root_block){u.onInit.add(v.forceRoots,v);u.onSetContent.add(v.forceRoots,v);u.onBeforeGetContent.add(v.forceRoots,v)}},setup:function(){var u=this,r=u.editor,z=r.settings,B=r.dom,v=r.selection;if(z.forced_root_block){r.onBeforeExecCommand.add(u.forceRoots,u);r.onKeyUp.add(u.forceRoots,u);r.onPreProcess.add(u.forceRoots,u)}if(z.force_br_newlines){if(d){r.onKeyPress.add(function(s,t){var C;if(t.keyCode==13&&v.getNode().nodeName!="LI"){v.setContent('<br id="__" /> ',{format:"raw"});C=B.get("__");C.removeAttribute("id");v.select(C);v.collapse();return n.cancel(t)}})}}if(z.force_p_newlines){if(!d){r.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!u.insertPara(t)){n.cancel(t)}})}else{q.addUnload(function(){u._previousFormats=0});r.onKeyPress.add(function(s,t){u._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&z.keep_styles){u._previousFormats=o(s.selection.getStart())}});r.onKeyUp.add(function(t,D){if(D.keyCode==13&&!D.shiftKey){var C=t.selection.getStart(),s=u._previousFormats;if(!C.hasChildNodes()&&s){C=B.getParent(C,B.isBlock);if(C&&C.nodeName!="LI"){C.innerHTML="";if(u._previousFormats){C.appendChild(s.wrapper);s.inner.innerHTML="\uFEFF"}else{C.innerHTML="\uFEFF"}v.select(C,1);t.getDoc().execCommand("Delete",false,null);u._previousFormats=0}}}})}if(b){r.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){u.backspaceDelete(t,t.keyCode==8)}})}}if(q.isWebKit){function A(t){var s=v.getRng(),C,F=B.create("div",null," "),E,D=B.getViewPort(t.getWin()).h;s.insertNode(C=B.create("br"));s.setStartAfter(C);s.setEndAfter(C);v.setRng(s);if(v.getSel().focusNode==C.previousSibling){v.select(B.insertAfter(B.doc.createTextNode("\u00a0"),C));v.collapse(e)}B.insertAfter(F,C);E=B.getPos(F).y;B.remove(F);if(E>D){t.getWin().scrollTo(0,E)}}r.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(z.force_br_newlines&&!B.getParent(v.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul")))){A(s);n.cancel(t)}})}r.onPreProcess.add(function(s,t){m(B.select("p,h1,h2,h3,h4,h5,h6,div",t.node),function(C){if(g(C)){m(B.select("span,em,strong,b,i",t.node),function(D){if(!D.hasChildNodes()){D.appendChild(s.getDoc().createTextNode("\u00a0"));return k}})}})});if(d){if(z.element!="P"){r.onKeyPress.add(function(s,t){u.lastElm=v.getNode().nodeName});r.onKeyUp.add(function(t,C){var E,D=v.getNode(),s=t.getBody();if(s.childNodes.length===1&&D.nodeName=="P"){D=B.rename(D,z.element);v.select(D);v.collapse();t.nodeChanged()}else{if(C.keyCode==13&&!C.shiftKey&&u.lastElm!="P"){E=B.getParent(D,"p");if(E){B.rename(E,z.element);t.nodeChanged()}}}})}}},find:function(B,v,z){var u=this.editor,r=u.getDoc().createTreeWalker(B,4,null,k),A=-1;while(B=r.nextNode()){A++;if(v==0&&B==z){return A}if(v==1&&A==z){return B}}return -1},forceRoots:function(C,N){var E=this,C=E.editor,R=C.getBody(),O=C.getDoc(),U=C.selection,F=U.getSel(),G=U.getRng(),S=-2,B,L,u,v,P=-16777215;var Q,z,T,K,H,A=R.childNodes,J,I,D;for(J=A.length-1;J>=0;J--){Q=A[J];if(Q.nodeType===1&&Q.getAttribute("_mce_type")){z=null;continue}if(Q.nodeType===3||(!E.dom.isBlock(Q)&&Q.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(Q.nodeName))){if(!z){if(Q.nodeType!=3||/[^\s]/g.test(Q.nodeValue)){if(S==-2&&G){if(!d||G.setStart){if(G.startContainer.nodeType==1&&(I=G.startContainer.childNodes[G.startOffset])&&I.nodeType==1){D=I.getAttribute("id");I.setAttribute("id","__mce")}else{if(C.dom.getParent(G.startContainer,function(r){return r===R})){L=G.startOffset;u=G.endOffset;S=E.find(R,0,G.startContainer);B=E.find(R,0,G.endContainer)}}}else{if(G.item){v=O.body.createTextRange();v.moveToElementText(G.item(0));G=v}v=O.body.createTextRange();v.moveToElementText(R);v.collapse(1);T=v.move("character",P)*-1;v=G.duplicate();v.collapse(1);K=v.move("character",P)*-1;v=G.duplicate();v.collapse(0);H=(v.move("character",P)*-1)-K;S=K-T;B=H}}z=C.dom.create(C.settings.forced_root_block);Q.parentNode.replaceChild(z,Q);z.appendChild(Q)}}else{if(z.hasChildNodes()){z.insertBefore(Q,z.firstChild)}else{z.appendChild(Q)}}}else{z=null}}if(S!=-2){if(!d||G.setStart){z=R.getElementsByTagName(C.settings.element)[0];G=O.createRange();if(S!=-1){G.setStart(E.find(R,1,S),L)}else{G.setStart(z,0)}if(B!=-1){G.setEnd(E.find(R,1,B),u)}else{G.setEnd(z,0)}if(F){F.removeAllRanges();F.addRange(G)}}else{try{G=F.createRange();G.moveToElementText(R);G.collapse(1);G.moveStart("character",S);G.moveEnd("character",B);G.select()}catch(M){}}}else{if((!d||G.setStart)&&(I=C.dom.get("__mce"))){if(D){I.setAttribute("id",D)}else{I.removeAttribute("id")}G=O.createRange();G.setStartBefore(I);G.setEndBefore(I);U.setRng(G)}}},getParentBlock:function(s){var r=this.dom;return r.getParent(s,r.isBlock)},insertPara:function(W){var K=this,C=K.editor,S=C.dom,X=C.getDoc(),ab=C.settings,L=C.selection.getSel(),M=L.getRangeAt(0),aa=X.body;var P,Q,N,U,T,A,v,B,E,u,I,Z,z,D,O,R=S.getViewPort(C.getWin()),H,J,G;P=X.createRange();P.setStart(L.anchorNode,L.anchorOffset);P.collapse(e);Q=X.createRange();Q.setStart(L.focusNode,L.focusOffset);Q.collapse(e);N=P.compareBoundaryPoints(P.START_TO_END,Q)<0;U=N?L.anchorNode:L.focusNode;T=N?L.anchorOffset:L.focusOffset;A=N?L.focusNode:L.anchorNode;v=N?L.focusOffset:L.anchorOffset;if(U===A&&/^(TD|TH)$/.test(U.nodeName)){if(U.firstChild.nodeName=="BR"){S.remove(U.firstChild)}if(U.childNodes.length==0){C.dom.add(U,ab.element,null,"<br />");Z=C.dom.add(U,ab.element,null,"<br />")}else{O=U.innerHTML;U.innerHTML="";C.dom.add(U,ab.element,null,O);Z=C.dom.add(U,ab.element,null,"<br />")}M=X.createRange();M.selectNodeContents(Z);M.collapse(1);C.selection.setRng(M);return k}if(U==aa&&A==aa&&aa.firstChild&&C.dom.isBlock(aa.firstChild)){U=A=U.firstChild;T=v=0;P=X.createRange();P.setStart(U,0);Q=X.createRange();Q.setStart(A,0)}U=U.nodeName=="HTML"?X.body:U;U=U.nodeName=="BODY"?U.firstChild:U;A=A.nodeName=="HTML"?X.body:A;A=A.nodeName=="BODY"?A.firstChild:A;B=K.getParentBlock(U);E=K.getParentBlock(A);u=B?B.nodeName:ab.element;if(O=K.dom.getParent(B,"li,pre")){if(O.nodeName=="LI"){return f(C.selection,K.dom,O)}return e}if(B&&(B.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(S.getStyle(B,"position",1)))){u=ab.element;B=null}if(E&&(E.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(S.getStyle(B,"position",1)))){u=ab.element;E=null}if(/(TD|TABLE|TH|CAPTION)/.test(u)||(B&&u=="DIV"&&/left|right/gi.test(S.getStyle(B,"float",1)))){u=ab.element;B=E=null}I=(B&&B.nodeName==u)?B.cloneNode(0):C.dom.create(u);Z=(E&&E.nodeName==u)?E.cloneNode(0):C.dom.create(u);Z.removeAttribute("id");if(/^(H[1-6])$/.test(u)&&j(M,B)){Z=C.dom.create(ab.element)}O=z=U;do{if(O==aa||O.nodeType==9||K.dom.isBlock(O)||/(TD|TABLE|TH|CAPTION)/.test(O.nodeName)){break}z=O}while((O=O.previousSibling?O.previousSibling:O.parentNode));O=D=A;do{if(O==aa||O.nodeType==9||K.dom.isBlock(O)||/(TD|TABLE|TH|CAPTION)/.test(O.nodeName)){break}D=O}while((O=O.nextSibling?O.nextSibling:O.parentNode));if(z.nodeName==u){P.setStart(z,0)}else{P.setStartBefore(z)}P.setEnd(U,T);I.appendChild(P.cloneContents()||X.createTextNode(""));try{Q.setEndAfter(D)}catch(V){}Q.setStart(A,v);Z.appendChild(Q.cloneContents()||X.createTextNode(""));M=X.createRange();if(!z.previousSibling&&z.parentNode.nodeName==u){M.setStartBefore(z.parentNode)}else{if(P.startContainer.nodeName==u&&P.startOffset==0){M.setStartBefore(P.startContainer)}else{M.setStart(P.startContainer,P.startOffset)}}if(!D.nextSibling&&D.parentNode.nodeName==u){M.setEndAfter(D.parentNode)}else{M.setEnd(Q.endContainer,Q.endOffset)}M.deleteContents();if(c){C.getWin().scrollTo(0,R.y)}if(I.firstChild&&I.firstChild.nodeName==u){I.innerHTML=I.firstChild.innerHTML}if(Z.firstChild&&Z.firstChild.nodeName==u){Z.innerHTML=Z.firstChild.innerHTML}if(g(I)){I.innerHTML="<br />"}function Y(ac,s){var r=[],ae,ad,t;ac.innerHTML="";if(ab.keep_styles){ad=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(ad.nodeName)){ae=ad.cloneNode(k);S.setAttrib(ae,"id","");r.push(ae)}}while(ad=ad.parentNode)}if(r.length>0){for(t=r.length-1,ae=ac;t>=0;t--){ae=ae.appendChild(r[t])}r[0].innerHTML=c?"&nbsp;":"<br />";return r[0]}else{ac.innerHTML=c?"&nbsp;":"<br />"}}if(g(Z)){G=Y(Z,A)}if(c&&parseFloat(opera.version())<9.5){M.insertNode(I);M.insertNode(Z)}else{M.insertNode(Z);M.insertNode(I)}Z.normalize();I.normalize();function F(r){return X.createTreeWalker(r,NodeFilter.SHOW_TEXT,null,k).nextNode()||r}M=X.createRange();M.selectNodeContents(b?F(G||Z):G||Z);M.collapse(1);L.removeAllRanges();L.addRange(M);H=C.dom.getPos(Z).y;J=Z.clientHeight;if(H<R.y||H+J>R.y+R.h){C.getWin().scrollTo(0,H<R.y?H:H-R.h+25)}return k},backspaceDelete:function(B,H){var I=this,A=I.editor,E=A.getBody(),z=A.dom,v,C=A.selection,u=C.getRng(),D=u.startContainer,v,F,G,s;if(!H&&u.collapsed&&D.nodeType==1&&u.startOffset==D.childNodes.length){s=new q.dom.TreeWalker(D.lastChild,D);for(v=D.lastChild;v;v=s.prev()){if(v.nodeType==3){u.setStart(v,v.nodeValue.length);u.collapse(true);C.setRng(u);return}}}if(D&&A.dom.isBlock(D)&&!/^(TD|TH)$/.test(D.nodeName)&&H){if(D.childNodes.length==0||(D.childNodes.length==1&&D.firstChild.nodeName=="BR")){v=D;while((v=v.previousSibling)&&!A.dom.isBlock(v)){}if(v){if(D!=E.firstChild){F=A.dom.doc.createTreeWalker(v,NodeFilter.SHOW_TEXT,null,k);while(G=F.nextNode()){v=G}u=A.getDoc().createRange();u.setStart(v,v.nodeValue?v.nodeValue.length:0);u.setEnd(v,v.nodeValue?v.nodeValue.length:0);C.setRng(u);A.dom.remove(D)}return n.cancel(B)}}}}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,f=d.extend;d.create("tinymce.ControlManager",{ControlManager:function(g,l){var k=this,j;l=l||{};k.editor=g;k.controls={};k.onAdd=new d.util.Dispatcher(k);k.onPostRender=new d.util.Dispatcher(k);k.prefix=l.prefix||g.id+"_";k._cls={};k.onPostRender.add(function(){e(k.controls,function(m){m.postRender()})})},get:function(g){return this.controls[this.prefix+g]||this.controls[g]},setActive:function(k,g){var j=null;if(j=this.get(k)){j.setActive(g)}return j},setDisabled:function(k,g){var j=null;if(j=this.get(k)){j.setDisabled(g)}return j},add:function(j){var g=this;if(j){g.controls[j.id]=j;g.onAdd.dispatch(j,g)}return j},createControl:function(l){var k,j=this,g=j.editor;e(g.plugins,function(m){if(m.createControl){k=m.createControl(l,j);if(k){return false}}});switch(l){case"|":case"separator":return j.createSeparator()}if(!k&&g.buttons&&(k=g.buttons[l])){return j.createButton(l,k)}return j.add(k)},createDropMenu:function(g,r,k){var q=this,l=q.editor,m,j,n,o;r=f({"class":"mceDropDown",constrain:l.settings.constrain_menus},r);r["class"]=r["class"]+" "+l.getParam("skin")+"Skin";if(n=l.getParam("skin_variant")){r["class"]+=" "+l.getParam("skin")+"Skin"+n.substring(0,1).toUpperCase()+n.substring(1)}g=q.prefix+g;o=k||q._cls.dropmenu||d.ui.DropMenu;m=q.controls[g]=new o(g,r);m.onAddItem.add(function(v,u){var t=u.settings;t.title=l.getLang(t.title,t.title);if(!t.onclick){t.onclick=function(s){if(t.cmd){l.execCommand(t.cmd,t.ui||false,t.value)}}}});l.onRemove.add(function(){m.destroy()});if(d.isIE){m.onShowMenu.add(function(){l.focus();j=l.selection.getBookmark(1)});m.onHideMenu.add(function(){if(j){l.selection.moveToBookmark(j);j=0}})}return q.add(m)},createListBox:function(q,l,o){var k=this,j=k.editor,m,n,g;if(k.get(q)){return null}l.title=j.translate(l.title);l.scope=l.scope||j;if(!l.onselect){l.onselect=function(r){j.execCommand(l.cmd,l.ui||false,r||l.value)}}l=f({title:l.title,"class":"mce_"+q,scope:l.scope,control_manager:k},l);q=k.prefix+q;if(j.settings.use_native_selects){n=new d.ui.NativeListBox(q,l)}else{g=o||k._cls.listbox||d.ui.ListBox;n=new g(q,l)}k.controls[q]=n;if(d.isWebKit){n.onPostRender.add(function(s,r){b.add(r,"mousedown",function(){j.bookmark=j.selection.getBookmark(1)});b.add(r,"focus",function(){j.selection.moveToBookmark(j.bookmark);j.bookmark=null})})}if(n.hideMenu){j.onMouseDown.add(n.hideMenu,n)}return k.add(n)},createButton:function(r,l,q){var k=this,j=k.editor,m,n,g;if(k.get(r)){return null}l.title=j.translate(l.title);l.label=j.translate(l.label);l.scope=l.scope||j;if(!l.onclick&&!l.menu_button){l.onclick=function(){j.execCommand(l.cmd,l.ui||false,l.value)}}l=f({title:l.title,"class":"mce_"+r,unavailable_prefix:j.getLang("unavailable",""),scope:l.scope,control_manager:k},l);r=k.prefix+r;if(l.menu_button){g=q||k._cls.menubutton||d.ui.MenuButton;n=new g(r,l);j.onMouseDown.add(n.hideMenu,n)}else{g=k._cls.button||d.ui.Button;n=new g(r,l)}return k.add(n)},createMenuButton:function(k,g,j){g=g||{};g.menu_button=1;return this.createButton(k,g,j)},createSplitButton:function(q,l,o){var k=this,j=k.editor,m,n,g;if(k.get(q)){return null}l.title=j.translate(l.title);l.scope=l.scope||j;if(!l.onclick){l.onclick=function(r){j.execCommand(l.cmd,l.ui||false,r||l.value)}}if(!l.onselect){l.onselect=function(r){j.execCommand(l.cmd,l.ui||false,r||l.value)}}l=f({title:l.title,"class":"mce_"+q,scope:l.scope,control_manager:k},l);q=k.prefix+q;g=o||k._cls.splitbutton||d.ui.SplitButton;n=k.add(new g(q,l));j.onMouseDown.add(n.hideMenu,n);return n},createColorSplitButton:function(g,r,k){var o=this,m=o.editor,l,n,q,j;if(o.get(g)){return null}r.title=m.translate(r.title);r.scope=r.scope||m;if(!r.onclick){r.onclick=function(s){if(d.isIE){j=m.selection.getBookmark(1)}m.execCommand(r.cmd,r.ui||false,s||r.value)}}if(!r.onselect){r.onselect=function(s){m.execCommand(r.cmd,r.ui||false,s||r.value)}}r=f({title:r.title,"class":"mce_"+g,menu_class:m.getParam("skin")+"Skin",scope:r.scope,more_colors_title:m.getLang("more_colors")},r);g=o.prefix+g;q=k||o._cls.colorsplitbutton||d.ui.ColorSplitButton;n=new q(g,r);m.onMouseDown.add(n.hideMenu,n);m.onRemove.add(function(){n.destroy()});if(d.isIE){n.onShowMenu.add(function(){m.focus();j=m.selection.getBookmark(1)});n.onHideMenu.add(function(){if(j){m.selection.moveToBookmark(j);j=0}})}return o.add(n)},createToolbar:function(n,k,m){var l,j=this,g;n=j.prefix+n;g=m||j._cls.toolbar||d.ui.Toolbar;l=new g(n,k);if(j.get(n)){return null}return j.add(l)},createSeparator:function(j){var g=j||this._cls.separator||d.ui.Separator;return new g()},setControlType:function(j,g){return this._cls[j.toLowerCase()]=g},destroy:function(){e(this.controls,function(g){g.destroy()});this.controls=null}})})(tinymce);(function(e){var b=e.util.Dispatcher,f=e.each,d=e.isIE,c=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(g){var j=this;j.editor=g;j.onOpen=new b(j);j.onClose=new b(j);j.params={};j.features={}},open:function(B,j){var A=this,m="",q,o,k=A.editor.settings.dialog_type=="modal",v,r,l,g=e.DOM.getViewPort(),z;B=B||{};j=j||{};r=c?g.w:screen.width;l=c?g.h:screen.height;B.name=B.name||"mc_"+new Date().getTime();B.width=parseInt(B.width||320);B.height=parseInt(B.height||240);B.resizable=true;B.left=B.left||parseInt(r/2)-(B.width/2);B.top=B.top||parseInt(l/2)-(B.height/2);j.inline=false;j.mce_width=B.width;j.mce_height=B.height;j.mce_auto_focus=B.auto_focus;if(k){if(d){B.center=true;B.help=false;B.dialogWidth=B.width+"px";B.dialogHeight=B.height+"px";B.scroll=B.scrollbars||false}}f(B,function(t,s){if(e.is(t,"boolean")){t=t?"yes":"no"}if(!/^(name|url)$/.test(s)){if(d&&k){m+=(m?";":"")+s+":"+t}else{m+=(m?",":"")+s+"="+t}}});A.features=B;A.params=j;A.onOpen.dispatch(A,B,j);z=B.url||B.file;z=e._addVer(z);try{if(d&&k){v=1;window.showModalDialog(z,window,m)}else{v=window.open(z,B.name,m)}}catch(n){}if(!v){alert(A.editor.getLang("popup_blocked"))}},close:function(g){g.close();this.onClose.dispatch(this)},createInstance:function(k,j,g,o,n,m){var l=e.resolve(k);return new l(j,g,o,n,m)},confirm:function(k,g,l,j){j=j||window;g.call(l||this,j.confirm(this._decode(this.editor.getLang(k,k))))},alert:function(k,g,m,j){var l=this;j=j||window;j.alert(l._decode(l.editor.getLang(k,k)));if(g){g.call(m||l)}},resizeBy:function(g,j,k){k.resizeBy(g,j)},_decode:function(g){return e.DOM.decode(g).replace(/\\n/g,"\n")}})}(tinymce));(function(b){function c(){var e={},d={},f={};function g(m,l,k,j){if(typeof(l)=="string"){l=[l]}b.each(l,function(n){m[n.toLowerCase()]={func:k,scope:j}})}b.extend(this,{add:function(l,k,j){g(e,l,k,j)},addQueryStateHandler:function(l,k,j){g(d,l,k,j)},addQueryValueHandler:function(l,k,j){g(f,l,k,j)},execCommand:function(k,n,m,l,j){if(n=e[n.toLowerCase()]){if(n.func.call(k||n.scope,m,l,j)!==false){return true}}},queryCommandValue:function(){if(cmd=f[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}},queryCommandState:function(){if(cmd=d[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}}})}b.GlobalCommands=new c()})(tinymce);(function(b){b.Formatter=function(Z){var Q={},S=b.each,d=Z.dom,t=Z.selection,z=b.dom.TreeWalker,O=new b.dom.RangeUtils(d),e=Z.schema.isValid,K=d.isBlock,n=Z.settings.forced_root_block,v=d.nodeIndex,J="\uFEFF",f=/^(src|href|style)$/,W=false,G=true,s,T={apply:[],remove:[]};function E(aa){return aa instanceof Array}function o(ab,aa){return d.getParents(ab,aa,d.getRoot())}function c(aa){return aa.nodeType===1&&(aa.face==="mceinline"||aa.style.fontFamily==="mceinline")}function V(aa){return aa?Q[aa]:Q}function m(aa,ab){if(aa){if(typeof(aa)!=="string"){S(aa,function(ad,ac){m(ac,ad)})}else{ab=ab.length?ab:[ab];S(ab,function(ac){if(ac.deep===s){ac.deep=!ac.selector}if(ac.split===s){ac.split=!ac.selector||ac.inline}if(ac.remove===s&&ac.selector&&!ac.inline){ac.remove="none"}if(ac.selector&&ac.inline){ac.mixed=true;ac.block_expand=true}if(typeof(ac.classes)==="string"){ac.classes=ac.classes.split(/\s+/)}});Q[aa]=ab}}}function X(ac,ai,ae){var af=V(ac),aj=af[0],ah,ab,ag;function ad(am){var al=am.startContainer,ap=am.startOffset,ao,an;if(al.nodeType==1||al.nodeValue===""){al=al.nodeType==1?al.childNodes[ap]:al;if(al){ao=new z(al,al.parentNode);for(an=ao.current();an;an=ao.next()){if(an.nodeType==3&&!g(an)){am.setStart(an,0);break}}}}return am}function aa(am,al){al=al||aj;if(am){S(al.styles,function(ao,an){d.setStyle(am,an,u(ao,ai))});S(al.attributes,function(ao,an){d.setAttrib(am,an,u(ao,ai))});S(al.classes,function(an){an=u(an,ai);if(!d.hasClass(am,an)){d.addClass(am,an)}})}}function ak(am){var al=[],ao,an;ao=aj.inline||aj.block;an=d.create(ao);aa(an);O.walk(am,function(ap){var aq;function ar(at){var aw=at.nodeName.toLowerCase(),av=at.parentNode.nodeName.toLowerCase(),au;if(j(aw,"br")){aq=0;if(aj.block){d.remove(at)}return}if(aj.wrapper&&C(at,ac,ai)){aq=0;return}if(aj.block&&!aj.wrapper&&L(aw)){at=d.rename(at,ao);aa(at);al.push(at);aq=0;return}if(aj.selector){S(af,function(ax){if(d.is(at,ax.selector)&&!c(at)){aa(at,ax);au=true}});if(!aj.inline||au){aq=0;return}}if(e(ao,aw)&&e(av,ao)){if(!aq){aq=an.cloneNode(W);at.parentNode.insertBefore(aq,at);al.push(aq)}aq.appendChild(at)}else{aq=0;S(b.grep(at.childNodes),ar);aq=0}}S(ap,ar)});S(al,function(ar){var ap;function at(av){var au=0;S(av.childNodes,function(aw){if(!g(aw)&&!M(aw)){au++}});return au}function aq(au){var aw,av;S(au.childNodes,function(ax){if(ax.nodeType==1&&!M(ax)&&!c(ax)){aw=ax;return W}});if(aw&&k(aw,aj)){av=aw.cloneNode(W);aa(av);d.replace(av,au,G);d.remove(aw,1)}return av||au}ap=at(ar);if(ap===0){d.remove(ar,1);return}if(aj.inline||aj.wrapper){if(!aj.exact&&ap===1){ar=aq(ar)}S(af,function(au){S(d.select(au.inline,ar),function(av){Y(au,ai,av,au.exact?av:null)})});if(C(ar.parentNode,ac,ai)){d.remove(ar,1);ar=0;return G}if(aj.merge_with_parents){d.getParent(ar.parentNode,function(au){if(C(au,ac,ai)){d.remove(ar,1);ar=0;return G}})}if(ar){ar=A(H(ar),ar);ar=A(ar,H(ar,G))}}})}if(aj){if(ae){ab=d.createRng();ab.setStartBefore(ae);ab.setEndAfter(ae);ak(r(ab,af))}else{if(!t.isCollapsed()||!aj.inline){ah=t.getBookmark();ak(r(t.getRng(G),af));t.moveToBookmark(ah);t.setRng(ad(t.getRng(G)));Z.nodeChanged()}else{U("apply",ac,ai)}}}}function F(ac,al,af){var ag=V(ac),an=ag[0],ak,aj,ab;function ae(aq){var ap=aq.startContainer,aw=aq.startOffset,av,au,ar,at;if(ap.nodeType==3&&aw>=ap.nodeValue.length-1){ap=ap.parentNode;aw=v(ap)+1}if(ap.nodeType==1){ar=ap.childNodes;ap=ar[Math.min(aw,ar.length-1)];av=new z(ap);if(aw>ar.length-1){av.next()}for(au=av.current();au;au=av.next()){if(au.nodeType==3&&!g(au)){at=d.create("a",null,J);au.parentNode.insertBefore(at,au);aq.setStart(au,0);t.setRng(aq);d.remove(at);return}}}}function ad(at){var ar,aq,ap;ar=b.grep(at.childNodes);for(aq=0,ap=ag.length;aq<ap;aq++){if(Y(ag[aq],al,at,at)){break}}if(an.deep){for(aq=0,ap=ar.length;aq<ap;aq++){ad(ar[aq])}}}function ah(ap){var aq;S(o(ap.parentNode).reverse(),function(ar){var at;if(!aq&&ar.id!="_start"&&ar.id!="_end"){at=C(ar,ac,al);if(at&&at.split!==false){aq=ar}}});return aq}function aa(at,ap,av,ay){var az,ax,aw,ar,au,aq;if(at){aq=at.parentNode;for(az=ap.parentNode;az&&az!=aq;az=az.parentNode){ax=az.cloneNode(W);for(au=0;au<ag.length;au++){if(Y(ag[au],al,ax,ax)){ax=0;break}}if(ax){if(aw){ax.appendChild(aw)}if(!ar){ar=ax}aw=ax}}if(ay&&(!an.mixed||!K(at))){ap=d.split(at,ap)}if(aw){av.parentNode.insertBefore(aw,av);ar.appendChild(av)}}return ap}function am(ap){return aa(ah(ap),ap,ap,true)}function ai(ar){var aq=d.get(ar?"_start":"_end"),ap=aq[ar?"firstChild":"lastChild"];if(M(ap)){ap=ap[ar?"firstChild":"lastChild"]}d.remove(aq,true);return ap}function ao(ap){var aq,ar;ap=r(ap,ag,G);if(an.split){aq=N(ap,G);ar=N(ap);if(aq!=ar){aq=R(aq,"span",{id:"_start",_mce_type:"bookmark"});ar=R(ar,"span",{id:"_end",_mce_type:"bookmark"});am(aq);am(ar);aq=ai(G);ar=ai()}else{aq=ar=am(aq)}ap.startContainer=aq.parentNode;ap.startOffset=v(aq);ap.endContainer=ar.parentNode;ap.endOffset=v(ar)+1}O.walk(ap,function(at){S(at,function(au){ad(au)})})}if(af){ab=d.createRng();ab.setStartBefore(af);ab.setEndAfter(af);ao(ab);return}if(!t.isCollapsed()||!an.inline){ak=t.getBookmark();ao(t.getRng(G));t.moveToBookmark(ak);if(l(ac,al,t.getStart())){ae(t.getRng(true))}Z.nodeChanged()}else{U("remove",ac,al)}}function I(aa,ac,ab){if(l(aa,ac,ab)){F(aa,ac,ab)}else{X(aa,ac,ab)}}function C(ab,aa,ag,ae){var ac=V(aa),ah,af,ad;function ai(am,ao,ap){var al,an,aj=ao[ap],ak;if(aj){if(aj.length===s){for(al in aj){if(aj.hasOwnProperty(al)){if(ap==="attributes"){an=d.getAttrib(am,al)}else{an=P(am,al)}if(ae&&!an&&!ao.exact){return}if((!ae||ao.exact)&&!j(an,u(aj[al],ag))){return}}}}else{for(ak=0;ak<aj.length;ak++){if(ap==="attributes"?d.getAttrib(am,aj[ak]):P(am,aj[ak])){return ao}}}}return ao}if(ac&&ab){for(af=0;af<ac.length;af++){ah=ac[af];if(k(ab,ah)&&ai(ab,ah,"attributes")&&ai(ab,ah,"styles")){if(ad=ah.classes){for(af=0;af<ad.length;af++){if(!d.hasClass(ab,ad[af])){return}}}return ah}}}}function l(ac,af,ae){var ab,ad;function aa(ag){ag=d.getParent(ag,function(ah){return !!C(ah,ac,af,true)});return C(ag,ac,af)}if(ae){return aa(ae)}if(t.isCollapsed()){for(ad=T.apply.length-1;ad>=0;ad--){if(T.apply[ad].name==ac){return true}}for(ad=T.remove.length-1;ad>=0;ad--){if(T.remove[ad].name==ac){return false}}return aa(t.getNode())}ae=t.getNode();if(aa(ae)){return G}ab=t.getStart();if(ab!=ae){if(aa(ab)){return G}}return W}function B(ah,ag){var ae,af=[],ad={},ac,ab,aa;if(t.isCollapsed()){for(ab=0;ab<ah.length;ab++){for(ac=T.remove.length-1;ac>=0;ac--){aa=ah[ab];if(T.remove[ac].name==aa){ad[aa]=true;break}}}for(ac=T.apply.length-1;ac>=0;ac--){for(ab=0;ab<ah.length;ab++){aa=ah[ab];if(!ad[aa]&&T.apply[ac].name==aa){ad[aa]=true;af.push(aa)}}}}ae=t.getStart();d.getParent(ae,function(ak){var aj,ai;for(aj=0;aj<ah.length;aj++){ai=ah[aj];if(!ad[ai]&&C(ak,ai,ag)){ad[ai]=true;af.push(ai)}}});return af}function D(ae){var ag=V(ae),ad,ac,af,ab,aa;if(ag){ad=t.getStart();ac=o(ad);for(ab=ag.length-1;ab>=0;ab--){aa=ag[ab].selector;if(!aa){return G}for(af=ac.length-1;af>=0;af--){if(d.is(ac[af],aa)){return G}}}}return W}b.extend(this,{get:V,register:m,apply:X,remove:F,toggle:I,match:l,matchAll:B,matchNode:C,canApply:D});function k(aa,ab){if(j(aa,ab.inline)){return G}if(j(aa,ab.block)){return G}if(ab.selector){return d.is(aa,ab.selector)}}function j(ab,aa){ab=ab||"";aa=aa||"";ab=""+(ab.nodeName||ab);aa=""+(aa.nodeName||aa);return ab.toLowerCase()==aa.toLowerCase()}function P(ab,aa){var ac=d.getStyle(ab,aa);if(aa=="color"||aa=="backgroundColor"){ac=d.toHex(ac)}if(aa=="fontWeight"&&ac==700){ac="bold"}return""+ac}function u(aa,ab){if(typeof(aa)!="string"){aa=aa(ab)}else{if(ab){aa=aa.replace(/%(\w+)/g,function(ad,ac){return ab[ac]||ad})}}return aa}function g(aa){return aa&&aa.nodeType===3&&/^([\s\r\n]+|)$/.test(aa.nodeValue)}function R(ac,ab,aa){var ad=d.create(ab,aa);ac.parentNode.insertBefore(ad,ac);ad.appendChild(ac);return ad}function r(aa,ai,ad){var ac=aa.startContainer,af=aa.startOffset,al=aa.endContainer,ag=aa.endOffset,ak,ah;function aj(ao,ap,am,an){var aq,ar;an=an||d.getRoot();for(;;){aq=ao.parentNode;if(aq==an||(!ai[0].block_expand&&K(aq))){return ao}for(ak=aq[ap];ak&&ak!=ao;ak=ak[am]){if(ak.nodeType==1&&!M(ak)){return ao}if(ak.nodeType==3&&!g(ak)){return ao}}ao=ao.parentNode}return ao}if(ac.nodeType==1&&ac.hasChildNodes()){ah=ac.childNodes.length-1;ac=ac.childNodes[af>ah?ah:af];if(ac.nodeType==3){af=0}}if(al.nodeType==1&&al.hasChildNodes()){ah=al.childNodes.length-1;al=al.childNodes[ag>ah?ah:ag-1];if(al.nodeType==3){ag=al.nodeValue.length}}if(M(ac.parentNode)){ac=ac.parentNode}if(M(ac)){ac=ac.nextSibling||ac}if(M(al.parentNode)){al=al.parentNode}if(M(al)){al=al.previousSibling||al}if(ai[0].inline||ai[0].block_expand){ac=aj(ac,"firstChild","nextSibling");al=aj(al,"lastChild","previousSibling")}if(ai[0].selector&&ai[0].expand!==W&&!ai[0].inline){function ae(an,am){var ao,ap,aq;if(an.nodeType==3&&an.nodeValue.length==0&&an[am]){an=an[am]}ao=o(an);for(ap=0;ap<ao.length;ap++){for(aq=0;aq<ai.length;aq++){if(d.is(ao[ap],ai[aq].selector)){return ao[ap]}}}return an}ac=ae(ac,"previousSibling");al=ae(al,"nextSibling")}if(ai[0].block||ai[0].selector){function ab(an,am,ap){var ao;if(!ai[0].wrapper){ao=d.getParent(an,ai[0].block)}if(!ao){ao=d.getParent(an.nodeType==3?an.parentNode:an,K)}if(ao&&ai[0].wrapper){ao=o(ao,"ul,ol").reverse()[0]||ao}if(!ao){ao=an;while(ao[am]&&!K(ao[am])){ao=ao[am];if(j(ao,"br")){break}}}return ao||an}ac=ab(ac,"previousSibling");al=ab(al,"nextSibling");if(ai[0].block){if(!K(ac)){ac=aj(ac,"firstChild","nextSibling")}if(!K(al)){al=aj(al,"lastChild","previousSibling")}}}if(ac.nodeType==1){af=v(ac);ac=ac.parentNode}if(al.nodeType==1){ag=v(al)+1;al=al.parentNode}return{startContainer:ac,startOffset:af,endContainer:al,endOffset:ag}}function Y(ag,af,ad,aa){var ac,ab,ae;if(!k(ad,ag)){return W}if(ag.remove!="all"){S(ag.styles,function(ai,ah){ai=u(ai,af);if(typeof(ah)==="number"){ah=ai;aa=0}if(!aa||j(P(aa,ah),ai)){d.setStyle(ad,ah,"")}ae=1});if(ae&&d.getAttrib(ad,"style")==""){ad.removeAttribute("style");ad.removeAttribute("_mce_style")}S(ag.attributes,function(aj,ah){var ai;aj=u(aj,af);if(typeof(ah)==="number"){ah=aj;aa=0}if(!aa||j(d.getAttrib(aa,ah),aj)){if(ah=="class"){aj=d.getAttrib(ad,ah);if(aj){ai="";S(aj.split(/\s+/),function(ak){if(/mce\w+/.test(ak)){ai+=(ai?" ":"")+ak}});if(ai){d.setAttrib(ad,ah,ai);return}}}if(ah=="class"){ad.removeAttribute("className")}if(f.test(ah)){ad.removeAttribute("_mce_"+ah)}ad.removeAttribute(ah)}});S(ag.classes,function(ah){ah=u(ah,af);if(!aa||d.hasClass(aa,ah)){d.removeClass(ad,ah)}});ab=d.getAttribs(ad);for(ac=0;ac<ab.length;ac++){if(ab[ac].nodeName.indexOf("_")!==0){return W}}}if(ag.remove!="none"){q(ad,ag);return G}}function q(ac,ad){var aa=ac.parentNode,ab;if(ad.block){if(!n){function ae(ag,af,ah){ag=H(ag,af,ah);return !ag||(ag.nodeName=="BR"||K(ag))}if(K(ac)&&!K(aa)){if(!ae(ac,W)&&!ae(ac.firstChild,G,1)){ac.insertBefore(d.create("br"),ac.firstChild)}if(!ae(ac,G)&&!ae(ac.lastChild,W,1)){ac.appendChild(d.create("br"))}}}else{if(aa==d.getRoot()){if(!ad.list_block||!j(ac,ad.list_block)){S(b.grep(ac.childNodes),function(af){if(e(n,af.nodeName.toLowerCase())){if(!ab){ab=R(af,n)}else{ab.appendChild(af)}}else{ab=0}})}}}}if(ad.selector&&ad.inline&&!j(ad.inline,ac)){return}d.remove(ac,1)}function H(ab,aa,ac){if(ab){aa=aa?"nextSibling":"previousSibling";for(ab=ac?ab:ab[aa];ab;ab=ab[aa]){if(ab.nodeType==1||!g(ab)){return ab}}}}function M(aa){return aa&&aa.nodeType==1&&aa.getAttribute("_mce_type")=="bookmark"}function A(ae,ad){var aa,ac,ab;function ag(aj,ai){if(aj.nodeName!=ai.nodeName){return W}function ah(al){var am={};S(d.getAttribs(al),function(an){var ao=an.nodeName.toLowerCase();if(ao.indexOf("_")!==0&&ao!=="style"){am[ao]=d.getAttrib(al,ao)}});return am}function ak(ao,an){var am,al;for(al in ao){if(ao.hasOwnProperty(al)){am=an[al];if(am===s){return W}if(ao[al]!=am){return W}delete an[al]}}for(al in an){if(an.hasOwnProperty(al)){return W}}return G}if(!ak(ah(aj),ah(ai))){return W}if(!ak(d.parseStyle(d.getAttrib(aj,"style")),d.parseStyle(d.getAttrib(ai,"style")))){return W}return G}if(ae&&ad){function af(ai,ah){for(ac=ai;ac;ac=ac[ah]){if(ac.nodeType==3&&!g(ac)){return ai}if(ac.nodeType==1&&!M(ac)){return ac}}return ai}ae=af(ae,"previousSibling");ad=af(ad,"nextSibling");if(ag(ae,ad)){for(ac=ae.nextSibling;ac&&ac!=ad;){ab=ac;ac=ac.nextSibling;ae.appendChild(ab)}d.remove(ad);S(b.grep(ad.childNodes),function(ah){ae.appendChild(ah)});return ae}}return ad}function L(aa){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(aa)}function N(ab,ae){var aa,ad,ac;aa=ab[ae?"startContainer":"endContainer"];ad=ab[ae?"startOffset":"endOffset"];if(aa.nodeType==1){ac=aa.childNodes.length-1;if(!ae&&ad){ad--}aa=aa.childNodes[ad>ac?ac:ad]}return aa}function U(af,ab,ae){var ac,aa=T[af],ag=T[af=="apply"?"remove":"apply"];function ah(){return T.apply.length||T.remove.length}function ad(){T.apply=[];T.remove=[]}function ai(aj){S(T.apply.reverse(),function(ak){X(ak.name,ak.vars,aj)});S(T.remove.reverse(),function(ak){F(ak.name,ak.vars,aj)});d.remove(aj,1);ad()}for(ac=aa.length-1;ac>=0;ac--){if(aa[ac].name==ab){return}}aa.push({name:ab,vars:ae});for(ac=ag.length-1;ac>=0;ac--){if(ag[ac].name==ab){ag.splice(ac,1)}}if(ah()){Z.getDoc().execCommand("FontName",false,"mceinline");T.lastRng=t.getRng();S(d.select("font,span"),function(ak){var aj;if(c(ak)){aj=t.getBookmark();ai(ak);t.moveToBookmark(aj);Z.nodeChanged()}});if(!T.isListening&&ah()){T.isListening=true;S("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(aj){Z[aj].addToTop(function(ak,al){if(ah()&&!b.dom.RangeUtils.compareRanges(T.lastRng,t.getRng())){S(d.select("font,span"),function(an){var ao,am;if(c(an)){ao=an.firstChild;if(ao){ai(an);am=d.createRng();am.setStart(ao,ao.nodeValue.length);am.setEnd(ao,ao.nodeValue.length);t.setRng(am);ak.nodeChanged()}else{d.remove(an)}}});if(al.type=="keyup"||al.type=="mouseup"){ad()}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(f,b){var e,k,j,d=b.settings;if(d.inline_styles){k=f.explode(d.font_size_style_values);function c(m,l){f.each(l,function(o,n){if(o){j.setStyle(m,n,o)}});j.rename(m,"span")}e={font:function(m,l){c(l,{backgroundColor:l.style.backgroundColor,color:l.color,fontFamily:l.face,fontSize:k[parseInt(l.size)-1]})},u:function(m,l){c(l,{textDecoration:"underline"})},strike:function(m,l){c(l,{textDecoration:"line-through"})}};function g(l,m){j=l.dom;if(d.convert_fonts_to_spans){f.each(j.select("font,u,strike",m.node),function(n){e[n.nodeName.toLowerCase()](b.dom,n)})}}b.onPreProcess.add(g);b.onInit.add(function(){b.selection.onSetContent.add(g)})}});tinyMCE.addI18n({en:{common:{edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",apply:"Apply",insert:"Insert",update:"Update",cancel:"Cancel",close:"Close",browse:"Browse",class_name:"Class",not_set:"-- Not set --",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",invalid_data:"Error: Invalid values entered, these are marked in red.",more_colors:"More colors"},contextmenu:{align:"Alignment",left:"Left",center:"Center",right:"Right",full:"Full"},insertdatetime:{date_fmt:"%Y-%m-%d",time_fmt:"%H:%M:%S",insertdate_desc:"Insert date",inserttime_desc:"Insert time",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{ltr_desc:"Direction left to right",rtl_desc:"Direction right to left"},layer:{insertlayer_desc:"Insert new layer",forward_desc:"Move forward",backward_desc:"Move backward",absolute_desc:"Toggle absolute positioning",content:"New layer..."},save:{save_desc:"Save",cancel_desc:"Cancel all changes"},nonbreaking:{nonbreaking_desc:"Insert non-breaking space character"},iespell:{iespell_desc:"Run spell checking",download:"ieSpell not detected. Do you want to install it now?"},advhr:{advhr_desc:"Horizontal rule"},emotions:{emotions_desc:"Emotions"},searchreplace:{search_desc:"Find",replace_desc:"Find/Replace"},advimage:{image_desc:"Insert/edit image"},advlink:{link_desc:"Insert/edit link"},xhtmlxtras:{cite_desc:"Citation",abbr_desc:"Abbreviation",acronym_desc:"Acronym",del_desc:"Deletion",ins_desc:"Insertion",attribs_desc:"Insert/Edit Attributes"},style:{desc:"Edit CSS Style"},paste:{paste_text_desc:"Paste as Plain Text",paste_word_desc:"Paste from Word",selectall_desc:"Select All",plaintext_mode_sticky:"Paste is now in plain text mode. Click again to toggle back to regular paste mode. After you paste something you will be returned to regular paste mode.",plaintext_mode:"Paste is now in plain text mode. Click again to toggle back to regular paste mode."},paste_dlg:{text_title:"Use CTRL+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep linebreaks",word_title:"Use CTRL+V on your keyboard to paste the text into the window."},table:{desc:"Inserts a new table",row_before_desc:"Insert row before",row_after_desc:"Insert row after",delete_row_desc:"Delete row",col_before_desc:"Insert column before",col_after_desc:"Insert column after",delete_col_desc:"Remove column",split_cells_desc:"Split merged table cells",merge_cells_desc:"Merge table cells",row_desc:"Table row properties",cell_desc:"Table cell properties",props_desc:"Table properties",paste_row_before_desc:"Paste table row before",paste_row_after_desc:"Paste table row after",cut_row_desc:"Cut table row",copy_row_desc:"Copy table row",del:"Delete table",row:"Row",col:"Column",cell:"Cell"},autosave:{unload_msg:"The changes you made will be lost if you navigate away from this page.",restore_content:"Restore auto-saved content.",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?."},fullscreen:{desc:"Toggle fullscreen mode"},media:{desc:"Insert / edit embedded media",edit:"Edit embedded media"},fullpage:{desc:"Document properties"},template:{desc:"Insert predefined template content"},visualchars:{desc:"Visual control characters on/off."},spellchecker:{desc:"Toggle spellchecker",menu:"Spellchecker settings",ignore_word:"Ignore word",ignore_words:"Ignore all",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No suggestions",no_mpell:"No misspellings found."},pagebreak:{desc:"Insert page break."},advlist:{types:"Types",def:"Default",lower_alpha:"Lower alpha",lower_greek:"Lower greek",lower_roman:"Lower roman",upper_alpha:"Upper alpha",upper_roman:"Upper roman",circle:"Circle",disc:"Disc",square:"Square"}}});(function(f){var e=f.DOM,c=f.dom.Event,k=f.extend,g=f.each,b=f.util.Cookie,j,d=f.explode;f.ThemeManager.requireLangPack("advanced");f.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(m,n){var q=this,r,l,u;q.editor=m;q.url=n;q.onResolveName=new f.util.Dispatcher(this);q.settings=r=k({theme_advanced_path:true,theme_advanced_toolbar_location:"bottom",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",readonly:m.settings.readonly},m.settings);if(!r.font_size_style_values){r.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"}if(f.is(r.theme_advanced_font_sizes,"string")){r.font_size_style_values=f.explode(r.font_size_style_values);r.font_size_classes=f.explode(r.font_size_classes||"");u={};m.settings.theme_advanced_font_sizes=r.theme_advanced_font_sizes;g(m.getParam("theme_advanced_font_sizes","","hash"),function(t,s){var o;if(s==t&&t>=1&&t<=7){s=t+" ("+q.sizes[t-1]+"pt)";o=r.font_size_classes[t-1];t=r.font_size_style_values[t-1]||(q.sizes[t-1]+"pt")}if(/^\s*\./.test(t)){o=t.replace(/\./g,"")}u[s]=o?{"class":o}:{fontSize:t}});r.theme_advanced_font_sizes=u}if((l=r.theme_advanced_path_location)&&l!="none"){r.theme_advanced_statusbar_location=r.theme_advanced_path_location}if(r.theme_advanced_statusbar_location=="none"){r.theme_advanced_statusbar_location=0}m.onInit.add(function(){if(!m.settings.readonly){m.onNodeChange.add(q._nodeChanged,q)}if(m.settings.content_css!==false){m.dom.loadCSS(m.baseURI.toAbsolute(n+"/skins/"+m.settings.skin+"/content.css"))}});m.onSetProgressState.add(function(t,o,v){var z,A=t.id,s;if(o){q.progressTimer=setTimeout(function(){z=t.getContainer();z=z.insertBefore(e.create("DIV",{style:"position:relative"}),z.firstChild);s=e.get(t.id+"_tbl");e.add(z,"div",{id:A+"_blocker","class":"mceBlocker",style:{width:s.clientWidth+2,height:s.clientHeight+2}});e.add(z,"div",{id:A+"_progress","class":"mceProgress",style:{left:s.clientWidth/2,top:s.clientHeight/2}})},v||0)}else{e.remove(A+"_blocker");e.remove(A+"_progress");clearTimeout(q.progressTimer)}});e.loadCSS(r.editor_css?m.documentBaseURI.toAbsolute(r.editor_css):n+"/skins/"+m.settings.skin+"/ui.css");if(r.skin_variant){e.loadCSS(n+"/skins/"+m.settings.skin+"/ui_"+r.skin_variant+".css")}},createControl:function(q,l){var m,o;if(o=l.createControl(q)){return o}switch(q){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if((m=this.controls[q])){return l.createButton(q,{title:"advanced."+m[0],cmd:m[1],ui:m[2],value:m[3]})}},execCommand:function(n,m,o){var l=this["_"+n];if(l){l.call(this,m,o);return true}return false},_importClasses:function(n){var l=this.editor,m=l.controlManager.get("styleselect");if(m.getLength()==0){g(l.dom.getClasses(),function(s,q){var r="style_"+q;l.formatter.register(r,{inline:"span",attributes:{"class":s["class"]},selector:"*"});m.add(s["class"],r)})}},_createStyleSelect:function(r){var o=this,l=o.editor,m=l.controlManager,q;q=m.createListBox("styleselect",{title:"advanced.style_select",onselect:function(s){var t,n=[];g(q.items,function(u){n.push(u.value)});l.focus();l.undoManager.add();t=l.formatter.matchAll(n);if(!s||t[0]==s){l.formatter.remove(t[0])}else{l.formatter.apply(s)}l.undoManager.add();l.nodeChanged();return false}});l.onInit.add(function(){var s=0,n=l.getParam("style_formats");if(n){g(n,function(t){var u,v=0;g(t,function(){v++});if(v>1){u=t.name=t.name||"style_"+(s++);l.formatter.register(u,t);q.add(t.title,u)}else{q.add(t.title)}})}else{g(l.getParam("theme_advanced_styles","","hash"),function(v,u){var t;if(v){t="style_"+(s++);l.formatter.register(t,{inline:"span",classes:v,selector:"*"});q.add(o.editor.translate(u),t)}})}});if(q.getLength()==0){q.onPostRender.add(function(s,t){if(!q.NativeListBox){c.add(t.id+"_text","focus",o._importClasses,o);c.add(t.id+"_text","mousedown",o._importClasses,o);c.add(t.id+"_open","focus",o._importClasses,o);c.add(t.id+"_open","mousedown",o._importClasses,o)}else{c.add(t.id,"focus",o._importClasses,o)}})}return q},_createFontSelect:function(){var n,m=this,l=m.editor;n=l.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(o){var q=n.items[n.selectedIndex];if(!o&&q){l.execCommand("FontName",false,q.value);return}l.execCommand("FontName",false,o);n.select(function(r){return o==r});return false}});if(n){g(l.getParam("theme_advanced_fonts",m.settings.theme_advanced_fonts,"hash"),function(q,o){n.add(l.translate(o),q,{style:q.indexOf("dings")==-1?"font-family:"+q:""})})}return n},_createFontSizeSelect:function(){var o=this,m=o.editor,q,n=0,l=[];q=m.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(r){var s=q.items[q.selectedIndex];if(!r&&s){s=s.value;if(s["class"]){m.formatter.toggle("fontsize_class",{value:s["class"]});m.undoManager.add();m.nodeChanged()}else{m.execCommand("FontSize",false,s.fontSize)}return}if(r["class"]){m.focus();m.undoManager.add();m.formatter.toggle("fontsize_class",{value:r["class"]});m.undoManager.add();m.nodeChanged()}else{m.execCommand("FontSize",false,r.fontSize)}q.select(function(t){return r==t});return false}});if(q){g(o.settings.theme_advanced_font_sizes,function(s,r){var t=s.fontSize;if(t>=1&&t<=7){t=o.sizes[parseInt(t)-1]+"pt"}q.add(r,s,{style:"font-size:"+t,"class":"mceFontSize"+(n++)+(" "+(s["class"]||""))})})}return q},_createBlockFormats:function(){var n,l={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},m=this;n=m.editor.controlManager.createListBox("formatselect",{title:"advanced.block",cmd:"FormatBlock"});if(n){g(m.editor.getParam("theme_advanced_blockformats",m.settings.theme_advanced_blockformats,"hash"),function(q,o){n.add(m.editor.translate(o!=q?o:l[q]),q,{"class":"mce_formatPreview mce_"+q})})}return n},_createForeColorMenu:function(){var r,m=this,n=m.settings,q={},l;if(n.theme_advanced_more_colors){q.more_colors_func=function(){m._mceColorPicker(0,{color:r.value,func:function(o){r.setColor(o)}})}}if(l=n.theme_advanced_text_colors){q.colors=l}if(n.theme_advanced_default_foreground_color){q.default_color=n.theme_advanced_default_foreground_color}q.title="advanced.forecolor_desc";q.cmd="ForeColor";q.scope=this;r=m.editor.controlManager.createColorSplitButton("forecolor",q);return r},_createBackColorMenu:function(){var r,m=this,n=m.settings,q={},l;if(n.theme_advanced_more_colors){q.more_colors_func=function(){m._mceColorPicker(0,{color:r.value,func:function(o){r.setColor(o)}})}}if(l=n.theme_advanced_background_colors){q.colors=l}if(n.theme_advanced_default_background_color){q.default_color=n.theme_advanced_default_background_color}q.title="advanced.backcolor_desc";q.cmd="HiliteColor";q.scope=this;r=m.editor.controlManager.createColorSplitButton("backcolor",q);return r},renderUI:function(q){var u,r,v,B=this,z=B.editor,C=B.settings,A,m,l;u=m=e.create("span",{id:z.id+"_parent","class":"mceEditor "+z.settings.skin+"Skin"+(C.skin_variant?" "+z.settings.skin+"Skin"+B._ufirst(C.skin_variant):"")});if(!e.boxModel){u=e.add(u,"div",{"class":"mceOldBoxModel"})}u=A=e.add(u,"table",{id:z.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});u=v=e.add(u,"tbody");switch((C.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":r=B._rowLayout(C,v,q);break;case"customlayout":r=z.execCallback("theme_advanced_custom_layout",C,v,q,m);break;default:r=B._simpleLayout(C,v,q,m)}u=q.targetNode;l=e.stdMode?A.getElementsByTagName("tr"):A.rows;e.addClass(l[0],"mceFirst");e.addClass(l[l.length-1],"mceLast");g(e.select("tr",v),function(o){e.addClass(o.firstChild,"mceFirst");e.addClass(o.childNodes[o.childNodes.length-1],"mceLast")});if(e.get(C.theme_advanced_toolbar_container)){e.get(C.theme_advanced_toolbar_container).appendChild(m)}else{e.insertAfter(m,u)}c.add(z.id+"_path_row","click",function(n){n=n.target;if(n.nodeName=="A"){B._sel(n.className.replace(/^.*mcePath_([0-9]+).*$/,"$1"));return c.cancel(n)}});if(!z.getParam("accessibility_focus")){c.add(e.add(m,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(z.id).focus()})}if(C.theme_advanced_toolbar_location=="external"){q.deltaHeight=0}B.deltaHeight=q.deltaHeight;q.targetNode=null;return{iframeContainer:r,editorContainer:z.id+"_parent",sizeContainer:A,deltaHeight:q.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:f.majorVersion+"."+f.minorVersion}},resizeBy:function(l,m){var n=e.get(this.editor.id+"_tbl");this.resizeTo(n.clientWidth+l,n.clientHeight+m)},resizeTo:function(l,q,n){var m=this.editor,o=this.settings,r=e.get(m.id+"_tbl"),t=e.get(m.id+"_ifr");l=Math.max(o.theme_advanced_resizing_min_width||100,l);q=Math.max(o.theme_advanced_resizing_min_height||100,q);l=Math.min(o.theme_advanced_resizing_max_width||65535,l);q=Math.min(o.theme_advanced_resizing_max_height||65535,q);e.setStyle(r,"height","");e.setStyle(t,"height",q);if(o.theme_advanced_resize_horizontal){e.setStyle(r,"width","");e.setStyle(t,"width",l);if(l<r.clientWidth){l=r.clientWidth;e.setStyle(t,"width",r.clientWidth)}}if(n&&o.theme_advanced_resizing_use_cookie){b.setHash("TinyMCE_"+m.id+"_size",{cw:l,ch:q})}},destroy:function(){var l=this.editor.id;c.clear(l+"_resize");c.clear(l+"_path_row");c.clear(l+"_external_close")},_simpleLayout:function(E,z,q,l){var D=this,A=D.editor,B=E.theme_advanced_toolbar_location,u=E.theme_advanced_statusbar_location,r,m,v,C;if(E.readonly){r=e.add(z,"tr");r=m=e.add(r,"td",{"class":"mceIframeContainer"});return m}if(B=="top"){D._addToolbars(z,q)}if(B=="external"){r=C=e.create("div",{style:"position:relative"});r=e.add(r,"div",{id:A.id+"_external","class":"mceExternalToolbar"});e.add(r,"a",{id:A.id+"_external_close",href:"javascript:;","class":"mceExternalClose"});r=e.add(r,"table",{id:A.id+"_tblext",cellSpacing:0,cellPadding:0});v=e.add(r,"tbody");if(l.firstChild.className=="mceOldBoxModel"){l.firstChild.appendChild(C)}else{l.insertBefore(C,l.firstChild)}D._addToolbars(v,q);A.onMouseUp.add(function(){var o=e.get(A.id+"_external");e.show(o);e.hide(j);var n=c.add(A.id+"_external_close","click",function(){e.hide(A.id+"_external");c.remove(A.id+"_external_close","click",n)});e.show(o);e.setStyle(o,"top",0-e.getRect(A.id+"_tblext").h-1);e.hide(o);e.show(o);o.style.filter="";j=A.id+"_external";o=null})}if(u=="top"){D._addStatusBar(z,q)}if(!E.theme_advanced_toolbar_container){r=e.add(z,"tr");r=m=e.add(r,"td",{"class":"mceIframeContainer"})}if(B=="bottom"){D._addToolbars(z,q)}if(u=="bottom"){D._addStatusBar(z,q)}return m},_rowLayout:function(D,u,q){var C=this,v=C.editor,B,E,l=v.controlManager,r,m,A,z;B=D.theme_advanced_containers_default_class||"";E=D.theme_advanced_containers_default_align||"center";g(d(D.theme_advanced_containers||""),function(s,o){var n=D["theme_advanced_container_"+s]||"";switch(n.toLowerCase()){case"mceeditor":r=e.add(u,"tr");r=m=e.add(r,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":C._addStatusBar(u,q);break;default:z=(D["theme_advanced_container_"+s+"_align"]||E).toLowerCase();z="mce"+C._ufirst(z);r=e.add(e.add(u,"tr"),"td",{"class":"mceToolbar "+(D["theme_advanced_container_"+s+"_class"]||B)+" "+z||E});A=l.createToolbar("toolbar"+o);C._addControls(n,A);e.setHTML(r,A.renderHTML());q.deltaHeight-=D.theme_advanced_row_height}});return m},_addControls:function(m,l){var n=this,o=n.settings,q,r=n.editor.controlManager;if(o.theme_advanced_disable&&!n._disabled){q={};g(d(o.theme_advanced_disable),function(s){q[s]=1});n._disabled=q}else{q=n._disabled}g(d(m),function(t){var s;if(q&&q[t]){return}if(t=="tablecontrols"){g(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(u){u=n.createControl(u,r);if(u){l.add(u)}});return}s=n.createControl(t,r);if(s){l.add(s)}})},_addToolbars:function(C,m){var F=this,u,r,A=F.editor,G=F.settings,E,l=A.controlManager,B,q,z=[],D;D=G.theme_advanced_toolbar_align.toLowerCase();D="mce"+F._ufirst(D);q=e.add(e.add(C,"tr"),"td",{"class":"mceToolbar "+D});if(!A.getParam("accessibility_focus")){z.push(e.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+A.id+"').focus();"},"<!-- IE -->"))}z.push(e.createHTML("a",{href:"#",accesskey:"q",title:A.getLang("advanced.toolbar_focus")},"<!-- IE -->"));for(u=1;(E=G["theme_advanced_buttons"+u]);u++){r=l.createToolbar("toolbar"+u,{"class":"mceToolbarRow"+u});if(G["theme_advanced_buttons"+u+"_add"]){E+=","+G["theme_advanced_buttons"+u+"_add"]}if(G["theme_advanced_buttons"+u+"_add_before"]){E=G["theme_advanced_buttons"+u+"_add_before"]+","+E}F._addControls(E,r);z.push(r.renderHTML());m.deltaHeight-=G.theme_advanced_row_height}z.push(e.createHTML("a",{href:"#",accesskey:"z",title:A.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+A.id+"').focus();"},"<!-- IE -->"));e.setHTML(q,z.join(""))},_addStatusBar:function(v,m){var q,C=this,z=C.editor,D=C.settings,l,A,B,u;q=e.add(v,"tr");q=u=e.add(q,"td",{"class":"mceStatusbar"});q=e.add(q,"div",{id:z.id+"_path_row"},D.theme_advanced_path?z.translate("advanced.path")+": ":"&#160;");e.add(q,"a",{href:"#",accesskey:"x"});if(D.theme_advanced_resizing){e.add(u,"a",{id:z.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize"});if(D.theme_advanced_resizing_use_cookie){z.onPostRender.add(function(){var n=b.getHash("TinyMCE_"+z.id+"_size"),r=e.get(z.id+"_tbl");if(!n){return}C.resizeTo(n.cw,n.ch)})}z.onPostRender.add(function(){c.add(z.id+"_resize","click",function(n){n.preventDefault()});c.add(z.id+"_resize","mousedown",function(K){var t,r,s,o,J,G,H,M,n,L,E;function F(N){N.preventDefault();n=H+(N.screenX-J);L=M+(N.screenY-G);C.resizeTo(n,L)}function I(N){c.remove(e.doc,"mousemove",t);c.remove(z.getDoc(),"mousemove",r);c.remove(e.doc,"mouseup",s);c.remove(z.getDoc(),"mouseup",o);n=H+(N.screenX-J);L=M+(N.screenY-G);C.resizeTo(n,L,true)}K.preventDefault();J=K.screenX;G=K.screenY;E=e.get(C.editor.id+"_ifr");H=n=E.clientWidth;M=L=E.clientHeight;t=c.add(e.doc,"mousemove",F);r=c.add(z.getDoc(),"mousemove",F);s=c.add(e.doc,"mouseup",I);o=c.add(z.getDoc(),"mouseup",I)})})}m.deltaHeight-=21;q=v=null},_nodeChanged:function(A,F,q,D,m){var I=this,l,E=0,H,B,J=I.settings,G,o,C,r,z;f.each(I.stateControls,function(n){F.setActive(n,A.queryCommandState(I.controls[n][1]))});function u(s){var t,n=m.parents,v=s;if(typeof(s)=="string"){v=function(K){return K.nodeName==s}}for(t=0;t<n.length;t++){if(v(n[t])){return n[t]}}}F.setActive("visualaid",A.hasVisual);F.setDisabled("undo",!A.undoManager.hasUndo()&&!A.typing);F.setDisabled("redo",!A.undoManager.hasRedo());F.setDisabled("outdent",!A.queryCommandState("Outdent"));l=u("A");if(B=F.get("link")){if(!l||!l.name){B.setDisabled(!l&&D);B.setActive(!!l)}}if(B=F.get("unlink")){B.setDisabled(!l&&D);B.setActive(!!l&&!l.name)}if(B=F.get("anchor")){B.setActive(!!l&&l.name)}l=u("IMG");if(B=F.get("image")){B.setActive(!!l&&q.className.indexOf("mceItem")==-1)}if(B=F.get("styleselect")){I._importClasses();r=[];g(B.items,function(n){r.push(n.value)});z=A.formatter.matchAll(r);B.select(z[0])}if(B=F.get("formatselect")){l=u(e.isBlock);if(l){B.select(l.nodeName.toLowerCase())}}u(function(s){if(s.nodeName==="SPAN"){if(!G&&s.className){G=s.className}if(!o&&s.style.fontSize){o=s.style.fontSize}if(!C&&s.style.fontFamily){C=s.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase()}}return false});if(B=F.get("fontselect")){B.select(function(n){return n.replace(/^([^,]+).*/,"$1").toLowerCase()==C})}if(B=F.get("fontsizeselect")){if(J.theme_advanced_runtime_fontsize&&!o&&!G){o=A.dom.getStyle(q,"fontSize",true)}B.select(function(n){if(n.fontSize&&n.fontSize===o){return true}if(n["class"]&&n["class"]===G){return true}})}if(J.theme_advanced_path&&J.theme_advanced_statusbar_location){l=e.get(A.id+"_path")||e.add(A.id+"_path_row","span",{id:A.id+"_path"});e.setHTML(l,"");u(function(L){var s=L.nodeName.toLowerCase(),t,K,v="";if(L.nodeType!=1||L.nodeName==="BR"||(e.hasClass(L,"mceItemHidden")||e.hasClass(L,"mceItemRemoved"))){return}if(H=e.getAttrib(L,"mce_name")){s=H}if(f.isIE&&L.scopeName!=="HTML"){s=L.scopeName+":"+s}s=s.replace(/mce\:/g,"");switch(s){case"b":s="strong";break;case"i":s="em";break;case"img":if(H=e.getAttrib(L,"src")){v+="src: "+H+" "}break;case"a":if(H=e.getAttrib(L,"name")){v+="name: "+H+" ";s+="#"+H}if(H=e.getAttrib(L,"href")){v+="href: "+H+" "}break;case"font":if(H=e.getAttrib(L,"face")){v+="font: "+H+" "}if(H=e.getAttrib(L,"size")){v+="size: "+H+" "}if(H=e.getAttrib(L,"color")){v+="color: "+H+" "}break;case"span":if(H=e.getAttrib(L,"style")){v+="style: "+H+" "}break}if(H=e.getAttrib(L,"id")){v+="id: "+H+" "}if(H=L.className){H=H.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(H){v+="class: "+H+" ";if(e.isBlock(L)||s=="img"||s=="span"){s+="."+H}}}s=s.replace(/(html:)/g,"");s={name:s,node:L,title:v};I.onResolveName.dispatch(I,s);v=s.title;s=s.name;K=e.create("a",{href:"javascript:;",onmousedown:"return false;",title:v,"class":"mcePath_"+(E++)},s);if(l.hasChildNodes()){l.insertBefore(e.doc.createTextNode(" \u00bb "),l.firstChild);l.insertBefore(K,l.firstChild)}else{l.appendChild(K)}},A.getBody())}},_sel:function(l){this.editor.execCommand("mceSelectNodeDepth",false,l)},_mceInsertAnchor:function(n,m){var l=this.editor;l.windowManager.open({url:this.url+"/anchor.htm",width:320+parseInt(l.getLang("advanced.anchor_delta_width",0)),height:90+parseInt(l.getLang("advanced.anchor_delta_height",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var l=this.editor;l.windowManager.open({url:this.url+"/charmap.htm",width:550+parseInt(l.getLang("advanced.charmap_delta_width",0)),height:250+parseInt(l.getLang("advanced.charmap_delta_height",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var l=this.editor;l.windowManager.open({url:this.url+"/about.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(n,m){var l=this.editor;m=m||{};l.windowManager.open({url:this.url+"/color_picker.htm",width:375+parseInt(l.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(l.getLang("advanced.colorpicker_delta_height",0)),close_previous:false,inline:true},{input_color:m.color,func:m.func,theme_url:this.url})},_mceCodeEditor:function(m,n){var l=this.editor;l.windowManager.open({url:this.url+"/source_editor.htm",width:parseInt(l.getParam("theme_advanced_source_editor_width",720)),height:parseInt(l.getParam("theme_advanced_source_editor_height",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(m,n){var l=this.editor;if(l.dom.getAttrib(l.selection.getNode(),"class").indexOf("mceItem")!=-1){return}l.windowManager.open({url:this.url+"/image.htm",width:355+parseInt(l.getLang("advanced.image_delta_width",0)),height:275+parseInt(l.getLang("advanced.image_delta_height",0)),inline:true},{theme_url:this.url})},_mceLink:function(m,n){var l=this.editor;l.windowManager.open({url:this.url+"/link.htm",width:310+parseInt(l.getLang("advanced.link_delta_width",0)),height:200+parseInt(l.getLang("advanced.link_delta_height",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var l=this.editor;l.windowManager.confirm("advanced.newdocument",function(m){if(m){l.execCommand("mceSetContent",false,"")}})},_mceForeColor:function(){var l=this;this._mceColorPicker(0,{color:l.fgColor,func:function(m){l.fgColor=m;l.editor.execCommand("ForeColor",false,m)}})},_mceBackColor:function(){var l=this;this._mceColorPicker(0,{color:l.bgColor,func:function(m){l.bgColor=m;l.editor.execCommand("HiliteColor",false,m)}})},_ufirst:function(l){return l.substring(0,1).toUpperCase()+l.substring(1)}});f.ThemeManager.add("advanced",f.themes.AdvancedTheme)}(tinymce));tinyMCE.addI18n("en.advanced",{style_select:"Styles",font_size:"Font size",fontdefault:"Font family",block:"Format",paragraph:"Paragraph",div:"Div",address:"Address",pre:"Preformatted",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",blockquote:"Blockquote",code:"Code",samp:"Code sample",dt:"Definition term ",dd:"Definition description",bold_desc:"Bold (Ctrl+B)",italic_desc:"Italic (Ctrl+I)",underline_desc:"Underline (Ctrl+U)",striketrough_desc:"Strikethrough",justifyleft_desc:"Align left",justifycenter_desc:"Align center",justifyright_desc:"Align right",justifyfull_desc:"Align full",bullist_desc:"Unordered list",numlist_desc:"Ordered list",outdent_desc:"Outdent",indent_desc:"Indent",undo_desc:"Undo (Ctrl+Z)",redo_desc:"Redo (Ctrl+Y)",link_desc:"Insert/edit link",unlink_desc:"Unlink",image_desc:"Insert/edit image",cleanup_desc:"Cleanup messy code",code_desc:"Edit HTML Source",sub_desc:"Subscript",sup_desc:"Superscript",hr_desc:"Insert horizontal ruler",removeformat_desc:"Remove formatting",custom1_desc:"Your custom description here",forecolor_desc:"Select text color",backcolor_desc:"Select background color",charmap_desc:"Insert custom character",visualaid_desc:"Toggle guidelines/invisible elements",anchor_desc:"Insert/edit anchor",cut_desc:"Cut",copy_desc:"Copy",paste_desc:"Paste",image_props_desc:"Image properties",newdocument_desc:"New document",help_desc:"Help",blockquote_desc:"Blockquote",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\r\nDo you want more information about this issue?",path:"Path",newdocument:"Are you sure you want clear all contents?",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X",more_colors:"More colors"});(function(){var d=tinymce.each,e=null,b={paste_auto_cleanup_on_paste:true,paste_block_drop:false,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:false,paste_remove_styles:false,paste_remove_styles_if_webkit:true,paste_convert_middot_lists:true,paste_convert_headers_to_strong:false,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:false,paste_text_sticky:false,paste_text_notifyalways:false,paste_text_linebreaktype:"p",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};function c(f,g){return f.getParam(g,b[g])}tinymce.create("tinymce.plugins.PastePlugin",{init:function(f,g){var j=this;j.editor=f;j.url=g;j.onPreProcess=new tinymce.util.Dispatcher(j);j.onPostProcess=new tinymce.util.Dispatcher(j);j.onPreProcess.add(j._preProcess);j.onPostProcess.add(j._postProcess);j.onPreProcess.add(function(m,n){f.execCallback("paste_preprocess",m,n)});j.onPostProcess.add(function(m,n){f.execCallback("paste_postprocess",m,n)});f.pasteAsPlainText=false;function l(q,m){var n=f.dom;j.onPreProcess.dispatch(j,q);q.node=n.create("div",0,q.content);j.onPostProcess.dispatch(j,q);q.content=f.serializer.serialize(q.node,{getInner:1});if((!m)&&(f.pasteAsPlainText)){j._insertPlainText(f,n,q.content);if(!c(f,"paste_text_sticky")){f.pasteAsPlainText=false;f.controlManager.setActive("pastetext",false)}}else{if(/<(p|h[1-6]|ul|ol)/.test(q.content)){j._insertBlockContent(f,n,q.content)}else{j._insert(q.content)}}}f.addCommand("mceInsertClipboardContent",function(m,n){l(n,true)});if(!c(f,"paste_text_use_dialog")){f.addCommand("mcePasteText",function(n,m){var o=tinymce.util.Cookie;f.pasteAsPlainText=!f.pasteAsPlainText;f.controlManager.setActive("pastetext",f.pasteAsPlainText);if((f.pasteAsPlainText)&&(!o.get("tinymcePasteText"))){if(c(f,"paste_text_sticky")){f.windowManager.alert(f.translate("paste.plaintext_mode_sticky"))}else{f.windowManager.alert(f.translate("paste.plaintext_mode_sticky"))}if(!c(f,"paste_text_notifyalways")){o.set("tinymcePasteText","1",new Date(new Date().getFullYear()+1,12,31))}}})}f.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"});f.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"});function k(z){var r,u,o,q=f.selection,t=f.dom,v=f.getBody(),m;if(f.pasteAsPlainText&&(z.clipboardData||t.doc.dataTransfer)){z.preventDefault();l({content:(z.clipboardData||t.doc.dataTransfer).getData("Text")},true);return}if(t.get("_mcePaste")){return}r=t.add(v,"div",{id:"_mcePaste","class":"mcePaste"},'\uFEFF<br _mce_bogus="1">');if(v!=f.getDoc().body){m=t.getPos(f.selection.getStart(),v).y}else{m=v.scrollTop}t.setStyles(r,{position:"absolute",left:-10000,top:m,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){o=t.doc.body.createTextRange();o.moveToElementText(r);o.execCommand("Paste");t.remove(r);if(r.innerHTML==="\uFEFF"){f.execCommand("mcePasteWord");z.preventDefault();return}l({content:r.innerHTML});return tinymce.dom.Event.cancel(z)}else{function s(n){n.preventDefault()}t.bind(f.getDoc(),"mousedown",s);t.bind(f.getDoc(),"keydown",s);u=f.selection.getRng();r=r.firstChild;o=f.getDoc().createRange();o.setStart(r,0);o.setEnd(r,1);q.setRng(o);window.setTimeout(function(){var A="",n=t.select("div.mcePaste");d(n,function(C){var B=C.firstChild;if(B&&B.nodeName=="DIV"&&B.style.marginTop&&B.style.backgroundColor){t.remove(B,1)}d(t.select("div.mcePaste",C),function(D){t.remove(D,1)});d(t.select("span.Apple-style-span",C),function(D){t.remove(D,1)});d(t.select("br[_mce_bogus]",C),function(D){t.remove(D)});A+=C.innerHTML});d(n,function(B){t.remove(B)});if(u){q.setRng(u)}l({content:A});t.unbind(f.getDoc(),"mousedown",s);t.unbind(f.getDoc(),"keydown",s)},0)}}if(c(f,"paste_auto_cleanup_on_paste")){if(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)){f.onKeyDown.add(function(m,n){if(((tinymce.isMac?n.metaKey:n.ctrlKey)&&n.keyCode==86)||(n.shiftKey&&n.keyCode==45)){k(n)}})}else{f.onPaste.addToTop(function(m,n){return k(n)})}}if(c(f,"paste_block_drop")){f.onInit.add(function(){f.dom.bind(f.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(m){m.preventDefault();m.stopPropagation();return false})})}j._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(k,g){var n=this.editor,m=g.content,t=tinymce.grep,s=tinymce.explode,j=tinymce.trim,q,l;function f(o){d(o,function(u){if(u.constructor==RegExp){m=m.replace(u,"")}else{m=m.replace(u[0],u[1])}})}if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(m)||g.wordContent){g.wordContent=true;f([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]);if(c(n,"paste_convert_headers_to_strong")){m=m.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")}if(c(n,"paste_convert_middot_lists")){f([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"]])}f([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"]]);do{q=m.length;m=m.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1")}while(q!=m.length);if(c(n,"paste_retain_style_properties").replace(/^none$/i,"").length==0){m=m.replace(/<\/?span[^>]*>/gi,"")}else{f([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(u,o){return(o.length>0)?o.replace(/./," ").slice(Math.floor(o.length/2)).split("").join("\u00a0"):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(A,o,z){var B=[],u=0,v=s(j(z).replace(/&quot;/gi,"'"),";");d(v,function(C){var D,F,G=s(C,":");function E(H){return H+((H!=="0")&&(/\d$/.test(H)))?"px":""}if(G.length==2){D=G[0].toLowerCase();F=G[1].toLowerCase();switch(D){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":B[u++]=D.replace(/^mso-|-alt$/g,"")+":"+E(F);return;case"horiz-align":B[u++]="text-align:"+F;return;case"vert-align":B[u++]="vertical-align:"+F;return;case"font-color":case"mso-foreground":B[u++]="color:"+F;return;case"mso-background":case"mso-highlight":B[u++]="background:"+F;return;case"mso-default-height":B[u++]="min-height:"+E(F);return;case"mso-default-width":B[u++]="min-width:"+E(F);return;case"mso-padding-between-alt":B[u++]="border-collapse:separate;border-spacing:"+E(F);return;case"text-line-through":if((F=="single")||(F=="double")){B[u++]="text-decoration:line-through"}return;case"mso-zero-height":if(F=="yes"){B[u++]="display:none"}return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(D)){return}B[u++]=D+":"+G[1]}});if(u>0){return o+' style="'+B.join(";")+'"'}else{return o}}]])}}if(c(n,"paste_convert_headers_to_strong")){f([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]])}l=c(n,"paste_strip_class_attributes");if(l!=="none"){function r(v,u){if(l==="all"){return""}var o=t(s(u.replace(/^(["'])(.*)\1$/,"$2")," "),function(z){return(/^(?!mso)/i.test(z))});return o.length?' class="'+o.join(" ")+'"':""}m=m.replace(/ class="([^"]+)"/gi,r);m=m.replace(/ class=(\w+)/gi,r)}if(c(n,"paste_remove_spans")){m=m.replace(/<\/?span[^>]*>/gi,"")}g.content=m},_postProcess:function(k,m){var j=this,g=j.editor,l=g.dom,f;if(m.wordContent){d(l.select("a",m.node),function(n){if(!n.href||n.href.indexOf("#_Toc")!=-1){l.remove(n,1)}});if(c(g,"paste_convert_middot_lists")){j._convertLists(k,m)}f=c(g,"paste_retain_style_properties");if((tinymce.is(f,"string"))&&(f!=="all")&&(f!=="*")){f=tinymce.explode(f.replace(/^none$/i,""));d(l.select("*",m.node),function(r){var s={},o=0,q,t,n;if(f){for(q=0;q<f.length;q++){t=f[q];n=l.getStyle(r,t);if(n){s[t]=n;o++}}}l.setAttrib(r,"style","");if(f&&o>0){l.setStyles(r,s)}else{if(r.nodeName=="SPAN"&&!r.className){l.remove(r,true)}}})}}if(c(g,"paste_remove_styles")||(c(g,"paste_remove_styles_if_webkit")&&tinymce.isWebKit)){d(l.select("*[style]",m.node),function(n){n.removeAttribute("style");n.removeAttribute("_mce_style")})}else{if(tinymce.isWebKit){d(l.select("*",m.node),function(n){n.removeAttribute("_mce_style")})}}},_convertLists:function(k,g){var m=k.editor.dom,l,r,f=-1,j,s=[],q,n;d(m.select("p",g.node),function(A){var u,B="",z,v,o,t;for(u=A.firstChild;u&&u.nodeType==3;u=u.nextSibling){B+=u.nodeValue}B=A.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"\u00a0");if(/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o]\s*\u00a0*/.test(B)){z="ul"}if(/^__MCE_ITEM__\s*\w+\.\s*\u00a0{2,}/.test(B)){z="ol"}if(z){j=parseFloat(A.style.marginLeft||0);if(j>f){s.push(j)}if(!l||z!=q){l=m.create(z);m.insertAfter(l,A)}else{if(j>f){l=r.appendChild(m.create(z))}else{if(j<f){o=tinymce.inArray(s,j);t=m.getParents(l.parentNode,z);l=t[t.length-1-o]||l}}}d(m.select("span",A),function(D){var C=D.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");if(z=="ul"&&/^[\u2022\u00b7\u00a7\u00d8o]/.test(C)){m.remove(D)}else{if(/^[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(C)){m.remove(D)}}});v=A.innerHTML;if(z=="ul"){v=A.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o]\s*(&nbsp;|\u00a0)+\s*/,"")}else{v=A.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,"")}r=l.appendChild(m.create("li",0,v));m.remove(A);f=j;q=z}else{l=f=0}});n=g.node.innerHTML;if(n.indexOf("__MCE_ITEM__")!=-1){g.node.innerHTML=n.replace(/__MCE_ITEM__/g,"")}},_insertBlockContent:function(o,k,q){var g,m,j=o.selection,u,r,f,s,l,n="mce_marker";function t(z){var v;if(tinymce.isIE){v=o.getDoc().body.createTextRange();v.moveToElementText(z);v.collapse(false);v.select()}else{j.select(z,1);j.collapse(false)}}this._insert('<span id="'+n+'"></span>',1);m=k.get(n);g=k.getParent(m,"p,h1,h2,h3,h4,h5,h6,ul,ol,th,td");if(g&&!/TD|TH/.test(g.nodeName)){m=k.split(g,m);d(k.create("div",0,q).childNodes,function(v){u=m.parentNode.insertBefore(v.cloneNode(true),m)});t(u)}else{k.setOuterHTML(m,q);j.select(o.getBody(),1);j.collapse(0)}while(r=k.get(n)){k.remove(r)}r=j.getStart();f=k.getViewPort(o.getWin());s=o.dom.getPos(r).y;l=r.clientHeight;if(s<f.y||s+l>f.y+f.h){o.getDoc().body.scrollTop=s<f.y?s:s-f.h+25}},_insert:function(j,f){var g=this.editor,k=g.selection.getRng();if(!g.selection.isCollapsed()&&k.startContainer!=k.endContainer){g.getDoc().execCommand("Delete",false,null)}g.execCommand(tinymce.isGecko?"insertHTML":"mceInsertContent",false,j,{skip_undo:f})},_insertPlainText:function(k,B,A){var v,z,m,l,t,f,r,g,o=k.getWin(),D=k.getDoc(),u=k.selection,n=tinymce.is,C=tinymce.inArray,j=c(k,"paste_text_linebreaktype"),q=c(k,"paste_text_replacements");function s(E){d(E,function(F){if(F.constructor==RegExp){A=A.replace(F,"")}else{A=A.replace(F[0],F[1])}})}if((typeof(A)==="string")&&(A.length>0)){if(!e){e=("34,quot,38,amp,39,apos,60,lt,62,gt,"+k.serializer.settings.entities).split(",")}if(/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(A)){s([/[\n\r]+/g])}else{s([/\r+/g])}s([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/&(#\d+|[a-z0-9]{1,10});/gi,function(F,E){if(E.charAt(0)==="#"){return String.fromCharCode(E.slice(1))}else{return((F=C(e,E))>0)?String.fromCharCode(e[F-1]):" "}}],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"],/^\s+|\s+$/g]);A=B.encode(A);if(!u.isCollapsed()){D.execCommand("Delete",false,null)}if(n(q,"array")||(n(q,"array"))){s(q)}else{if(n(q,"string")){s(new RegExp(q,"gi"))}}if(j=="none"){s([[/\n+/g," "]])}else{if(j=="br"){s([[/\n/g,"<br />"]])}else{s([/^\s+|\s+$/g,[/\n\n/g,"</p><p>"],[/\n/g,"<br />"]])}}if((m=A.indexOf("</p><p>"))!=-1){l=A.lastIndexOf("</p><p>");t=u.getNode();f=[];do{if(t.nodeType==1){if(t.nodeName=="TD"||t.nodeName=="BODY"){break}f[f.length]=t}}while(t=t.parentNode);if(f.length>0){r=A.substring(0,m);g="";for(v=0,z=f.length;v<z;v++){r+="</"+f[v].nodeName.toLowerCase()+">";g+="<"+f[f.length-v-1].nodeName.toLowerCase()+">"}if(m==l){A=r+g+A.substring(m+7)}else{A=r+A.substring(m+4,l+4)+g+A.substring(l+7)}}}k.execCommand("mceInsertRawHTML",false,A+'<span id="_plain_text_marker">&nbsp;</span>');window.setTimeout(function(){var E=B.get("_plain_text_marker"),I,F,H,G;u.select(E,false);D.execCommand("Delete",false,null);E=null;I=u.getStart();F=B.getViewPort(o);H=B.getPos(I).y;G=I.clientHeight;if((H<F.y)||(H+G>F.y+F.h)){D.body.scrollTop=H<F.y?H:H-F.h+25}},0)}},_legacySupport:function(){var g=this,f=g.editor;f.addCommand("mcePasteWord",function(){f.windowManager.open({file:g.url+"/pasteword.htm",width:parseInt(c(f,"paste_dialog_width")),height:parseInt(c(f,"paste_dialog_height")),inline:1})});if(c(f,"paste_text_use_dialog")){f.addCommand("mcePasteText",function(){f.windowManager.open({file:g.url+"/pastetext.htm",width:parseInt(c(f,"paste_dialog_width")),height:parseInt(c(f,"paste_dialog_height")),inline:1})})}f.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}});tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)})();(function(){tinymce.create("tinymce.plugins.wicked",{init:function(f,g){var j=this;j.editor=f;j.url=g;f.addCommand("isoAddWicked",j.isoAddWicked,j);f.addCommand("isoDelWicked",j.isoDelWicked,j);f.onNodeChange.add(function(l,k,o,m){j.handleNodeChange(l,k,o,m)});f.addButton("addwickedlink",{title:"wicked.addwicked_desc",cmd:"isoAddWicked",image:j.url+"/images/addwicked.gif"});f.addButton("delwickedlink",{title:"wicked.delwicked_desc",cmd:"isoDelWicked",image:j.url+"/images/delwicked.gif"})},getInfo:function c(){return{longname:"Wicked plugin",author:"Balazs Ree <ree@greenfinity.hu>",authorurl:"",infourl:"",version:"1.1"}},re_wikilink:/^\(\(.*?\)\)$/,handleNodeChange:function b(g,f,m,k){var j=g.selection;if(!j.isCollapsed()){var l=j.getContent();if(this.re_wikilink.test(l)){f.setDisabled("addwickedlink",true);f.setDisabled("delwickedlink",false)}else{f.setDisabled("addwickedlink",false);f.setDisabled("delwickedlink",true)}}else{f.setDisabled("addwickedlink",true);f.setDisabled("delwickedlink",true)}return true},isoAddWicked:function e(k,j,l){var f=this.editor;var g=f.selection;if(!g.isCollapsed()){var m=g.getContent();g.setContent("(("+m+"))")}},isoDelWicked:function d(k,j,l){var f=this.editor;var g=f.selection;if(!g.isCollapsed()){var m=g.getContent();if(this.re_wikilink.test(m)){g.setContent(m.slice(2,-2))}}}});tinymce.PluginManager.add("wicked",tinymce.plugins.wicked);tinymce.PluginManager.requireLangPack("wicked")})();tinyMCE.addI18n("en.wicked",{addwicked_desc:"Add Wiki link",delwicked_desc:"Remove Wiki link"});(function(){var b=tinymce.util.JSONRequest,d=tinymce.each,c=tinymce.DOM;tinymce.create("tinymce.plugins.SpellcheckerPlugin",{getInfo:function(){return{longname:"Spellchecker",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker",version:tinymce.majorVersion+"."+tinymce.minorVersion}},init:function(f,g){var j=this,e;j.url=g;j.editor=f;j.rpcUrl=f.getParam("spellchecker_rpc_url","{backend}");if(j.rpcUrl=="{backend}"){if(tinymce.isIE){return}j.hasSupport=true;f.onContextMenu.addToTop(function(k,l){if(j.active){return false}})}f.addCommand("mceSpellCheck",function(){if(j.rpcUrl=="{backend}"){j.editor.getBody().spellcheck=j.active=!j.active;return}if(!j.active){f.setProgressState(1);j._sendRPC("checkWords",[j.selectedLang,j._getWords()],function(k){if(k.length>0){j.active=1;j._markWords(k);f.setProgressState(0);f.nodeChanged()}else{f.setProgressState(0);if(f.getParam("spellchecker_report_no_misspellings",true)){f.windowManager.alert("spellchecker.no_mpell")}}})}else{j._done()}});f.onInit.add(function(){if(f.settings.content_css!==false){f.dom.loadCSS(g+"/css/content.css")}});f.onClick.add(j._showMenu,j);f.onContextMenu.add(j._showMenu,j);f.onBeforeGetContent.add(function(){if(j.active){j._removeWords()}});f.onNodeChange.add(function(l,k){k.setActive("spellchecker",j.active)});f.onSetContent.add(function(){j._done()});f.onBeforeGetContent.add(function(){j._done()});f.onBeforeExecCommand.add(function(k,l){if(l=="mceFullScreen"){j._done()}});j.languages={};d(f.getParam("spellchecker_languages","+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv","hash"),function(m,l){if(l.indexOf("+")===0){l=l.substring(1);j.selectedLang=m}j.languages[l]=m})},createControl:function(k,e){var g=this,j,f=g.editor;if(k=="spellchecker"){if(g.rpcUrl=="{backend}"){if(g.hasSupport){j=e.createButton(k,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:g})}return j}j=e.createSplitButton(k,{title:"spellchecker.desc",cmd:"mceSpellCheck",scope:g});j.onRenderMenu.add(function(n,l){l.add({title:"spellchecker.langs","class":"mceMenuItemTitle"}).setDisabled(1);d(g.languages,function(r,q){var s={icon:1},m;s.onclick=function(){m.setSelected(1);g.selectedItem.setSelected(0);g.selectedItem=m;g.selectedLang=r};s.title=q;m=l.add(s);m.setSelected(r==g.selectedLang);if(r==g.selectedLang){g.selectedItem=m}})});return j}},_walk:function(k,g){var j=this.editor.getDoc(),e;if(j.createTreeWalker){e=j.createTreeWalker(k,NodeFilter.SHOW_TEXT,null,false);while((k=e.nextNode())!=null){g.call(this,k)}}else{tinymce.walk(k,g,"childNodes")}},_getSeparators:function(){var f="",e,g=this.editor.getParam("spellchecker_word_separator_chars",'\\s!"#$%&()*+,-./:;<=>?@[]^_{|}\u201d\u201c');for(e=0;e<g.length;e++){f+="\\"+g.charAt(e)}return f},_getWords:function(){var f=this.editor,j=[],e="",g={},k=[];this._walk(f.getBody(),function(l){if(l.nodeType==3){e+=l.nodeValue+" "}});if(f.getParam("spellchecker_word_pattern")){k=e.match("("+f.getParam("spellchecker_word_pattern")+")","gi")}else{e=e.replace(new RegExp("([0-9]|["+this._getSeparators()+"])","g")," ");e=tinymce.trim(e.replace(/(\s+)/g," "));k=e.split(" ")}d(k,function(l){if(!g[l]){j.push(l);g[l]=1}});return j},_removeWords:function(f){var g=this.editor,k=g.dom,j=g.selection,e=j.getBookmark();d(k.select("span").reverse(),function(l){if(l&&(k.hasClass(l,"mceItemHiddenSpellWord")||k.hasClass(l,"mceItemHidden"))){if(!f||k.decode(l.innerHTML)==f){k.remove(l,1)}}});j.moveToBookmark(e)},_markWords:function(s){var l,k,j,g,f,r="",n=this.editor,t=this._getSeparators(),m=n.dom,e=[];var o=n.selection,q=o.getBookmark();d(s,function(u){r+=(r?"|":"")+u});l=new RegExp("(["+t+"])("+r+")(["+t+"])","g");k=new RegExp("^("+r+")","g");j=new RegExp("("+r+")(["+t+"]?)$","g");g=new RegExp("^("+r+")(["+t+"]?)$","g");f=new RegExp("("+r+")(["+t+"])","g");this._walk(this.editor.getBody(),function(u){if(u.nodeType==3){e.push(u)}});d(e,function(z){var u;if(z.nodeType==3){u=z.nodeValue;if(l.test(u)||k.test(u)||j.test(u)||g.test(u)){u=m.encode(u);u=u.replace(f,'<span class="mceItemHiddenSpellWord">$1</span>$2');u=u.replace(j,'<span class="mceItemHiddenSpellWord">$1</span>$2');m.replace(m.create("span",{"class":"mceItemHidden"},u),z)}}});o.moveToBookmark(q)},_showMenu:function(k,n){var l=this,k=l.editor,f=l._menu,q,o=k.dom,j=o.getViewPort(k.getWin()),g=n.target;n=0;if(!f){q=c.getPos(k.getContentAreaContainer());f=k.controlManager.createDropMenu("spellcheckermenu",{offset_x:q.x,offset_y:q.y,"class":"mceNoIcons"});l._menu=f}if(o.hasClass(g,"mceItemHiddenSpellWord")){f.removeAll();f.add({title:"spellchecker.wait","class":"mceMenuItemTitle"}).setDisabled(1);l._sendRPC("getSuggestions",[l.selectedLang,o.decode(g.innerHTML)],function(m){var e;f.removeAll();if(m.length>0){f.add({title:"spellchecker.sug","class":"mceMenuItemTitle"}).setDisabled(1);d(m,function(r){f.add({title:r,onclick:function(){o.replace(k.getDoc().createTextNode(r),g);l._checkDone()}})});f.addSeparator()}else{f.add({title:"spellchecker.no_sug","class":"mceMenuItemTitle"}).setDisabled(1)}e=l.editor.getParam("spellchecker_enable_ignore_rpc","");f.add({title:"spellchecker.ignore_word",onclick:function(){var r=g.innerHTML;o.remove(g,1);l._checkDone();if(e){k.setProgressState(1);l._sendRPC("ignoreWord",[l.selectedLang,r],function(s){k.setProgressState(0)})}}});f.add({title:"spellchecker.ignore_words",onclick:function(){var r=g.innerHTML;l._removeWords(o.decode(r));l._checkDone();if(e){k.setProgressState(1);l._sendRPC("ignoreWords",[l.selectedLang,r],function(s){k.setProgressState(0)})}}});if(l.editor.getParam("spellchecker_enable_learn_rpc")){f.add({title:"spellchecker.learn_word",onclick:function(){var r=g.innerHTML;o.remove(g,1);l._checkDone();k.setProgressState(1);l._sendRPC("learnWord",[l.selectedLang,r],function(s){k.setProgressState(0)})}})}f.update()});k.selection.select(g);q=o.getPos(g);f.showMenu(q.x,q.y+g.offsetHeight-j.y);return tinymce.dom.Event.cancel(n)}else{f.hideMenu()}},_checkDone:function(){var f=this,e=f.editor,j=e.dom,g;d(j.select("span"),function(k){if(k&&j.hasClass(k,"mceItemHiddenSpellWord")){g=true;return false}});if(!g){f._done()}},_done:function(){var e=this,f=e.active;if(e.active){e.active=0;e._removeWords();if(e._menu){e._menu.hideMenu()}if(f){e.editor.nodeChanged()}}},_sendRPC:function(f,j,e){var g=this;b.sendRPC({url:g.rpcUrl,method:f,params:j,success:e,error:function(l,k){g.editor.setProgressState(0);g.editor.windowManager.alert(l.errstr||("Error response: "+k.responseText))}})}});tinymce.PluginManager.add("spellchecker",tinymce.plugins.SpellcheckerPlugin)})();(function(){var b=tinymce.each;tinymce.create("tinymce.plugins.EmbedMediaPlugin",{init:function(c,d){var f=this;f.editor=c;f.url=d;function g(j){return/^mceItemFlash$/.test(j.className)}c.addCommand("mceEmbedMedia",function(){c.windowManager.open({file:d+"/media.htm",width:480+parseInt(c.getLang("embedmedia.delta_width",0)),height:500+parseInt(c.getLang("embedmedia.delta_height",0)),inline:1},{plugin_url:d})});c.addButton("embedmedia",{title:"media.desc",cmd:"mceEmbedMedia"});c.onNodeChange.add(function(k,j,l){j.setActive("embedmedia",l.nodeName=="IMG"&&g(l))});c.onInit.add(function(){if(c.settings.content_css!==false){c.dom.loadCSS(d+"/css/content.css")}if(c&&c.plugins.contextmenu){c.plugins.contextmenu.onContextMenu.add(function(k,j,l){if(l.nodeName=="IMG"&&/mceItemFlash/.test(l.className)){j.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});c.onBeforeSetContent.add(function(k,n){var m=f.newEmbedSnippet();var l=n.content;var j=m._objectsToSpans(l);n.content=j},f);c.onSetContent.add(function(){var j=$(c.getBody());j.find("span.mceItemEmbed,span.mceItemObject").each(function(){var q=$(this);if(q.is("span.mceItemEmbed")&&q.parent().is("span.mceItemObject")){return}var n=f.newEmbedSnippet();var m;if($.browser.msie){m=q[0].outerHTML}else{var o=$("<div />");o.append(q.clone());m=o[0].innerHTML;o.remove()}var l=n._spansToObjects(m);var k=$("<img />").attr("src",f.url+"/img/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",l).attr("width",q.attr("width")).attr("height",q.attr("height"));k=$("<div />").append(k).html();q.replaceWith(k)});j.find("span.mceEndObject").remove()});function e(j,k){k=new RegExp(k+'="([^"]+)"',"g").exec(j);return k?c.dom.decode(k[1]):""}c.onPostProcess.add(function(j,k){k.content=k.content.replace(/<img[^>]+>/g,function(m){var l=e(m,"class");if(l=="mceMarker-embedmedia"){var n=f.newEmbedSnippet();n.setContent(e(m,"title"));n.setParms({width:e(m,"width"),height:e(m,"height")});m=n.getContent();n.wrapper.remove()}return m})})},newEmbedSnippet:function(){var d=function d(){};$.extend(d.prototype,{_objectsToSpans:function(e){e=e.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');e=e.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');e=e.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');e=e.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');e=e.replace(/<\/embed>/gi,"");e=e.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');e=e.replace(/<\/param>/gi,"");return e},_spansToObjects:function(e){e=e.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");e=e.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");e=e.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");e=e.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return e},setContent:function(m){this.wrapper=$("<div />");var g=this.wrapper;var n=this._objectsToSpans(m);g[0].innerHTML=n;this.root=g.children();var r=this.root;this.emtype=null;var j="wmode";var o="opaque";if(r.is("span.mceItemObject")){var k=r.find("span.mceItemEmbed");if(k){this.emtype="object+embed";this.inside=k;if(k.attr("mce_src")){k.removeAttr("mce_src")}k.attr(j,o)}var l=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var f=[];$.each(l,function(e,u){var t=false;r.find("span.mceItemParam").each(function(z,A){var v=$(A).attr("name");if(v==u||v==u.toLowerCase()){t=true;return false}});if(!t){if(r.attr(u)){f.push({k:u,v:r.attr(u)})}else{if(r.attr(u.toLowerCase())){f.push({k:u,v:r.attr(u.toLowerCase())})}else{if(u=="movie"){if(r.attr("resource")){f.push({k:u,v:r.attr("resource")})}}}}}});$.each(f,function(t,u){try{$('<span class="mceItemParam"></span>').attr("name",u.k).attr("value",u.v).prependTo(r)}catch(v){}});var s=false;r.find("span.mceItemParam").each(function(t,u){var e=$(u).attr("name");if(e==j){s=true;$(u).attr("value",o);return false}});if(!s){try{$('<span class="mceItemParam"></span>').attr("name",j).attr("value",o).prependTo(r)}catch(q){}}r.attr(j,o)}if(r.attr("mce_src")){r.removeAttr("mce_src")}return this},getContent:function(){var e=this.wrapper.html();var f=this._spansToObjects(e);return f},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(e){if(this.emtype=="object+embed"){e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height);e.width&&this.inside.attr("width",e.width);e.height&&this.inside.attr("height",e.height)}else{e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height)}return this}});this.newEmbedSnippet=function c(){return new d()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},getInfo:function(){return{longname:"Media",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("embedmedia",tinymce.plugins.EmbedMediaPlugin)})();jQuery.extend({createUploadIframe:function(e,c){var b="jUploadFrame"+e;if(window.ActiveXObject){var d=document.createElement('<iframe id="'+b+'" name="'+b+'" />');if(typeof c=="boolean"){d.src="javascript:false"}else{if(typeof c=="string"){d.src=c}}}else{var d=document.createElement("iframe");d.id=b;d.name=b}d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(k,c,j){var f="jUploadForm"+k;var b="jUploadFile"+k;var e=$('<form  action="" method="POST" name="'+f+'" id="'+f+'" enctype="multipart/form-data"></form>');var d=$("#"+c);var g=$(d).clone(true);g.attr("name",d.attr("name"));$(d).attr("id",b);$(d).before(g);$(d).appendTo(e);j&&$.each(j,function(m,l){$('<input type="hidden">').attr("name",m).attr("value",l).appendTo(e)});$(e).css("position","absolute");$(e).css("top","-1200px");$(e).css("left","-1200px");$(e).appendTo("body");return e},ajaxFileUpload:function(n){n=jQuery.extend({},jQuery.ajaxSettings,n);var b=new Date().getTime();var c=jQuery.createUploadForm(b,n.fileElementId,n.extraParams);var l=jQuery.createUploadIframe(b,n.secureuri);var k="jUploadFrame"+b;var m="jUploadForm"+b;if(n.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var d=false;var g={};if(n.global){jQuery.event.trigger("ajaxSend",[g,n])}var f=function(o){var t=document.getElementById(k);try{if(t.contentWindow){g.responseText=t.contentWindow.document.body?t.contentWindow.document.body.innerHTML:null;g.responseXML=t.contentWindow.document.XMLDocument?t.contentWindow.document.XMLDocument:t.contentWindow.document}else{if(t.contentDocument){g.responseText=t.contentDocument.document.body?t.contentDocument.document.body.innerHTML:null;g.responseXML=t.contentDocument.document.XMLDocument?t.contentDocument.document.XMLDocument:t.contentDocument.document}}}catch(s){jQuery.handleError(n,g,null,s)}if(g||o=="timeout"){d=true;var q;try{q=o!="timeout"?"success":"error";if(q!="error"){var r=jQuery.uploadHttpData(g,n.dataType);if(n.success){n.success(r,q)}if(n.global){jQuery.event.trigger("ajaxSuccess",[g,n])}}else{jQuery.handleError(n,g,q)}}catch(s){q="error";jQuery.handleError(n,g,q,s)}if(n.global){jQuery.event.trigger("ajaxComplete",[g,n])}if(n.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(n.complete){n.complete(g,q)}jQuery(t).unbind();setTimeout(function(){try{$(t).remove();$(c).remove()}catch(u){jQuery.handleError(n,g,null,u)}},100);g=null}};if(n.timeout>0){setTimeout(function(){if(!d){f("timeout")}},n.timeout)}try{var c=$("#"+m);$(c).attr("action",n.url);$(c).attr("method","POST");$(c).attr("target",k);if(c.encoding){c.encoding="multipart/form-data"}else{c.enctype="multipart/form-data"}$(c).submit()}catch(j){jQuery.handleError(n,g,null,j)}if(window.attachEvent){document.getElementById(k).attachEvent("onload",f)}else{document.getElementById(k).addEventListener("load",f,false)}return{abort:function(){}}},uploadHttpData:function(c,b){var d=!b;d=b=="xml"||d?c.responseXML:c.responseText;if(b=="script"){jQuery.globalEval(d)}if(b=="json"){try{d=window["eval"]("("+d+")")}catch(f){throw new Error("Could not evaluate data, probably server side error or 404. [Received: "+d.substring(0,30)+"...]")}}if(b=="html"){jQuery("<div>").html(d).evalScripts()}return d}});(function(){var c=0;var f=0;var e=0;var b=function(){this.init.apply(this,arguments)};var d=function(){if($.tiny){return}$.tiny={};$.fn.tiny_fixIEPanelSize=function(j,g){if(!jQuery.boxModel){return this.each(function(){var m=$(this);var k=m.css("width");if(k&&k!="auto"){m.width(parseInt(k)+j)}var l=m.css("height");if(l&&l!="auto"){m.height(parseInt(l)+g)}})}return this};$.tiny.PANEL_WD=14;$.tiny.PANEL_HD=14;$.widget("tiny.imagedrawerimage",{options:{record:null},_create:function(){this.image=this.element.find(".tiny-imagedrawer-image img");this.label=this.element.find(".tiny-imagedrawer-imagelabel");if(this.options.record){this.record(this.options.record)}},record:function(g){if(typeof g=="undefined"){return this._record}this._record=g;var j=g.title;if(j&&j.length>9){j=j.substr(0,9)+"..."}this.label.text(j);this.image.attr("src",g.thumbnail_url);if(g.thumbnail_width){this.image.attr("width",g.thumbnail_width)}else{this.image.removeAttr("width")}if(g.thumbnail_height){this.image.attr("height",g.thumbnail_height)}else{this.image.removeAttr("height")}return this}});$.widget("tiny.imagedrawerinfopanel",{options:{record:null,insertButtonLabel:null},_create:function(){var g=this;this.info_title=this.element.find(".tiny-imagedrawer-info-title");this.info_location=this.element.find(".tiny-imagedrawer-info-location");this.info_author=this.element.find(".tiny-imagedrawer-info-author");this.info_modified=this.element.find(".tiny-imagedrawer-info-modified");this.input_caption=this.element.find("input:checkbox[name=tiny-imagedrawer-input-caption]");this.input_captiontext=this.element.find("input:text[name=tiny-imagedrawer-input-captiontext]");this.input_align={};this.element.find("input:radio[name=tiny-imagedrawer-input-align]").each(function(j,k){g.input_align[$(k).attr("value")]=k});this.input_dimension=this.element.find("select[name=tiny-imagedrawer-input-dimension]");this.wrapper_location=this.element.find(".tiny-imagedrawer-info-location-wrapper");this.wrapper_author=this.element.find(".tiny-imagedrawer-info-author-wrapper");this.wrapper_modified=this.element.find(".tiny-imagedrawer-info-modified-wrapper");this.wrapper_captiontext=this.element.find(".tiny-imagedrawer-input-captiontext-wrapper");this.buttonset_save=this.element.find(".karl-buttonset.tiny-imagedrawer-buttonset-save").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-save"});this.insert_button=this.buttonset_save.karlbuttonset("getButton",0);this.insert_button_label=this.insert_button.find("a");this.statusbox=this.element.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});if(this.input_caption.is(":checked")){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}this.input_caption.click(function(){if($(this).is(":checked")){g.wrapper_captiontext.show("fold").focus()}else{g.wrapper_captiontext.hide("fold")}});if(this.options.insertButtonLabel){this.insertButtonLabel(this.options.insertButtonLabel)}if(this.options.record){this.record(this.options.record)}},insertButtonEnabled:function(g){if(g===undefined){this.insert_button.hasClass("ui-state-disabled")}if(g){this.insert_button.removeClass("ui-state-disabled")}else{this.insert_button.addClass("ui-state-disabled")}return this},insertButtonLabel:function(g){if(g===undefined){return this.insert_button_label.text()}this.insert_button_label.attr("title",g);this.insert_button_label.text(g);return this},record:function(k){var j=this;if(typeof k=="undefined"){return this._record}this._record=k;if(k.title){this.info_title.text(k.title);this.input_captiontext.val(k.title)}else{this.info_title.text("No selection");this.input_captiontext.val("")}var l=k.author_name||"";this.info_author.text(l);if(l){this.wrapper_author.show()}else{this.wrapper_author.hide()}var g=k.last_modified||"";this.info_modified.text(g);if(g){this.wrapper_modified.show()}else{this.wrapper_modified.hide()}this.info_location.html("");$(k.location).each(function(m){if(m>0){j.info_location.append("<span>&nbsp;&gt;&nbsp;</span>")}j.info_location.append($("<span></span>").text(this.title))});if(k.location&&k.location.length>0){this.wrapper_location.show()}else{this.wrapper_location.hide()}this.statusbox.multistatusbox("clear");if(k.error){this.statusbox.multistatusbox("append",k.error,null,"ui-state-error ui-corner-all")}else{if(k.status){this.statusbox.multistatusbox("append",k.status,null,"ui-state-highlight ui-corner-all")}}this.insertButtonEnabled(k.image_url);return this},insertOptions:function(j){var g=this;if(typeof j=="undefined"){return{caption:this.input_caption.is(":checked"),captiontext:this.input_captiontext.val(),align:this.element.find("input:radio[name=tiny-imagedrawer-input-align]:checked").val(),dimension:this.input_dimension.val()}}if(j){if(j.caption!=undefined){this.input_caption[0].checked=j.caption;if(j.caption){this.wrapper_captiontext.show()}else{this.wrapper_captiontext.hide()}}if(j.captiontext!=undefined){this.input_captiontext.val(j.captiontext)}if(j.align!=undefined){this.input_align[j.align].checked=true}if(j.dimension!=undefined){this.input_dimension.val(j.dimension)}}return this}});$.extend(b.prototype,{init:function(j,l,k,g){this.container=j;this.column_width=l;this.proto_image=k;this.proto_value=g;this.reset()},reset:function(){this.offset=0;this.container.empty()},_thumb:function(g){return this.proto_image.clone(true).imagedrawerimage({record:$.extend({},this.proto_value,g)})},preload:function(o,j){var k=this;var g=this.offset;var n=g+this.items().length;if((n-g>0)&&((j<g)||(o>n))){throw new Error("Preloading non-adjoining regions: must have reset before.")}var l=o;while(l<g){this._thumb({loading:true}).prependTo(this.container);l+=1}var m=l-o;if(m>0){this.offset-=m}else{if(this.items().length==0){this.offset=o}}while(l<Math.min(n,j)){this._thumb({loading:true}).replaceAll(this.item(l));l+=1}while(l<j){this._thumb({loading:true}).appendTo(this.container);l+=1}this._setLength()},insertRecord:function(g,l){var j=this._thumb(l);if(g-this.offset==this.items().length){j.appendTo(this.container)}else{var k=this.item(g);if(k.length!=1){throw new Error("insertRecord must extend a region continously.")}j.insertBefore(k)}this._setLength();return j},_setLength:function(){this.container.width(this.items().length*(this.column_width+20)+100)},moveTo:function(g){this.container.css("margin-left",Math.round((this.offset-g)*this.column_width)+"px")},items:function(){return this.container.children()},item:function(g){return this.items().eq(g-this.offset)},recordAt:function(g,k){var j=this.item(g);if(j.length!=1){throw new Error("recordAt with an unstored index: item must have preloaded before.")}if(typeof k=="undefined"){return j.imagedrawerimage("record")}j.imagedrawerimage("record",k)}})};window.tinymce||d();window.tinymce&&tinymce.create("tinymce.plugins.ImageDrawerPlugin",{init:function(j,k){var g=this;this.editor=j;this.url=k;d();this.dialog=null;this.selected_item=undefined;j.addCommand("mceImageDrawer",function(){if(j.dom.getAttrib(j.selection.getNode(),"class").indexOf("mceItem")!=-1){return}var n=g._getEditorImageSelection();if(n){n=$(n);g.editor_image_data=g._getEditorImageData(n);var q=/^https?:\/\/([^\/\?]*)[\/\?]?/;var o=q.exec(window.location.href);var t=o&&o[1];var m=q.exec(n.attr("src"));var s=m&&m[1];g.editor_image_data.external=m&&t!=s}else{g.editor_image_data=null}g._save_editor_selection(n);g.enable_upload=j.getParam("imagedrawer_enable_upload",false);if(!g.dialog){var r={};if(g.editor_image_data&&!g.editor_image_data.external){r={source:"myrecent",include_image_url:g.editor_image_data.image_url}}else{if(!g.enable_upload){r={source:"myrecent"}}}$.ajax({type:"GET",url:j.getParam("imagedrawer_dialog_url"),data:r,success:function(v){var u=v&&v.error;if(u){this._dialogError(u)}else{g._dialogSuccess(v)}},error:function(u,z,v){if(v){throw v}g._dialogError(z)},dataType:"json"})}else{g._restore_formstate();var l=$(g.buttonset).data("karlbuttonset").element.children().eq(g.selected_source).attr("value");g._updateInsertReplaceState();if(g.editor_image_data){if(g.editor_image_data.external){g.buttonset.karlbuttonset("getButton",g._findSourceButtonIndex("external")).click();g.input_url.val(g.editor_image_data.image_url);g._externalDoCheck({image_url:g.editor_image_data.image_url})}else{if(g.selected_source!=g._findSourceButtonIndex("myrecent")){g.buttonset.karlbuttonset("getButton",g._findSourceButtonIndex("myrecent")).click()}else{if(l=="myrecent"||l=="thiscommunity"){g._requestRecords(0,12,true)}}}}else{if(l=="myrecent"||l=="thiscommunity"){g._requestRecords(0,12,true)}}g._save_formstate();g.dialog.dialog("open");g._restore_formstate()}});j.addButton("image",{title:"imagedrawer.image_desc",cmd:"mceImageDrawer"});j.onInit.add(function(){if(!j.settings.editor_css){tinymce.DOM.loadCSS(k+"/css/ui.css")}})},_save_formstate:function(){this._formstate={insertOptions:this.info_panel.imagedrawerinfopanel("insertOptions")}},_restore_formstate:function(){this.info_panel.imagedrawerinfopanel("insertOptions",this._formstate.insertOptions)},_save_editor_selection:function(j){if(j&&$.browser.msie){this._saved_editor_selection=$(j)[0];var g=this.editor;g.selection.collapse();g.execCommand("mceRepaint")}else{this._saved_editor_selection=null}},_get_editor_selection:function(){var g;if(this._saved_editor_selection){g=this._saved_editor_selection;this._saved_editor_selection=null}else{g=this._getEditorImageSelection()}return g},_dialogSuccess:function(u){var v=this;var n=this.editor;this.dialog=$(u.dialog_snippet);this.dialog.hide().appendTo("body");this.dialog.dialog({width:6+390+7+320+6+(jQuery.boxModel?0:10),dialogClass:"tiny-imagedrawer-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var g=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");g.removeClass("ui-dialog-content").css("overflow","hidden");g.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");if(!this.enable_upload){var t=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect option");t.eq(1).attr("selected","selected");t.eq(0).remove()}var k=this.dialog.find(".tiny-imagedrawer-panel-download");this.upload_panel=this.dialog.find(".tiny-imagedrawer-panel-upload").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.external_panel=k.find(".tiny-imagedrawer-panel-external").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.images_panel=this.dialog.find(".tiny-imagedrawer-panel-images").tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);var m=this.dialog.find(".tiny-imagedrawer-panel-top");var l=m.find(".tiny-imagedrawer-sources");this.buttonset=this.dialog.find(".karl-buttonset.tiny-imagedrawer-buttonset-tabselect");this.buttonset.karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-tabselect"}).bind("change.karlbuttonset",function(A,C,B){if(B){var z=$(this).data("karlbuttonset").element.children().eq(C).attr("value");if(z=="uploadnew"){v.upload_panel.show();v.images_panel.hide();v.external_panel.hide();var B=v.upload_preview_image.imagedrawerimage("record");if(B&&B.image_url){v._setSelection(v.upload_preview_image)}else{v._setSelection(null)}v.selected_source=C}else{if(z=="myrecent"||z=="thiscommunity"){if(C!=v.selected_source){v._requestRecords(0,12,true);v.selected_source=C;v.info_panel.imagedrawerinfopanel("record",{})}v.upload_panel.hide();v.images_panel.show();v.external_panel.hide()}else{if(z=="external"){v.upload_panel.hide();v.images_panel.hide();v.external_panel.show();var B=v.external_preview_image.imagedrawerimage("record");if(B&&B.image_url){v._setSelection(v.external_preview_image)}else{v._setSelection(null)}v.selected_source=C}}}}});this.info_panel=this.dialog.find(".tiny-imagedrawer-panel-info").imagedrawerinfopanel({}).tiny_fixIEPanelSize($.tiny.PANEL_WD,$.tiny.PANEL_HD);this.info_panel.data("imagedrawerinfopanel").buttonset_save.bind("change.karlbuttonset",function(z,B,A){if(B==0){if(v.selected_item==null){return}v._insertToEditor();v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}else{v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}});this.fileinputid="tiny-imagedrawer-fileinputid-"+c;c+=1;var r=this.upload_panel.find(".tiny-imagedrawer-fileinput");this.textinput=this.upload_panel.find(".tiny-imagedrawer-input-titletext");r.attr("id",this.fileinputid);if(!r.attr("name")){r.attr("name","file")}this._fileinput_change=function(){var A=""+this.value;var z=Math.max(A.lastIndexOf("/"),A.lastIndexOf("\\"));if(z!=-1){A=A.substring(z+1)}v.textinput.val(A);v._uploadReset();v.buttonset_upload.karlbuttonset("getButton",0).removeClass("ui-state-disabled");v.buttonset_upload.karlbuttonset("getButton",1).addClass("ui-state-disabled")};r.change(this._fileinput_change);this.upload_statusbox=this.upload_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_upload=this.upload_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-upload").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-upload"}).bind("change.karlbuttonset",function(A,C,B){var D=$(this);if(C==0){var z={};f+=1;z.upload_serial=f;v._uploadStart(z);D.karlbuttonset("getButton",0).addClass("ui-state-disabled");D.karlbuttonset("getButton",1).removeClass("ui-state-disabled");$.ajaxFileUpload({url:n.getParam("imagedrawer_upload_url"),secureuri:false,fileElementId:v.fileinputid,extraParams:{title:v.textinput.val()},dataType:"json",success:function(F,E){v._uploadSuccess(F,z)},error:function(F,E,G){if(G&&G.message){F={error:G.message}}v._uploadError(F,z)}})}else{f+=1;v._uploadReset();D.karlbuttonset("getButton",0).removeClass("ui-state-disabled");D.karlbuttonset("getButton",1).addClass("ui-state-disabled")}});this.input_url=this.external_panel.find(".tiny-imagedrawer-input-url");this.label_previewtext=this.external_panel.find(".tiny-imagedrawer-external-previewtext");this.external_statusbox=this.external_panel.find(".tiny-imagedrawer-statusbox").multistatusbox({hasCloseButton:false});this.buttonset_check=this.external_panel.find(".karl-buttonset.tiny-imagedrawer-buttonset-check").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-check"}).bind("change.karlbuttonset",function(z,B,A){var C=$(this);v._externalDoCheck({image_url:v.input_url.val()})});this.proto_image=this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").eq(0);var j=$("<ul></ul>").hide().appendTo(this.images_panel).append(this.proto_image);this.proto_image.dblclick(function(z){var A=$(this).imagedrawerimage("record");if(A&&A.image_url){v._insertToEditor(this);v._save_formstate();v.dialog.dialog("close");v._restore_formstate()}z.preventDefault()}).click(function(z){v._setSelection(this);z.preventDefault()}).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});this.images_panel.find("ul.tiny-imagedrawer-imagestripe > li").remove();this.visible_columns=4;this.stripes=[];this.images_panel.find("ul.tiny-imagedrawer-imagestripe").each(function(z){v.stripes.push(new b($(this),95,v.proto_image,{title:v.editor.getLang("imagedrawer.loading_title"),thumbnail_url:v.url+"/images/default_image.png"}))});this.region_id=0;this.scrollbar=this.images_panel.find(".tiny-imagedrawer-scrollbar").karlslider({enableClickJump:true,enableKeyJump:true,slide:function(A,z){v._moveStripe(z.value/100)}});this.upload_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.upload_panel.find(".tiny-imagedrawer-image").replaceWith(this.upload_preview_image);this._uploadReset();this.external_preview_image=this.proto_image.clone(true).imagedrawerimage({});this.external_panel.find(".tiny-imagedrawer-image").replaceWith(this.external_preview_image);this._externalReset();var s=this.dialog.find(".tiny-imagedrawer-panel-help").hide();var o=false;s.find(".karl-buttonset").karlbuttonset({clsContainer:"tiny-imagedrawer-buttonset-cancelhelp"}).bind("change.karlbuttonset",function(z,B,A){s.hide("slow");k.show("slow");l.show("slow");o=false});this.dialog.find(".tiny-imagedrawer-button-help").click(function(z){if(!o){s.show("fold");l.hide();k.hide();o=true}z.preventDefault()});if($.ui.version<"1.8"&&!this.scrollbar.data("karlslider")._uiHash_patched){throw new Error("jquery-ui version >= 1.8, or patched 1.7 version required.")}this.title_tag=this.dialog.find(".tiny-imagedrawer-title");v._updateInsertReplaceState();if(u.images_info){this._initImages(u.images_info);this._loadRecords(u.images_info)}v._setSelection(null);if(this.editor_image_data){if(this.editor_image_data.external){this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("external")).click();this.input_url.val(this.editor_image_data.image_url);this._externalDoCheck({image_url:this.editor_image_data.image_url})}else{this.selected_source=this._findSourceButtonIndex("myrecent");this.buttonset.karlbuttonset("getButton",this._findSourceButtonIndex("myrecent")).click();this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}}else{this.selected_source=this.buttonset[0].selectedIndex}var q=this.buttonset.data("karlbuttonset").element.children().eq(this.selected_source).attr("value");if(q=="uploadnew"){this.upload_panel.show();this.images_panel.hide();this.external_panel.hide()}else{if(q=="myrecent"||q=="thiscommunity"){this.upload_panel.hide();this.images_panel.show();this.external_panel.hide()}else{if(q=="external"){this.upload_panel.hide();this.images_panel.hide();this.external_panel.show()}}}this._save_formstate();this.dialog.dialog("open");this._restore_formstate()},_findSourceButtonIndex:function(g){var j;this.buttonset.data("karlbuttonset").element.children().each(function(k){if($(this).attr("value")==g){j=k;return false}});return j},_initImages:function(j){this.region_start=0;this.region_end=j.records.length;this.region_total=j.totalRecords;this._resetStripe();this._preloadRegion(this.region_start,this.region_end);this._moveStripe(this.scrollbar.karlslider("value")/100);var g=Math.floor(100/(Math.ceil(this.region_total/this.stripes.length))*this.visible_columns);this.scrollbar.karlslider("option","jumpStep",g)},_dialogError:function(g){g="Error when fetching drawer_dialog_view.html: "+g;alert(g)},_dataSuccess:function(l,m,k){var g=this;var j=l&&l.error;if(j){this._dataError(l)}if(this.region_id!=m){return}if(k){this._initImages(l.images_info)}this._loadRecords(l.images_info);if(k&&this.editor_image_data&&!this.editor_image_data.external&&!this.editor_image_data._selected_once){this._setSelection(this._getListItem(0));this.editor_image_data._selected_once=true}},_dataError:function(j){var g=j&&j.error;if(!g){g="Server error when fetching drawer_data_view.html"}alert(g)},_uploadStart:function(g){this.upload_preview_image.parent().show();this.upload_preview_image.imagedrawerimage("record",{loading:true,title:this.textinput.val(),thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear")},_uploadReset:function(){this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.upload_statusbox.multistatusbox("clear");this._setSelection(null)},_uploadSuccess:function(l,k){var g=this;var j=l&&l.error;if(j){this._uploadError(l,k);return}if(k.upload_serial!=f){return}this.upload_preview_image.imagedrawerimage("record",l.upload_image_info);if(this.buttonset.val()=="uploadnew"){if(this.selected_item==null){this._setSelection(this.upload_preview_image)}else{this._updateInfoPanel()}}},_uploadError:function(k,j){if(j.upload_serial!=f){return}var g=k&&k.error;if(!g){g="Server error when fetching drawer_upload_view.html"}this.upload_preview_image.parent().hide();this.upload_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.upload_statusbox.multistatusbox("clearAndAppend",g,null,"ui-state-error ui-corner-all");if(this.buttonset.val()=="uploadnew"){this._updateInfoPanel()}},_externalDoCheck:function(k){var j=this;e+=1;k.external_check_serial=e;this._externalStart(k);var g=new Image();$(g).load(function(){j._externalSuccess(this,k)}).error(function(){j._externalError(this,k)}).attr("src",k.image_url)},_externalStart:function(g){var k=g.image_url;var j="External image";this.external_preview_image.parent().show();this.external_preview_image.imagedrawerimage("record",{loading:true,title:j,thumbnail_url:this.url+"/images/throbber.gif",location:[{title:k,href:k}]});this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide()},_externalReset:function(){this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",{loading:true,thumbnail_url:this.url+"/images/throbber.gif"});this.external_statusbox.multistatusbox("clear");this._setSelection(null);this.label_previewtext.show()},_externalSuccess:function(j,k){var g=this;if(k.external_check_serial!=e){return}var o=undefined;var l=undefined;if($.browser.msie){var n=175;if(j.width>n||j.height>n){var m=j.width/j.height;if(m>1){o=n;l=Math.floor(n/m)}else{o=Math.floor(n*m);l=n}}}this.external_preview_image.imagedrawerimage("record",$.extend({},this.external_preview_image.imagedrawerimage("record"),{image_width:j.width,image_height:j.height,image_url:k.image_url,thumbnail_url:k.image_url,thumbnail_width:o,thumbnail_height:l}));this.external_statusbox.multistatusbox("clear");this.label_previewtext.hide();if(this.buttonset.val()=="external"){if(this.selected_item==null){this._setSelection(this.external_preview_image)}else{this._updateInfoPanel()}}},_externalError:function(g,k){if(k.external_check_serial!=e){return}var j="Wrong url, or not an image.";this.external_preview_image.parent().hide();this.external_preview_image.imagedrawerimage("record",$.extend(this.upload_preview_image.imagedrawerimage("record"),{thumbnail_url:this.url+"/images/throbber.gif"}));this.external_statusbox.multistatusbox("clearAndAppend",j,null,"ui-state-error ui-corner-all");this.label_previewtext.show();if(this.buttonset.val()=="external"){this._updateInfoPanel()}},_getListItem:function(g){var k=this.stripes.length;var j=g%k;return this.stripes[j].item(Math.floor((g+j)/k))},_setSelection:function(g){if(g){g=$(g)}if((this.selected_item&&this.selected_item[0])===(g&&g[0])){return}if(this.selected_item!=null){this.selected_item.removeClass("ui-state-default ui-state-active")}this.selected_item=g;this._updateInfoPanel()},_updateInfoPanel:function(){var j=this.selected_item;if(j!=null){j.addClass("ui-state-default ui-state-active");var g=j.imagedrawerimage("record");this.info_panel.imagedrawerinfopanel("record",g)}else{this.info_panel.imagedrawerinfopanel("record",{})}},_preloadRegion:function(k,g){var j=this.stripes.length;$(this.stripes).each(function(l){var m=j-l-1;this.preload(Math.floor((k+m)/j),Math.floor((g+m)/j))})},_resetStripe:function(){$(this.stripes).each(function(g){this.reset()});this.region_id+=1;this._setSelection(null);this.scrollbar.karlslider("value",0)},_moveStripe:function(o){var s=this;var m=o*(Math.ceil(this.region_total/this.stripes.length)-this.visible_columns);if(m<0){return}var j=Math.floor(m*this.stripes.length);var k=Math.ceil(m+this.visible_columns)*this.stripes.length;var g;var r;var n;if((j<this.region_start)||(k>this.region_end)){var l=12;if(j<this.region_start){r=k;if(r<this.region_start){this._resetStripe();this.region_end=r}else{r=this.region_start}g=Math.min(j,r-l);g=Math.max(g,0);this.region_start=g}else{if(k>this.region_end){g=j;if(g>this.region_end){this._resetStripe();this.region_start=g}else{g=this.region_end}r=Math.max(k,g+l);r=Math.min(r,this.region_total);this.region_end=r}}if(g<r){this._preloadRegion(g,r);var q=this.region_id;this._requestRecords(g,r-g,false)}}$(this.stripes).each(function(t){this.moveTo(m)})},_requestRecords:function(n,g,k){var j=this;var l=this.region_id;var m={start:n,limit:g,sort_on:"creation_date",reverse:"1",source:this.buttonset.val()};if(this.editor_image_data&&!this.editor_image_data.external){m.include_image_url=this.editor_image_data.image_url}$.ajax({type:"GET",url:this.editor.getParam("imagedrawer_data_url"),data:m,success:function(o){j._dataSuccess(o,l,k)},error:function(o){j._dataError(o)},dataType:"json"})},_loadRecords:function(k){var g=this;var l=k.start;var j=this.stripes.length;$.each(k.records,function(m){var n=(m+l)%j;g.stripes[n].recordAt(Math.floor((m+l)/j),this)})},_insertToEditor:function(B){var n;if(B){n=$(B).imagedrawerimage("record")}else{n=this.info_panel.imagedrawerinfopanel("record")}var q=this.editor;var z;var k;var l=this.info_panel.imagedrawerinfopanel("insertOptions");var j=n.image_width;var A=n.image_height;var C;var u;var m={original:{max_width:530,max_height:530},large:{max_width:400,max_height:400},medium:{max_width:250,max_height:250},small:{max_width:100,max_height:100}}[l.dimension];var C=m.max_width;var u=m.max_height;if(j>C){A=Math.floor(A*C/j);j=C}if(A>u){j=Math.floor(j*u/A);A=u}var s="";alt=l.captiontext;if(l.caption){s=(s?s+" ":"")+"tiny-imagedrawer-captioned"}var g="";var r;if(l.align=="left"){r="left"}else{if(l.align=="right"){r="right"}else{if(l.align=="center"){g="display: block; margin-left: auto; margin-right: auto; text-align: center;";r=null}}}var t={src:n.image_url,align:r,width:j,height:A,alt:alt,"class":s,style:g};if(tinymce.isWebKit){q.getWin().focus()}t.onmouseover=t.onmouseout="";if(t.onmousemovecheck){if(t.onmouseoversrc){t.onmouseover="this.src='"+t.onmouseoversrc+"';"}if(t.onmouseoutsrc){t.onmouseout="this.src='"+t.onmouseoutsrc+"';"}}var o=this._get_editor_selection();if(o){q.dom.setAttribs(o,t);q.execCommand("mceRepaint")}else{q.execCommand("mceInsertContent",false,'<img id="__mce_tmp" />',{skip_undo:1});q.dom.setAttribs("__mce_tmp",t);q.dom.setAttrib("__mce_tmp","id","");q.undoManager.add()}},_getEditorImageSelection:function(){var g=this.editor;var j=g.selection.getNode();if(j&&j.nodeName=="P"){var k=j.childNodes[g.selection.getRng().startOffset];if(k&&k.nodeName=="IMG"){j=k}}if(j&&j.nodeName=="IMG"){return j}else{return null}},_getEditorImageData:function(j){j=$(j);var g=j.attr("width");var k=j.attr("height");var l={insert_width:g,insert_height:k,caption:j.hasClass("tiny-imagedrawer-captioned"),captiontext:j.attr("alt"),image_url:j.attr("src"),dimension:"original"};$.each([["small",100],["medium",250],["large",400]],function(m,n){if(g<=n[1]&&k<=n[1]){l.dimension=n[0];return false}});if(j.css("float")=="left"){l.align="left"}else{if(j.css("float")=="right"){l.align="right"}else{if(j.css("margin-left")=="auto"&&j.css("margin-right")=="auto"){l.align="center"}else{l.align=null}}}return l},_updateInsertReplaceState:function(){var g=this;var l;var j;var k=this.editor_image_data;if(k){l="Replace Image";j="Replace";this.info_panel.imagedrawerinfopanel("insertOptions",k)}else{l="Insert Image";j="Insert"}this.info_panel.imagedrawerinfopanel("insertButtonLabel",j);this.title_tag.text(l)},getInfo:function(){return{longname:"Image Drawer",author:"Thomas Moroz, Open Society Institute",authorurl:"",infourl:"",version:"1.0"}}});if(window.tinymce){tinymce.PluginManager.add("imagedrawer",tinymce.plugins.ImageDrawerPlugin);tinymce.PluginManager.requireLangPack("imagedrawer")}})();tinyMCE.addI18n("en.imagedrawer",{image_desc:"Insert/edit image",loading_title:"Loading..."});if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(o,d,r,f,l,m,j,g,e,n){if(!document.getElementById){return}this.DETECT_KEY=n?n:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(o){this.setAttribute("swf",o)}if(d){this.setAttribute("id",d)}if(r){this.setAttribute("width",r)}if(f){this.setAttribute("height",f)}if(l){this.setAttribute("version",new deconcept.PlayerVersion(l.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(m){this.addParam("bgcolor",m)}var b=j?j:"high";this.addParam("quality",b);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var k=(g)?g:window.location;this.setAttribute("xiRedirectUrl",k);this.setAttribute("redirectUrl","");if(e){this.setAttribute("redirectUrl",e)}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true)},setAttribute:function(b,c){this.attributes[b]=c},getAttribute:function(b){return this.attributes[b]},addParam:function(c,b){this.params[c]=b},getParams:function(){return this.params},addVariable:function(c,b){this.variables[c]=b},getVariable:function(b){return this.variables[b]},getVariables:function(){return this.variables},getVariablePairs:function(){var d=new Array();var c;var b=this.getVariables();for(c in b){d[d.length]=c+"="+b[c]}return d},getSWFHTML:function(){var c="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}c='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';c+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var g=this.getParams();for(var f in g){c+=[f]+'="'+g[f]+'" '}var e=this.getVariablePairs().join("&");if(e.length>0){c+='flashvars="'+e+'"'}c+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}c='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';c+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var d=this.getParams();for(var f in d){c+='<param name="'+f+'" value="'+d[f]+'" />'}var b=this.getVariablePairs().join("&");if(b.length>0){c+='<param name="flashvars" value="'+b+'" />'}c+="</object>"}return c},write:function(c){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var d=(typeof c=="string")?document.getElementById(c):c;d.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var g=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];if(b&&b.description){g=new deconcept.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var c=1;var d=3;while(c){try{d++;c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);g=new deconcept.PlayerVersion([d,0,0])}catch(f){c=null}}}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(f){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");g=new deconcept.PlayerVersion([6,0,21]);c.AllowScriptAccess="always"}catch(f){if(g.major==6){return g}}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){}}if(c!=null){g=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(","))}}}return g};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false}if(this.major>b.major){return true}if(this.minor<b.minor){return false}if(this.minor>b.minor){return true}if(this.rev<b.rev){return false}return true};deconcept.util={getRequestParameter:function(d){var e=document.location.search||document.location.hash;if(d==null){return e}if(e){var c=e.substring(1).split("&");for(var b=0;b<c.length;b++){if(c[b].substring(0,c[b].indexOf("="))==d){return c[b].substring((c[b].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var c=document.getElementsByTagName("OBJECT");for(var d=c.length-1;d>=0;d--){c[d].style.display="none";for(var b in c[d]){if(typeof c[d][b]=="function"){c[d][b]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(b){return document.all[b]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;var MD5=function(v){function Q(c,b){return(c<<b)|(c>>>(32-b))}function P(F,c){var H,b,k,G,d;k=(F&2147483648);G=(c&2147483648);H=(F&1073741824);b=(c&1073741824);d=(F&1073741823)+(c&1073741823);if(H&b){return(d^2147483648^k^G)}if(H|b){if(d&1073741824){return(d^3221225472^k^G)}else{return(d^1073741824^k^G)}}else{return(d^k^G)}}function u(b,d,c){return(b&d)|((~b)&c)}function t(b,d,c){return(b&c)|(d&(~c))}function s(b,d,c){return(b^d^c)}function q(b,d,c){return(d^(b|(~c)))}function A(G,F,af,ae,k,H,I){G=P(G,P(P(u(F,af,ae),k),I));return P(Q(G,H),F)}function f(G,F,af,ae,k,H,I){G=P(G,P(P(t(F,af,ae),k),I));return P(Q(G,H),F)}function M(G,F,af,ae,k,H,I){G=P(G,P(P(s(F,af,ae),k),I));return P(Q(G,H),F)}function z(G,F,af,ae,k,H,I){G=P(G,P(P(q(F,af,ae),k),I));return P(Q(G,H),F)}function e(F){var I;var k=F.length;var d=k+8;var c=(d-(d%64))/64;var H=(c+1)*16;var ae=Array(H-1);var b=0;var G=0;while(G<k){I=(G-(G%4))/4;b=(G%4)*8;ae[I]=(ae[I]|(F.charCodeAt(G)<<b));G++}I=(G-(G%4))/4;b=(G%4)*8;ae[I]=ae[I]|(128<<b);ae[H-2]=k<<3;ae[H-1]=k>>>29;return ae}function K(d){var c="",k="",F,b;for(b=0;b<=3;b++){F=(d>>>(b*8))&255;k="0"+F.toString(16);c=c+k.substr(k.length-2,2)}return c}function O(d){d=d.replace(/\r\n/g,"\n");var b="";for(var F=0;F<d.length;F++){var k=d.charCodeAt(F);if(k<128){b+=String.fromCharCode(k)}else{if((k>127)&&(k<2048)){b+=String.fromCharCode((k>>6)|192);b+=String.fromCharCode((k&63)|128)}else{b+=String.fromCharCode((k>>12)|224);b+=String.fromCharCode(((k>>6)&63)|128);b+=String.fromCharCode((k&63)|128)}}}return b}var L=Array();var U,j,N,B,g,ad,ac,ab,aa;var X=7,V=12,S=17,R=22;var J=5,E=9,D=14,C=20;var r=4,o=11,n=16,m=23;var Z=6,Y=10,W=15,T=21;v=O(v);L=e(v);ad=1732584193;ac=4023233417;ab=2562383102;aa=271733878;for(U=0;U<L.length;U+=16){j=ad;N=ac;B=ab;g=aa;ad=A(ad,ac,ab,aa,L[U+0],X,3614090360);aa=A(aa,ad,ac,ab,L[U+1],V,3905402710);ab=A(ab,aa,ad,ac,L[U+2],S,606105819);ac=A(ac,ab,aa,ad,L[U+3],R,3250441966);ad=A(ad,ac,ab,aa,L[U+4],X,4118548399);aa=A(aa,ad,ac,ab,L[U+5],V,1200080426);ab=A(ab,aa,ad,ac,L[U+6],S,2821735955);ac=A(ac,ab,aa,ad,L[U+7],R,4249261313);ad=A(ad,ac,ab,aa,L[U+8],X,1770035416);aa=A(aa,ad,ac,ab,L[U+9],V,2336552879);ab=A(ab,aa,ad,ac,L[U+10],S,4294925233);ac=A(ac,ab,aa,ad,L[U+11],R,2304563134);ad=A(ad,ac,ab,aa,L[U+12],X,1804603682);aa=A(aa,ad,ac,ab,L[U+13],V,4254626195);ab=A(ab,aa,ad,ac,L[U+14],S,2792965006);ac=A(ac,ab,aa,ad,L[U+15],R,1236535329);ad=f(ad,ac,ab,aa,L[U+1],J,4129170786);aa=f(aa,ad,ac,ab,L[U+6],E,3225465664);ab=f(ab,aa,ad,ac,L[U+11],D,643717713);ac=f(ac,ab,aa,ad,L[U+0],C,3921069994);ad=f(ad,ac,ab,aa,L[U+5],J,3593408605);aa=f(aa,ad,ac,ab,L[U+10],E,38016083);ab=f(ab,aa,ad,ac,L[U+15],D,3634488961);ac=f(ac,ab,aa,ad,L[U+4],C,3889429448);ad=f(ad,ac,ab,aa,L[U+9],J,568446438);aa=f(aa,ad,ac,ab,L[U+14],E,3275163606);ab=f(ab,aa,ad,ac,L[U+3],D,4107603335);ac=f(ac,ab,aa,ad,L[U+8],C,1163531501);ad=f(ad,ac,ab,aa,L[U+13],J,2850285829);aa=f(aa,ad,ac,ab,L[U+2],E,4243563512);ab=f(ab,aa,ad,ac,L[U+7],D,1735328473);ac=f(ac,ab,aa,ad,L[U+12],C,2368359562);ad=M(ad,ac,ab,aa,L[U+5],r,4294588738);aa=M(aa,ad,ac,ab,L[U+8],o,2272392833);ab=M(ab,aa,ad,ac,L[U+11],n,1839030562);ac=M(ac,ab,aa,ad,L[U+14],m,4259657740);ad=M(ad,ac,ab,aa,L[U+1],r,2763975236);aa=M(aa,ad,ac,ab,L[U+4],o,1272893353);ab=M(ab,aa,ad,ac,L[U+7],n,4139469664);ac=M(ac,ab,aa,ad,L[U+10],m,3200236656);ad=M(ad,ac,ab,aa,L[U+13],r,681279174);aa=M(aa,ad,ac,ab,L[U+0],o,3936430074);ab=M(ab,aa,ad,ac,L[U+3],n,3572445317);ac=M(ac,ab,aa,ad,L[U+6],m,76029189);ad=M(ad,ac,ab,aa,L[U+9],r,3654602809);aa=M(aa,ad,ac,ab,L[U+12],o,3873151461);ab=M(ab,aa,ad,ac,L[U+15],n,530742520);ac=M(ac,ab,aa,ad,L[U+2],m,3299628645);ad=z(ad,ac,ab,aa,L[U+0],Z,4096336452);aa=z(aa,ad,ac,ab,L[U+7],Y,1126891415);ab=z(ab,aa,ad,ac,L[U+14],W,2878612391);ac=z(ac,ab,aa,ad,L[U+5],T,4237533241);ad=z(ad,ac,ab,aa,L[U+12],Z,1700485571);aa=z(aa,ad,ac,ab,L[U+3],Y,2399980690);ab=z(ab,aa,ad,ac,L[U+10],W,4293915773);ac=z(ac,ab,aa,ad,L[U+1],T,2240044497);ad=z(ad,ac,ab,aa,L[U+8],Z,1873313359);aa=z(aa,ad,ac,ab,L[U+15],Y,4264355552);ab=z(ab,aa,ad,ac,L[U+6],W,2734768916);ac=z(ac,ab,aa,ad,L[U+13],T,1309151649);ad=z(ad,ac,ab,aa,L[U+4],Z,4149444226);aa=z(aa,ad,ac,ab,L[U+11],Y,3174756917);ab=z(ab,aa,ad,ac,L[U+2],W,718787259);ac=z(ac,ab,aa,ad,L[U+9],T,3951481745);ad=P(ad,j);ac=P(ac,N);ab=P(ab,B);aa=P(aa,g)}var l=K(ad)+K(ac)+K(ab)+K(aa);return l.toLowerCase()};if(typeof(OX)==="undefined"){var OX={}}OX.AJAST={Broker:function(c,d,f,e,b){this.url=c;this.cb=d;this.params=[];this.timeout=e||5000;if(typeof(b)!=="undefined"){for(p in b){this.params.push(p+"="+encodeURIComponent(b[p]))}}this.jsonmode=f||false},__callbacks__:{},__callid__:1,call:function(url,callbackparameter,callbackfunction,optional_timeout,optional_decode_json_response){var callbackid="callback"+OX.AJAST.__callid__;url+="&"+encodeURIComponent(callbackparameter)+"="+encodeURIComponent("OX.AJAST.__callbacks__."+callbackid);var tag=OX.AJAST.createScriptTag(url);var head=document.getElementsByTagName("head").item(0);var timedout=function(){if(OX.AJAST.__callbacks__[callbackid]!=="undefined"){OX.AJAST.__callbacks__[callbackid]=function(){delete OX.AJAST.__callbacks__[callbackid]};callbackfunction(false);head.removeChild(tag)}};var timer=setTimeout(timedout,optional_timeout||5000);var decode_response=optional_decode_json_response||false;OX.AJAST.__callbacks__[callbackid]=function(data){clearTimeout(timer);if(typeof(data)==="undefined"){callbackfunction(false)}else{callbackfunction(true,decode_response?eval(data):data)}delete OX.AJAST.__callbacks__[callbackid];head.removeChild(tag)};head.appendChild(tag)},createScriptTag:function(b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("id","oxajastcall"+OX.AJAST.__callid__++);c.setAttribute("src",b);return c}};OX.AJAST.Broker.prototype.call=function(c,d){var b=[];for(p in c){b.push(p+"="+encodeURIComponent(c[p]))}for(p in this.params){b.push(this.params[p])}if(this.url.indexOf("?",0)>-1){this.url+="&"+b.join("&")}else{this.url+="?"+b.join("&")}OX.AJAST.call(this.url,this.cb,d,this.timeout,this.jsonmode)};function http_build_query(c,g,b){var f,e,d=[];var j=function(o,q,l){var m,n=[];if(q===true){q="1"}else{if(q===false){q="0"}}if(q!==null&&typeof(q)==="object"){for(m in q){if(q[m]!==null){n.push(j(o+"["+m+"]",q[m],l))}}return n.join(l)}else{if(typeof(q)!=="function"){return o+"="+encodeURIComponent(q)}else{return""}}};if(!b){b="&"}for(e in c){f=c[e];if(g&&!isNaN(e)){e=String(g)+e}d.push(j(e,f,b))}return d.join(b)}function getFunctionName(b){if(typeof b=="function"||typeof b=="object"){var c=(""+b).match(/^function\s*([\w\$]*)\s*\(/)}if(c!==null){return c[1]}return null}function getClass(c,b){if(typeof c=="undefined"){return"undefined"}if(c===null){return"null"}if(b==true&&c.hasOwnProperty("constructor")){delete c.constructor}if(b!=false&&!c.hasOwnProperty("constructor")){return getFunctionName(c.constructor)}return Object.prototype.toString.call(c).match(/^\[object\s(.*)\]$/)[1]}function addIfNotNull(c,e,b,d){if(d!=null){if(d instanceof KalturaObjectBase){e[b]=toParams(d)}else{e[b]=d}}}function toParams(b){var d=new Object();d.objectType=getClass(b);for(var e in b){var c=b[e];addIfNotNull(b,d,e,c)}return d}Function.prototype.inheritsFrom=function(b){if(b.constructor==Function){this.prototype=new b;this.prototype.constructor=this;this.prototype.parentClass=b.prototype}else{this.prototype=b;this.prototype.constructor=this;this.prototype.parentClass=b}return this};function ksort(d){var e=[];var c=[];var g=0;for(f in d){c[g++]=f+"|"+d[f]}c=c.sort();for(var f=0;f<c.length;f++){var b=c[f].split("|");e[b[0]]=b[1]}return e}function KalturaServiceActionCall(b,d,e,c){if(!e){e=new Object()}if(!c){c=new Object()}this.service=b;this.action=d;this.params=this.parseParams(e);this.files=c}KalturaServiceActionCall.prototype.service=null;KalturaServiceActionCall.prototype.action=null;KalturaServiceActionCall.prototype.params=null;KalturaServiceActionCall.prototype.files=null;KalturaServiceActionCall.prototype.parseParams=function(d){var e=new Object();for(var b in d){var c=d[b];if(typeof(c)=="object"){e[b]=this.parseParams(c)}else{e[b]=c}}return e};KalturaServiceActionCall.prototype.getParamsForMultiRequest=function(e){var c=new Object();c[e+":service"]=this.service;c[e+":action"]=this.action;for(var b in this.params){var d=this.params[b];c[e+":"+b]=d}return c};function IKalturaLogger(){}IKalturaLogger.prototype.log=function(b){if(console&&console.log){console.log(b)}};function KalturaClientBase(){}KalturaClientBase.prototype.init=function(c){this.config=c;var b=this.config.getLogger();if(b){this.shouldLog=true}};KalturaClientBase.prototype.KALTURA_API_VERSION="3.0";KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSON=1;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_XML=2;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_PHP=3;KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP=9;KalturaClientBase.prototype.config=null;KalturaClientBase.prototype.ks=null;KalturaClientBase.prototype.shouldLog=false;KalturaClientBase.prototype.useMultiRequest=false;KalturaClientBase.prototype.callsQueue=new Array();KalturaClientBase.prototype.queueServiceActionCall=function(b,e,f,d){if(!f.hasOwnProperty("partnerId")||f.partnerId==-1){f.partnerId=this.config.partnerId}this.addParam(f,"ks",this.ks);var c=new KalturaServiceActionCall(b,e,f,d);this.callsQueue.push(c)};KalturaClientBase.prototype.doQueue=function(n){if(this.callsQueue.length==0){return null}var f=new Object();var b=new Object();this.log("service url: ["+this.config.serviceUrl+"]");this.addParam(f,"apiVersion",this.KALTURA_API_VERSION);this.addParam(f,"format",this.config.format);this.addParam(f,"clientTag",this.config.clientTag);var c=this.config.serviceUrl+this.config.serviceBase;var o=null;if(this.useMultiRequest){c+="multirequest";$i=1;for(var m in this.callsQueue){o=this.callsQueue[m];var e=o.getParamsForMultiRequest($i++);for(var l in e){f[l]=e[l]}for(var k in o.files){b[k]=o.files[k]}}}else{o=this.callsQueue[0];c+=o.service+"&action="+o.action;for(var j in o.params){f[j]=o.params[j]}for(var g in o.files){b[g]=o.files[g]}}this.callsQueue=new Array();this.useMultiRequest=false;var d=this.signature(f);this.addParam(f,"kalsig",d);this.doHttpRequest(n,c,f,b);return true};KalturaClientBase.prototype.signature=function(e){e=ksort(e);var d="";for(var c in e){var b=e[c];d+=b+c}return MD5(d)};KalturaClientBase.prototype.doHttpRequest=function(b,c,e,d){c+="&"+http_build_query(e);OX.AJAST.call(c,"callback",b,20000,false)};KalturaClientBase.prototype.getKs=function(){return this.ks};KalturaClientBase.prototype.setKs=function(b){this.ks=b};KalturaClientBase.prototype.getConfig=function(){return this.config};KalturaClientBase.prototype.setConfig=function(b){this.config=b;logger=this.config.getLogger();if(logger instanceof IKalturaLogger){this.shouldLog=true}};KalturaClientBase.prototype.addParam=function(f,d,e){if(e==null){return}if(typeof(e)!="object"){f[d]=e;return}for(var c in e){var b=e[c];this.addParam(f,d+":"+c,b)}};KalturaClientBase.prototype.startMultiRequest=function(){this.useMultiRequest=true};KalturaClientBase.prototype.doMultiRequest=function(b){return this.doQueue(b)};KalturaClientBase.prototype.isMultiRequest=function(){return this.useMultiRequest};KalturaClientBase.prototype.log=function(b){if(this.shouldLog){this.config.getLogger().log(b)}};function KalturaObjectBase(){}function KalturaServiceBase(){}KalturaServiceBase.prototype.init=function(b){this.client=b};KalturaServiceBase.prototype.client=null;function KalturaConfiguration(b){if(!b){b=-1}if(typeof(b)!="number"){throw"Invalid partner id - partnerId must be numeric!"}this.partnerId=b}KalturaConfiguration.prototype.logger=null;KalturaConfiguration.prototype.serviceUrl="http://www.kaltura.com";KalturaConfiguration.prototype.serviceBase="/api_v3/index.php?service=";KalturaConfiguration.prototype.partnerId=null;KalturaConfiguration.prototype.format=KalturaClientBase.prototype.KALTURA_SERVICE_FORMAT_JSONP;KalturaConfiguration.prototype.clientTag="js";KalturaConfiguration.prototype.setLogger=function(b){this.logger=b};KalturaConfiguration.prototype.getLogger=function(){return this.logger};function KalturaClient(b){this.init(b)}KalturaClient.inheritsFrom(KalturaClientBase);KalturaClient.prototype.accessControl=null;KalturaClient.prototype.adminconsole=null;KalturaClient.prototype.adminUser=null;KalturaClient.prototype.baseEntry=null;KalturaClient.prototype.bulkUpload=null;KalturaClient.prototype.category=null;KalturaClient.prototype.conversionProfile=null;KalturaClient.prototype.data=null;KalturaClient.prototype.flavorAsset=null;KalturaClient.prototype.flavorParams=null;KalturaClient.prototype.media=null;KalturaClient.prototype.mixing=null;KalturaClient.prototype.notification=null;KalturaClient.prototype.partner=null;KalturaClient.prototype.playlist=null;KalturaClient.prototype.report=null;KalturaClient.prototype.search=null;KalturaClient.prototype.session=null;KalturaClient.prototype.stats=null;KalturaClient.prototype.syndicationFeed=null;KalturaClient.prototype.system=null;KalturaClient.prototype.uiConf=null;KalturaClient.prototype.upload=null;KalturaClient.prototype.user=null;KalturaClient.prototype.widget=null;KalturaClient.prototype.xInternal=null;KalturaClient.prototype.systemUser=null;KalturaClient.prototype.systemPartner=null;KalturaClient.prototype.fileSync=null;KalturaClient.prototype.flavorParamsOutput=null;KalturaClient.prototype.mediaInfo=null;KalturaClient.prototype.entryAdmin=null;KalturaClient.prototype.init=function(b){KalturaClientBase.prototype.init.apply(this,arguments);this.accessControl=new KalturaAccessControlService(this);this.adminconsole=new KalturaAdminconsoleService(this);this.adminUser=new KalturaAdminUserService(this);this.baseEntry=new KalturaBaseEntryService(this);this.bulkUpload=new KalturaBulkUploadService(this);this.category=new KalturaCategoryService(this);this.conversionProfile=new KalturaConversionProfileService(this);this.data=new KalturaDataService(this);this.flavorAsset=new KalturaFlavorAssetService(this);this.flavorParams=new KalturaFlavorParamsService(this);this.media=new KalturaMediaService(this);this.mixing=new KalturaMixingService(this);this.notification=new KalturaNotificationService(this);this.partner=new KalturaPartnerService(this);this.playlist=new KalturaPlaylistService(this);this.report=new KalturaReportService(this);this.search=new KalturaSearchService(this);this.session=new KalturaSessionService(this);this.stats=new KalturaStatsService(this);this.syndicationFeed=new KalturaSyndicationFeedService(this);this.system=new KalturaSystemService(this);this.uiConf=new KalturaUiConfService(this);this.upload=new KalturaUploadService(this);this.user=new KalturaUserService(this);this.widget=new KalturaWidgetService(this);this.xInternal=new KalturaXInternalService(this);this.systemUser=new KalturaSystemUserService(this);this.systemPartner=new KalturaSystemPartnerService(this);this.fileSync=new KalturaFileSyncService(this);this.flavorParamsOutput=new KalturaFlavorParamsOutputService(this);this.mediaInfo=new KalturaMediaInfoService(this);this.entryAdmin=new KalturaEntryAdminService(this)};function KalturaAccessControlOrderBy(){}KalturaAccessControlOrderBy.CREATED_AT_ASC="+createdAt";KalturaAccessControlOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAudioCodec(){}KalturaAudioCodec.NONE="";KalturaAudioCodec.MP3="mp3";KalturaAudioCodec.AAC="aac";function KalturaBaseEntryOrderBy(){}KalturaBaseEntryOrderBy.NAME_ASC="+name";KalturaBaseEntryOrderBy.NAME_DESC="-name";KalturaBaseEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaBaseEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaBaseEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseEntryOrderBy.RANK_ASC="+rank";KalturaBaseEntryOrderBy.RANK_DESC="-rank";function KalturaBaseJobOrderBy(){}KalturaBaseJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBaseJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBaseSyndicationFeedOrderBy(){}KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaBaseSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaBaseSyndicationFeedOrderBy.NAME_ASC="+name";KalturaBaseSyndicationFeedOrderBy.NAME_DESC="-name";KalturaBaseSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaBaseSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaBaseSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaBatchJobErrorTypes(){}KalturaBatchJobErrorTypes.APP=0;KalturaBatchJobErrorTypes.RUNTIME=1;KalturaBatchJobErrorTypes.HTTP=2;KalturaBatchJobErrorTypes.CURL=3;function KalturaBatchJobOrderBy(){}KalturaBatchJobOrderBy.STATUS_ASC="+status";KalturaBatchJobOrderBy.STATUS_DESC="-status";KalturaBatchJobOrderBy.QUEUE_TIME_ASC="+queueTime";KalturaBatchJobOrderBy.QUEUE_TIME_DESC="-queueTime";KalturaBatchJobOrderBy.FINISH_TIME_ASC="+finishTime";KalturaBatchJobOrderBy.FINISH_TIME_DESC="-finishTime";KalturaBatchJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaBatchJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaBatchJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaBatchJobStatus(){}KalturaBatchJobStatus.PENDING=0;KalturaBatchJobStatus.QUEUED=1;KalturaBatchJobStatus.PROCESSING=2;KalturaBatchJobStatus.PROCESSED=3;KalturaBatchJobStatus.MOVEFILE=4;KalturaBatchJobStatus.FINISHED=5;KalturaBatchJobStatus.FAILED=6;KalturaBatchJobStatus.ABORTED=7;KalturaBatchJobStatus.ALMOST_DONE=8;KalturaBatchJobStatus.RETRY=9;KalturaBatchJobStatus.FATAL=10;KalturaBatchJobStatus.DONT_PROCESS=11;function KalturaBatchJobType(){}KalturaBatchJobType.CONVERT=0;KalturaBatchJobType.IMPORT=1;KalturaBatchJobType.DELETE=2;KalturaBatchJobType.FLATTEN=3;KalturaBatchJobType.BULKUPLOAD=4;KalturaBatchJobType.DVDCREATOR=5;KalturaBatchJobType.DOWNLOAD=6;KalturaBatchJobType.OOCONVERT=7;KalturaBatchJobType.CONVERT_PROFILE=10;KalturaBatchJobType.POSTCONVERT=11;KalturaBatchJobType.PULL=12;KalturaBatchJobType.REMOTE_CONVERT=13;KalturaBatchJobType.EXTRACT_MEDIA=14;KalturaBatchJobType.MAIL=15;KalturaBatchJobType.NOTIFICATION=16;KalturaBatchJobType.CLEANUP=17;KalturaBatchJobType.SCHEDULER_HELPER=18;KalturaBatchJobType.BULKDOWNLOAD=19;KalturaBatchJobType.PROJECT=1000;function KalturaBitRateMode(){}KalturaBitRateMode.CBR=1;KalturaBitRateMode.VBR=2;function KalturaBulkUploadCsvVersion(){}KalturaBulkUploadCsvVersion.V1="1";KalturaBulkUploadCsvVersion.V2="2";function KalturaCategoryOrderBy(){}KalturaCategoryOrderBy.DEPTH_ASC="+depth";KalturaCategoryOrderBy.DEPTH_DESC="-depth";KalturaCategoryOrderBy.FULL_NAME_ASC="+fullName";KalturaCategoryOrderBy.FULL_NAME_DESC="-fullName";KalturaCategoryOrderBy.CREATED_AT_ASC="+createdAt";KalturaCategoryOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCommercialUseType(){}KalturaCommercialUseType.COMMERCIAL_USE="commercial_use";KalturaCommercialUseType.NON_COMMERCIAL_USE="non-commercial_use";function KalturaContainerFormat(){}KalturaContainerFormat.FLV="flv";KalturaContainerFormat.MP4="mp4";KalturaContainerFormat.AVI="avi";KalturaContainerFormat.MOV="mov";KalturaContainerFormat._3GP="3gp";function KalturaControlPanelCommandOrderBy(){}KalturaControlPanelCommandOrderBy.CREATED_AT_ASC="+createdAt";KalturaControlPanelCommandOrderBy.CREATED_AT_DESC="-createdAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaControlPanelCommandOrderBy.UPDATED_AT_DESC="-updatedAt";function KalturaControlPanelCommandStatus(){}KalturaControlPanelCommandStatus.PENDING=1;KalturaControlPanelCommandStatus.HANDLED=2;KalturaControlPanelCommandStatus.DONE=3;KalturaControlPanelCommandStatus.FAILED=4;function KalturaControlPanelCommandTargetType(){}KalturaControlPanelCommandTargetType.DATA_CENTER=1;KalturaControlPanelCommandTargetType.SCHEDULER=2;KalturaControlPanelCommandTargetType.JOB_TYPE=3;KalturaControlPanelCommandTargetType.JOB=4;KalturaControlPanelCommandTargetType.BATCH=5;function KalturaControlPanelCommandType(){}KalturaControlPanelCommandType.STOP=1;KalturaControlPanelCommandType.START=2;KalturaControlPanelCommandType.CONFIG=3;KalturaControlPanelCommandType.KILL=4;function KalturaConversionProfileOrderBy(){}KalturaConversionProfileOrderBy.CREATED_AT_ASC="+createdAt";KalturaConversionProfileOrderBy.CREATED_AT_DESC="-createdAt";function KalturaCountryRestrictionType(){}KalturaCountryRestrictionType.RESTRICT_COUNTRY_LIST=0;KalturaCountryRestrictionType.ALLOW_COUNTRY_LIST=1;function KalturaDataEntryOrderBy(){}KalturaDataEntryOrderBy.NAME_ASC="+name";KalturaDataEntryOrderBy.NAME_DESC="-name";KalturaDataEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDataEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDataEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDataEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDataEntryOrderBy.RANK_ASC="+rank";KalturaDataEntryOrderBy.RANK_DESC="-rank";function KalturaDirectoryRestrictionType(){}KalturaDirectoryRestrictionType.DONT_DISPLAY=0;KalturaDirectoryRestrictionType.DISPLAY_WITH_LINK=1;function KalturaDocumentEntryOrderBy(){}KalturaDocumentEntryOrderBy.NAME_ASC="+name";KalturaDocumentEntryOrderBy.NAME_DESC="-name";KalturaDocumentEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaDocumentEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaDocumentEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaDocumentEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaDocumentEntryOrderBy.RANK_ASC="+rank";KalturaDocumentEntryOrderBy.RANK_DESC="-rank";function KalturaDocumentType(){}KalturaDocumentType.DOCUMENT=11;KalturaDocumentType.SWF=12;function KalturaDurationType(){}KalturaDurationType.NOT_AVAILABLE="notavailable";KalturaDurationType.SHORT="short";KalturaDurationType.MEDIUM="medium";KalturaDurationType.LONG="long";function KalturaEditorType(){}KalturaEditorType.SIMPLE=1;KalturaEditorType.ADVANCED=2;function KalturaEntryModerationStatus(){}KalturaEntryModerationStatus.PENDING_MODERATION=1;KalturaEntryModerationStatus.APPROVED=2;KalturaEntryModerationStatus.REJECTED=3;KalturaEntryModerationStatus.FLAGGED_FOR_REVIEW=5;KalturaEntryModerationStatus.AUTO_APPROVED=6;function KalturaEntryStatus(){}KalturaEntryStatus.ERROR_IMPORTING=-2;KalturaEntryStatus.ERROR_CONVERTING=-1;KalturaEntryStatus.IMPORT=0;KalturaEntryStatus.PRECONVERT=1;KalturaEntryStatus.READY=2;KalturaEntryStatus.DELETED=3;KalturaEntryStatus.PENDING=4;KalturaEntryStatus.MODERATE=5;KalturaEntryStatus.BLOCKED=6;function KalturaEntryType(){}KalturaEntryType.AUTOMATIC=-1;KalturaEntryType.MEDIA_CLIP=1;KalturaEntryType.MIX=2;KalturaEntryType.PLAYLIST=5;KalturaEntryType.DATA=6;KalturaEntryType.DOCUMENT=10;function KalturaFileSyncObjectType(){}KalturaFileSyncObjectType.ENTRY=1;KalturaFileSyncObjectType.UICONF=2;KalturaFileSyncObjectType.BATCHJOB=3;KalturaFileSyncObjectType.FLAVOR_ASSET=4;function KalturaFileSyncOrderBy(){}KalturaFileSyncOrderBy.CREATED_AT_ASC="+createdAt";KalturaFileSyncOrderBy.CREATED_AT_DESC="-createdAt";KalturaFileSyncOrderBy.UPDATED_AT_ASC="+updatedAt";KalturaFileSyncOrderBy.UPDATED_AT_DESC="-updatedAt";KalturaFileSyncOrderBy.READY_AT_ASC="+readyAt";KalturaFileSyncOrderBy.READY_AT_DESC="-readyAt";KalturaFileSyncOrderBy.SYNC_TIME_ASC="+syncTime";KalturaFileSyncOrderBy.SYNC_TIME_DESC="-syncTime";KalturaFileSyncOrderBy.FILE_SIZE_ASC="+fileSize";KalturaFileSyncOrderBy.FILE_SIZE_DESC="-fileSize";function KalturaFileSyncStatus(){}KalturaFileSyncStatus.ERROR=-1;KalturaFileSyncStatus.PENDING=1;KalturaFileSyncStatus.READY=2;KalturaFileSyncStatus.DELETED=3;KalturaFileSyncStatus.PURGED=4;function KalturaFileSyncType(){}KalturaFileSyncType.FILE=1;KalturaFileSyncType.LINK=2;KalturaFileSyncType.URL=3;function KalturaFlavorAssetStatus(){}KalturaFlavorAssetStatus.ERROR=-1;KalturaFlavorAssetStatus.QUEUED=0;KalturaFlavorAssetStatus.CONVERTING=1;KalturaFlavorAssetStatus.READY=2;KalturaFlavorAssetStatus.DELETED=3;KalturaFlavorAssetStatus.NOT_APPLICABLE=4;function KalturaFlavorParamsOrderBy(){}function KalturaFlavorParamsOutputOrderBy(){}function KalturaGender(){}KalturaGender.UNKNOWN=0;KalturaGender.MALE=1;KalturaGender.FEMALE=2;function KalturaGoogleSyndicationFeedAdultValues(){}KalturaGoogleSyndicationFeedAdultValues.YES="Yes";KalturaGoogleSyndicationFeedAdultValues.NO="No";function KalturaGoogleVideoSyndicationFeedOrderBy(){}KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_ASC="+name";KalturaGoogleVideoSyndicationFeedOrderBy.NAME_DESC="-name";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaGoogleVideoSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaGoogleVideoSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaITunesSyndicationFeedAdultValues(){}KalturaITunesSyndicationFeedAdultValues.YES="yes";KalturaITunesSyndicationFeedAdultValues.NO="no";KalturaITunesSyndicationFeedAdultValues.CLEAN="clean";function KalturaITunesSyndicationFeedCategories(){}KalturaITunesSyndicationFeedCategories.ARTS="Arts";KalturaITunesSyndicationFeedCategories.ARTS_DESIGN="Arts/Design";KalturaITunesSyndicationFeedCategories.ARTS_FASHION_BEAUTY="Arts/Fashion &amp; Beauty";KalturaITunesSyndicationFeedCategories.ARTS_FOOD="Arts/Food";KalturaITunesSyndicationFeedCategories.ARTS_LITERATURE="Arts/Literature";KalturaITunesSyndicationFeedCategories.ARTS_PERFORMING_ARTS="Arts/Performing Arts";KalturaITunesSyndicationFeedCategories.ARTS_VISUAL_ARTS="Arts/Visual Arts";KalturaITunesSyndicationFeedCategories.BUSINESS="Business";KalturaITunesSyndicationFeedCategories.BUSINESS_BUSINESS_NEWS="Business/Business News";KalturaITunesSyndicationFeedCategories.BUSINESS_CAREERS="Business/Careers";KalturaITunesSyndicationFeedCategories.BUSINESS_INVESTING="Business/Investing";KalturaITunesSyndicationFeedCategories.BUSINESS_MANAGEMENT_MARKETING="Business/Management &amp; Marketing";KalturaITunesSyndicationFeedCategories.BUSINESS_SHOPPING="Business/Shopping";KalturaITunesSyndicationFeedCategories.COMEDY="Comedy";KalturaITunesSyndicationFeedCategories.EDUCATION="Education";KalturaITunesSyndicationFeedCategories.EDUCATION_TECHNOLOGY="Education/Education Technology";KalturaITunesSyndicationFeedCategories.EDUCATION_HIGHER_EDUCATION="Education/Higher Education";KalturaITunesSyndicationFeedCategories.EDUCATION_K_12="Education/K-12";KalturaITunesSyndicationFeedCategories.EDUCATION_LANGUAGE_COURSES="Education/Language Courses";KalturaITunesSyndicationFeedCategories.EDUCATION_TRAINING="Education/Training";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES="Games &amp; Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AUTOMOTIVE="Games &amp; Hobbies/Automotive";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_AVIATION="Games &amp; Hobbies/Aviation";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_HOBBIES="Games &amp; Hobbies/Hobbies";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_OTHER_GAMES="Games &amp; Hobbies/Other Games";KalturaITunesSyndicationFeedCategories.GAMES_HOBBIES_VIDEO_GAMES="Games &amp; Hobbies/Video Games";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS="Government &amp; Organizations";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_LOCAL="Government &amp; Organizations/Local";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NATIONAL="Government &amp; Organizations/National";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_NON_PROFIT="Government &amp; Organizations/Non-Profit";KalturaITunesSyndicationFeedCategories.GOVERNMENT_ORGANIZATIONS_REGIONAL="Government &amp; Organizations/Regional";KalturaITunesSyndicationFeedCategories.HEALTH="Health";KalturaITunesSyndicationFeedCategories.HEALTH_ALTERNATIVE_HEALTH="Health/Alternative Health";KalturaITunesSyndicationFeedCategories.HEALTH_FITNESS_NUTRITION="Health/Fitness &amp; Nutrition";KalturaITunesSyndicationFeedCategories.HEALTH_SELF_HELP="Health/Self-Help";KalturaITunesSyndicationFeedCategories.HEALTH_SEXUALITY="Health/Sexuality";KalturaITunesSyndicationFeedCategories.KIDS_FAMILY="Kids &amp; Family";KalturaITunesSyndicationFeedCategories.MUSIC="Music";KalturaITunesSyndicationFeedCategories.NEWS_POLITICS="News &amp; Politics";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY="Religion &amp; Spirituality";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_BUDDHISM="Religion &amp; Spirituality/Buddhism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_CHRISTIANITY="Religion &amp; Spirituality/Christianity";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_HINDUISM="Religion &amp; Spirituality/Hinduism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_ISLAM="Religion &amp; Spirituality/Islam";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_JUDAISM="Religion &amp; Spirituality/Judaism";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_OTHER="Religion &amp; Spirituality/Other";KalturaITunesSyndicationFeedCategories.RELIGION_SPIRITUALITY_SPIRITUALITY="Religion &amp; Spirituality/Spirituality";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE="Science &amp; Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_MEDICINE="Science &amp; Medicine/Medicine";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_NATURAL_SCIENCES="Science &amp; Medicine/Natural Sciences";KalturaITunesSyndicationFeedCategories.SCIENCE_MEDICINE_SOCIAL_SCIENCES="Science &amp; Medicine/Social Sciences";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE="Society &amp; Culture";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_HISTORY="Society &amp; Culture/History";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PERSONAL_JOURNALS="Society &amp; Culture/Personal Journals";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PHILOSOPHY="Society &amp; Culture/Philosophy";KalturaITunesSyndicationFeedCategories.SOCIETY_CULTURE_PLACES_TRAVEL="Society &amp; Culture/Places &amp; Travel";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION="Sports &amp; Recreation";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_AMATEUR="Sports &amp; Recreation/Amateur";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_COLLEGE_HIGH_SCHOOL="Sports &amp; Recreation/College &amp; High School";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_OUTDOOR="Sports &amp; Recreation/Outdoor";KalturaITunesSyndicationFeedCategories.SPORTS_RECREATION_PROFESSIONAL="Sports &amp; Recreation/Professional";KalturaITunesSyndicationFeedCategories.TECHNOLOGY="Technology";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_GADGETS="Technology/Gadgets";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_TECH_NEWS="Technology/Tech News";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_PODCASTING="Technology/Podcasting";KalturaITunesSyndicationFeedCategories.TECHNOLOGY_SOFTWARE_HOW_TO="Technology/Software How-To";KalturaITunesSyndicationFeedCategories.TV_FILM="TV &amp; Film";function KalturaITunesSyndicationFeedOrderBy(){}KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaITunesSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaITunesSyndicationFeedOrderBy.NAME_ASC="+name";KalturaITunesSyndicationFeedOrderBy.NAME_DESC="-name";KalturaITunesSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaITunesSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaITunesSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaLicenseType(){}KalturaLicenseType.UNKNOWN=-1;KalturaLicenseType.NONE=0;KalturaLicenseType.COPYRIGHTED=1;KalturaLicenseType.PUBLIC_DOMAIN=2;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION=3;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_SHARE_ALIKE=4;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NO_DERIVATIVES=5;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL=6;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_SHARE_ALIKE=7;KalturaLicenseType.CREATIVECOMMONS_ATTRIBUTION_NON_COMMERCIAL_NO_DERIVATIVES=8;KalturaLicenseType.GFDL=9;KalturaLicenseType.GPL=10;KalturaLicenseType.AFFERO_GPL=11;KalturaLicenseType.LGPL=12;KalturaLicenseType.BSD=13;KalturaLicenseType.APACHE=14;KalturaLicenseType.MOZILLA=15;function KalturaMailJobOrderBy(){}KalturaMailJobOrderBy.CREATED_AT_ASC="+createdAt";KalturaMailJobOrderBy.CREATED_AT_DESC="-createdAt";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaMailJobOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaMailJobStatus(){}KalturaMailJobStatus.PENDING=1;KalturaMailJobStatus.SENT=2;KalturaMailJobStatus.ERROR=3;KalturaMailJobStatus.QUEUED=4;function KalturaMailType(){}KalturaMailType.MAIL_TYPE_KALTURA_NEWSLETTER=10;KalturaMailType.MAIL_TYPE_ADDED_TO_FAVORITES=11;KalturaMailType.MAIL_TYPE_ADDED_TO_CLIP_FAVORITES=12;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_PROFILE=13;KalturaMailType.MAIL_TYPE_CLIP_ADDED_YOUR_KALTURA=20;KalturaMailType.MAIL_TYPE_VIDEO_ADDED=21;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED=22;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_YOUR_FAVORITES=23;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA=24;KalturaMailType.MAIL_TYPE_CLIP_ADDED=30;KalturaMailType.MAIL_TYPE_VIDEO_CREATED=31;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES=32;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_CONTRIBUTED=33;KalturaMailType.MAIL_TYPE_CLIP_CONTRIBUTED=40;KalturaMailType.MAIL_TYPE_ROUGHCUT_CREATED_SUBSCRIBED=41;KalturaMailType.MAIL_TYPE_ADDED_KALTURA_TO_HIS_FAVORITES_SUBSCRIBED=42;KalturaMailType.MAIL_TYPE_NEW_COMMENT_IN_KALTURA_YOU_SUBSCRIBED=43;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM=50;KalturaMailType.MAIL_TYPE_PASSWORD_RESET=51;KalturaMailType.MAIL_TYPE_LOGIN_MAIL_RESET=52;KalturaMailType.MAIL_TYPE_REGISTER_CONFIRM_VIDEO_SERVICE=54;KalturaMailType.MAIL_TYPE_VIDEO_READY=60;KalturaMailType.MAIL_TYPE_VIDEO_IS_READY=62;KalturaMailType.MAIL_TYPE_BULK_DOWNLOAD_READY=63;KalturaMailType.MAIL_TYPE_NOTIFY_ERR=70;KalturaMailType.MAIL_TYPE_ACCOUNT_UPGRADE_CONFIRM=80;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE=81;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_LIMIT_REACHED=82;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_LOCKED=83;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_ACCOUNT_DELETED=84;KalturaMailType.MAIL_TYPE_VIDEO_SERVICE_NOTICE_UPGRADE_OFFER=85;KalturaMailType.MAIL_TYPE_ACCOUNT_REACTIVE_CONFIRM=86;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD=110;KalturaMailType.MAIL_TYPE_SYSTEM_USER_RESET_PASSWORD_SUCCESS=111;function KalturaMediaEntryOrderBy(){}KalturaMediaEntryOrderBy.MEDIA_TYPE_ASC="+mediaType";KalturaMediaEntryOrderBy.MEDIA_TYPE_DESC="-mediaType";KalturaMediaEntryOrderBy.PLAYS_ASC="+plays";KalturaMediaEntryOrderBy.PLAYS_DESC="-plays";KalturaMediaEntryOrderBy.VIEWS_ASC="+views";KalturaMediaEntryOrderBy.VIEWS_DESC="-views";KalturaMediaEntryOrderBy.DURATION_ASC="+duration";KalturaMediaEntryOrderBy.DURATION_DESC="-duration";KalturaMediaEntryOrderBy.NAME_ASC="+name";KalturaMediaEntryOrderBy.NAME_DESC="-name";KalturaMediaEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMediaEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMediaEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMediaEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMediaEntryOrderBy.RANK_ASC="+rank";KalturaMediaEntryOrderBy.RANK_DESC="-rank";function KalturaMediaInfoOrderBy(){}function KalturaMediaType(){}KalturaMediaType.VIDEO=1;KalturaMediaType.IMAGE=2;KalturaMediaType.AUDIO=5;function KalturaMixEntryOrderBy(){}KalturaMixEntryOrderBy.PLAYS_ASC="+plays";KalturaMixEntryOrderBy.PLAYS_DESC="-plays";KalturaMixEntryOrderBy.VIEWS_ASC="+views";KalturaMixEntryOrderBy.VIEWS_DESC="-views";KalturaMixEntryOrderBy.DURATION_ASC="+duration";KalturaMixEntryOrderBy.DURATION_DESC="-duration";KalturaMixEntryOrderBy.NAME_ASC="+name";KalturaMixEntryOrderBy.NAME_DESC="-name";KalturaMixEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaMixEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaMixEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaMixEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaMixEntryOrderBy.RANK_ASC="+rank";KalturaMixEntryOrderBy.RANK_DESC="-rank";function KalturaModerationFlagStatus(){}KalturaModerationFlagStatus.PENDING=1;KalturaModerationFlagStatus.MODERATED=2;function KalturaModerationFlagType(){}KalturaModerationFlagType.SEXUAL_CONTENT=1;KalturaModerationFlagType.VIOLENT_REPULSIVE=2;KalturaModerationFlagType.HARMFUL_DANGEROUS=3;KalturaModerationFlagType.SPAM_COMMERCIALS=4;function KalturaModerationObjectType(){}KalturaModerationObjectType.ENTRY=2;KalturaModerationObjectType.USER=3;function KalturaNotificationObjectType(){}KalturaNotificationObjectType.ENTRY=1;KalturaNotificationObjectType.KSHOW=2;KalturaNotificationObjectType.USER=3;KalturaNotificationObjectType.BATCH_JOB=4;function KalturaNotificationOrderBy(){}KalturaNotificationOrderBy.CREATED_AT_ASC="+createdAt";KalturaNotificationOrderBy.CREATED_AT_DESC="-createdAt";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_ASC="+executionAttempts";KalturaNotificationOrderBy.EXECUTION_ATTEMPTS_DESC="-executionAttempts";function KalturaNotificationStatus(){}KalturaNotificationStatus.PENDING=1;KalturaNotificationStatus.SENT=2;KalturaNotificationStatus.ERROR=3;KalturaNotificationStatus.SHOULD_RESEND=4;KalturaNotificationStatus.ERROR_RESENDING=5;KalturaNotificationStatus.SENT_SYNCH=6;KalturaNotificationStatus.QUEUED=7;function KalturaNotificationType(){}KalturaNotificationType.ENTRY_ADD=1;KalturaNotificationType.ENTR_UPDATE_PERMISSIONS=2;KalturaNotificationType.ENTRY_DELETE=3;KalturaNotificationType.ENTRY_BLOCK=4;KalturaNotificationType.ENTRY_UPDATE=5;KalturaNotificationType.ENTRY_UPDATE_THUMBNAIL=6;KalturaNotificationType.ENTRY_UPDATE_MODERATION=7;KalturaNotificationType.USER_ADD=21;KalturaNotificationType.USER_BANNED=26;function KalturaNullableBoolean(){}KalturaNullableBoolean.NULL_VALUE=-1;KalturaNullableBoolean.FALSE_VALUE=0;KalturaNullableBoolean.TRUE_VALUE=1;function KalturaPartnerOrderBy(){}KalturaPartnerOrderBy.ID_ASC="+id";KalturaPartnerOrderBy.ID_DESC="-id";KalturaPartnerOrderBy.NAME_ASC="+name";KalturaPartnerOrderBy.NAME_DESC="-name";KalturaPartnerOrderBy.WEBSITE_ASC="+website";KalturaPartnerOrderBy.WEBSITE_DESC="-website";KalturaPartnerOrderBy.CREATED_AT_ASC="+createdAt";KalturaPartnerOrderBy.CREATED_AT_DESC="-createdAt";KalturaPartnerOrderBy.ADMIN_NAME_ASC="+adminName";KalturaPartnerOrderBy.ADMIN_NAME_DESC="-adminName";KalturaPartnerOrderBy.ADMIN_EMAIL_ASC="+adminEmail";KalturaPartnerOrderBy.ADMIN_EMAIL_DESC="-adminEmail";KalturaPartnerOrderBy.STATUS_ASC="+status";KalturaPartnerOrderBy.STATUS_DESC="-status";function KalturaPartnerStatus(){}KalturaPartnerStatus.ACTIVE=1;KalturaPartnerStatus.BLOCKED=2;KalturaPartnerStatus.FULL_BLOCK=3;function KalturaPartnerType(){}KalturaPartnerType.KMC=1;KalturaPartnerType.WIKI=100;KalturaPartnerType.WORDPRESS=101;KalturaPartnerType.DRUPAL=102;KalturaPartnerType.DEKIWIKI=103;KalturaPartnerType.MOODLE=104;KalturaPartnerType.COMMUNITY_EDITION=105;KalturaPartnerType.JOOMLA=106;function KalturaPlayableEntryOrderBy(){}KalturaPlayableEntryOrderBy.PLAYS_ASC="+plays";KalturaPlayableEntryOrderBy.PLAYS_DESC="-plays";KalturaPlayableEntryOrderBy.VIEWS_ASC="+views";KalturaPlayableEntryOrderBy.VIEWS_DESC="-views";KalturaPlayableEntryOrderBy.DURATION_ASC="+duration";KalturaPlayableEntryOrderBy.DURATION_DESC="-duration";KalturaPlayableEntryOrderBy.NAME_ASC="+name";KalturaPlayableEntryOrderBy.NAME_DESC="-name";KalturaPlayableEntryOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlayableEntryOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlayableEntryOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlayableEntryOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlayableEntryOrderBy.RANK_ASC="+rank";KalturaPlayableEntryOrderBy.RANK_DESC="-rank";function KalturaPlaylistOrderBy(){}KalturaPlaylistOrderBy.NAME_ASC="+name";KalturaPlaylistOrderBy.NAME_DESC="-name";KalturaPlaylistOrderBy.MODERATION_COUNT_ASC="+moderationCount";KalturaPlaylistOrderBy.MODERATION_COUNT_DESC="-moderationCount";KalturaPlaylistOrderBy.CREATED_AT_ASC="+createdAt";KalturaPlaylistOrderBy.CREATED_AT_DESC="-createdAt";KalturaPlaylistOrderBy.RANK_ASC="+rank";KalturaPlaylistOrderBy.RANK_DESC="-rank";function KalturaPlaylistType(){}KalturaPlaylistType.DYNAMIC=10;KalturaPlaylistType.STATIC_LIST=3;KalturaPlaylistType.EXTERNAL=101;function KalturaReportType(){}KalturaReportType.TOP_CONTENT=1;KalturaReportType.CONTENT_DROPOFF=2;KalturaReportType.CONTENT_INTERACTIONS=3;KalturaReportType.MAP_OVERLAY=4;KalturaReportType.TOP_CONTRIBUTORS=5;KalturaReportType.TOP_SYNDICATION=6;KalturaReportType.CONTENT_CONTRIBUTIONS=7;KalturaReportType.ADMIN_CONSOLE=10;function KalturaSearchProviderType(){}KalturaSearchProviderType.FLICKR=3;KalturaSearchProviderType.YOUTUBE=4;KalturaSearchProviderType.MYSPACE=7;KalturaSearchProviderType.PHOTOBUCKET=8;KalturaSearchProviderType.JAMENDO=9;KalturaSearchProviderType.CCMIXTER=10;KalturaSearchProviderType.NYPL=11;KalturaSearchProviderType.CURRENT=12;KalturaSearchProviderType.MEDIA_COMMONS=13;KalturaSearchProviderType.KALTURA=20;KalturaSearchProviderType.KALTURA_USER_CLIPS=21;KalturaSearchProviderType.ARCHIVE_ORG=22;KalturaSearchProviderType.KALTURA_PARTNER=23;KalturaSearchProviderType.METACAFE=24;KalturaSearchProviderType.SEARCH_PROXY=28;function KalturaSessionType(){}KalturaSessionType.USER=0;KalturaSessionType.ADMIN=2;function KalturaSiteRestrictionType(){}KalturaSiteRestrictionType.RESTRICT_SITE_LIST=0;KalturaSiteRestrictionType.ALLOW_SITE_LIST=1;function KalturaSourceType(){}KalturaSourceType.FILE=1;KalturaSourceType.WEBCAM=2;KalturaSourceType.URL=5;KalturaSourceType.SEARCH_PROVIDER=6;function KalturaStatsEventType(){}KalturaStatsEventType.WIDGET_LOADED=1;KalturaStatsEventType.MEDIA_LOADED=2;KalturaStatsEventType.PLAY=3;KalturaStatsEventType.PLAY_REACHED_25=4;KalturaStatsEventType.PLAY_REACHED_50=5;KalturaStatsEventType.PLAY_REACHED_75=6;KalturaStatsEventType.PLAY_REACHED_100=7;KalturaStatsEventType.OPEN_EDIT=8;KalturaStatsEventType.OPEN_VIRAL=9;KalturaStatsEventType.OPEN_DOWNLOAD=10;KalturaStatsEventType.OPEN_REPORT=11;KalturaStatsEventType.BUFFER_START=12;KalturaStatsEventType.BUFFER_END=13;KalturaStatsEventType.OPEN_FULL_SCREEN=14;KalturaStatsEventType.CLOSE_FULL_SCREEN=15;KalturaStatsEventType.REPLAY=16;KalturaStatsEventType.SEEK=17;KalturaStatsEventType.OPEN_UPLOAD=18;KalturaStatsEventType.SAVE_PUBLISH=19;KalturaStatsEventType.CLOSE_EDITOR=20;KalturaStatsEventType.PRE_BUMPER_PLAYED=21;KalturaStatsEventType.POST_BUMPER_PLAYED=22;KalturaStatsEventType.BUMPER_CLICKED=23;KalturaStatsEventType.FUTURE_USE_1=24;KalturaStatsEventType.FUTURE_USE_2=25;KalturaStatsEventType.FUTURE_USE_3=26;function KalturaStatsKmcEventType(){}KalturaStatsKmcEventType.CONTENT_PAGE_VIEW=1001;KalturaStatsKmcEventType.CONTENT_ADD_PLAYLIST=1010;KalturaStatsKmcEventType.CONTENT_EDIT_PLAYLIST=1011;KalturaStatsKmcEventType.CONTENT_DELETE_PLAYLIST=1012;KalturaStatsKmcEventType.CONTENT_DELETE_ITEM=1058;KalturaStatsKmcEventType.CONTENT_EDIT_ENTRY=1013;KalturaStatsKmcEventType.CONTENT_CHANGE_THUMBNAIL=1014;KalturaStatsKmcEventType.CONTENT_ADD_TAGS=1015;KalturaStatsKmcEventType.CONTENT_REMOVE_TAGS=1016;KalturaStatsKmcEventType.CONTENT_ADD_ADMIN_TAGS=1017;KalturaStatsKmcEventType.CONTENT_REMOVE_ADMIN_TAGS=1018;KalturaStatsKmcEventType.CONTENT_DOWNLOAD=1019;KalturaStatsKmcEventType.CONTENT_APPROVE_MODERATION=1020;KalturaStatsKmcEventType.CONTENT_REJECT_MODERATION=1021;KalturaStatsKmcEventType.CONTENT_BULK_UPLOAD=1022;KalturaStatsKmcEventType.CONTENT_ADMIN_KCW_UPLOAD=1023;KalturaStatsKmcEventType.CONTENT_CONTENT_GO_TO_PAGE=1057;KalturaStatsKmcEventType.ACCOUNT_CHANGE_PARTNER_INFO=1030;KalturaStatsKmcEventType.ACCOUNT_CHANGE_LOGIN_INFO=1031;KalturaStatsKmcEventType.ACCOUNT_CONTACT_US_USAGE=1032;KalturaStatsKmcEventType.ACCOUNT_UPDATE_SERVER_SETTINGS=1033;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_OVERVIEW=1034;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL=1035;KalturaStatsKmcEventType.ACCOUNT_TRANSCODING_SETTINGS=1036;KalturaStatsKmcEventType.ACCOUNT_ACCOUNT_UPGRADE=1037;KalturaStatsKmcEventType.ACCOUNT_SAVE_SERVER_SETTINGS=1038;KalturaStatsKmcEventType.ACCOUNT_ACCESS_CONTROL_DELETE=1039;KalturaStatsKmcEventType.ACCOUNT_SAVE_TRANSCODING_SETTINGS=1040;KalturaStatsKmcEventType.LOGIN=1041;KalturaStatsKmcEventType.DASHBOARD_IMPORT_CONTENT=1042;KalturaStatsKmcEventType.DASHBOARD_UPDATE_CONTENT=1043;KalturaStatsKmcEventType.DASHBOARD_ACCOUNT_CONTACT_US=1044;KalturaStatsKmcEventType.DASHBOARD_VIEW_REPORTS=1045;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYER=1046;KalturaStatsKmcEventType.DASHBOARD_EMBED_PLAYLIST=1047;KalturaStatsKmcEventType.DASHBOARD_CUSTOMIZE_PLAYERS=1048;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_SINGLE_VIDEO=1050;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_PLAYLIST=1051;KalturaStatsKmcEventType.APP_STUDIO_NEW_PLAYER_MULTI_TAB_PLAYLIST=1052;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_SINGLE_VIDEO=1053;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_PLAYLIST=1054;KalturaStatsKmcEventType.APP_STUDIO_EDIT_PLAYER_MULTI_TAB_PLAYLIST=1055;KalturaStatsKmcEventType.APP_STUDIO_DUPLICATE_PLAYER=1056;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_TAB=1070;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_REPORTS_TAB=1071;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_USERS_AND_COMMUNITY_REPORTS_TAB=1072;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTRIBUTORS=1073;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS=1074;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS=1075;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_CONTENT=1076;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DROPOFF=1077;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_INTERACTIONS=1078;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS=1079;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN=1080;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_DRILL_DOWN_INTERACTION=1081;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_CONTENT_CONTRIBUTIONS_DRILLDOWN=1082;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_VIDEO_DRILL_DOWN_DROPOFF=1083;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_MAP_OVERLAYS_DRILLDOWN=1084;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_TOP_SYNDICATIONS_DRILL_DOWN=1085;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_MONTHLY=1086;KalturaStatsKmcEventType.REPORTS_AND_ANALYTICS_BANDWIDTH_USAGE_VIEW_YEARLY=1087;function KalturaSyndicationFeedStatus(){}KalturaSyndicationFeedStatus.DELETED=-1;KalturaSyndicationFeedStatus.ACTIVE=1;function KalturaSyndicationFeedType(){}KalturaSyndicationFeedType.GOOGLE_VIDEO=1;KalturaSyndicationFeedType.YAHOO=2;KalturaSyndicationFeedType.ITUNES=3;KalturaSyndicationFeedType.TUBE_MOGUL=4;function KalturaSystemPartnerPackage(){}KalturaSystemPartnerPackage.PACKAGE_FREE="1";KalturaSystemPartnerPackage.PACKAGE_20="2";KalturaSystemPartnerPackage.PACKAGE_50="3";KalturaSystemPartnerPackage.PACKAGE_100="4";KalturaSystemPartnerPackage.PACKAGE_250="5";KalturaSystemPartnerPackage.PACKAGE_500="6";function KalturaSystemUserOrderBy(){}KalturaSystemUserOrderBy.ID_ASC="+id";KalturaSystemUserOrderBy.ID_DESC="-id";KalturaSystemUserOrderBy.STATUS_ASC="+status";KalturaSystemUserOrderBy.STATUS_DESC="-status";function KalturaSystemUserStatus(){}KalturaSystemUserStatus.BLOCKED=0;KalturaSystemUserStatus.ACTIVE=1;function KalturaTubeMogulSyndicationFeedCategories(){}KalturaTubeMogulSyndicationFeedCategories.ARTS_AND_ANIMATION="Arts &amp; Animation";KalturaTubeMogulSyndicationFeedCategories.COMEDY="Comedy";KalturaTubeMogulSyndicationFeedCategories.ENTERTAINMENT="Entertainment";KalturaTubeMogulSyndicationFeedCategories.MUSIC="Music";KalturaTubeMogulSyndicationFeedCategories.NEWS_AND_BLOGS="News &amp; Blogs";KalturaTubeMogulSyndicationFeedCategories.SCIENCE_AND_TECHNOLOGY="Science &amp; Technology";KalturaTubeMogulSyndicationFeedCategories.SPORTS="Sports";KalturaTubeMogulSyndicationFeedCategories.TRAVEL_AND_PLACES="Travel &amp; Places";KalturaTubeMogulSyndicationFeedCategories.VIDEO_GAMES="Video Games";KalturaTubeMogulSyndicationFeedCategories.ANIMALS_AND_PETS="Animals &amp; Pets";KalturaTubeMogulSyndicationFeedCategories.AUTOS="Autos";KalturaTubeMogulSyndicationFeedCategories.VLOGS_PEOPLE="Vlogs &amp; People";KalturaTubeMogulSyndicationFeedCategories.HOW_TO_INSTRUCTIONAL_DIY="How To/Instructional/DIY";KalturaTubeMogulSyndicationFeedCategories.COMMERCIALS_PROMOTIONAL="Commercials/Promotional";KalturaTubeMogulSyndicationFeedCategories.FAMILY_AND_KIDS="Family &amp; Kids";function KalturaTubeMogulSyndicationFeedOrderBy(){}KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaTubeMogulSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaTubeMogulSyndicationFeedOrderBy.NAME_ASC="+name";KalturaTubeMogulSyndicationFeedOrderBy.NAME_DESC="-name";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaTubeMogulSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaTubeMogulSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUiConfCreationMode(){}KalturaUiConfCreationMode.WIZARD=2;KalturaUiConfCreationMode.ADVANCED=3;function KalturaUiConfObjType(){}KalturaUiConfObjType.PLAYER=1;KalturaUiConfObjType.CONTRIBUTION_WIZARD=2;KalturaUiConfObjType.SIMPLE_EDITOR=3;KalturaUiConfObjType.ADVANCED_EDITOR=4;KalturaUiConfObjType.PLAYLIST=5;KalturaUiConfObjType.APP_STUDIO=6;function KalturaUiConfOrderBy(){}KalturaUiConfOrderBy.CREATED_AT_ASC="+createdAt";KalturaUiConfOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUploadErrorCode(){}KalturaUploadErrorCode.NO_ERROR=0;KalturaUploadErrorCode.GENERAL_ERROR=1;KalturaUploadErrorCode.PARTIAL_UPLOAD=2;function KalturaUserOrderBy(){}KalturaUserOrderBy.CREATED_AT_ASC="+createdAt";KalturaUserOrderBy.CREATED_AT_DESC="-createdAt";function KalturaUserStatus(){}KalturaUserStatus.BLOCKED=0;KalturaUserStatus.ACTIVE=1;KalturaUserStatus.DELETED=2;function KalturaVideoCodec(){}KalturaVideoCodec.NONE="";KalturaVideoCodec.VP6="vp6";KalturaVideoCodec.H263="h263";KalturaVideoCodec.H264="h264";KalturaVideoCodec.FLV="flv";function KalturaWidgetOrderBy(){}KalturaWidgetOrderBy.CREATED_AT_ASC="+createdAt";KalturaWidgetOrderBy.CREATED_AT_DESC="-createdAt";function KalturaWidgetSecurityType(){}KalturaWidgetSecurityType.NONE=1;KalturaWidgetSecurityType.TIMEHASH=2;function KalturaYahooSyndicationFeedAdultValues(){}KalturaYahooSyndicationFeedAdultValues.ADULT="adult";KalturaYahooSyndicationFeedAdultValues.NON_ADULT="nonadult";function KalturaYahooSyndicationFeedCategories(){}KalturaYahooSyndicationFeedCategories.ACTION="Action";KalturaYahooSyndicationFeedCategories.ART_AND_ANIMATION="Art &amp; Animation";KalturaYahooSyndicationFeedCategories.ENTERTAINMENT_AND_TV="Entertainment &amp; TV";KalturaYahooSyndicationFeedCategories.FOOD="Food";KalturaYahooSyndicationFeedCategories.GAMES="Games";KalturaYahooSyndicationFeedCategories.HOW_TO="How-To";KalturaYahooSyndicationFeedCategories.MUSIC="Music";KalturaYahooSyndicationFeedCategories.PEOPLE_AND_VLOGS="People &amp; Vlogs";KalturaYahooSyndicationFeedCategories.SCIENCE_AND_ENVIRONMENT="Science &amp; Environment";KalturaYahooSyndicationFeedCategories.TRANSPORTATION="Transportation";KalturaYahooSyndicationFeedCategories.ANIMALS="Animals";KalturaYahooSyndicationFeedCategories.COMMERCIALS="Commercials";KalturaYahooSyndicationFeedCategories.FAMILY="Family";KalturaYahooSyndicationFeedCategories.FUNNY_VIDEOS="Funny Videos";KalturaYahooSyndicationFeedCategories.HEALTH_AND_BEAUTY="Health &amp; Beauty";KalturaYahooSyndicationFeedCategories.MOVIES_AND_SHORTS="Movies &amp; Shorts";KalturaYahooSyndicationFeedCategories.NEWS_AND_POLITICS="News &amp; Politics";KalturaYahooSyndicationFeedCategories.PRODUCTS_AND_TECH="Products &amp; Tech.";KalturaYahooSyndicationFeedCategories.SPORTS="Sports";KalturaYahooSyndicationFeedCategories.TRAVEL="Travel";function KalturaYahooSyndicationFeedOrderBy(){}KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_ASC="+playlistId";KalturaYahooSyndicationFeedOrderBy.PLAYLIST_ID_DESC="-playlistId";KalturaYahooSyndicationFeedOrderBy.NAME_ASC="+name";KalturaYahooSyndicationFeedOrderBy.NAME_DESC="-name";KalturaYahooSyndicationFeedOrderBy.TYPE_ASC="+type";KalturaYahooSyndicationFeedOrderBy.TYPE_DESC="-type";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_ASC="+createdAt";KalturaYahooSyndicationFeedOrderBy.CREATED_AT_DESC="-createdAt";function KalturaAccessControl(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isDefault=null;this.restrictions=null}KalturaAccessControl.inheritsFrom(KalturaObjectBase);function KalturaAccessControlFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaAccessControlFilter.inheritsFrom(KalturaFilter);function KalturaAccessControlListResponse(){this.objects=null;this.totalCount=null}KalturaAccessControlListResponse.inheritsFrom(KalturaObjectBase);function KalturaAdminUser(){this.password=null;this.email=null;this.screenName=null}KalturaAdminUser.inheritsFrom(KalturaObjectBase);function KalturaBaseEntry(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.userId=null;this.tags=null;this.adminTags=null;this.categories=null;this.status=null;this.moderationStatus=null;this.moderationCount=null;this.type=null;this.createdAt=null;this.rank=null;this.totalRank=null;this.votes=null;this.groupId=null;this.partnerData=null;this.downloadUrl=null;this.searchText=null;this.licenseType=null;this.version=null;this.thumbnailUrl=null;this.accessControlId=null;this.startDate=null;this.endDate=null}KalturaBaseEntry.inheritsFrom(KalturaObjectBase);function KalturaBaseEntryFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.userIdEqual=null;this.tagsLike=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.adminTagsLike=null;this.adminTagsMultiLikeOr=null;this.adminTagsMultiLikeAnd=null;this.categoriesMatchAnd=null;this.categoriesMatchOr=null;this.statusEqual=null;this.statusNotEqual=null;this.statusIn=null;this.statusNotIn=null;this.moderationStatusEqual=null;this.moderationStatusNotEqual=null;this.moderationStatusIn=null;this.moderationStatusNotIn=null;this.typeEqual=null;this.typeIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.groupIdEqual=null;this.searchTextMatchAnd=null;this.searchTextMatchOr=null;this.accessControlIdEqual=null;this.accessControlIdIn=null;this.startDateGreaterThanOrEqual=null;this.startDateLessThanOrEqual=null;this.startDateGreaterThanOrEqualOrNull=null;this.startDateLessThanOrEqualOrNull=null;this.endDateGreaterThanOrEqual=null;this.endDateLessThanOrEqual=null;this.endDateGreaterThanOrEqualOrNull=null;this.endDateLessThanOrEqualOrNull=null;this.tagsNameMultiLikeOr=null;this.tagsAdminTagsMultiLikeOr=null;this.tagsAdminTagsNameMultiLikeOr=null;this.tagsNameMultiLikeAnd=null;this.tagsAdminTagsMultiLikeAnd=null;this.tagsAdminTagsNameMultiLikeAnd=null}KalturaBaseEntryFilter.inheritsFrom(KalturaFilter);function KalturaBaseEntryListResponse(){this.objects=null;this.totalCount=null}KalturaBaseEntryListResponse.inheritsFrom(KalturaObjectBase);function KalturaBaseJob(){this.id=null;this.partnerId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.processorExpiration=null;this.executionAttempts=null}KalturaBaseJob.inheritsFrom(KalturaObjectBase);function KalturaBaseJobFilter(){this.idEqual=null;this.idGreaterThanOrEqual=null;this.partnerIdEqual=null;this.partnerIdIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaBaseJobFilter.inheritsFrom(KalturaFilter);function KalturaBaseRestriction(){}KalturaBaseRestriction.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeed(){this.id=null;this.feedUrl=null;this.partnerId=null;this.playlistId=null;this.name=null;this.status=null;this.type=null;this.landingPage=null;this.createdAt=null;this.allowEmbed=null;this.playerUiconfId=null;this.flavorParamId=null;this.transcodeExistingContent=null;this.addToDefaultConversionProfile=null;this.categories=null}KalturaBaseSyndicationFeed.inheritsFrom(KalturaObjectBase);function KalturaBaseSyndicationFeedFilter(){}KalturaBaseSyndicationFeedFilter.inheritsFrom(KalturaFilter);function KalturaBaseSyndicationFeedListResponse(){this.objects=null;this.totalCount=null}KalturaBaseSyndicationFeedListResponse.inheritsFrom(KalturaObjectBase);function KalturaBatchJob(){this.entryId=null;this.entryName=null;this.jobType=null;this.jobSubType=null;this.onStressDivertTo=null;this.data=null;this.status=null;this.abort=null;this.checkAgainTimeout=null;this.progress=null;this.message=null;this.description=null;this.updatesCount=null;this.priority=null;this.workGroupId=null;this.twinJobId=null;this.bulkJobId=null;this.parentJobId=null;this.rootJobId=null;this.queueTime=null;this.finishTime=null;this.errType=null;this.errNumber=null;this.fileSize=null;this.lastWorkerRemote=null;this.schedulerId=null;this.workerId=null;this.batchIndex=null;this.lastSchedulerId=null;this.lastWorkerId=null;this.dc=null}KalturaBatchJob.inheritsFrom(KalturaBaseJob);function KalturaBatchJobFilter(){this.entryIdEqual=null;this.jobTypeEqual=null;this.jobTypeIn=null;this.jobTypeNotIn=null;this.jobSubTypeEqual=null;this.jobSubTypeIn=null;this.onStressDivertToIn=null;this.statusEqual=null;this.statusIn=null;this.workGroupIdIn=null;this.queueTimeGreaterThanOrEqual=null;this.queueTimeLessThanOrEqual=null;this.finishTimeGreaterThanOrEqual=null;this.finishTimeLessThanOrEqual=null;this.errTypeIn=null;this.fileSizeLessThan=null;this.fileSizeGreaterThan=null}KalturaBatchJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaBatchJobFilterExt(){this.jobTypeAndSubTypeIn=null}KalturaBatchJobFilterExt.inheritsFrom(KalturaBatchJobFilter);function KalturaBatchJobListResponse(){this.objects=null;this.totalCount=null}KalturaBatchJobListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkDownloadJobData(){this.entryIds=null;this.flavorParamsId=null;this.puserId=null}KalturaBulkDownloadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUpload(){this.id=null;this.uploadedBy=null;this.uploadedOn=null;this.numOfEntries=null;this.status=null;this.logFileUrl=null;this.csvFileUrl=null;this.results=null}KalturaBulkUpload.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadJobData(){this.userId=null;this.uploadedBy=null;this.conversionProfileId=null;this.csvFilePath=null;this.resultsFileLocalPath=null;this.resultsFileUrl=null;this.numOfEntries=null;this.csvVersion=null}KalturaBulkUploadJobData.inheritsFrom(KalturaJobData);function KalturaBulkUploadListResponse(){this.objects=null;this.totalCount=null}KalturaBulkUploadListResponse.inheritsFrom(KalturaObjectBase);function KalturaBulkUploadResult(){this.id=null;this.bulkUploadJobId=null;this.lineIndex=null;this.partnerId=null;this.entryId=null;this.entryStatus=null;this.rowData=null;this.title=null;this.description=null;this.tags=null;this.url=null;this.contentType=null;this.conversionProfileId=null;this.accessControlProfileId=null;this.category=null;this.scheduleStartDate=null;this.scheduleEndDate=null;this.thumbnailUrl=null;this.thumbnailSaved=null;this.partnerData=null;this.errorDescription=null}KalturaBulkUploadResult.inheritsFrom(KalturaObjectBase);function KalturaCEError(){this.id=null;this.partnerId=null;this.browser=null;this.serverIp=null;this.serverOs=null;this.phpVersion=null;this.ceAdminEmail=null;this.type=null;this.description=null;this.data=null}KalturaCEError.inheritsFrom(KalturaObjectBase);function KalturaCategory(){this.id=null;this.parentId=null;this.depth=null;this.partnerId=null;this.name=null;this.fullName=null;this.entriesCount=null;this.createdAt=null}KalturaCategory.inheritsFrom(KalturaObjectBase);function KalturaCategoryFilter(){this.idEqual=null;this.idIn=null;this.parentIdEqual=null;this.parentIdIn=null;this.depthEqual=null;this.fullNameEqual=null;this.fullNameStartsWith=null}KalturaCategoryFilter.inheritsFrom(KalturaFilter);function KalturaCategoryListResponse(){this.objects=null;this.totalCount=null}KalturaCategoryListResponse.inheritsFrom(KalturaObjectBase);function KalturaClientNotification(){this.url=null;this.data=null}KalturaClientNotification.inheritsFrom(KalturaObjectBase);function KalturaControlPanelCommandFilter(){this.idEqual=null;this.idIn=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.createdByIdEqual=null;this.typeEqual=null;this.typeIn=null;this.targetTypeEqual=null;this.targetTypeIn=null;this.statusEqual=null;this.statusIn=null}KalturaControlPanelCommandFilter.inheritsFrom(KalturaFilter);function KalturaConvartableJobData(){this.srcFileSyncLocalPath=null;this.srcFileSyncRemoteUrl=null;this.flavorParamsOutputId=null;this.flavorParamsOutput=null;this.mediaInfoId=null}KalturaConvartableJobData.inheritsFrom(KalturaJobData);function KalturaConversionProfile(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.flavorParamsIds=null;this.isDefault=null;this.cropDimensions=null;this.clipStart=null;this.clipDuration=null}KalturaConversionProfile.inheritsFrom(KalturaObjectBase);function KalturaConversionProfileFilter(){this.idEqual=null;this.idIn=null}KalturaConversionProfileFilter.inheritsFrom(KalturaFilter);function KalturaConversionProfileListResponse(){this.objects=null;this.totalCount=null}KalturaConversionProfileListResponse.inheritsFrom(KalturaObjectBase);function KalturaConvertJobData(){this.destFileSyncLocalPath=null;this.destFileSyncRemoteUrl=null;this.logFileSyncLocalPath=null;this.flavorAssetId=null;this.remoteMediaId=null}KalturaConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaConvertProfileJobData(){this.inputFileSyncLocalPath=null;this.thumbHeight=null;this.thumbBitrate=null}KalturaConvertProfileJobData.inheritsFrom(KalturaJobData);function KalturaCountryRestriction(){this.countryRestrictionType=null;this.countryList=null}KalturaCountryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaCropDimensions(){this.left=null;this.top=null;this.width=null;this.height=null}KalturaCropDimensions.inheritsFrom(KalturaObjectBase);function KalturaDataEntry(){this.dataContent=null}KalturaDataEntry.inheritsFrom(KalturaBaseEntry);function KalturaDataEntryFilter(){}KalturaDataEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaDataListResponse(){this.objects=null;this.totalCount=null}KalturaDataListResponse.inheritsFrom(KalturaObjectBase);function KalturaDirectoryRestriction(){this.directoryRestrictionType=null}KalturaDirectoryRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaDocumentEntry(){this.documentType=null}KalturaDocumentEntry.inheritsFrom(KalturaBaseEntry);function KalturaDocumentEntryFilter(){this.documentTypeEqual=null;this.documentTypeIn=null}KalturaDocumentEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaEntryContextDataParams(){this.referrer=null}KalturaEntryContextDataParams.inheritsFrom(KalturaObjectBase);function KalturaEntryContextDataResult(){this.isSiteRestricted=null;this.isCountryRestricted=null;this.isSessionRestricted=null;this.previewLength=null;this.isScheduledNow=null;this.isAdmin=null}KalturaEntryContextDataResult.inheritsFrom(KalturaObjectBase);function KalturaExtractMediaJobData(){this.flavorAssetId=null}KalturaExtractMediaJobData.inheritsFrom(KalturaConvartableJobData);function KalturaFileSync(){this.id=null;this.partnerId=null;this.objectType=null;this.objectId=null;this.version=null;this.objectSubType=null;this.dc=null;this.original=null;this.createdAt=null;this.updatedAt=null;this.readyAt=null;this.syncTime=null;this.status=null;this.fileType=null;this.linkedId=null;this.linkCount=null;this.fileRoot=null;this.filePath=null;this.fileSize=null;this.fileUrl=null;this.fileContent=null}KalturaFileSync.inheritsFrom(KalturaObjectBase);function KalturaFileSyncFilter(){this.partnerIdEqual=null;this.objectTypeEqual=null;this.objectTypeIn=null;this.objectIdEqual=null;this.objectIdIn=null;this.versionEqual=null;this.versionIn=null;this.objectSubTypeEqual=null;this.objectSubTypeIn=null;this.dcEqual=null;this.dcIn=null;this.originalEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.readyAtGreaterThanOrEqual=null;this.readyAtLessThanOrEqual=null;this.syncTimeGreaterThanOrEqual=null;this.syncTimeLessThanOrEqual=null;this.statusEqual=null;this.statusIn=null;this.fileTypeEqual=null;this.fileTypeIn=null;this.linkedIdEqual=null;this.linkCountGreaterThanOrEqual=null;this.linkCountLessThanOrEqual=null;this.fileSizeGreaterThanOrEqual=null;this.fileSizeLessThanOrEqual=null}KalturaFileSyncFilter.inheritsFrom(KalturaFilter);function KalturaFileSyncListResponse(){this.objects=null;this.totalCount=null}KalturaFileSyncListResponse.inheritsFrom(KalturaObjectBase);function KalturaFilter(){this.orderBy=null}KalturaFilter.inheritsFrom(KalturaObjectBase);function KalturaFilterPager(){this.pageSize=null;this.pageIndex=null}KalturaFilterPager.inheritsFrom(KalturaObjectBase);function KalturaFlattenJobData(){}KalturaFlattenJobData.inheritsFrom(KalturaJobData);function KalturaFlavorAsset(){this.id=null;this.entryId=null;this.partnerId=null;this.status=null;this.flavorParamsId=null;this.version=null;this.width=null;this.height=null;this.bitrate=null;this.frameRate=null;this.size=null;this.isOriginal=null;this.tags=null;this.isWeb=null;this.fileExt=null;this.containerFormat=null;this.videoCodecId=null;this.createdAt=null;this.updatedAt=null;this.deletedAt=null;this.description=null}KalturaFlavorAsset.inheritsFrom(KalturaObjectBase);function KalturaFlavorAssetWithParams(){this.flavorAsset=null;this.flavorParams=null;this.entryId=null}KalturaFlavorAssetWithParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParams(){this.id=null;this.partnerId=null;this.name=null;this.description=null;this.createdAt=null;this.isSystemDefault=null;this.tags=null;this.format=null;this.videoCodec=null;this.videoBitrate=null;this.audioCodec=null;this.audioBitrate=null;this.audioChannels=null;this.audioSampleRate=null;this.width=null;this.height=null;this.frameRate=null;this.gopSize=null;this.conversionEngines=null;this.conversionEnginesExtraParams=null;this.twoPass=null}KalturaFlavorParams.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsFilter(){this.isSystemDefaultEqual=null}KalturaFlavorParamsFilter.inheritsFrom(KalturaFilter);function KalturaFlavorParamsListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsListResponse.inheritsFrom(KalturaObjectBase);function KalturaFlavorParamsOutput(){this.flavorParamsId=null;this.commandLinesStr=null;this.flavorParamsVersion=null;this.flavorAssetId=null;this.flavorAssetVersion=null}KalturaFlavorParamsOutput.inheritsFrom(KalturaFlavorParams);function KalturaFlavorParamsOutputFilter(){this.flavorParamsIdEqual=null;this.flavorParamsVersionEqual=null;this.flavorAssetIdEqual=null;this.flavorAssetVersionEqual=null}KalturaFlavorParamsOutputFilter.inheritsFrom(KalturaFlavorParamsFilter);function KalturaFlavorParamsOutputListResponse(){this.objects=null;this.totalCount=null}KalturaFlavorParamsOutputListResponse.inheritsFrom(KalturaObjectBase);function KalturaGoogleVideoSyndicationFeed(){this.adultContent=null}KalturaGoogleVideoSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaGoogleVideoSyndicationFeedFilter(){}KalturaGoogleVideoSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaITunesSyndicationFeed(){this.feedDescription=null;this.language=null;this.feedLandingPage=null;this.ownerName=null;this.ownerEmail=null;this.feedImageUrl=null;this.category=null;this.adultContent=null;this.feedAuthor=null}KalturaITunesSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaITunesSyndicationFeedFilter(){}KalturaITunesSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaImportJobData(){this.srcFileUrl=null;this.destFileLocalPath=null;this.flavorAssetId=null}KalturaImportJobData.inheritsFrom(KalturaJobData);function KalturaJobData(){}KalturaJobData.inheritsFrom(KalturaObjectBase);function KalturaMailJob(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null}KalturaMailJob.inheritsFrom(KalturaBaseJob);function KalturaMailJobData(){this.mailType=null;this.mailPriority=null;this.status=null;this.recipientName=null;this.recipientEmail=null;this.recipientId=null;this.fromName=null;this.fromEmail=null;this.bodyParams=null;this.subjectParams=null;this.templatePath=null;this.culture=null;this.campaignId=null;this.minSendDate=null;this.isHtml=null}KalturaMailJobData.inheritsFrom(KalturaJobData);function KalturaMailJobFilter(){}KalturaMailJobFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaMediaEntry(){this.mediaType=null;this.conversionQuality=null;this.sourceType=null;this.searchProviderType=null;this.searchProviderId=null;this.creditUserName=null;this.creditUrl=null;this.mediaDate=null;this.dataUrl=null;this.flavorParamsIds=null}KalturaMediaEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMediaEntryFilter(){this.mediaTypeEqual=null;this.mediaTypeIn=null;this.mediaDateGreaterThanOrEqual=null;this.mediaDateLessThanOrEqual=null;this.flavorParamsIdsMatchOr=null;this.flavorParamsIdsMatchAnd=null}KalturaMediaEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMediaEntryFilterForPlaylist(){this.limit=null}KalturaMediaEntryFilterForPlaylist.inheritsFrom(KalturaMediaEntryFilter);function KalturaMediaInfo(){this.id=null;this.flavorAssetId=null;this.fileSize=null;this.containerFormat=null;this.containerId=null;this.containerProfile=null;this.containerDuration=null;this.containerBitRate=null;this.videoFormat=null;this.videoCodecId=null;this.videoDuration=null;this.videoBitRate=null;this.videoBitRateMode=null;this.videoWidth=null;this.videoHeight=null;this.videoFrameRate=null;this.videoDar=null;this.videoRotation=null;this.audioFormat=null;this.audioCodecId=null;this.audioDuration=null;this.audioBitRate=null;this.audioBitRateMode=null;this.audioChannels=null;this.audioSamplingRate=null;this.audioResolution=null;this.writingLib=null;this.rawData=null}KalturaMediaInfo.inheritsFrom(KalturaObjectBase);function KalturaMediaInfoFilter(){this.flavorAssetIdEqual=null}KalturaMediaInfoFilter.inheritsFrom(KalturaFilter);function KalturaMediaInfoListResponse(){this.objects=null;this.totalCount=null}KalturaMediaInfoListResponse.inheritsFrom(KalturaObjectBase);function KalturaMediaListResponse(){this.objects=null;this.totalCount=null}KalturaMediaListResponse.inheritsFrom(KalturaObjectBase);function KalturaMixEntry(){this.hasRealThumbnail=null;this.editorType=null;this.dataContent=null}KalturaMixEntry.inheritsFrom(KalturaPlayableEntry);function KalturaMixEntryFilter(){}KalturaMixEntryFilter.inheritsFrom(KalturaPlayableEntryFilter);function KalturaMixListResponse(){this.objects=null;this.totalCount=null}KalturaMixListResponse.inheritsFrom(KalturaObjectBase);function KalturaModerationFlag(){this.id=null;this.partnerId=null;this.userId=null;this.moderationObjectType=null;this.flaggedEntryId=null;this.flaggedUserId=null;this.status=null;this.comments=null;this.flagType=null;this.createdAt=null;this.updatedAt=null}KalturaModerationFlag.inheritsFrom(KalturaObjectBase);function KalturaModerationFlagListResponse(){this.objects=null;this.totalCount=null}KalturaModerationFlagListResponse.inheritsFrom(KalturaObjectBase);function KalturaNotification(){this.puserId=null;this.type=null;this.objectId=null;this.status=null;this.notificationData=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotification.inheritsFrom(KalturaBaseJob);function KalturaNotificationFilter(){}KalturaNotificationFilter.inheritsFrom(KalturaBaseJobFilter);function KalturaNotificationJobData(){this.userId=null;this.type=null;this.typeAsString=null;this.objectId=null;this.status=null;this.data=null;this.numberOfAttempts=null;this.notificationResult=null;this.objType=null}KalturaNotificationJobData.inheritsFrom(KalturaJobData);function KalturaPartner(){this.id=null;this.name=null;this.website=null;this.notificationUrl=null;this.appearInSearch=null;this.createdAt=null;this.adminName=null;this.adminEmail=null;this.description=null;this.commercialUse=null;this.landingPage=null;this.userLandingPage=null;this.contentCategories=null;this.type=null;this.phone=null;this.describeYourself=null;this.adultContent=null;this.defConversionProfileType=null;this.notify=null;this.status=null;this.allowQuickEdit=null;this.mergeEntryLists=null;this.notificationsConfig=null;this.maxUploadSize=null;this.partnerPackage=null;this.secret=null;this.adminSecret=null;this.cmsPassword=null;this.allowMultiNotification=null}KalturaPartner.inheritsFrom(KalturaObjectBase);function KalturaPartnerFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.nameMultiLikeOr=null;this.nameMultiLikeAnd=null;this.nameEqual=null;this.statusEqual=null;this.statusIn=null;this.partnerNameDescriptionWebsiteAdminNameAdminEmailLike=null}KalturaPartnerFilter.inheritsFrom(KalturaFilter);function KalturaPartnerListResponse(){this.objects=null;this.totalCount=null}KalturaPartnerListResponse.inheritsFrom(KalturaObjectBase);function KalturaPartnerUsage(){this.hostingGB=null;this.Percent=null;this.packageBW=null;this.usageGB=null;this.reachedLimitDate=null;this.usageGraph=null}KalturaPartnerUsage.inheritsFrom(KalturaObjectBase);function KalturaPlayableEntry(){this.plays=null;this.views=null;this.width=null;this.height=null;this.duration=null;this.durationType=null}KalturaPlayableEntry.inheritsFrom(KalturaBaseEntry);function KalturaPlayableEntryFilter(){this.durationLessThan=null;this.durationGreaterThan=null;this.durationLessThanOrEqual=null;this.durationGreaterThanOrEqual=null;this.durationTypeMatchOr=null}KalturaPlayableEntryFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylist(){this.playlistContent=null;this.filters=null;this.totalResults=null;this.playlistType=null;this.plays=null;this.views=null;this.duration=null}KalturaPlaylist.inheritsFrom(KalturaBaseEntry);function KalturaPlaylistFilter(){}KalturaPlaylistFilter.inheritsFrom(KalturaBaseEntryFilter);function KalturaPlaylistListResponse(){this.objects=null;this.totalCount=null}KalturaPlaylistListResponse.inheritsFrom(KalturaObjectBase);function KalturaPostConvertJobData(){this.srcFileSyncLocalPath=null;this.flavorAssetId=null;this.createThumb=null;this.thumbPath=null;this.thumbOffset=null;this.thumbHeight=null;this.thumbBitrate=null;this.flavorParamsOutputId=null}KalturaPostConvertJobData.inheritsFrom(KalturaJobData);function KalturaPreviewRestriction(){this.previewLength=null}KalturaPreviewRestriction.inheritsFrom(KalturaSessionRestriction);function KalturaPullJobData(){this.srcFileUrl=null;this.destFileLocalPath=null}KalturaPullJobData.inheritsFrom(KalturaJobData);function KalturaRemoteConvertJobData(){this.srcFileUrl=null;this.destFileUrl=null}KalturaRemoteConvertJobData.inheritsFrom(KalturaConvartableJobData);function KalturaReportGraph(){this.id=null;this.data=null}KalturaReportGraph.inheritsFrom(KalturaObjectBase);function KalturaReportInputFilter(){this.fromDate=null;this.toDate=null;this.keywords=null;this.searchInTags=null;this.searchInAdminTags=null;this.categories=null}KalturaReportInputFilter.inheritsFrom(KalturaObjectBase);function KalturaReportTable(){this.header=null;this.data=null;this.totalCount=null}KalturaReportTable.inheritsFrom(KalturaObjectBase);function KalturaReportTotal(){this.header=null;this.data=null}KalturaReportTotal.inheritsFrom(KalturaObjectBase);function KalturaSearch(){this.keyWords=null;this.searchSource=null;this.mediaType=null;this.extraData=null;this.authData=null}KalturaSearch.inheritsFrom(KalturaObjectBase);function KalturaSearchAuthData(){this.authData=null;this.loginUrl=null;this.message=null}KalturaSearchAuthData.inheritsFrom(KalturaObjectBase);function KalturaSearchResult(){this.id=null;this.title=null;this.thumbUrl=null;this.description=null;this.tags=null;this.url=null;this.sourceLink=null;this.credit=null;this.licenseType=null;this.flashPlaybackType=null}KalturaSearchResult.inheritsFrom(KalturaSearch);function KalturaSearchResultResponse(){this.objects=null;this.needMediaInfo=null}KalturaSearchResultResponse.inheritsFrom(KalturaObjectBase);function KalturaSessionRestriction(){}KalturaSessionRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaSiteRestriction(){this.siteRestrictionType=null;this.siteList=null}KalturaSiteRestriction.inheritsFrom(KalturaBaseRestriction);function KalturaStartWidgetSessionResponse(){this.partnerId=null;this.ks=null;this.userId=null}KalturaStartWidgetSessionResponse.inheritsFrom(KalturaObjectBase);function KalturaStatsEvent(){this.clientVer=null;this.eventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.uniqueViewer=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.currentPoint=null;this.duration=null;this.userIp=null;this.processDuration=null;this.controlId=null;this.seek=null;this.newPoint=null;this.referrer=null;this.isFirstInSession=null}KalturaStatsEvent.inheritsFrom(KalturaObjectBase);function KalturaStatsKmcEvent(){this.clientVer=null;this.kmcEventActionPath=null;this.kmcEventType=null;this.eventTimestamp=null;this.sessionId=null;this.partnerId=null;this.entryId=null;this.widgetId=null;this.uiconfId=null;this.userId=null;this.userIp=null}KalturaStatsKmcEvent.inheritsFrom(KalturaObjectBase);function KalturaSyndicationFeedEntryCount(){this.totalEntryCount=null;this.actualEntryCount=null;this.requireTranscodingCount=null}KalturaSyndicationFeedEntryCount.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerConfiguration(){this.host=null;this.cdnHost=null;this.maxBulkSize=null;this.partnerPackage=null}KalturaSystemPartnerConfiguration.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageFilter(){this.fromDate=null;this.toDate=null}KalturaSystemPartnerUsageFilter.inheritsFrom(KalturaFilter);function KalturaSystemPartnerUsageItem(){this.partnerId=null;this.partnerName=null;this.partnerStatus=null;this.partnerPackage=null;this.partnerCreatedAt=null;this.views=null;this.plays=null;this.entriesCount=null;this.totalEntriesCount=null;this.videoEntriesCount=null;this.imageEntriesCount=null;this.audioEntriesCount=null;this.mixEntriesCount=null;this.bandwidth=null;this.totalStorage=null;this.storage=null}KalturaSystemPartnerUsageItem.inheritsFrom(KalturaObjectBase);function KalturaSystemPartnerUsageListResponse(){this.objects=null;this.totalCount=null}KalturaSystemPartnerUsageListResponse.inheritsFrom(KalturaObjectBase);function KalturaSystemUser(){this.id=null;this.email=null;this.firstName=null;this.lastName=null;this.password=null;this.createdBy=null;this.status=null;this.statusUpdatedAt=null;this.createdAt=null}KalturaSystemUser.inheritsFrom(KalturaObjectBase);function KalturaSystemUserFilter(){}KalturaSystemUserFilter.inheritsFrom(KalturaFilter);function KalturaSystemUserListResponse(){this.objects=null;this.totalCount=null}KalturaSystemUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaTubeMogulSyndicationFeed(){this.category=null}KalturaTubeMogulSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaTubeMogulSyndicationFeedFilter(){}KalturaTubeMogulSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaUiConf(){this.id=null;this.name=null;this.description=null;this.partnerId=null;this.objType=null;this.objTypeAsString=null;this.width=null;this.height=null;this.htmlParams=null;this.swfUrl=null;this.confFilePath=null;this.confFile=null;this.confFileFeatures=null;this.confVars=null;this.useCdn=null;this.tags=null;this.swfUrlVersion=null;this.createdAt=null;this.updatedAt=null;this.creationMode=null}KalturaUiConf.inheritsFrom(KalturaObjectBase);function KalturaUiConfFilter(){this.idEqual=null;this.idIn=null;this.nameLike=null;this.objTypeEqual=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null}KalturaUiConfFilter.inheritsFrom(KalturaFilter);function KalturaUiConfListResponse(){this.objects=null;this.totalCount=null}KalturaUiConfListResponse.inheritsFrom(KalturaObjectBase);function KalturaUploadResponse(){this.uploadTokenId=null;this.fileSize=null;this.errorCode=null;this.errorDescription=null}KalturaUploadResponse.inheritsFrom(KalturaObjectBase);function KalturaUser(){this.id=null;this.partnerId=null;this.screenName=null;this.fullName=null;this.email=null;this.dateOfBirth=null;this.country=null;this.state=null;this.city=null;this.zip=null;this.thumbnailUrl=null;this.description=null;this.tags=null;this.adminTags=null;this.gender=null;this.status=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.indexedPartnerDataInt=null;this.indexedPartnerDataString=null;this.storageSize=null}KalturaUser.inheritsFrom(KalturaObjectBase);function KalturaUserFilter(){this.idEqual=null;this.idIn=null;this.partnerIdEqual=null;this.screenNameLike=null;this.screenNameStartsWith=null;this.emailLike=null;this.emailStartsWith=null;this.tagsMultiLikeOr=null;this.tagsMultiLikeAnd=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null}KalturaUserFilter.inheritsFrom(KalturaFilter);function KalturaUserListResponse(){this.objects=null;this.totalCount=null}KalturaUserListResponse.inheritsFrom(KalturaObjectBase);function KalturaWidget(){this.id=null;this.sourceWidgetId=null;this.rootWidgetId=null;this.partnerId=null;this.entryId=null;this.uiConfId=null;this.securityType=null;this.securityPolicy=null;this.createdAt=null;this.updatedAt=null;this.partnerData=null;this.widgetHTML=null}KalturaWidget.inheritsFrom(KalturaObjectBase);function KalturaWidgetFilter(){this.idEqual=null;this.idIn=null;this.sourceWidgetIdEqual=null;this.rootWidgetIdEqual=null;this.partnerIdEqual=null;this.entryIdEqual=null;this.uiConfIdEqual=null;this.createdAtGreaterThanOrEqual=null;this.createdAtLessThanOrEqual=null;this.updatedAtGreaterThanOrEqual=null;this.updatedAtLessThanOrEqual=null;this.partnerDataLike=null}KalturaWidgetFilter.inheritsFrom(KalturaFilter);function KalturaWidgetListResponse(){this.objects=null;this.totalCount=null}KalturaWidgetListResponse.inheritsFrom(KalturaObjectBase);function KalturaYahooSyndicationFeed(){this.category=null;this.adultContent=null;this.feedDescription=null;this.feedLandingPage=null}KalturaYahooSyndicationFeed.inheritsFrom(KalturaBaseSyndicationFeed);function KalturaYahooSyndicationFeedFilter(){}KalturaYahooSyndicationFeedFilter.inheritsFrom(KalturaBaseSyndicationFeedFilter);function KalturaAccessControlService(b){this.init(b)}KalturaAccessControlService.inheritsFrom(KalturaServiceBase);KalturaAccessControlService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"accessControl",toParams(c));this.client.queueServiceActionCall("accessControl","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("accessControl","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"accessControl",toParams(c));this.client.queueServiceActionCall("accessControl","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaAccessControlService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("accessControl","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAccessControlService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("accessControl","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaAdminconsoleService(b){this.init(b)}KalturaAdminconsoleService.inheritsFrom(KalturaServiceBase);KalturaAdminconsoleService.prototype.listBatchJobs=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("adminconsole","listBatchJobs",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaAdminUserService(b){this.init(b)}KalturaAdminUserService.inheritsFrom(KalturaServiceBase);KalturaAdminUserService.prototype.updatePassword=function(g,d,c,e,f){if(!e){e=""}if(!f){f=""}var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.addParam(b,"newEmail",e);this.client.addParam(b,"newPassword",f);this.client.queueServiceActionCall("adminUser","updatePassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaAdminUserService.prototype.resetPassword=function(d,c){var b=new Object();this.client.addParam(b,"email",c);this.client.queueServiceActionCall("adminUser","resetPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaAdminUserService.prototype.login=function(e,d,c){var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("adminUser","login",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaBaseEntryService(b){this.init(b)}KalturaBaseEntryService.inheritsFrom(KalturaServiceBase);KalturaBaseEntryService.prototype.addFromUploadedFile=function(f,e,d,c){if(!c){c=-1}var b=new Object();this.client.addParam(b,"entry",toParams(e));this.client.addParam(b,"uploadTokenId",d);this.client.addParam(b,"type",c);this.client.queueServiceActionCall("baseEntry","addFromUploadedFile",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaBaseEntryService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("baseEntry","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"baseEntry",toParams(c));this.client.queueServiceActionCall("baseEntry","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.getByIds=function(d,c){var b=new Object();this.client.addParam(b,"entryIds",c);this.client.queueServiceActionCall("baseEntry","getByIds",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("baseEntry","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("baseEntry","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("baseEntry","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.updateThumbnailJpeg=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("baseEntry","updateThumbnailJpeg",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.updateThumbnailFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"url",c);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.updateThumbnailFromSourceEntry=function(f,e,d,b){var c=new Object();this.client.addParam(c,"entryId",e);this.client.addParam(c,"sourceEntryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("baseEntry","updateThumbnailFromSourceEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaBaseEntryService.prototype.flag=function(d,c){var b=new Object();this.client.addParam(b,"moderationFlag",toParams(c));this.client.queueServiceActionCall("baseEntry","flag",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.reject=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","reject",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.approve=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("baseEntry","approve",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBaseEntryService.prototype.listFlags=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"entryId",d);if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("baseEntry","listFlags",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("baseEntry","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBaseEntryService.prototype.getContextData=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"contextDataParams",toParams(d));this.client.queueServiceActionCall("baseEntry","getContextData",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaBulkUploadService(b){this.init(b)}KalturaBulkUploadService.inheritsFrom(KalturaServiceBase);KalturaBulkUploadService.prototype.add=function(e,d,c){var b=new Object();this.client.addParam(b,"conversionProfileId",d);kfiles=new Object();this.client.addParam(kfiles,"csvFileData",c);this.client.queueServiceActionCall("bulkUpload","add",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaBulkUploadService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("bulkUpload","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaBulkUploadService.prototype.listAction=function(d,b){if(!b){b=null}var c=new Object();if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("bulkUpload","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaCategoryService(b){this.init(b)}KalturaCategoryService.inheritsFrom(KalturaServiceBase);KalturaCategoryService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"category",toParams(c));this.client.queueServiceActionCall("category","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("category","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"category",toParams(c));this.client.queueServiceActionCall("category","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaCategoryService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("category","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaCategoryService.prototype.listAction=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("category","list",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaConversionProfileService(b){this.init(b)}KalturaConversionProfileService.inheritsFrom(KalturaServiceBase);KalturaConversionProfileService.prototype.add=function(d,b){var c=new Object();this.client.addParam(c,"conversionProfile",toParams(b));this.client.queueServiceActionCall("conversionProfile","add",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("conversionProfile","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"id",d);this.client.addParam(c,"conversionProfile",toParams(b));this.client.queueServiceActionCall("conversionProfile","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaConversionProfileService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("conversionProfile","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaConversionProfileService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("conversionProfile","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaDataService(b){this.init(b)}KalturaDataService.inheritsFrom(KalturaServiceBase);KalturaDataService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"dataEntry",toParams(c));this.client.queueServiceActionCall("data","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("data","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaDataService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"documentEntry",toParams(b));this.client.queueServiceActionCall("data","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaDataService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("data","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaDataService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("data","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaFlavorAssetService(b){this.init(b)}KalturaFlavorAssetService.inheritsFrom(KalturaServiceBase);KalturaFlavorAssetService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getByEntryId=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getByEntryId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getWebPlayableByEntryId=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getWebPlayableByEntryId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.convert=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"flavorParamsId",c);this.client.queueServiceActionCall("flavorAsset","convert",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorAssetService.prototype.reconvert=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","reconvert",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getDownloadUrl=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorAsset","getDownloadUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorAssetService.prototype.getFlavorAssetsWithParams=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("flavorAsset","getFlavorAssetsWithParams",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFlavorParamsService(b){this.init(b)}KalturaFlavorParamsService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"flavorParams",toParams(c));this.client.queueServiceActionCall("flavorParams","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorParams","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"flavorParams",toParams(c));this.client.queueServiceActionCall("flavorParams","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorParamsService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("flavorParams","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaFlavorParamsService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("flavorParams","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaFlavorParamsService.prototype.getByConversionProfileId=function(d,c){var b=new Object();this.client.addParam(b,"conversionProfileId",c);this.client.queueServiceActionCall("flavorParams","getByConversionProfileId",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaMediaService(b){this.init(b)}KalturaMediaService.inheritsFrom(KalturaServiceBase);KalturaMediaService.prototype.addFromBulk=function(f,e,c,d){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(e));this.client.addParam(b,"url",c);this.client.addParam(b,"bulkUploadId",d);this.client.queueServiceActionCall("media","addFromBulk",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMediaService.prototype.addFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"url",c);this.client.queueServiceActionCall("media","addFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromSearchResult=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"mediaEntry",toParams(d))}if(b!=null){this.client.addParam(c,"searchResult",toParams(b))}this.client.queueServiceActionCall("media","addFromSearchResult",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromUploadedFile=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"uploadTokenId",c);this.client.queueServiceActionCall("media","addFromUploadedFile",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.addFromRecordedWebcam=function(e,d,c){var b=new Object();this.client.addParam(b,"mediaEntry",toParams(d));this.client.addParam(b,"webcamTokenId",c);this.client.queueServiceActionCall("media","addFromRecordedWebcam",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("media","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.update=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"mediaEntry",toParams(d));this.client.queueServiceActionCall("media","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("media","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("media","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("media","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.updateThumbnail=function(e,d,b){var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("media","updateThumbnail",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.updateThumbnailFromSourceEntry=function(f,e,d,b){var c=new Object();this.client.addParam(c,"entryId",e);this.client.addParam(c,"sourceEntryId",d);this.client.addParam(c,"timeOffset",b);this.client.queueServiceActionCall("media","updateThumbnailFromSourceEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMediaService.prototype.updateThumbnailJpeg=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("media","updateThumbnailJpeg",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.updateThumbnailFromUrl=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"url",c);this.client.queueServiceActionCall("media","updateThumbnailFromUrl",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.requestConversion=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"fileFormat",d);this.client.queueServiceActionCall("media","requestConversion",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.flag=function(d,c){var b=new Object();this.client.addParam(b,"moderationFlag",toParams(c));this.client.queueServiceActionCall("media","flag",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.reject=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","reject",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.approve=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("media","approve",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMediaService.prototype.listFlags=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"entryId",d);if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("media","listFlags",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMediaService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("media","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaMixingService(b){this.init(b)}KalturaMixingService.inheritsFrom(KalturaServiceBase);KalturaMixingService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"mixEntry",toParams(c));this.client.queueServiceActionCall("mixing","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.update=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"mixEntry",toParams(d));this.client.queueServiceActionCall("mixing","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("mixing","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("mixing","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.count=function(d,c){if(!c){c=null}var b=new Object();if(c!=null){this.client.addParam(b,"filter",toParams(c))}this.client.queueServiceActionCall("mixing","count",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"entryId",c);this.client.queueServiceActionCall("mixing","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.appendMediaEntry=function(e,d,b){var c=new Object();this.client.addParam(c,"mixEntryId",d);this.client.addParam(c,"mediaEntryId",b);this.client.queueServiceActionCall("mixing","appendMediaEntry",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.requestFlattening=function(f,d,e,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"fileFormat",e);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","requestFlattening",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaMixingService.prototype.getMixesByMediaId=function(d,b){var c=new Object();this.client.addParam(c,"mediaEntryId",b);this.client.queueServiceActionCall("mixing","getMixesByMediaId",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaMixingService.prototype.getReadyMediaEntries=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"mixId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("mixing","getReadyMediaEntries",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaMixingService.prototype.anonymousRank=function(e,c,d){var b=new Object();this.client.addParam(b,"entryId",c);this.client.addParam(b,"rank",d);this.client.queueServiceActionCall("mixing","anonymousRank",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaNotificationService(b){this.init(b)}KalturaNotificationService.inheritsFrom(KalturaServiceBase);KalturaNotificationService.prototype.getClientNotification=function(e,d,c){var b=new Object();this.client.addParam(b,"entryId",d);this.client.addParam(b,"type",c);this.client.queueServiceActionCall("notification","getClientNotification",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaPartnerService(b){this.init(b)}KalturaPartnerService.inheritsFrom(KalturaServiceBase);KalturaPartnerService.prototype.register=function(e,d,b){if(!b){b=""}var c=new Object();this.client.addParam(c,"partner",toParams(d));this.client.addParam(c,"cmsPassword",b);this.client.queueServiceActionCall("partner","register",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPartnerService.prototype.update=function(e,c,d){if(!d){d=false}var b=new Object();this.client.addParam(b,"partner",toParams(c));this.client.addParam(b,"allowEmpty",d);this.client.queueServiceActionCall("partner","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPartnerService.prototype.getSecrets=function(f,e,d,b){var c=new Object();this.client.addParam(c,"partnerId",e);this.client.addParam(c,"adminEmail",d);this.client.addParam(c,"cmsPassword",b);this.client.queueServiceActionCall("partner","getSecrets",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPartnerService.prototype.getInfo=function(c){var b=new Object();this.client.queueServiceActionCall("partner","getInfo",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaPartnerService.prototype.getUsage=function(f,d,e,c){if(!d){d=""}if(!e){e=1}if(!c){c="days"}var b=new Object();this.client.addParam(b,"year",d);this.client.addParam(b,"month",e);this.client.addParam(b,"resolution",c);this.client.queueServiceActionCall("partner","getUsage",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};function KalturaPlaylistService(b){this.init(b)}KalturaPlaylistService.inheritsFrom(KalturaServiceBase);KalturaPlaylistService.prototype.add=function(e,d,c){if(!c){c=false}var b=new Object();this.client.addParam(b,"playlist",toParams(d));this.client.addParam(b,"updateStats",c);this.client.queueServiceActionCall("playlist","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"id",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("playlist","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.update=function(f,e,d,c){if(!c){c=false}var b=new Object();this.client.addParam(b,"id",e);this.client.addParam(b,"playlist",toParams(d));this.client.addParam(b,"updateStats",c);this.client.queueServiceActionCall("playlist","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPlaylistService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("playlist","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaPlaylistService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("playlist","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.execute=function(e,d,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"detailed",c);this.client.queueServiceActionCall("playlist","execute",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaPlaylistService.prototype.executeFromContent=function(f,e,b,d){if(!d){d=""}var c=new Object();this.client.addParam(c,"playlistType",e);this.client.addParam(c,"playlistContent",b);this.client.addParam(c,"detailed",d);this.client.queueServiceActionCall("playlist","executeFromContent",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaPlaylistService.prototype.executeFromFilters=function(j,f,b,e){if(!e){e=""}var d=new Object();for(var c in f){var g=f[c];this.client.addParam(d,"filters:"+c,toParams(g))}this.client.addParam(d,"totalResults",b);this.client.addParam(d,"detailed",e);this.client.queueServiceActionCall("playlist","executeFromFilters",d);if(!this.client.isMultiRequest()){this.client.doQueue(j)}};KalturaPlaylistService.prototype.getStatsFromContent=function(e,d,b){var c=new Object();this.client.addParam(c,"playlistType",d);this.client.addParam(c,"playlistContent",b);this.client.queueServiceActionCall("playlist","getStatsFromContent",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaReportService(b){this.init(b)}KalturaReportService.inheritsFrom(KalturaServiceBase);KalturaReportService.prototype.getGraphs=function(g,b,e,f,d){if(!f){f=""}if(!d){d=""}var c=new Object();this.client.addParam(c,"reportType",b);this.client.addParam(c,"reportInputFilter",toParams(e));this.client.addParam(c,"dimension",f);this.client.addParam(c,"objectIds",d);this.client.queueServiceActionCall("report","getGraphs",c);if(!this.client.isMultiRequest()){this.client.doQueue(g)}};KalturaReportService.prototype.getTotal=function(f,b,e,d){if(!d){d=""}var c=new Object();this.client.addParam(c,"reportType",b);this.client.addParam(c,"reportInputFilter",toParams(e));this.client.addParam(c,"objectIds",d);this.client.queueServiceActionCall("report","getTotal",c);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaReportService.prototype.getTable=function(j,d,g,c,b,f){if(!b){b=""}if(!f){f=""}var e=new Object();this.client.addParam(e,"reportType",d);this.client.addParam(e,"reportInputFilter",toParams(g));this.client.addParam(e,"pager",toParams(c));this.client.addParam(e,"order",b);this.client.addParam(e,"objectIds",f);this.client.queueServiceActionCall("report","getTable",e);if(!this.client.isMultiRequest()){this.client.doQueue(j)}};KalturaReportService.prototype.getUrlForReportAsCsv=function(n,b,m,d,k,l,j,f,e,c){if(!j){j=""}if(!f){f=null}if(!e){e=""}if(!c){c=""}var g=new Object();this.client.addParam(g,"reportTitle",b);this.client.addParam(g,"reportText",m);this.client.addParam(g,"headers",d);this.client.addParam(g,"reportType",k);this.client.addParam(g,"reportInputFilter",toParams(l));this.client.addParam(g,"dimension",j);if(f!=null){this.client.addParam(g,"pager",toParams(f))}this.client.addParam(g,"order",e);this.client.addParam(g,"objectIds",c);this.client.queueServiceActionCall("report","getUrlForReportAsCsv",g);if(!this.client.isMultiRequest()){this.client.doQueue(n)}};function KalturaSearchService(b){this.init(b)}KalturaSearchService.inheritsFrom(KalturaServiceBase);KalturaSearchService.prototype.search=function(e,d,b){if(!b){b=null}var c=new Object();this.client.addParam(c,"search",toParams(d));if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("search","search",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSearchService.prototype.getMediaInfo=function(d,b){var c=new Object();this.client.addParam(c,"searchResult",toParams(b));this.client.queueServiceActionCall("search","getMediaInfo",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSearchService.prototype.searchUrl=function(e,b,d){var c=new Object();this.client.addParam(c,"mediaType",b);this.client.addParam(c,"url",d);this.client.queueServiceActionCall("search","searchUrl",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSearchService.prototype.externalLogin=function(f,e,d,c){var b=new Object();this.client.addParam(b,"searchSource",e);this.client.addParam(b,"userName",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("search","externalLogin",b);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};function KalturaSessionService(b){this.init(b)}KalturaSessionService.inheritsFrom(KalturaServiceBase);KalturaSessionService.prototype.start=function(k,b,f,g,j,e,d){if(!f){f=""}if(!g){g=0}if(!j){j=-1}if(!e){e=86400}if(!d){d=""}var c=new Object();this.client.addParam(c,"secret",b);this.client.addParam(c,"userId",f);this.client.addParam(c,"type",g);this.client.addParam(c,"partnerId",j);this.client.addParam(c,"expiry",e);this.client.addParam(c,"privileges",d);this.client.queueServiceActionCall("session","start",c);if(!this.client.isMultiRequest()){this.client.doQueue(k)}};KalturaSessionService.prototype.startWidgetSession=function(e,d,c){if(!c){c=86400}var b=new Object();this.client.addParam(b,"widgetId",d);this.client.addParam(b,"expiry",c);this.client.queueServiceActionCall("session","startWidgetSession",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaStatsService(b){this.init(b)}KalturaStatsService.inheritsFrom(KalturaServiceBase);KalturaStatsService.prototype.collect=function(d,c){var b=new Object();this.client.addParam(b,"event",toParams(c));this.client.queueServiceActionCall("stats","collect",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaStatsService.prototype.kmcCollect=function(d,c){var b=new Object();this.client.addParam(b,"kmcEvent",toParams(c));this.client.queueServiceActionCall("stats","kmcCollect",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaStatsService.prototype.reportKceError=function(d,c){var b=new Object();this.client.addParam(b,"kalturaCEError",toParams(c));this.client.queueServiceActionCall("stats","reportKceError",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSyndicationFeedService(b){this.init(b)}KalturaSyndicationFeedService.inheritsFrom(KalturaServiceBase);KalturaSyndicationFeedService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"syndicationFeed",toParams(c));this.client.queueServiceActionCall("syndicationFeed","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("syndicationFeed","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"syndicationFeed",toParams(c));this.client.queueServiceActionCall("syndicationFeed","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSyndicationFeedService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("syndicationFeed","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("syndicationFeed","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSyndicationFeedService.prototype.getEntryCount=function(d,b){var c=new Object();this.client.addParam(c,"feedId",b);this.client.queueServiceActionCall("syndicationFeed","getEntryCount",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSyndicationFeedService.prototype.requestConversion=function(d,b){var c=new Object();this.client.addParam(c,"feedId",b);this.client.queueServiceActionCall("syndicationFeed","requestConversion",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaSystemService(b){this.init(b)}KalturaSystemService.inheritsFrom(KalturaServiceBase);KalturaSystemService.prototype.ping=function(c){var b=new Object();this.client.queueServiceActionCall("system","ping",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};function KalturaUiConfService(b){this.init(b)}KalturaUiConfService.inheritsFrom(KalturaServiceBase);KalturaUiConfService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"uiConf",toParams(c));this.client.queueServiceActionCall("uiConf","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"uiConf",toParams(c));this.client.queueServiceActionCall("uiConf","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUiConfService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("uiConf","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUiConfService.prototype.listTemplates=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("uiConf","listTemplates",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUiConfService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("uiConf","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaUploadService(b){this.init(b)}KalturaUploadService.inheritsFrom(KalturaServiceBase);KalturaUploadService.prototype.upload=function(d,c){var b=new Object();kfiles=new Object();this.client.addParam(kfiles,"fileData",c);this.client.queueServiceActionCall("upload","upload",b,kfiles);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUploadService.prototype.getUploadedFileTokenByFileName=function(d,c){var b=new Object();this.client.addParam(b,"fileName",c);this.client.queueServiceActionCall("upload","getUploadedFileTokenByFileName",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaUserService(b){this.init(b)}KalturaUserService.inheritsFrom(KalturaServiceBase);KalturaUserService.prototype.add=function(d,b){var c=new Object();this.client.addParam(c,"user",toParams(b));this.client.queueServiceActionCall("user","add",c);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.update=function(e,d,b){var c=new Object();this.client.addParam(c,"userId",d);this.client.addParam(c,"user",toParams(b));this.client.queueServiceActionCall("user","update",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUserService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaUserService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("user","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaUserService.prototype.notifyBan=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("user","notifyBan",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaWidgetService(b){this.init(b)}KalturaWidgetService.inheritsFrom(KalturaServiceBase);KalturaWidgetService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"id",d);this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaWidgetService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"id",c);this.client.queueServiceActionCall("widget","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.cloneAction=function(d,c){var b=new Object();this.client.addParam(b,"widget",toParams(c));this.client.queueServiceActionCall("widget","clone",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaWidgetService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("widget","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaXInternalService(b){this.init(b)}KalturaXInternalService.inheritsFrom(KalturaServiceBase);KalturaXInternalService.prototype.xAddBulkDownload=function(e,d,c){if(!c){c=""}var b=new Object();this.client.addParam(b,"entryIds",d);this.client.addParam(b,"flavorParamsId",c);this.client.queueServiceActionCall("xInternal","xAddBulkDownload",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaSystemUserService(b){this.init(b)}KalturaSystemUserService.inheritsFrom(KalturaServiceBase);KalturaSystemUserService.prototype.verifyPassword=function(e,d,c){var b=new Object();this.client.addParam(b,"email",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("systemUser","verifyPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.generateNewPassword=function(c){var b=new Object();this.client.queueServiceActionCall("systemUser","generateNewPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(c)}};KalturaSystemUserService.prototype.setNewPassword=function(e,d,c){var b=new Object();this.client.addParam(b,"userId",d);this.client.addParam(b,"password",c);this.client.queueServiceActionCall("systemUser","setNewPassword",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.add=function(d,c){var b=new Object();this.client.addParam(b,"systemUser",toParams(c));this.client.queueServiceActionCall("systemUser","add",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("systemUser","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.getByEmail=function(d,c){var b=new Object();this.client.addParam(b,"email",c);this.client.queueServiceActionCall("systemUser","getByEmail",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.update=function(e,d,c){var b=new Object();this.client.addParam(b,"userId",d);this.client.addParam(b,"systemUser",toParams(c));this.client.queueServiceActionCall("systemUser","update",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemUserService.prototype.deleteAction=function(d,c){var b=new Object();this.client.addParam(b,"userId",c);this.client.queueServiceActionCall("systemUser","delete",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemUserService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("systemUser","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaSystemPartnerService(b){this.init(b)}KalturaSystemPartnerService.inheritsFrom(KalturaServiceBase);KalturaSystemPartnerService.prototype.get=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","get",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.getUsage=function(f,c,e,b){if(!c){c=null}if(!e){e=null}if(!b){b=null}var d=new Object();if(c!=null){this.client.addParam(d,"partnerFilter",toParams(c))}if(e!=null){this.client.addParam(d,"usageFilter",toParams(e))}if(b!=null){this.client.addParam(d,"pager",toParams(b))}this.client.queueServiceActionCall("systemPartner","getUsage",d);if(!this.client.isMultiRequest()){this.client.doQueue(f)}};KalturaSystemPartnerService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("systemPartner","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.updateStatus=function(e,d,b){var c=new Object();this.client.addParam(c,"partnerId",d);this.client.addParam(c,"status",b);this.client.queueServiceActionCall("systemPartner","updateStatus",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.getAdminSession=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","getAdminSession",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};KalturaSystemPartnerService.prototype.updateConfiguration=function(e,c,d){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.addParam(b,"configuration",toParams(d));this.client.queueServiceActionCall("systemPartner","updateConfiguration",b);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};KalturaSystemPartnerService.prototype.getConfiguration=function(d,c){var b=new Object();this.client.addParam(b,"partnerId",c);this.client.queueServiceActionCall("systemPartner","getConfiguration",b);if(!this.client.isMultiRequest()){this.client.doQueue(d)}};function KalturaFileSyncService(b){this.init(b)}KalturaFileSyncService.inheritsFrom(KalturaServiceBase);KalturaFileSyncService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("fileSync","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaFlavorParamsOutputService(b){this.init(b)}KalturaFlavorParamsOutputService.inheritsFrom(KalturaServiceBase);KalturaFlavorParamsOutputService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("flavorParamsOutput","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaMediaInfoService(b){this.init(b)}KalturaMediaInfoService.inheritsFrom(KalturaServiceBase);KalturaMediaInfoService.prototype.listAction=function(e,d,b){if(!d){d=null}if(!b){b=null}var c=new Object();if(d!=null){this.client.addParam(c,"filter",toParams(d))}if(b!=null){this.client.addParam(c,"pager",toParams(b))}this.client.queueServiceActionCall("mediaInfo","list",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};function KalturaEntryAdminService(b){this.init(b)}KalturaEntryAdminService.inheritsFrom(KalturaServiceBase);KalturaEntryAdminService.prototype.get=function(e,d,b){if(!b){b=-1}var c=new Object();this.client.addParam(c,"entryId",d);this.client.addParam(c,"version",b);this.client.queueServiceActionCall("entryAdmin","get",c);if(!this.client.isMultiRequest()){this.client.doQueue(e)}};(function(){var b=function(){if(window.console&&console.log){console.log(Array.prototype.slice.call(arguments))}};tinymce.create("tinymce.plugins.Kaltura",{init:function(d,e){var c=this;var g=this;this._url=e;this.editor=d;this.entry_ids=[];d.onInit.add(function(){});function j(k){return/^mceItemFlash$/.test(k.className)}d.addCommand("mceKaltura",function(){b("button pressed");var k=function(m,l){if(m){b("We have a session",l);c.session_key=l;c.flashVars={uid:c.local_user,partnerId:c.partner_id,ks:l,afterAddEntry:"_onContributionWizardAddEntry",close:"_onContributionWizardClose",showCloseButton:true,Permissions:1};window._onContributionWizardAddEntry=function(n){c._onContributionWizardAddEntry(n)},window._onContributionWizardClose=function(){c._onContributionWizardClose()},this.entry_ids=[];c._createDialog();c.dialog.dialog("open")}else{alert("Session creation failed")}};c._requestKalturaSession(k);b("session requested")});d.addButton("kaltura",{title:"kaltura.kaltura_button_desc",image:e+"/images/interactive_video_button.gif",cmd:"mceKaltura"});d.onNodeChange.add(function(l,k,m){k.setActive("kaltura",m.nodeName=="IMG"&&j(m))});d.onInit.add(function(){if(d.settings.content_css!==false){d.dom.loadCSS(e+"/css/content.css")}if(d&&d.plugins.contextmenu){d.plugins.contextmenu.onContextMenu.add(function(l,k,n){if(n.nodeName=="IMG"&&/mceItemFlash/.test(n.className)){k.add({title:"media.edit",icon:"media",cmd:"mceEmbedMedia"})}})}});d.onBeforeSetContent.add(function(l,q){var n=g.newEmbedSnippet();var m=q.content;var k=n._objectsToSpans(m);q.content=k},g);d.onSetContent.add(function(){var k=$(d.getBody());k.find("span.mceItemEmbed,span.mceItemObject").each(function(){var r=$(this);if(r.is("span.mceItemEmbed")&&r.parent().is("span.mceItemObject")){return}var o=g.newEmbedSnippet();var n;if($.browser.msie){n=r[0].outerHTML}else{var q=$("<div />");q.append(r.clone());n=q[0].innerHTML;q.remove()}var m=o._spansToObjects(n);var l=$("<img />").attr("src",g.url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",m).attr("width",r.attr("width")).attr("height",r.attr("height"));l=$("<div />").append(l).html();r.replaceWith(l)});k.find("span.mceEndObject").remove()});function f(k,l){l=new RegExp(l+'="([^"]+)"',"g").exec(k);return l?d.dom.decode(l[1]):""}d.onPostProcess.add(function(k,l){l.content=l.content.replace(/<img[^>]+>/g,function(n){var m=f(n,"class");if(m=="mceMarker-embedmedia"){var o=g.newEmbedSnippet();o.setContent(f(n,"title"));o.setParms({width:f(n,"width"),height:f(n,"height")});n=o.getContent();o.wrapper.remove()}return n})})},newEmbedSnippet:function(){var d=function d(){};$.extend(d.prototype,{_objectsToSpans:function(e){e=e.replace(/<object([^>]*)>/gi,'<span class="mceItemObject"$1>');e=e.replace(/<embed([^>]*)\/?>/gi,'<span class="mceItemEmbed"$1></span>');e=e.replace(/<embed([^>]*)>/gi,'<span class="mceItemEmbed"$1>');e=e.replace(/<\/(object)([^>]*)>/gi,'<span class="mceEndObject"></span></span>');e=e.replace(/<\/embed>/gi,"");e=e.replace(/<param([^>]*)\/?>/gi,'<span class="mceItemParam"$1></span>');e=e.replace(/<\/param>/gi,"");return e},_spansToObjects:function(e){e=e.replace(/<span([^>]*) class="?mceItemParam"?([^>]*)><\/span>/gi,"<param$1 $2></param>");e=e.replace(/<span([^>]*) class="?mceItemEmbed"?([^>]*)><\/span>/gi,"<embed$1 $2></embed>");e=e.replace(/<span([^>]*) class="?mceItemObject"?([^>]*)>/gi,"<object$1 $2>");e=e.replace(/<span class="?mceEndObject"?><\/span><\/span>/gi,"</object>");return e},setContent:function(k){this.wrapper=$("<div />");var m=this.wrapper;var j=this._objectsToSpans(k);m[0].innerHTML=j;this.root=m.children();var g=this.root;this.emtype=null;if(g.is("span.mceItemObject")){var f=g.find("span.mceItemEmbed");if(f){this.emtype="object+embed";this.inside=f;if(f.attr("mce_src")){f.removeAttr("mce_src")}}var l=["allowScriptAccess","allowNetworking","allowFullScreen","bgcolor","movie","flashVars"];var e=[];$.each(l,function(n,q){var o=false;g.find("span.mceItemParam").each(function(r,s){a=$(s).attr("name");if(a==q||a==q.toLowerCase()){o=true;return false}});if(!o){if(g.attr(q)){e.push({k:q,v:g.attr(q)})}else{if(g.attr(q.toLowerCase())){e.push({k:q,v:g.attr(q.toLowerCase())})}else{if(q=="movie"){if(g.attr("resource")){e.push({k:q,v:g.attr("resource")})}}}}}});$.each(e,function(n,o){try{$('<span class="mceItemParam"></span>').attr("name",o.k).attr("value",o.v).prependTo(g)}catch(q){}})}if(g.attr("mce_src")){g.removeAttr("mce_src")}return this},getContent:function(){var e=this.wrapper.html();var f=this._spansToObjects(e);return f},getParms:function(){return{width:this.root.attr("width"),height:this.root.attr("height")}},setParms:function(e){if(this.emtype=="object+embed"){e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height);e.width&&this.inside.attr("width",e.width);e.height&&this.inside.attr("height",e.height)}else{e.width&&this.root.attr("width",e.width);e.height&&this.root.attr("height",e.height)}return this}});this.newEmbedSnippet=function c(){return new d()};return this.newEmbedSnippet()},getJQuery:function(){return window.jQuery},_requestKalturaSession:function(l){var e=this;if(this.session_key){l(true,this.session_key)}else{this.partner_id=this.editor.getParam("kaltura_partner_id");this.sub_partner_id=this.editor.getParam("kaltura_sub_partner_id");var d=this.editor.getParam("kaltura_user_secret","");var k=this.editor.getParam("kaltura_admin_secret","");var j=this.editor.getParam("kaltura_session_url","");this.local_user=this.editor.getParam("kaltura_local_user","ANONYMOUS");var j=this.editor.getParam("kaltura_session_url","");this.kcw_uiconf_id=this.editor.getParam("kaltura_kcw_uiconf_id","1000741");this.player_uiconf_id=this.editor.getParam("kaltura_player_uiconf_id","");this.player_cache_st=this.editor.getParam("kaltura_player_cache_st","");var g=true;if(j){b("Start server session");$.ajax({url:j,success:function(m){if(m.error){b("Ajax returned error",m);l(false)}else{l(true,m.result.ks)}},error:function(n,m,o){b("Ajax failed",n,m,o);l(false)}})}else{b("Start client session");var f=new KalturaConfiguration(Number(this.partner_id));var c=new KalturaClient(f);this.session=new KalturaSessionService(c);this.session.start(function(n,m){if(n){b("session created",m);e.session_key=m}l(n,m)},g&&k||d,e.local_user,g&&KalturaSessionType.ADMIN||KalturaSessionType.USER,e.partner_id,undefined,undefined)}}},_createDialog:function(){if(!this.dialog){this.dialog=$('<div id="tiny-kaltura-kcw"></div>');this.dialog.hide().appendTo("body");this.dialog.dialog({width:680,dialogClass:"tiny-kaltura-dialog",autoOpen:false,modal:true,bgiframe:true,hide:"fold"});var c=this.dialog.css("border","0").css("padding","0").css("overflow","hidden").parents(".ui-dialog");c.removeClass("ui-dialog-content").css("overflow","hidden");c.find(".ui-dialog-titlebar-close").eq(0).appendTo(this.dialog.find(".tiny-imagedrawer-panel-top")).removeClass("ui-dialog-titlebar-close").addClass("tiny-imagedrawer-button-close");var d=new SWFObject("http://www.kaltura.com/kcw/ui_conf_id/"+this.kcw_uiconf_id,"kcw","680","360","9.0.0","#FFFFFF");d.addParam("allowScriptAccess","always");d.addParam("allowNetworking","all");d.addParam("wmode","opaque");$.each(this.flashVars,function(e,f){d.addVariable(e,f)});d.useExpressInstall("expressInstall.swf");d.write("tiny-kaltura-kcw")}},_onContributionWizardAddEntry:function(c){b(c.length+" media file/s was/were successfully uploaded");for(var d=0;d<c.length;d++){b("entries["+d+"]:EntryID = "+c[d].entryId);b("entries["+d+"]:",c[d]);this.entry_ids.push(c[d].entryId)}},_onContributionWizardClose:function(){var c=this;this.dialog.dialog("close");b("closed Kaltura Contribution Wizard");if(this.entry_ids.length==0){b("No entry.");return}b("Will insert videos #:",this.entry_ids.length);$.each(this.entry_ids,function(e){if(e>0){c.editor.execCommand("mceInsertContent",false,"<br>")}var d=this;b("Inserting entry id",d,e);c._insertMedia({entry_id:d})});this.editor.execCommand("mceRepaint");b("Success with insertion.")},createControl:function(d,c){return null},_makeKalturaMarkup:function(d){d.width=d.width||400;d.height=d.height||333;var c='<objectid="kaltura_player"name="kaltura_player"type="application/x-shockwave-flash"allowfullscreen="true"allownetworking="all"allowscriptaccess="always"xmlns:dc="http://purl.org/dc/terms/"xmlns:media="http://search.yahoo.com/searchmonkey/media/"rel="media:video"resource="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"data="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"height="'+d.height+'"width="'+d.width+'"><param name="allowFullScreen" value="true"><param name="allowNetworking" value="all"><param name="allowScriptAccess" value="always"><param name="bgcolor" value="#000000"><param name="flashVars" value="&amp;"><param name="movie" value="http://www.kaltura.com/index.php/kwidget/cache_st/'+this.player_cache_st+"/wid/_"+this.partner_id+"/uiconf_id/"+this.player_uiconf_id+"/entry_id/"+d.entry_id+'"><a href="http://corp.kaltura.com">video platform</a><a href="http://corp.kaltura.com/video_platform/video_management">video management</a><a href="http://corp.kaltura.com/solutions/video_solution">video solutions</a><a href="http://corp.kaltura.com/video_platform/video_publishing">video player</a><a rel="media:thumbnail" href="http://cdnbakmi.kaltura.com/p/'+this.partner_id+"/sp/"+this.sub_partner_id+"/thumbnail/entry_id/"+d.entry_id+'/width/120/height/90/bgcolor/000000/type/2"></a><span property="media:width" content="'+d.width+'"></span><span property="media:height" content="'+d.height+'"></span><span property="media:type" content="application/x-shockwave-flash"></span></object>';return c},_insertMedia:function(d){var e=this._makeKalturaMarkup(d);var g=this.newEmbedSnippet();g.setContent(e);var f=g.getParms();var c=$("<img />").attr("src",this._url+"/images/trans.gif").addClass("mceItemFlash").addClass("mceMarker-embedmedia").attr("title",g.getContent()).attr("width",f.width).attr("height",f.height);h=$("<div />").append(c).html();b("Will insert:",h);this.editor.execCommand("mceInsertContent",false,h)},getInfo:function(){return{longname:"All in One Video Pack",author:"Kaltura",authorurl:"http://www.kaltura.com",infourl:"http://corp.kaltura.com",version:"1.0"}}});tinymce.PluginManager.add("kaltura",tinymce.plugins.Kaltura);tinymce.PluginManager.requireLangPack("kaltura")})();tinyMCE.addI18n("en.kaltura",{kaltura_button_desc:"Insert/edit Kaltura video"});(function(){var b=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(c,d){var e=this;e.editor=c;function f(j){var g=[];b(j.split(/,/),function(k){g.push({title:"advlist."+(k=="default"?"def":k.replace(/-/g,"_")),styles:{listStyleType:k=="default"?"":k}})});return g}e.numlist=c.getParam("advlist_number_styles")||f("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");e.bullist=c.getParam("advlist_bullet_styles")||f("default,circle,disc,square")},createControl:function(e,c){var g=this,f,k;if(e=="numlist"||e=="bullist"){if(g[e][0].title=="advlist.def"){k=g[e][0]}function d(l,n){var m=true;b(n.styles,function(q,o){if(g.editor.dom.getStyle(l,o)!=q){m=false;return false}});return m}function j(){var n,l=g.editor,o=l.dom,m=l.selection;n=o.getParent(m.getNode(),"ol,ul");if(!n||n.nodeName==(e=="bullist"?"OL":"UL")||d(n,k)){l.execCommand(e=="bullist"?"InsertUnorderedList":"InsertOrderedList")}if(k){n=o.getParent(m.getNode(),"ol,ul");if(n){o.setStyles(n,k.styles);n.removeAttribute("_mce_style")}}l.focus()}f=c.createSplitButton(e,{title:"advanced."+e+"_desc","class":"mce_"+e,onclick:function(){j()}});f.onRenderMenu.add(function(l,m){m.onShowMenu.add(function(){var q=g.editor.dom,o=q.getParent(g.editor.selection.getNode(),"ol,ul"),n;if(o||k){n=g[e];b(m.items,function(r){var s=true;r.setSelected(0);if(o&&!r.isDisabled()){b(n,function(t){if(t.id==r.id){if(!d(o,t)){s=false;return false}}});if(s){r.setSelected(1)}}});if(!o){m.items[k.id].setSelected(1)}}});m.add({id:g.editor.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle",titleItem:true}).setDisabled(1);b(g[e],function(n){n.id=g.editor.dom.uniqueId();m.add({id:n.id,title:n.title,onclick:function(){k=n;j()}})})});return f}},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();(function(){var f=tinymce.each,v=tinymce.dom.Event,j;function t(A,z){while(A&&(A.nodeType===8||(A.nodeType===3&&/^[ \t\n\r]*$/.test(A.nodeValue)))){A=z(A)}return A}function c(z){return t(z,function(A){return A.previousSibling})}function l(z){return t(z,function(A){return A.nextSibling})}function e(z,B,A){return z.dom.getParent(B,function(C){return tinymce.inArray(A,C)!==-1})}function r(z){return z&&(z.tagName==="OL"||z.tagName==="UL")}function d(B,C){var A,D,z;A=c(B.lastChild);while(r(A)){D=A;A=c(D.previousSibling)}if(D){z=C.create("li",{style:"list-style-type: none;"});C.split(B,D);C.insertAfter(z,D);z.appendChild(D);z.appendChild(D);B=z.previousSibling}return B}function q(A,z,B){A=b(A,z,B);return s(A,z,B)}function b(B,z,C){var A=c(B.previousSibling);if(A){return k(A,B,z?A:false,C)}else{return B}}function s(B,A,C){var z=l(B.nextSibling);if(z){return k(B,z,A?z:false,C)}else{return B}}function k(B,z,A,C){if(o(B,z,!!A,C)){return g(B,z,A)}else{if(B&&B.tagName==="LI"&&r(z)){B.appendChild(z)}}return z}function o(B,A,z,C){if(!B||!A){return false}else{if(B.tagName==="LI"&&A.tagName==="LI"){return A.style.listStyleType==="none"||m(A)}else{if(r(B)){return(B.tagName===A.tagName&&(z||B.style.listStyleType===A.style.listStyleType))||u(A)}else{if(C&&B.tagName==="P"&&A.tagName==="P"){return true}else{return false}}}}}function u(A){var z=l(A.firstChild),B=c(A.lastChild);return z&&B&&r(A)&&z===B&&(r(z)||z.style.listStyleType==="none"||m(z))}function m(B){var A=l(B.firstChild),z=c(B.lastChild);return A&&z&&A===z&&r(A)}function g(D,C,z){var B=c(D.lastChild),A=l(C.firstChild);if(D.tagName==="P"){D.appendChild(D.ownerDocument.createElement("br"))}while(C.firstChild){D.appendChild(C.firstChild)}if(z){D.style.listStyleType=z.style.listStyleType}C.parentNode.removeChild(C);k(B,A,false);return D}function n(A,B){var z;if(!B.is(A,"li,ol,ul")){z=B.getParent(A,"li");if(z){A=z}}return A}tinymce.create("tinymce.plugins.Lists",{init:function(B,C){var z=false;function E(F){return F.keyCode===9&&(B.queryCommandState("InsertUnorderedList")||B.queryCommandState("InsertOrderedList"))}function D(F,H){var G=F.selection,I;if(H.keyCode===13){I=G.getStart();z=G.isCollapsed()&&I&&I.tagName==="LI"&&I.childNodes.length===0;return z}}function A(F,G){if(E(G)||D(F,G)){return v.cancel(G)}}this.ed=B;B.addCommand("Indent",this.indent,this);B.addCommand("Outdent",this.outdent,this);B.addCommand("InsertUnorderedList",function(){this.applyList("UL","OL")},this);B.addCommand("InsertOrderedList",function(){this.applyList("OL","UL")},this);B.onInit.add(function(){B.editorCommands.addCommands({outdent:function(){var G=B.selection,H=B.dom;function F(I){I=H.getParent(I,H.isBlock);return I&&(parseInt(B.dom.getStyle(I,"margin-left")||0,10)+parseInt(B.dom.getStyle(I,"padding-left")||0,10))>0}return F(G.getStart())||F(G.getEnd())||B.queryCommandState("InsertOrderedList")||B.queryCommandState("InsertUnorderedList")}},"state")});B.onKeyUp.add(function(G,H){var I,F;if(E(H)){G.execCommand(H.shiftKey?"Outdent":"Indent",true,null);return v.cancel(H)}else{if(z&&D(G,H)){if(G.queryCommandState("InsertOrderedList")){G.execCommand("InsertOrderedList")}else{G.execCommand("InsertUnorderedList")}I=G.selection.getStart();if(I&&I.tagName==="LI"){I=G.dom.getParent(I,"ol,ul").nextSibling;if(I&&I.tagName==="P"){if(!I.firstChild){I.appendChild(G.getDoc().createTextNode(""))}F=G.dom.createRng();F.setStart(I.firstChild,1);F.setEnd(I.firstChild,1);G.selection.setRng(F)}}return v.cancel(H)}}});B.onKeyPress.add(A);B.onKeyDown.add(A)},applyList:function(E,B){var I=this,F=I.ed,O=F.dom,z=[],N=false,A=false,C=false,H,M=F.selection.getSelectedBlocks();function K(R){if(R&&R.tagName==="BR"){O.remove(R)}}function L(T){var U=O.create(E),R;function S(V){if(V.style.marginLeft||V.style.paddingLeft){I.adjustPaddingFunction(false)(V)}}if(T.tagName==="LI"){}else{if(T.tagName==="P"||T.tagName==="DIV"||T.tagName==="BODY"){Q(T,function(W,V,X){P(W,V,T.tagName==="BODY"?null:W.parentNode);R=W.parentNode;S(R);K(V)});if(T.tagName==="P"||M.length>1){O.split(R.parentNode.parentNode,R.parentNode)}q(R.parentNode,true);return}else{R=O.create("li");O.insertAfter(R,T);R.appendChild(T);S(T);T=R}}O.insertAfter(U,T);U.appendChild(T);q(U,true);z.push(T)}function P(X,S,V){var R,W=X,U,T;while(!O.isBlock(X.parentNode)&&X.parentNode!==O.getRoot()){X=O.split(X.parentNode,X.previousSibling);X=X.nextSibling;W=X}if(V){R=V.cloneNode(true);X.parentNode.insertBefore(R,X);while(R.firstChild){O.remove(R.firstChild)}R=O.rename(R,"li")}else{R=O.create("li");X.parentNode.insertBefore(R,X)}while(W&&W!=S){U=W.nextSibling;R.appendChild(W);W=U}if(R.childNodes.length===0){R.innerHTML='<br _mce_bogus="1" />'}L(R)}function Q(X,aa){var U,Y,V=3,S=1,R="br,ul,ol,p,div,h1,h2,h3,h4,h5,h6,table,blockquote,address,pre,form,center,dl";function W(ae,ab){var ac=O.createRng(),ad;j.keep=true;F.selection.moveToBookmark(j);j.keep=false;ad=F.selection.getRng(true);if(!ab){ab=ae.parentNode.lastChild}ac.setStartBefore(ae);ac.setEndAfter(ab);return !(ac.compareBoundaryPoints(V,ad)>0||ac.compareBoundaryPoints(S,ad)<=0)}function Z(ab){if(ab.nextSibling){return ab.nextSibling}if(!O.isBlock(ab.parentNode)&&ab.parentNode!==O.getRoot()){return Z(ab.parentNode)}}U=X.firstChild;var T=false;f(O.select(R,X),function(ac){var ab;if(ac.hasAttribute&&ac.hasAttribute("_mce_bogus")){return true}if(W(U,ac)){O.addClass(ac,"_mce_tagged_br");U=Z(ac)}});T=(U&&W(U,undefined));U=X.firstChild;f(O.select(R,X),function(ac){var ab=Z(ac);if(ac.hasAttribute&&ac.hasAttribute("_mce_bogus")){return true}if(O.hasClass(ac,"_mce_tagged_br")){aa(U,ac,Y);Y=null}else{Y=ac}U=ab});if(T){aa(U,undefined,Y)}}function J(R){Q(R,function(T,S,U){P(T,S);K(S);K(U)})}function G(R){if(tinymce.inArray(z,R)!==-1){return}if(R.parentNode.tagName===B){O.split(R.parentNode,R);L(R);s(R.parentNode,false)}z.push(R)}function D(T){var V,U,S,R;if(tinymce.inArray(z,T)!==-1){return}T=d(T,O);while(O.is(T.parentNode,"ol,ul,li")){O.split(T.parentNode,T)}z.push(T);T=O.rename(T,"p");S=q(T,false,F.settings.force_br_newlines);if(S===T){V=T.firstChild;while(V){if(O.isBlock(V)){V=O.split(V.parentNode,V);R=true;U=V.nextSibling&&V.nextSibling.firstChild}else{U=V.nextSibling;if(R&&V.tagName==="BR"){O.remove(V)}R=false}V=U}}}f(M,function(R){R=n(R,O);if(R.tagName===B||(R.tagName==="LI"&&R.parentNode.tagName===B)){A=true}else{if(R.tagName===E||(R.tagName==="LI"&&R.parentNode.tagName===E)){N=true}else{C=true}}});if(C||A||M.length===0){H={LI:G,H1:L,H2:L,H3:L,H4:L,H5:L,H6:L,P:L,BODY:L,DIV:M.length>1?L:J,defaultAction:J}}else{H={defaultAction:D}}this.process(H)},indent:function(){var B=this.ed,D=B.dom,E=[];function z(G){var F=D.create("li",{style:"list-style-type: none;"});D.insertAfter(F,G);return F}function A(I){var F=z(I),K=D.getParent(I,"ol,ul"),J=K.tagName,L=D.getStyle(K,"list-style-type"),H={},G;if(L!==""){H.style="list-style-type: "+L+";"}G=D.create(J,H);F.appendChild(G);return G}function C(G){if(!e(B,G,E)){G=d(G,D);var F=A(G);F.appendChild(G);q(F.parentNode,false);q(F,false);E.push(G)}}this.process({LI:C,defaultAction:this.adjustPaddingFunction(true)})},outdent:function(){var B=this,A=B.ed,C=A.dom,z=[];function D(E){var G,F,H;if(!e(A,E,z)){if(C.getStyle(E,"margin-left")!==""||C.getStyle(E,"padding-left")!==""){return B.adjustPaddingFunction(false)(E)}H=C.getStyle(E,"text-align",true);if(H==="center"||H==="right"){C.setStyle(E,"text-align","left");return}E=d(E,C);G=E.parentNode;F=E.parentNode.parentNode;if(F.tagName==="P"){C.split(F,E.parentNode)}else{C.split(G,E);if(F.tagName==="LI"){C.split(F,E)}else{if(!C.is(F,"ol,ul")){C.rename(E,"p")}}}z.push(E)}}this.process({LI:D,defaultAction:this.adjustPaddingFunction(false)});f(z,q)},process:function(D){var H=this,B=H.ed.selection,E=H.ed.dom,G,z;function C(I){E.removeClass(I,"_mce_act_on");if(!I||I.nodeType!==1){return}I=n(I,E);var J=D[I.tagName];if(!J){J=D.defaultAction}J(I)}function A(I){H.splitSafeEach(I.childNodes,C)}function F(I,J){return J>=0&&I.hasChildNodes()&&J<I.childNodes.length&&I.childNodes[J].tagName==="BR"}G=B.getSelectedBlocks();if(G.length===0){G=[E.getRoot()]}z=B.getRng(true);if(!z.collapsed){if(F(z.endContainer,z.endOffset-1)){z.setEnd(z.endContainer,z.endOffset-1);B.setRng(z)}if(F(z.startContainer,z.startOffset)){z.setStart(z.startContainer,z.startOffset+1);B.setRng(z)}}j=B.getBookmark();D.OL=D.UL=A;H.splitSafeEach(G,C);B.moveToBookmark(j);j=null;H.ed.execCommand("mceRepaint")},splitSafeEach:function(A,z){if(tinymce.isGecko&&(/Firefox\/[12]\.[0-9]/.test(navigator.userAgent)||/Firefox\/3\.[0-4]/.test(navigator.userAgent))){this.classBasedEach(A,z)}else{f(A,z)}},classBasedEach:function(C,B){var D=this.ed.dom,z,A;f(C,function(E){D.addClass(E,"_mce_act_on")});z=D.select("._mce_act_on");while(z.length>0){A=z.shift();D.removeClass(A,"_mce_act_on");B(A);z=D.select("._mce_act_on")}},adjustPaddingFunction:function(B){var z,C,A=this.ed;z=A.settings.indentation;C=/[a-z%]+/i.exec(z);z=parseInt(z,10);return function(D){var F,E;F=parseInt(A.dom.getStyle(D,"margin-left")||0,10)+parseInt(A.dom.getStyle(D,"padding-left")||0,10);if(B){E=F+z}else{E=F-z}A.dom.setStyle(D,"padding-left","");A.dom.setStyle(D,"margin-left",E>0?E+C:"")}},getInfo:function(){return{longname:"Lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/lists",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("lists",tinymce.plugins.Lists)}());(function(){tinymce.create("tinymce.plugins.Print",{init:function(b,c){b.addCommand("mcePrint",function(){b.getWin().print()});b.addButton("print",{title:"print.print_desc",cmd:"mcePrint"})},getInfo:function(){return{longname:"Print",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/print",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("print",tinymce.plugins.Print)})();(function(d){var e=d.each;function c(g,j){var k=j.ownerDocument,f=k.createRange(),l;f.setStartBefore(j);f.setEnd(g.endContainer,g.endOffset);l=k.createElement("body");l.appendChild(f.cloneContents());return l.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length==0}function b(K,J,N){var g,O,G,r;v();r=J.getParent(N.getStart(),"th,td");if(r){O=I(r);G=L();r=C(O.x,O.y)}function D(Q,P){Q=Q.cloneNode(P);Q.removeAttribute("id");return Q}function v(){var P=0;g=[];e(["thead","tbody","tfoot"],function(Q){var R=J.select("> "+Q+" tr",K);e(R,function(S,T){T+=P;e(J.select("> td, > th",S),function(Z,U){var V,W,X,Y;if(g[T]){while(g[T][U]){U++}}X=k(Z,"rowspan");Y=k(Z,"colspan");for(W=T;W<T+X;W++){if(!g[W]){g[W]=[]}for(V=U;V<U+Y;V++){g[W][V]={part:Q,real:W==T&&V==U,elm:Z,rowspan:X,colspan:Y}}}})});P+=R.length})}function C(P,R){var Q;Q=g[R];if(Q){return Q[P]}}function k(Q,P){return parseInt(Q.getAttribute(P)||1)}function l(P){return J.hasClass(P.elm,"mceSelected")||P==r}function m(){var P=[];e(K.rows,function(Q){e(Q.cells,function(R){if(J.hasClass(R,"mceSelected")||R==r.elm){P.push(Q);return false}})});return P}function u(){var P=J.createRng();P.setStartAfter(K);P.setEndAfter(K);N.setRng(P);J.remove(K)}function f(P){var Q;d.walk(P,function(S){var R;if(S.nodeType==3){e(J.getParents(S.parentNode,null,P).reverse(),function(T){T=D(T,false);if(!Q){Q=R=T}else{if(R){R.appendChild(T)}}R=T});if(R){R.innerHTML=d.isIE?"&nbsp;":'<br _mce_bogus="1" />'}return false}},"childNodes");P=D(P,false);P.rowSpan=P.colSpan=1;if(Q){P.appendChild(Q)}else{if(!d.isIE){P.innerHTML='<br _mce_bogus="1" />'}}return P}function t(){var P=J.createRng();e(J.select("tr",K),function(Q){if(Q.cells.length==0){J.remove(Q)}});if(J.select("tr",K).length==0){P.setStartAfter(K);P.setEndAfter(K);N.setRng(P);J.remove(K);return}e(J.select("thead,tbody,tfoot",K),function(Q){if(Q.rows.length==0){J.remove(Q)}});v();row=g[Math.min(g.length-1,O.y)];if(row){N.select(row[Math.min(row.length-1,O.x)].elm,true);N.collapse(true)}}function z(V,T,X,U){var S,Q,P,R,W;S=g[T][V].elm.parentNode;for(P=1;P<=X;P++){S=J.getNext(S,"tr");if(S){for(Q=V;Q>=0;Q--){W=g[T+P][Q].elm;if(W.parentNode==S){for(R=1;R<=U;R++){J.insertAfter(f(W),W)}break}}if(Q==-1){for(R=1;R<=U;R++){S.insertBefore(f(S.cells[0]),S.cells[0])}}}}}function F(){e(g,function(P,Q){e(P,function(S,R){var V,U,W,T;if(l(S)){S=S.elm;V=k(S,"colspan");U=k(S,"rowspan");if(V>1||U>1){S.colSpan=S.rowSpan=1;for(T=0;T<V-1;T++){J.insertAfter(f(S),S)}z(R,Q,U-1,V)}}})})}function s(X,U,aa){var S,R,Z,Y,W,T,V,P,X,Q;if(X){pos=I(X);S=pos.x;R=pos.y;Z=S+(U-1);Y=R+(aa-1)}else{S=O.x;R=O.y;Z=G.x;Y=G.y}V=C(S,R);P=C(Z,Y);if(V&&P&&V.part==P.part){F();v();V=C(S,R).elm;V.colSpan=(Z-S)+1;V.rowSpan=(Y-R)+1;for(T=R;T<=Y;T++){for(W=S;W<=Z;W++){X=g[T][W].elm;if(X!=V){Q=d.grep(X.childNodes);e(Q,function(ac,ab){if(ac.nodeName!="BR"||ab!=Q.length-1){V.appendChild(ac)}});J.remove(X)}}}t()}}function n(S){var P,U,R,T,V,W,Q,X;e(g,function(Y,Z){e(Y,function(ab,aa){if(l(ab)){ab=ab.elm;V=ab.parentNode;W=D(V,false);P=Z;if(S){return false}}});if(S){return !P}});for(T=0;T<g[0].length;T++){U=g[P][T].elm;if(U!=R){if(!S){rowSpan=k(U,"rowspan");if(rowSpan>1){U.rowSpan=rowSpan+1;continue}}else{if(P>0&&g[P-1][T]){X=g[P-1][T].elm;rowSpan=k(X,"rowspan");if(rowSpan>1){X.rowSpan=rowSpan+1;continue}}}Q=f(U);Q.colSpan=U.colSpan;W.appendChild(Q);R=U}}if(W.hasChildNodes()){if(!S){J.insertAfter(W,V)}else{V.parentNode.insertBefore(W,V)}}}function j(Q){var R,P;e(g,function(S,T){e(S,function(V,U){if(l(V)){R=U;if(Q){return false}}});if(Q){return !R}});e(g,function(V,W){var S=V[R].elm,T,U;if(S!=P){U=k(S,"colspan");T=k(S,"rowspan");if(U==1){if(!Q){J.insertAfter(f(S),S);z(R,W,T-1,U)}else{S.parentNode.insertBefore(f(S),S);z(R,W,T-1,U)}}else{S.colSpan++}P=S}})}function q(){var P=[];e(g,function(Q,R){e(Q,function(T,S){if(l(T)&&d.inArray(P,S)===-1){e(g,function(W){var U=W[S].elm,V;V=k(U,"colspan");if(V>1){U.colSpan=V-1}else{J.remove(U)}});P.push(S)}})});t()}function o(){var Q;function P(T){var S,U,R;S=J.getNext(T,"tr");e(T.cells,function(V){var W=k(V,"rowspan");if(W>1){V.rowSpan=W-1;U=I(V);z(U.x,U.y,1,1)}});U=I(T.cells[0]);e(g[U.y],function(V){var W;V=V.elm;if(V!=R){W=k(V,"rowspan");if(W<=1){J.remove(V)}else{V.rowSpan=W-1}R=V}})}Q=m();e(Q.reverse(),function(R){P(R)});t()}function H(){var P=m();J.remove(P);t();return P}function M(){var P=m();e(P,function(R,Q){P[Q]=D(R,true)});return P}function E(R,Q){var S=m(),P=S[Q?0:S.length-1],T=P.cells.length;e(g,function(V){var U;T=0;e(V,function(X,W){if(X.real){T+=X.colspan}if(X.elm.parentNode==P){U=1}});if(U){return false}});if(!Q){R.reverse()}e(R,function(W){var V=W.cells.length,U;for(i=0;i<V;i++){U=W.cells[i];U.colSpan=U.rowSpan=1}for(i=V;i<T;i++){W.appendChild(f(W.cells[V-1]))}for(i=T;i<V;i++){J.remove(W.cells[i])}if(Q){P.parentNode.insertBefore(W,P)}else{J.insertAfter(W,P)}})}function I(P){var Q;e(g,function(R,S){e(R,function(U,T){if(U.elm==P){Q={x:T,y:S};return false}});return !Q});return Q}function B(P){O=I(P)}function L(){var R,Q,P;Q=P=0;e(g,function(S,T){e(S,function(V,U){var X,W;if(l(V)){V=g[T][U];if(U>Q){Q=U}if(T>P){P=T}if(V.real){X=V.colspan-1;W=V.rowspan-1;if(X){if(U+X>Q){Q=U+X}}if(W){if(T+W>P){P=T+W}}}}})});return{x:Q,y:P}}function A(V){var S,R,X,W,Q,P,T,U;G=I(V);if(O&&G){S=Math.min(O.x,G.x);R=Math.min(O.y,G.y);X=Math.max(O.x,G.x);W=Math.max(O.y,G.y);Q=X;P=W;for(y=R;y<=P;y++){V=g[y][S];if(!V.real){if(S-(V.colspan-1)<S){S-=V.colspan-1}}}for(x=S;x<=Q;x++){V=g[R][x];if(!V.real){if(R-(V.rowspan-1)<R){R-=V.rowspan-1}}}for(y=R;y<=W;y++){for(x=S;x<=X;x++){V=g[y][x];if(V.real){T=V.colspan-1;U=V.rowspan-1;if(T){if(x+T>Q){Q=x+T}}if(U){if(y+U>P){P=y+U}}}}}J.removeClass(J.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=R;y<=P;y++){for(x=S;x<=Q;x++){J.addClass(g[y][x].elm,"mceSelected")}}}}d.extend(this,{deleteTable:u,split:F,merge:s,insertRow:n,insertCol:j,deleteCols:q,deleteRows:o,cutRows:H,copyRows:M,pasteRows:E,getPos:I,setStartCell:B,setEndCell:A})}d.create("tinymce.plugins.TablePlugin",{init:function(g,j){var f,m;function l(q){var o=g.selection,n=g.dom.getParent(q||o.getNode(),"table");if(n){return new b(n,g.dom,o)}}function k(){g.getBody().style.webkitUserSelect="";g.dom.removeClass(g.dom.select("td.mceSelected,th.mceSelected"),"mceSelected")}e([["table","table.desc","mceInsertTable",true],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",true],["cell_props","table.cell_desc","mceTableCellProps",true],["split_cells","table.split_cells_desc","mceTableSplitCells",true],["merge_cells","table.merge_cells_desc","mceTableMergeCells",true]],function(n){g.addButton(n[0],{title:n[1],cmd:n[2],ui:n[3]})});if(!d.isIE){g.onClick.add(function(n,o){o=o.target;if(o.nodeName==="TABLE"){n.selection.select(o)}})}g.onNodeChange.add(function(q,o,s){var r;s=q.selection.getStart();r=q.dom.getParent(s,"td,th,caption");o.setActive("table",s.nodeName==="TABLE"||!!r);if(r&&r.nodeName==="CAPTION"){r=0}o.setDisabled("delete_table",!r);o.setDisabled("delete_col",!r);o.setDisabled("delete_table",!r);o.setDisabled("delete_row",!r);o.setDisabled("col_after",!r);o.setDisabled("col_before",!r);o.setDisabled("row_after",!r);o.setDisabled("row_before",!r);o.setDisabled("row_props",!r);o.setDisabled("cell_props",!r);o.setDisabled("split_cells",!r);o.setDisabled("merge_cells",!r)});g.onInit.add(function(o){var n,s,t=o.dom,q;f=o.windowManager;o.onMouseDown.add(function(u,v){if(v.button!=2){k();s=t.getParent(v.target,"td,th");n=t.getParent(s,"table")}});t.bind(o.getDoc(),"mouseover",function(A){var v,u,z=A.target;if(s&&(q||z!=s)&&(z.nodeName=="TD"||z.nodeName=="TH")){u=t.getParent(z,"table");if(u==n){if(!q){q=l(u);q.setStartCell(s);o.getBody().style.webkitUserSelect="none"}q.setEndCell(z)}v=o.selection.getSel();if(v.removeAllRanges){v.removeAllRanges()}else{v.empty()}A.preventDefault()}});o.onMouseUp.add(function(E,F){var v,A=E.selection,G,H=A.getSel(),u,B,z,D;if(s){if(q){E.getBody().style.webkitUserSelect=""}function C(I,K){var J=new d.dom.TreeWalker(I,I);do{if(I.nodeType==3&&d.trim(I.nodeValue).length!=0){if(K){v.setStart(I,0)}else{v.setEnd(I,I.nodeValue.length)}return}if(I.nodeName=="BR"){if(K){v.setStartBefore(I)}else{v.setEndBefore(I)}return}}while(I=(K?J.next():J.prev()))}G=t.select("td.mceSelected,th.mceSelected");if(G.length>0){v=t.createRng();B=G[0];D=G[G.length-1];C(B,1);u=new d.dom.TreeWalker(B,t.getParent(G[0],"table"));do{if(B.nodeName=="TD"||B.nodeName=="TH"){if(!t.hasClass(B,"mceSelected")){break}z=B}}while(B=u.next());C(z);A.setRng(v)}E.nodeChanged();s=q=n=null}});o.onKeyUp.add(function(u,v){k()});if(o&&o.plugins.contextmenu){o.plugins.contextmenu.onContextMenu.add(function(z,u,B){var C,A=o.selection,v=A.getNode()||o.getBody();if(o.dom.getParent(B,"td")||o.dom.getParent(B,"th")||o.dom.select("td.mceSelected,th.mceSelected").length){u.removeAll();if(v.nodeName=="A"&&!o.dom.getAttrib(v,"name")){u.add({title:"advanced.link_desc",icon:"link",cmd:o.plugins.advlink?"mceAdvLink":"mceLink",ui:true});u.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});u.addSeparator()}if(v.nodeName=="IMG"&&v.className.indexOf("mceItem")==-1){u.add({title:"advanced.image_desc",icon:"image",cmd:o.plugins.advimage?"mceAdvImage":"mceImage",ui:true});u.addSeparator()}u.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}});u.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"});u.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"});u.addSeparator();C=u.addMenu({title:"table.cell"});C.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"});C.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"});C.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"});C=u.addMenu({title:"table.row"});C.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"});C.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"});C.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"});C.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"});C.addSeparator();C.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"});C.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"});C.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!m);C.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!m);C=u.addMenu({title:"table.col"});C.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"});C.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"});C.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})}else{u.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})}})}if(!d.isIE){function r(){var u;for(u=o.getBody().lastChild;u&&u.nodeType==3&&!u.nodeValue.length;u=u.previousSibling){}if(u&&u.nodeName=="TABLE"){o.dom.add(o.getBody(),"p",null,'<br mce_bogus="1" />')}}if(d.isGecko){o.onKeyDown.add(function(v,A){var u,z,B=v.dom;if(A.keyCode==37||A.keyCode==38){u=v.selection.getRng();z=B.getParent(u.startContainer,"table");if(z&&v.getBody().firstChild==z){if(c(u,z)){u=B.createRng();u.setStartBefore(z);u.setEndBefore(z);v.selection.setRng(u);A.preventDefault()}}}})}o.onKeyUp.add(r);o.onSetContent.add(r);o.onVisualAid.add(r);o.onPreProcess.add(function(u,z){var v=z.node.lastChild;if(v&&v.childNodes.length==1&&v.firstChild.nodeName=="BR"){u.dom.remove(v)}});r()}});e({mceTableSplitCells:function(n){n.split()},mceTableMergeCells:function(o){var q,r,n;n=g.dom.getParent(g.selection.getNode(),"th,td");if(n){q=n.rowSpan;r=n.colSpan}if(!g.dom.select("td.mceSelected,th.mceSelected").length){f.open({url:j+"/merge_cells.htm",width:240+parseInt(g.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(g.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:q,cols:r,onaction:function(s){o.merge(n,s.cols,s.rows)},plugin_url:j})}else{o.merge()}},mceTableInsertRowBefore:function(n){n.insertRow(true)},mceTableInsertRowAfter:function(n){n.insertRow()},mceTableInsertColBefore:function(n){n.insertCol(true)},mceTableInsertColAfter:function(n){n.insertCol()},mceTableDeleteCol:function(n){n.deleteCols()},mceTableDeleteRow:function(n){n.deleteRows()},mceTableCutRow:function(n){m=n.cutRows()},mceTableCopyRow:function(n){m=n.copyRows()},mceTablePasteRowBefore:function(n){n.pasteRows(m,true)},mceTablePasteRowAfter:function(n){n.pasteRows(m)},mceTableDelete:function(n){n.deleteTable()}},function(o,n){g.addCommand(n,function(){var q=l();if(q){o(q);g.execCommand("mceRepaint");k()}})});e({mceInsertTable:function(n){f.open({url:j+"/table.htm",width:400+parseInt(g.getLang("table.table_delta_width",0)),height:320+parseInt(g.getLang("table.table_delta_height",0)),inline:1},{plugin_url:j,action:n?n.action:0})},mceTableRowProps:function(){f.open({url:j+"/row.htm",width:400+parseInt(g.getLang("table.rowprops_delta_width",0)),height:295+parseInt(g.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:j})},mceTableCellProps:function(){f.open({url:j+"/cell.htm",width:400+parseInt(g.getLang("table.cellprops_delta_width",0)),height:295+parseInt(g.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:j})}},function(o,n){g.addCommand(n,function(q,r){o(r)})})}});d.PluginManager.add("table",d.plugins.TablePlugin)})(tinymce);(function(){var g="2.1.3",b="tinyautosave",L=false,H=false,I=false,s={"%":"%1","&":"%2",";":"%3","=":"%4","<":"%5"},M={"%1":"%","%2":"&","%3":";","%4":"=","%5":"<"},m=[],A={},k={},q="TinyAutoSave_Test_",c=null,u={dataKey:"TinyAutoSave",cookieFilter:null,saveDelegate:null,saveFinalDelegate:null,restoreDelegate:null,disposeDelegate:null,restoreImage:"",progressImage:"progress.gif",intervalSeconds:60,retentionMinutes:20,minSaveLength:50,askBeforeUnload:false,canRestore:false,busy:false,timer:null};try{localStorage.setItem(q,"OK");if(localStorage.getItem(q)==="OK"){localStorage.removeItem(q);L=true}}catch(F){try{sessionStorage.setItem(q,"OK");if(sessionStorage.getItem(q)==="OK"){sessionStorage.removeItem(q);H=true}}catch(F){I=tinymce.isIE}}tinymce.PluginManager.requireLangPack(b);tinymce.create("tinymce.plugins.TinyAutoSavePlugin",{editor:null,url:"",key:"",onPreSave:null,onPostSave:null,onSaveError:null,onPreRestore:null,onPostRestore:null,onRestoreError:null,showSaveProgress:true,progressDisplayTime:1200,init:function(e,N){var O=this,Q=tinymce.is,T=tinymce.resolve,P,S,R;O.editor=e;O.id=e.id;O.url=N;O.key=e.getParam(b+"_key",e.id);P=K(O);P.restoreImage=N+"/images/restore."+(tinymce.isIE6?"gif":"png");O.setProgressImage(N+"/images/"+u.progressImage);P.intervalSeconds=Math.max(1,parseInt(e.getParam(b+"_interval_seconds",null)||e.getParam(b+"_interval",P.intervalSeconds)));P.retentionMinutes=Math.max(1,parseInt(e.getParam(b+"_retention_minutes",null)||e.getParam(b+"_retention",P.retentionMinutes)));P.minSaveLength=Math.max(1,parseInt(e.getParam(b+"_minlength",P.minSaveLength)));O.showSaveProgress=e.getParam(b+"_showsaveprogress",O.showSaveProgress);P.askBeforeUnload=e.getParam(b+"_ask_beforeunload",P.askBeforeUnload);P.saveDelegate=r(O,D);P.saveFinalDelegate=r(O,l);P.restoreDelegate=r(O,C);e.addCommand("mceTinyAutoSave",P.saveDelegate);e.addCommand("mceTinyAutoSaveRestore",P.restoreDelegate);e.addButton(b,{title:b+".restore_content",cmd:"mceTinyAutoSaveRestore",image:P.restoreImage});P.timer=window.setInterval(P.saveDelegate,P.intervalSeconds*1000);tinymce.dom.Event.add(window,"unload",P.saveFinalDelegate);e.onRemove.add(P.saveFinalDelegate);if(P.askBeforeUnload){tinymce.dom.Event.add(window,"unload",tinymce.plugins.AutoSavePlugin._beforeUnloadHandler)}e.onInit.add(function(){if(I){if(!c){c=e.getElement()}c.style.behavior="url('#default#userData')"}P.canRestore=O.hasSavedContent();S=e.getParam(b+"_oninit",null);if(Q(S,"string")){R=T(S);if(Q(R,"function")){R.apply(O)}}e.controlManager.setDisabled(b,!P.canRestore)})},getInfo:function(){return{longname:"TinyAutoSave",author:"Speednet",authorurl:"http://www.speednet.biz/",infourl:"http://tinyautosave.googlecode.com/",version:g}},clear:function(){var N=this,e=N.editor,O=f(N);if(L){localStorage.removeItem(O.dataKey)}else{if(H){sessionStorage.removeItem(O.dataKey)}else{if(I){G(N)}else{tinymce.util.Cookie.remove(O.dataKey)}}}O.canRestore=false;e.controlManager.setDisabled(b,N)},hasSavedContent:function(){var P=this,Q=f(P),N=new Date(),R,O;try{if(L||H){R=((L?localStorage.getItem(Q.dataKey):sessionStorage.getItem(Q.dataKey))||"").toString(),O=R.indexOf(",");if((O>8)&&(O<R.length-1)){if((new Date(R.slice(0,O)))>N){return true}if(L){localStorage.removeItem(Q.dataKey)}else{sessionStorage.removeItem(Q.dataKey)}}return false}else{if(I){return((o(P)||"").length>0)}}return((tinymce.util.Cookie.get(Q.dataKey)||"").length>0)}catch(S){return false}},setProgressImage:function(e){if(tinymce.is(e,"string")){d(f(this).progressImage=e)}},"static":{_beforeUnloadHandler:function(){var e;tinymce.each(tinyMCE.editors,function(N){if(N.getParam("fullscreen_is_enabled")){return}if(N.isDirty()){e=N.getLang("autosave.unload_msg");return false}});return e}}});function J(){var e=this,N=f(e);if(N.timer){window.clearInterval(N.timer)}tinymce.dom.Event.remove(window,"unload",N.saveFinalDelegate);if(N.askBeforeUnload){tinymce.dom.Event.remove(window,"unload",tinymce.plugins.AutoSavePlugin._beforeUnloadHandler)}e.editor.onRemove.remove(N.saveFinalDelegate);n(e)}function t(P){if(!P){return true}var O,N,e=tinymce.is;if(e(P,"string")){O=k[P];if(O){N=O[P]}else{k[P]=N=tinymce.resolve(P)}}else{if(e(P,"function")){N=P}else{return true}}return N.apply(this)}function l(){var e=f(this);e.saveDelegate();e.disposeDelegate()}function D(){var Y=this,R=Y.editor,Z=f(Y),Q=tinymce.is,X=false,N=new Date(),T,O,V,U,W,P;if((R)&&(!Z.busy)){Z.busy=true;T=R.getContent();if(Q(T,"string")&&(T.length>=Z.minSaveLength)){if(!t.call(Y,Y.onPreSave)){Z.busy=false;return false}O=new Date(N.getTime()+(Z.retentionMinutes*60*1000));try{if(L){localStorage.setItem(Z.dataKey,O.toString()+","+j(T))}else{if(H){sessionStorage.setItem(Z.dataKey,O.toString()+","+j(T))}else{if(I){z(Y,T,O)}else{V=Z.dataKey+"=";U="; expires="+O.toUTCString();document.cookie=V+B(T).slice(0,4096-V.length-U.length)+U}}}X=true}catch(S){t.call(Y,Y.onSaveError)}if(X){W=R.controlManager;Z.canRestore=true;W.setDisabled(b,false);if(Y.showSaveProgress){U=tinymce.DOM.get(W.get(b).id);if(U){P=Z.restoreImage;U.firstChild.src=Z.progressImage;window.setTimeout(function(){U.firstChild.src=P},Math.min(Y.progressDisplayTime,Z.intervalSeconds*1000-100))}}t.call(Y,Y.onPostSave)}}Z.busy=false}return X}function C(){var Q=this,O=Q.editor,R=f(Q),T=null,S=tinymce.is,P,N;if((O)&&(R.canRestore)&&(!R.busy)){R.busy=true;if(!t.call(Q,Q.onPreRestore)){R.busy=false;return}try{if(L||H){T=((L?localStorage.getItem(R.dataKey):sessionStorage.getItem(R.dataKey))||"").toString();P=T.indexOf(",");if(P==-1){T=null}else{T=v(T.slice(P+1,T.length))}}else{if(I){T=o(Q)}else{N=R.cookieFilter.exec(document.cookie);if(N){T=E(N[1])}}}if(!S(T,"string")){O.windowManager.alert(b+".no_content")}else{if(O.getContent().replace(/\s|&nbsp;|<\/?p[^>]*>|<br[^>]*>/gi,"").length===0){O.setContent(T);t.call(Q,Q.onPostRestore)}else{O.windowManager.confirm(b+".warning_message",function(e){if(e){O.setContent(T);t.call(Q,Q.onPostRestore)}R.busy=false},Q)}}}catch(U){t.call(Q,Q.onRestoreError)}R.busy=false}}function z(e,O,N){c.setAttribute(f(e).dataKey,O);c.expires=N.toUTCString();c.save("TinyMCE")}function o(e){c.load("TinyMCE");return c.getAttribute(f(e).dataKey)}function G(e){c.removeAttribute(f(e).dataKey)}function B(e){return e.replace(/[\x00-\x1f]+|&nbsp;|&#160;/gi," ").replace(/(.)\1{5,}|[%&;=<]/g,function(N){if(N.length>1){return("%0"+N.charAt(0)+N.length.toString()+"%")}return s[N]})}function E(e){return e.replace(/%[1-5]|%0(.)(\d+)%/g,function(S,N,R){var P,Q,O;if(S.length==2){return M[S]}for(P=[],Q=0,O=parseInt(R);Q<O;Q++){P.push(N)}return P.join("")})}function j(e){return e.replace(/,/g,"&#44;")}function v(e){return e.replace(/&#44;/g,",")}function d(N){var e=m.length;m[e]=new Image();m[e].src=N}function r(e,N){return function(){return N.apply(e)}}function K(O){var e=O.key,N=A[e];if(!N){N=A[e]=tinymce.extend({},u,{dataKey:u.dataKey+e,saveDelegate:r(O,D),saveFinalDelegate:r(O,l),restoreDelegate:r(O,C),disposeDelegate:r(O,J),cookieFilter:new RegExp("(?:^|;\\s*)"+u.dataKey+e+"=([^;]*)(?:;|$)","i")})}return N}function f(e){return A[e.key]}function n(e){delete A[e.key]}tinymce.PluginManager.add(b,tinymce.plugins.TinyAutoSavePlugin)})();tinyMCE.addI18n("en.tinyautosave",{restore_content:"Restore auto-saved content",no_content:"There is no auto-save content available to restore",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?"});